Mit dem Boxplot können wir den Median und die Quartile visualisieren. In @fig-boxplot-drawn sehen wir einen Boxplot, der den Median und die Quartile visualisiert. Die Box wird aus dem IQR gebildet. Der Median wird als Strich in der Box gezeigt. Die Schnurrhaare (eng. *Whiskers*) sind das 1.5 fache des IQR. Punkte die außerhalb der Schnurrhaare liegen werden als einzelne Punkte dargestellt. Diese einzelnen Punkte werden auch als Ausreißer (eng. *Outlier*) bezeichnet.

::: column-page
![Ein Boxplot der die statistischen Maßzahlen Median und Quartile visualisiert. Die Box wird aus dem IQR gebildet. Der Median wird als Strich in der Box gezeigt. Die Schnurrhaare sind das 1.5 fache des IQR. Punkte die außerhalb der Schnurrhaare liegen werden als einzele Punkte dargestellt.](images/boxplot-drawn.png){#fig-boxplot-drawn fig-align="center" width="80%"}
:::

In @fig-boxplot-drawn-distribution sehen wir den Zusammenhang zwischen einem Histogramm, Densityplot und dem Boxplot. Der Median $\tilde{y}$ im Boxplot zeigt die höchste Stelle des Densityplots an. Durch einen Boxplot kann die Verteilung der entsprechenden Zahlen abgeschätzt werden.

![Der Zusammenhang von Histogram, Densityplot und Boxplot.](images/boxplot-drawn-distribution.png){#fig-boxplot-drawn-distribution fig-align="center" width="100%"}

Die "liegende" Darstellung des Boxplots dient nur der Veranschaulichung und dem Verständnis des Zusammenhangs von Histogramm und Boxplot. In der @fig-boxplot-drawn-flipped sehen wir drei Boxplots für einen Faktor mit drei Leveln. Jedes Level wird duch einen Boxplot dargestellt. Zum Beispiel eine Düngerbehandlung mit drei Konzentrationen. Auf der x-Achse würden wir die Behandelung finden und auf der y-Achse das Trockengewicht in \[kg/ha\].

![Typische Darstellung von drei Gruppen jeweils dargestellt durch einen Boxplot. Boxplots werden in der Anwendung stehtend dargestellt. Insbesondere wenn die Boxplots mehrere Gruppen repräsentieren.](images/boxplot-drawn-flipped.png){#fig-boxplot-drawn-flipped fig-align="center" width="60%"}

Wie erstellen wir nun einen Boxplot in R? Zuerst laden wir die Daten mit der Funktion `read_excel()` in R, wenn du die Daten als `.xlsx` Datei vorliegen hast. Im XX kannst du nochmal das Importieren von Daten wiederholen.

```{r}
#| message: false
flea_dog_cat_tbl <- read_excel("data/flea_dog_cat.xlsx")
```

```{r }
#| echo: false
#| message: false
#| label: fig-boxplot-flea-0
#| fig-align: center
#| fig-height: 4
#| fig-width: 6
#| fig-cap: "An 39 Hunden wurde die Anzahl an Flöhen gezählt."

ggplot(flea_dog_cat_tbl, aes(x = animal, y = jump_length)) + 
  geom_boxplot() +
  theme_bw() +
  labs(x = "Tierart", y = "Sprungweite [cm]") 

```

In @fig-boxplot-flea-0 ist der Boxplot für die Daten aus der Datei `flea_dog_cat.xlsx` dargestellt. Auf der x-Achse finden wir die Tierart als `cat` und `dog`. Auf der y-Achse ist die Sprungweite in \[cm\] dargestellt.

Wir erkennen auf einen Blick, dass die Sprungweite von den Hundeflöhen weiter ist als die Sprungweite der Katzenflöhe. Im Weiteren können wir abschätzen, dass die Streuung etwa gleich groß ist. Die Boxen sind in etwa gleich groß und die Whiskers in etwa gleich lang.

```{r }
#| echo: true
#| message: false
#| label: fig-boxplot-freshmatter-2
#| fig-align: center
#| fig-height: 4
#| fig-width: 6
#| fig-cap: "An 39 Hunden wurde die Anzahl an Flöhen gezählt."

ggplot(data = flea_dog_cat_tbl, aes(x = animal, y = jump_length,
                                    fill = animal)) +
  geom_boxplot() +
  geom_jitter(width = 0.25, shape = 1) +
  theme_bw() +
  labs(x = "Tierart", y = "Sprungweite [cm]") 

```

Wir neigen dazu die Boxplots über zu interpretieren, wenn die Anzahl der Beobachtungen klein ist. Deshalb können wir mit dem `geom_jitter()` noch die Beobachtungen zu den Boxplot ergänzen, dargestellt in @fig-boxplot-freshmatter-2. Die Funktion `geom_jitter()` streut die Punkte zufällig, so dass keine Punkte übereinander liegen. Wir haben hier die Streuweite durch die Option `width = 0.25` etwas eingeschränkt. Darüber hinaus habe wir das Aussehen der Punkte mit `shape = 1` geändert, so dass wir die Jitter-Punkte von den potenziellen Ausreißer-Punkten unterscheiden können. Du kannst auch andere Zahlen hinter `shape` eintragen um verschiedene Punktesymbole durch zuprobieren. Eine Übersicht an `shapes` findest du auch hier unter [Cookbook for R \> Graphs \> Shapes and line types](http://www.cookbook-r.com/Graphs/Shapes_and_line_types/).
