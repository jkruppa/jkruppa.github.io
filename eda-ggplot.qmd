# Grundlagen in ggplot()

```{r}
#| warning: false
#| echo: false

pacman::p_load(tidyverse, readxl, knitr, kableExtra)

```

```{r }
#| echo: true
#| message: false
#| label: fig-ggplot-1
#| fig-align: center
#| fig-height: 3
#| fig-width: 5
#| fig-cap: "An 39 Hunden wurde die Anzahl an Flöhen gezählt."

data_tbl <- read_excel(file.path("data/germination_data.xlsx"))

ggplot(data = data_tbl, aes(x = treatment, y = freshmatter))

```

## Häufig verwendete Abbildungen

### Histogramm

```{r }
#| echo: false
#| message: false
#| label: fig-dotplot-flea-1
#| fig-align: center
#| fig-height: 3
#| fig-width: 5
#| fig-cap: "An 39 Hunden wurde die Anzahl an Flöhen gezählt."

dog_fleas_tbl <- read_csv("data/dog_fleas_hist.csv")

ggplot(dog_fleas_tbl, aes(x = flea_count)) + 
  geom_dotplot() +
  theme_bw() +
  scale_x_continuous(breaks = c(12,13,14,15,16,17,18,19)) +
  scale_y_continuous(labels = c(0, 5, 9, 13, 17)) +
  labs(x = "Anzahl Flöhe", y = "Anzahl") 

```

```{r}
#| echo: true
#| message: false
#| label: fig-hist-flea-1
#| fig-align: center
#| fig-height: 3
#| fig-width: 5
#| fig-cap: "An 39 Hunden wurde die Anzahl an Flöhen gezählt."

ggplot(data = dog_fleas_tbl, aes(x = flea_weight)) +
  geom_histogram(binwidth = 1, fill = "gray", color = "black") +
  theme_bw() +
  labs(x = "Gewicht [mg]", y = "Anzahl") 
```

```{r }
#| echo: false
#| message: false
#| label: fig-hist-flea-2
#| fig-align: center
#| fig-height: 3
#| fig-width: 5
#| fig-cap: "An 39 Hunden wurde die Anzahl an Flöhen gezählt."

ggplot(data = dog_fleas_tbl, aes(x = flea_weight)) +
  geom_histogram(binwidth = 1, fill = "gray", color = "black") +
  scale_x_continuous(breaks = 7:33) +
  scale_y_continuous(breaks = 0:7) +
  geom_vline(xintercept = 7:33, color = "blue", alpha = 0.5,
             linetype = "dashed") +
  geom_hline(yintercept = 0:7, color = "blue", alpha = 0.5,
             linetype = "dashed") +
  theme_bw()

```

Wenn wir viele Beobachtungen haben. Viele meint mehr als zwanzig Beobachtungen.

### Density Plot

```{r }
#| echo: true
#| message: false
#| label: fig-dens-flea-1
#| fig-align: center
#| fig-height: 3
#| fig-width: 5
#| fig-cap: "An 39 Hunden wurde die Anzahl an Flöhen gezählt."


ggplot(data = dog_fleas_tbl, aes(x = flea_weight)) +
  geom_density(fill = "gray", color = "black") +
  xlim(0, 40) +
  theme_bw()

```

Wenn wir viele Beobachtungen.

### Boxplot

![kjasdsaddssd](images/boxplot-drawn.png){#fig-boxplot-drawn fig-align="center" width="100%"}

@fig-boxplot-drawn

```{r }
#| echo: true
#| message: false
#| label: fig-boxplot-freshmatter-1
#| fig-align: center
#| fig-height: 4
#| fig-width: 5
#| fig-cap: "An 39 Hunden wurde die Anzahl an Flöhen gezählt."


ggplot(data = data_tbl, aes(x = treatment, y = freshmatter,
                            fill = treatment)) +
  geom_boxplot() +
  theme_bw()

```

```{r }
#| echo: true
#| message: false
#| label: fig-boxplot-freshmatter-2
#| fig-align: center
#| fig-height: 4
#| fig-width: 5
#| fig-cap: "An 39 Hunden wurde die Anzahl an Flöhen gezählt."


ggplot(data = data_tbl, aes(x = treatment, y = freshmatter,
                            fill = treatment)) +
  geom_boxplot() +
  geom_jitter(width = 0.25, shape = 1) +
  theme_bw()

```

Wenn wir wenige Beobachtungen haben.

### Dotplot

Wenn wir ganz wenige Beobachtungen haben.

```{r echo = TRUE, fig.width = 5, fig.height = 5}

ggplot(data = data_tbl, aes(x = treatment, y = root_health,
                            fill = treatment)) +
  geom_dotplot(binaxis = "y", stackdir = "center") +
  theme_bw()

```

```{r echo = TRUE, fig.width = 5, fig.height = 5}

ggplot(data = data_tbl, aes(x = freshmatter, fill = treatment)) +
  geom_dotplot(method="histodot", binwidth = 2.5) +
  theme_bw()

```

```{r echo = TRUE, fig.width = 5, fig.height = 5}

ggplot(data = data_tbl, aes(x = treatment, y = freshmatter,
                            fill = treatment)) +
  geom_violin() +
  geom_dotplot(binaxis = "y", stackdir = "center", fill = "black") +
  theme_bw()

```

```{r echo = TRUE, fig.width = 5, fig.height = 5}
ggplot(data = data_tbl, aes(x = treatment, y = root_health,
                            fill = treatment)) +
  geom_dotplot(binaxis = "y", stackdir = "center") +
  stat_summary(fun = median, fun.min = median, fun.max = median,
               geom = "crossbar", width = 0.5) +
  theme_bw()

```

### Scatterplot

```{r echo = TRUE, fig.width = 5, fig.height = 5}
ggplot(data = data_tbl, aes(x = freshmatter, y = drymatter)) +
  geom_point() +
  stat_smooth(method = "lm", se = FALSE) +
  theme_bw()

```

### Mosaic Plot

### Abbildungen beschriften

```{r echo = TRUE, fig.width = 5, fig.height = 5}

ggplot(data = data_tbl, aes(x = treatment, y = freshmatter,
                            fill = treatment)) +
  geom_boxplot() +
  labs(title = "Frischgewicht in Abhängigkeit von der Behandlung",
       x = "Behandlung", y = "Frischgewicht in kg/ha",
       fill = "Behandlung") +
  theme_bw()

```
