<!DOCTYPE html>
<html xmlns="http://www.w3.org/1999/xhtml" lang="de" xml:lang="de"><head>

<meta charset="utf-8">
<meta name="generator" content="quarto-1.3.433">

<meta name="viewport" content="width=device-width, initial-scale=1.0, user-scalable=yes">


<title>Skript Bio Data Science - 60&nbsp; Zeitreihen (eng. time series)</title>
<style>
code{white-space: pre-wrap;}
span.smallcaps{font-variant: small-caps;}
div.columns{display: flex; gap: min(4vw, 1.5em);}
div.column{flex: auto; overflow-x: auto;}
div.hanging-indent{margin-left: 1.5em; text-indent: -1.5em;}
ul.task-list{list-style: none;}
ul.task-list li input[type="checkbox"] {
  width: 0.8em;
  margin: 0 0.8em 0.2em -1em; /* quarto-specific, see https://github.com/quarto-dev/quarto-cli/issues/4556 */ 
  vertical-align: middle;
}
/* CSS for syntax highlighting */
pre > code.sourceCode { white-space: pre; position: relative; }
pre > code.sourceCode > span { display: inline-block; line-height: 1.25; }
pre > code.sourceCode > span:empty { height: 1.2em; }
.sourceCode { overflow: visible; }
code.sourceCode > span { color: inherit; text-decoration: inherit; }
div.sourceCode { margin: 1em 0; }
pre.sourceCode { margin: 0; }
@media screen {
div.sourceCode { overflow: auto; }
}
@media print {
pre > code.sourceCode { white-space: pre-wrap; }
pre > code.sourceCode > span { text-indent: -5em; padding-left: 5em; }
}
pre.numberSource code
  { counter-reset: source-line 0; }
pre.numberSource code > span
  { position: relative; left: -4em; counter-increment: source-line; }
pre.numberSource code > span > a:first-child::before
  { content: counter(source-line);
    position: relative; left: -1em; text-align: right; vertical-align: baseline;
    border: none; display: inline-block;
    -webkit-touch-callout: none; -webkit-user-select: none;
    -khtml-user-select: none; -moz-user-select: none;
    -ms-user-select: none; user-select: none;
    padding: 0 4px; width: 4em;
  }
pre.numberSource { margin-left: 3em;  padding-left: 4px; }
div.sourceCode
  {   }
@media screen {
pre > code.sourceCode > span > a:first-child::before { text-decoration: underline; }
}
/* CSS for citations */
div.csl-bib-body { }
div.csl-entry {
  clear: both;
}
.hanging-indent div.csl-entry {
  margin-left:2em;
  text-indent:-2em;
}
div.csl-left-margin {
  min-width:2em;
  float:left;
}
div.csl-right-inline {
  margin-left:2em;
  padding-left:1em;
}
div.csl-indent {
  margin-left: 2em;
}</style>


<script src="site_libs/quarto-nav/quarto-nav.js"></script>
<script src="site_libs/quarto-nav/headroom.min.js"></script>
<script src="site_libs/clipboard/clipboard.min.js"></script>
<script src="site_libs/quarto-search/autocomplete.umd.js"></script>
<script src="site_libs/quarto-search/fuse.min.js"></script>
<script src="site_libs/quarto-search/quarto-search.js"></script>
<meta name="quarto:offset" content="./">
<link href="./time-space-spatial-data.html" rel="next">
<link href="./time-space-pseudo-time-series.html" rel="prev">
<script src="site_libs/quarto-html/quarto.js"></script>
<script src="site_libs/quarto-html/popper.min.js"></script>
<script src="site_libs/quarto-html/tippy.umd.min.js"></script>
<script src="site_libs/quarto-html/anchor.min.js"></script>
<link href="site_libs/quarto-html/tippy.css" rel="stylesheet">
<link href="site_libs/quarto-html/quarto-syntax-highlighting.css" rel="stylesheet" id="quarto-text-highlighting-styles">
<script src="site_libs/bootstrap/bootstrap.min.js"></script>
<link href="site_libs/bootstrap/bootstrap-icons.css" rel="stylesheet">
<link href="site_libs/bootstrap/bootstrap.min.css" rel="stylesheet" id="quarto-bootstrap" data-mode="light">
<script id="quarto-search-options" type="application/json">{
  "location": "sidebar",
  "copy-button": false,
  "collapse-after": 3,
  "panel-placement": "start",
  "type": "textbox",
  "limit": 20,
  "language": {
    "search-no-results-text": "Keine Treffer",
    "search-matching-documents-text": "Treffer",
    "search-copy-link-title": "Link in die Suche kopieren",
    "search-hide-matches-text": "Zusätzliche Treffer verbergen",
    "search-more-match-text": "weitere Treffer in diesem Dokument",
    "search-more-matches-text": "weitere Treffer in diesem Dokument",
    "search-clear-button-title": "Zurücksetzen",
    "search-detached-cancel-button-title": "Abbrechen",
    "search-submit-button-title": "Abschicken",
    "search-label": "Suchen"
  }
}</script>
<script src="site_libs/htmlwidgets-1.6.2/htmlwidgets.js"></script>
<script src="site_libs/plotly-binding-4.10.3/plotly.js"></script>
<script src="site_libs/typedarray-0.1/typedarray.min.js"></script>
<script src="site_libs/jquery-3.5.1/jquery.min.js"></script>
<link href="site_libs/crosstalk-1.2.0/css/crosstalk.min.css" rel="stylesheet">
<script src="site_libs/crosstalk-1.2.0/js/crosstalk.min.js"></script>
<link href="site_libs/plotly-htmlwidgets-css-2.11.1/plotly-htmlwidgets.css" rel="stylesheet">
<script src="site_libs/plotly-main-2.11.1/plotly-latest.min.js"></script>

  <script src="https://polyfill.io/v3/polyfill.min.js?features=es6"></script>
  <script src="https://cdn.jsdelivr.net/npm/mathjax@3/es5/tex-chtml-full.js" type="text/javascript"></script>

</head>

<body class="nav-sidebar floating">

<div id="quarto-search-results"></div>
  <header id="quarto-header" class="headroom fixed-top">
  <nav class="quarto-secondary-nav">
    <div class="container-fluid d-flex">
      <button type="button" class="quarto-btn-toggle btn" data-bs-toggle="collapse" data-bs-target="#quarto-sidebar,#quarto-sidebar-glass" aria-controls="quarto-sidebar" aria-expanded="false" aria-label="Seitenleiste umschalten" onclick="if (window.quartoToggleHeadroom) { window.quartoToggleHeadroom(); }">
        <i class="bi bi-layout-text-sidebar-reverse"></i>
      </button>
      <nav class="quarto-page-breadcrumbs" aria-label="breadcrumb"><ol class="breadcrumb"><li class="breadcrumb-item"><a href="./time-space-preface.html">Zeitliche und räumliche Analysen</a></li><li class="breadcrumb-item"><a href="./time-space-time-series.html"><span class="chapter-number">60</span>&nbsp; <span class="chapter-title">Zeitreihen (eng. *time series*)</span></a></li></ol></nav>
      <a class="flex-grow-1" role="button" data-bs-toggle="collapse" data-bs-target="#quarto-sidebar,#quarto-sidebar-glass" aria-controls="quarto-sidebar" aria-expanded="false" aria-label="Seitenleiste umschalten" onclick="if (window.quartoToggleHeadroom) { window.quartoToggleHeadroom(); }">      
      </a>
      <button type="button" class="btn quarto-search-button" aria-label="" onclick="window.quartoOpenSearch();">
        <i class="bi bi-search"></i>
      </button>
    </div>
  </nav>
</header>
<!-- content -->
<div id="quarto-content" class="quarto-container page-columns page-rows-contents page-layout-article">
<!-- sidebar -->
  <nav id="quarto-sidebar" class="sidebar collapse collapse-horizontal sidebar-navigation floating overflow-auto">
    <div class="pt-lg-2 mt-2 text-left sidebar-header">
    <div class="sidebar-title mb-0 py-0">
      <a href="./">Skript Bio Data Science</a> 
    </div>
      </div>
        <div class="mt-2 flex-shrink-0 align-items-center">
        <div class="sidebar-search">
        <div id="quarto-search" class="" title="Suchen"></div>
        </div>
        </div>
    <div class="sidebar-menu-container"> 
    <ul class="list-unstyled mt-1">
        <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="./index.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text">Willkommen</span></a>
  </div>
</li>
        <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="./organisation.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text"><span class="chapter-number">1</span>&nbsp; <span class="chapter-title">Organisation</span></span></a>
  </div>
</li>
        <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="./literature.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text"><span class="chapter-number">2</span>&nbsp; <span class="chapter-title">Literatur</span></span></a>
  </div>
</li>
        <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="./preface.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text"><span class="chapter-number">3</span>&nbsp; <span class="chapter-title">Forschungsprozess</span></span></a>
  </div>
</li>
        <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="./abschlussarbeit.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text"><span class="chapter-number">4</span>&nbsp; <span class="chapter-title">Abschlussarbeit</span></span></a>
  </div>
</li>
        <li class="sidebar-item sidebar-item-section">
      <div class="sidebar-item-container"> 
            <a href="./example-preface.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text">Datenbeispiele</span></a>
          <a class="sidebar-item-toggle text-start" data-bs-toggle="collapse" data-bs-target="#quarto-sidebar-section-1" aria-expanded="true" aria-label="Abschnitt umschalten">
            <i class="bi bi-chevron-right ms-2"></i>
          </a> 
      </div>
      <ul id="quarto-sidebar-section-1" class="collapse list-unstyled sidebar-section depth1 show">  
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="./example-fleas-dogs-cats.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text"><span class="chapter-number">5</span>&nbsp; <span class="chapter-title">Von Flöhen auf Tieren</span></span></a>
  </div>
</li>
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="./example-gummi-bears.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text"><span class="chapter-number">6</span>&nbsp; <span class="chapter-title">Von Gummibärchen</span></span></a>
  </div>
</li>
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="./example-complex.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text"><span class="chapter-number">7</span>&nbsp; <span class="chapter-title">Von komplexeren Daten</span></span></a>
  </div>
</li>
      </ul>
  </li>
        <li class="sidebar-item sidebar-item-section">
      <div class="sidebar-item-container"> 
            <a href="./programing-preface.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text">Programmieren in R</span></a>
          <a class="sidebar-item-toggle text-start" data-bs-toggle="collapse" data-bs-target="#quarto-sidebar-section-2" aria-expanded="true" aria-label="Abschnitt umschalten">
            <i class="bi bi-chevron-right ms-2"></i>
          </a> 
      </div>
      <ul id="quarto-sidebar-section-2" class="collapse list-unstyled sidebar-section depth1 show">  
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="./programing-letters-numbers.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text"><span class="chapter-number">8</span>&nbsp; <span class="chapter-title">Buchstaben und Zahlen</span></span></a>
  </div>
</li>
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="./programing-basics.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text"><span class="chapter-number">9</span>&nbsp; <span class="chapter-title">Operatoren, Funktionen und Pakete</span></span></a>
  </div>
</li>
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="./programing-import.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text"><span class="chapter-number">10</span>&nbsp; <span class="chapter-title">Daten einlesen</span></span></a>
  </div>
</li>
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="./programing-dplyr.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text"><span class="chapter-number">11</span>&nbsp; <span class="chapter-title">Daten bearbeiten</span></span></a>
  </div>
</li>
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="./programing-strings.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text"><span class="chapter-number">12</span>&nbsp; <span class="chapter-title">Reguläre Ausdrücke</span></span></a>
  </div>
</li>
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="./programing-purrr-furrr.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text"><span class="chapter-number">13</span>&nbsp; <span class="chapter-title">Ein <code>purrr</code> Cookbook</span></span></a>
  </div>
</li>
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="./programing-quarto-shiny.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text"><span class="chapter-number">14</span>&nbsp; <span class="chapter-title">Quarto und Shiny App</span></span></a>
  </div>
</li>
      </ul>
  </li>
        <li class="sidebar-item sidebar-item-section">
      <div class="sidebar-item-container"> 
            <a href="./eda-preface.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text">Explorative Datenanalyse</span></a>
          <a class="sidebar-item-toggle text-start" data-bs-toggle="collapse" data-bs-target="#quarto-sidebar-section-3" aria-expanded="true" aria-label="Abschnitt umschalten">
            <i class="bi bi-chevron-right ms-2"></i>
          </a> 
      </div>
      <ul id="quarto-sidebar-section-3" class="collapse list-unstyled sidebar-section depth1 show">  
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="./eda-descriptive.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text"><span class="chapter-number">15</span>&nbsp; <span class="chapter-title">Deskriptive Statistik</span></span></a>
  </div>
</li>
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="./eda-ggplot.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text"><span class="chapter-number">16</span>&nbsp; <span class="chapter-title">Visualisierung von Daten</span></span></a>
  </div>
</li>
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="./eda-distribution.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text"><span class="chapter-number">17</span>&nbsp; <span class="chapter-title">Verteilung von Daten</span></span></a>
  </div>
</li>
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="./eda-transform.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text"><span class="chapter-number">18</span>&nbsp; <span class="chapter-title">Transformieren von Daten</span></span></a>
  </div>
</li>
      </ul>
  </li>
        <li class="sidebar-item sidebar-item-section">
      <div class="sidebar-item-container"> 
            <a href="./stat-tests-preface-theory.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text">Testen von Hypothesen</span></a>
          <a class="sidebar-item-toggle text-start" data-bs-toggle="collapse" data-bs-target="#quarto-sidebar-section-4" aria-expanded="true" aria-label="Abschnitt umschalten">
            <i class="bi bi-chevron-right ms-2"></i>
          </a> 
      </div>
      <ul id="quarto-sidebar-section-4" class="collapse list-unstyled sidebar-section depth1 show">  
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="./stat-tests-basic.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text"><span class="chapter-number">19</span>&nbsp; <span class="chapter-title">Die Testentscheidung</span></span></a>
  </div>
</li>
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="./stat-tests-theorie.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text"><span class="chapter-number">20</span>&nbsp; <span class="chapter-title">Die Testtheorie</span></span></a>
  </div>
</li>
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="./stat-tests-effect.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text"><span class="chapter-number">21</span>&nbsp; <span class="chapter-title">Der Effektschätzer</span></span></a>
  </div>
</li>
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="./stat-tests-pretest.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text"><span class="chapter-number">22</span>&nbsp; <span class="chapter-title">Der Pre-Test oder Vortest</span></span></a>
  </div>
</li>
      </ul>
  </li>
        <li class="sidebar-item sidebar-item-section">
      <div class="sidebar-item-container"> 
            <a href="./experimental-design-preface.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text">Experimentelle Designs</span></a>
          <a class="sidebar-item-toggle text-start" data-bs-toggle="collapse" data-bs-target="#quarto-sidebar-section-5" aria-expanded="true" aria-label="Abschnitt umschalten">
            <i class="bi bi-chevron-right ms-2"></i>
          </a> 
      </div>
      <ul id="quarto-sidebar-section-5" class="collapse list-unstyled sidebar-section depth1 show">  
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="./experimental-design-r.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text"><span class="chapter-number">23</span>&nbsp; <span class="chapter-title">Versuchsplanung in R</span></span></a>
  </div>
</li>
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="./experimental-design-basic.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text"><span class="chapter-number">24</span>&nbsp; <span class="chapter-title">Einfache Designs</span></span></a>
  </div>
</li>
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="./experimental-design-advanced.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text"><span class="chapter-number">25</span>&nbsp; <span class="chapter-title">Fortgeschrittene Designs</span></span></a>
  </div>
</li>
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="./experimental-design-samplesize.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text"><span class="chapter-number">26</span>&nbsp; <span class="chapter-title">Fallzahlplanung</span></span></a>
  </div>
</li>
      </ul>
  </li>
        <li class="sidebar-item sidebar-item-section">
      <div class="sidebar-item-container"> 
            <a href="./stat-tests-preface-app.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text">Statistische Gruppenvergleiche</span></a>
          <a class="sidebar-item-toggle text-start" data-bs-toggle="collapse" data-bs-target="#quarto-sidebar-section-6" aria-expanded="true" aria-label="Abschnitt umschalten">
            <i class="bi bi-chevron-right ms-2"></i>
          </a> 
      </div>
      <ul id="quarto-sidebar-section-6" class="collapse list-unstyled sidebar-section depth1 show">  
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="./stat-tests-ttest.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text"><span class="chapter-number">27</span>&nbsp; <span class="chapter-title">Der t-Test</span></span></a>
  </div>
</li>
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="./stat-tests-anova.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text"><span class="chapter-number">28</span>&nbsp; <span class="chapter-title">Die ANOVA</span></span></a>
  </div>
</li>
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="./stat-tests-ancova.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text"><span class="chapter-number">29</span>&nbsp; <span class="chapter-title">Die ANCOVA</span></span></a>
  </div>
</li>
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="./stat-tests-utest.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text"><span class="chapter-number">30</span>&nbsp; <span class="chapter-title">Der Wilcoxon-Mann-Whitney-Test</span></span></a>
  </div>
</li>
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="./stat-tests-kruskal.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text"><span class="chapter-number">31</span>&nbsp; <span class="chapter-title">Der Kruskal-Wallis-Test</span></span></a>
  </div>
</li>
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="./stat-tests-friedman.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text"><span class="chapter-number">32</span>&nbsp; <span class="chapter-title">Der Friedman Test</span></span></a>
  </div>
</li>
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="./stat-tests-posthoc.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text"><span class="chapter-number">33</span>&nbsp; <span class="chapter-title">Multiple Vergleiche oder Post-hoc Tests</span></span></a>
  </div>
</li>
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="./stat-tests-chi-test.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text"><span class="chapter-number">34</span>&nbsp; <span class="chapter-title">Der <span class="math inline">\(\mathcal{X}^2\)</span>-Test</span></span></a>
  </div>
</li>
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="./stat-tests-diagnostic.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text"><span class="chapter-number">35</span>&nbsp; <span class="chapter-title">Der diagnostische Test</span></span></a>
  </div>
</li>
      </ul>
  </li>
        <li class="sidebar-item sidebar-item-section">
      <div class="sidebar-item-container"> 
            <a href="./stat-linear-reg-preface.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text">Grundlagen der linearen Regression</span></a>
          <a class="sidebar-item-toggle text-start" data-bs-toggle="collapse" data-bs-target="#quarto-sidebar-section-7" aria-expanded="true" aria-label="Abschnitt umschalten">
            <i class="bi bi-chevron-right ms-2"></i>
          </a> 
      </div>
      <ul id="quarto-sidebar-section-7" class="collapse list-unstyled sidebar-section depth1 show">  
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="./stat-linear-reg-basic.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text"><span class="chapter-number">36</span>&nbsp; <span class="chapter-title">Simple lineare Regression</span></span></a>
  </div>
</li>
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="./stat-linear-reg-quality.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text"><span class="chapter-number">37</span>&nbsp; <span class="chapter-title">Maßzahlen der Modelgüte</span></span></a>
  </div>
</li>
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="./stat-linear-reg-corr.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text"><span class="chapter-number">38</span>&nbsp; <span class="chapter-title">Korrelation</span></span></a>
  </div>
</li>
      </ul>
  </li>
        <li class="sidebar-item sidebar-item-section">
      <div class="sidebar-item-container"> 
            <a href="./stat-modeling-preface.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text">Statistisches Modellieren</span></a>
          <a class="sidebar-item-toggle text-start" data-bs-toggle="collapse" data-bs-target="#quarto-sidebar-section-8" aria-expanded="true" aria-label="Abschnitt umschalten">
            <i class="bi bi-chevron-right ms-2"></i>
          </a> 
      </div>
      <ul id="quarto-sidebar-section-8" class="collapse list-unstyled sidebar-section depth1 show">  
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="./stat-modeling-basic.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text"><span class="chapter-number">39</span>&nbsp; <span class="chapter-title">Multiple lineare Regression</span></span></a>
  </div>
</li>
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="./stat-modeling-variable-selection.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text"><span class="chapter-number">40</span>&nbsp; <span class="chapter-title">Variablenselektion</span></span></a>
  </div>
</li>
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="./stat-modeling-outlier.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text"><span class="chapter-number">41</span>&nbsp; <span class="chapter-title">Ausreißer</span></span></a>
  </div>
</li>
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="./stat-modeling-missing.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text"><span class="chapter-number">42</span>&nbsp; <span class="chapter-title">Imputation fehlender Werte</span></span></a>
  </div>
</li>
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="./stat-modeling-sensitivity.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text"><span class="chapter-number">43</span>&nbsp; <span class="chapter-title">Sensitivitätsanalyse</span></span></a>
  </div>
</li>
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="./stat-modeling-gaussian.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text"><span class="chapter-number">44</span>&nbsp; <span class="chapter-title">Gaussian Regression</span></span></a>
  </div>
</li>
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="./stat-modeling-poisson.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text"><span class="chapter-number">45</span>&nbsp; <span class="chapter-title">Poisson Regression</span></span></a>
  </div>
</li>
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="./stat-modeling-multinom.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text"><span class="chapter-number">46</span>&nbsp; <span class="chapter-title">Multinomiale / Ordinale logistische Regression</span></span></a>
  </div>
</li>
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="./stat-modeling-logistic.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text"><span class="chapter-number">47</span>&nbsp; <span class="chapter-title">Logistische Regression</span></span></a>
  </div>
</li>
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="./stat-modeling-prob-model.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text"><span class="chapter-number">48</span>&nbsp; <span class="chapter-title">Linear Probability Model</span></span></a>
  </div>
</li>
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="./stat-modeling-mixed.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text"><span class="chapter-number">49</span>&nbsp; <span class="chapter-title">Lineare gemischte Modelle</span></span></a>
  </div>
</li>
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="./stat-modeling-gee.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text"><span class="chapter-number">50</span>&nbsp; <span class="chapter-title">Generalized Estimating Equations (GEE)</span></span></a>
  </div>
</li>
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="./stat-modeling-non-linear.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text"><span class="chapter-number">51</span>&nbsp; <span class="chapter-title">Nicht lineare Regression</span></span></a>
  </div>
</li>
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="./stat-modeling-robust-quantile.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text"><span class="chapter-number">52</span>&nbsp; <span class="chapter-title">Robuste und Quantilesregression</span></span></a>
  </div>
</li>
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="./stat-modeling-survival.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text"><span class="chapter-number">53</span>&nbsp; <span class="chapter-title">Überlebenszeitanalysen</span></span></a>
  </div>
</li>
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="./stat-modeling-noninferiority.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text"><span class="chapter-number">54</span>&nbsp; <span class="chapter-title">Äquivalenz oder Nichtunterlegenheit</span></span></a>
  </div>
</li>
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="./stat-modeling-meta.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text"><span class="chapter-number">55</span>&nbsp; <span class="chapter-title">Metaanalysen</span></span></a>
  </div>
</li>
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="./stat-modeling-permutationstest.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text"><span class="chapter-number">56</span>&nbsp; <span class="chapter-title">Permutationstest</span></span></a>
  </div>
</li>
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="./stat-modeling-cluster.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text"><span class="chapter-number">57</span>&nbsp; <span class="chapter-title">Clusteranalysen</span></span></a>
  </div>
</li>
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="./stat-modeling-pca.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text"><span class="chapter-number">58</span>&nbsp; <span class="chapter-title">Multivariate Verfahren</span></span></a>
  </div>
</li>
      </ul>
  </li>
        <li class="sidebar-item sidebar-item-section">
      <div class="sidebar-item-container"> 
            <a href="./time-space-preface.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text">Zeitliche und räumliche Analysen</span></a>
          <a class="sidebar-item-toggle text-start" data-bs-toggle="collapse" data-bs-target="#quarto-sidebar-section-9" aria-expanded="true" aria-label="Abschnitt umschalten">
            <i class="bi bi-chevron-right ms-2"></i>
          </a> 
      </div>
      <ul id="quarto-sidebar-section-9" class="collapse list-unstyled sidebar-section depth1 show">  
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="./time-space-pseudo-time-series.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text"><span class="chapter-number">59</span>&nbsp; <span class="chapter-title">Pseudo Zeitreihen</span></span></a>
  </div>
</li>
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="./time-space-time-series.html" class="sidebar-item-text sidebar-link active">
 <span class="menu-text"><span class="chapter-number">60</span>&nbsp; <span class="chapter-title">Zeitreihen (eng. <em>time series</em>)</span></span></a>
  </div>
</li>
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="./time-space-spatial-data.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text"><span class="chapter-number">61</span>&nbsp; <span class="chapter-title">Räumliche Daten (eng. <em>spatial data</em>)</span></span></a>
  </div>
</li>
      </ul>
  </li>
        <li class="sidebar-item sidebar-item-section">
      <div class="sidebar-item-container"> 
            <a href="./classification-preface.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text">Klassifikation oder maschinelles Lernen</span></a>
          <a class="sidebar-item-toggle text-start" data-bs-toggle="collapse" data-bs-target="#quarto-sidebar-section-10" aria-expanded="true" aria-label="Abschnitt umschalten">
            <i class="bi bi-chevron-right ms-2"></i>
          </a> 
      </div>
      <ul id="quarto-sidebar-section-10" class="collapse list-unstyled sidebar-section depth1 show">  
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="./classification-basic.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text"><span class="chapter-number">62</span>&nbsp; <span class="chapter-title">Grundlagen der Klassifikation</span></span></a>
  </div>
</li>
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="./classification-data.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text"><span class="chapter-number">63</span>&nbsp; <span class="chapter-title">Data splitting</span></span></a>
  </div>
</li>
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="./classification-pre-processing.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text"><span class="chapter-number">64</span>&nbsp; <span class="chapter-title">Data preprocessing</span></span></a>
  </div>
</li>
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="./classification-model-compare.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text"><span class="chapter-number">65</span>&nbsp; <span class="chapter-title">Vergleich von Algorithmen</span></span></a>
  </div>
</li>
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="./classification-knn.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text"><span class="chapter-number">66</span>&nbsp; <span class="chapter-title"><span class="math inline">\(k\)</span> nearest neighbor</span></span></a>
  </div>
</li>
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="./classification-randomforest.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text"><span class="chapter-number">67</span>&nbsp; <span class="chapter-title">Decision trees</span></span></a>
  </div>
</li>
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="./classification-svm.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text"><span class="chapter-number">68</span>&nbsp; <span class="chapter-title">Support vector machines</span></span></a>
  </div>
</li>
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="./classification-neural-networks.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text"><span class="chapter-number">69</span>&nbsp; <span class="chapter-title">Neural networks</span></span></a>
  </div>
</li>
      </ul>
  </li>
        <li class="sidebar-item sidebar-item-section">
      <div class="sidebar-item-container"> 
            <a href="./abspann.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text">Abspann</span></a>
          <a class="sidebar-item-toggle text-start" data-bs-toggle="collapse" data-bs-target="#quarto-sidebar-section-11" aria-expanded="true" aria-label="Abschnitt umschalten">
            <i class="bi bi-chevron-right ms-2"></i>
          </a> 
      </div>
      <ul id="quarto-sidebar-section-11" class="collapse list-unstyled sidebar-section depth1 show">  
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="./app-spielecke.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text"><span class="chapter-number">70</span>&nbsp; <span class="chapter-title">Spielecke</span></span></a>
  </div>
</li>
      </ul>
  </li>
    </ul>
    </div>
</nav>
<div id="quarto-sidebar-glass" data-bs-toggle="collapse" data-bs-target="#quarto-sidebar,#quarto-sidebar-glass"></div>
<!-- margin-sidebar -->
    <div id="quarto-margin-sidebar" class="sidebar margin-sidebar">
        <nav id="TOC" role="doc-toc" class="toc-active">
    <h2 id="toc-title">Inhaltsverzeichnis</h2>
   
  <ul>
  <li><a href="#genutzte-r-pakete" id="toc-genutzte-r-pakete" class="nav-link active" data-scroll-target="#genutzte-r-pakete"><span class="header-section-number">60.1</span> Genutzte R Pakete</a></li>
  <li><a href="#daten" id="toc-daten" class="nav-link" data-scroll-target="#daten"><span class="header-section-number">60.2</span> Daten</a></li>
  <li><a href="#sec-time-data-format" id="toc-sec-time-data-format" class="nav-link" data-scroll-target="#sec-time-data-format"><span class="header-section-number">60.3</span> Das Datumsformat</a></li>
  <li><a href="#visualisierung" id="toc-visualisierung" class="nav-link" data-scroll-target="#visualisierung"><span class="header-section-number">60.4</span> Visualisierung</a>
  <ul class="collapse">
  <li><a href="#die-milchdaten" id="toc-die-milchdaten" class="nav-link" data-scroll-target="#die-milchdaten"><span class="header-section-number">60.4.1</span> Die Milchdaten</a></li>
  </ul></li>
  <li><a href="#analysen-von-zeitreihen" id="toc-analysen-von-zeitreihen" class="nav-link" data-scroll-target="#analysen-von-zeitreihen"><span class="header-section-number">60.5</span> Analysen von Zeitreihen</a>
  <ul class="collapse">
  <li><a href="#definitionen-und-überblick" id="toc-definitionen-und-überblick" class="nav-link" data-scroll-target="#definitionen-und-überblick"><span class="header-section-number">60.5.1</span> Definitionen und Überblick</a></li>
  <li><a href="#grundlagen-der-modellierung-von-zeitreihen" id="toc-grundlagen-der-modellierung-von-zeitreihen" class="nav-link" data-scroll-target="#grundlagen-der-modellierung-von-zeitreihen"><span class="header-section-number">60.5.2</span> Grundlagen der Modellierung von Zeitreihen</a></li>
  </ul></li>
  <li><a href="#vorhersagen-mit" id="toc-vorhersagen-mit" class="nav-link" data-scroll-target="#vorhersagen-mit"><span class="header-section-number">60.6</span> Vorhersagen mit…</a>
  <ul class="collapse">
  <li><a href="#ts-und-zoo" id="toc-ts-und-zoo" class="nav-link" data-scroll-target="#ts-und-zoo"><span class="header-section-number">60.6.1</span> …<code>{ts}</code> und <code>{zoo}</code></a></li>
  <li><a href="#tktime" id="toc-tktime" class="nav-link" data-scroll-target="#tktime"><span class="header-section-number">60.6.2</span> … <code>{tktime}</code></a></li>
  <li><a href="#fable-und-feasts" id="toc-fable-und-feasts" class="nav-link" data-scroll-target="#fable-und-feasts"><span class="header-section-number">60.6.3</span> … <code>{fable}</code> und <code>{feasts}</code></a></li>
  <li><a href="#modeltime" id="toc-modeltime" class="nav-link" data-scroll-target="#modeltime"><span class="header-section-number">60.6.4</span> … <code>{modeltime}</code></a></li>
  </ul></li>
  <li><a href="#referenzen" id="toc-referenzen" class="nav-link" data-scroll-target="#referenzen">Referenzen</a></li>
  </ul>
</nav>
    </div>
<!-- main -->
<main class="content page-columns page-full" id="quarto-document-content">

<header id="title-block-header" class="quarto-title-block default">
<div class="quarto-title">
<h1 class="title"><span id="sec-time-series" class="quarto-section-identifier"><span class="chapter-number">60</span>&nbsp; <span class="chapter-title">Zeitreihen (eng. <em>time series</em>)</span></span></h1>
</div>



<div class="quarto-title-meta">

    
  
    
  </div>
  

</header>

<p><em>Letzte Änderung am 20. November 2023 um 08:29:10</em></p>
<blockquote class="blockquote">
<p><em>“Die Vergangenheit ist geschrieben, aber die Zukunft ist noch nicht in Stein gemeißelt.” — Jean-Luc Picard, Star Trek: The Next Generation</em></p>
</blockquote>
<div class="quarto-figure quarto-figure-center">
<figure class="figure">
<p><img src="images/caution.png" class="img-fluid figure-img" style="width:50.0%"></p>
</figure>
</div>
<div class="callout callout-style-default callout-important callout-titled">
<div class="callout-header d-flex align-content-center">
<div class="callout-icon-container">
<i class="callout-icon"></i>
</div>
<div class="callout-title-container flex-fill">
Bitte bei der Analyse von Zeitreihen gleich von Anfang an beachten!
</div>
</div>
<div class="callout-body-container callout-body">
<p>Die Analyse von Zeitreihen kann sehr quälend sein, wenn dein <a href="#sec-time-data-format">Datumsformat nicht richtig</a> ist. Bitte achte darauf, dass du in der Spalte mit dem Datum immer das gleiche Format vorliegen hast. Dann können wir das Format später richtig transformieren. Danach geht dann alles einfacher…</p>
</div>
</div>
<p>In diesem Kapitel wollen wir uns mit Zeitreihen (eng. <em>time series</em>) beschäftigen. Was ja auch irgendwie zu erwarten war, denn so heißt ja auch das Kapitel hier. Wir haben ganz einfach auf der <span class="math inline">\(x\)</span>-Achse einer potenziellen Visualisierung die Zeit dargestellt. Wir wollen dann auswerten, ob es über den zeitlichen Verlauf einen Trend gibt oder wir ein gutes Modell für den Verlauf der Beobachtungen anpassen können. Es kann auch sein, dass wir zwei zeitliche Verläufe miteinander vergleichen wollen. Dabei haben wir dann aber meistens nicht einen super simplen Verlauf, sondern Spitzen oder Täler in den Daten, so dass wir hier die Daten entsprechend glätten (eng. <em>to smooth</em>) müssen.</p>
<p>In der <a href="#fig-time-intro">Abbildung&nbsp;<span>60.1</span></a> sehen wir eine typische Zeitreihe, die in der klassischen Analyse von Zeitreihen erwartet wird. Mit erwartet wird miente ich, dass wir hier einen Messwert über eine längere Zeit beobachten und wir dabei eine zyklische Abfolge der Messwerte über die Zeit sehen. Wenn wir nicht lange genug etwas beobachten, dann können wir so ein zyklisches Verhalten nicht erkennen. Wenn wir nur über einen sehr kurzen Zeitraum die Temperatur messen, dann werden wir kaum in der Lage sein, ein Muster zu erkennen. Dann müssen wir uns eventuell überlegen unsere Zeitreihe anders auszuwerten oder aber nur als Abbildung darzustellen. Bei Zeitreihen geht es also zum einen um die Vorhersage zukünftiger Ereignisse anhand schon gemessener Werte der Zeitreihe oder aber um die Darstellung und den Vergleich von zeitlichen Verläufen. Wir werden uns beide Fälle einmal anschauen. Deshalb sind es hier auch recht viele Beispiele geworden.</p>
<div class="cell" data-layout-align="center">
<div class="cell-output-display">
<div id="fig-time-intro" class="quarto-figure quarto-figure-center anchored">
<figure class="figure">
<p><img src="time-space-time-series_files/figure-html/fig-time-intro-1.png" class="img-fluid figure-img" width="672"></p>
<figcaption class="figure-caption">Abbildung&nbsp;60.1— Eine Zeitreihe, wie sie in der klassischen Analyse von Zeitreihen erwartet wird. Wir haben über einen längeren Zeitraum ein zyklisches Verhalten von Messwerten vorliegen. Nicht immer liegt so eine Form der Zeitreihe vor. Häufig ist der Zeitraum zu kurz gewählt.</figcaption>
</figure>
</div>
</div>
</div>
<p>Was sollst du lesen, wenn du mehr wissen willst als hier in dem Kapitel steht? Besonders hier gilt, über Zeitreihen wurden und werden Bücher geschrieben. So tiefgreifend kann ich hier nicht die Zusammenhänge darstellen. Aber vermutlich so, dass du dann in anderen Büchern weiterlesen kannst. Ich würde dir <a href="https://otexts.com/fpp3/">Forecasting: Principles and Practice</a> als erstes Buch empfehlen. Du hast hier sogar YouTube Videos für die wichtigsten Inhalte. Dann würde ich den Kurs <a href="https://online.stat.psu.edu/stat510/">STAT 510: Applied Time Series Analysis</a> als umfangreichen, theoretischen Hintergrund empfehlen. Du findest dort auch teilweise R Code etwas in den Skript vergraben. Es gibt reichlich R Pakete, die ich teilweise tiefer vorstellen werden. Mit den R Paketen <code>{tktime}</code>, <code>{fable}</code> und <code>{modeltime}</code> gibt es neben den built-in Paketen einiges zur Auswahl. Ich werde hier aber auch alle drei Pakete einmal vorstellen und diskutieren. Mehr geht natürlich immer deshalb kann ich dir da noch die Übersicht auf dem <a href="https://www.bigbookofr.com/time-series-analysis-and-forecasting">Big Book of R – Time Series Analysis and Forecasting</a> empfehlen. Dort findest du dann noch mehr frei verfügbare Literatur und auch das ein oder andere R Paket, was genau in der entsprechenden Litertaur genutzt und besprochen wird. Wenn du noch mehr lesen willst, dann kann ich dir folgende Literatur empfehlen. <span class="citation" data-cites="robert2006time">Robert u.&nbsp;a. (<a href="#ref-robert2006time" role="doc-biblioref">2006</a>)</span> liefert eine gute Übersicht über die Anwendung in R, ist aber schon etwas älter. Das Gleiche gilt dann auch für das Buch von <span class="citation" data-cites="chan2008time">Chan und Cryer (<a href="#ref-chan2008time" role="doc-biblioref">2008</a>)</span> und <span class="citation" data-cites="cowpertwait2009introductory">Cowpertwait und Metcalfe (<a href="#ref-cowpertwait2009introductory" role="doc-biblioref">2009</a>)</span>. Dennoch bilden alle drei Bücher die Grundlagen der Analysen von Zeitreihen super ab. Für eine Abschlussarbeit sollten die Quellen also allemal reichen.</p>
<p>Wenn es um Zeitreihen geht, dann ist die Formatierung der Spalte mit dem Datum eigentlich so ziemlich das aufwendigste. In dem Kapitel <a href="programing-strings.html#sec-time-date">Zeit und Datum</a> findest du dann nochmal mehr Informationen dazu. Achte bitte darauf, dass du eine einheitlich formatierte Datumsspalte hast, die sich nicht im Laufe der Zeilen ändert. Wenn das der Fall ist, dann musst du meist händisch nochmal die Daten anpassen und das ist meistens sehr aufwendig.</p>
<p>Wenn es um Daten geht, dann gibt es natürlich eine Reihe von möglichen Quellen. Wenn es sehr viele Daten seinen sollen, die meistens einen zeitlichen Bezug haben, dann empfehle ich die Webseite <a href="https://ourworldindata.org/">Our World in Data</a>. Dort gibt es so viele zeitliche Verläufe, da eigentlich alles dort als zeitlicher Verlauf dargestellt wird. Schau doch einfach dort mal rein.</p>
<div class="callout callout-style-default callout-tip callout-titled">
<div class="callout-header d-flex align-content-center" data-bs-toggle="collapse" data-bs-target=".callout-2-contents" aria-controls="callout-2" aria-expanded="true" aria-label="Toggle callout">
<div class="callout-icon-container">
<i class="callout-icon"></i>
</div>
<div class="callout-title-container flex-fill">
Weitere Tutorien für die Analyse von Zeitreihen
</div>
<div class="callout-btn-toggle d-inline-block border-0 py-1 ps-1 pe-0 float-end"><i class="callout-toggle"></i></div>
</div>
<div id="callout-2" class="callout-2-contents callout-collapse collapse show">
<div class="callout-body-container callout-body">
<p>Wir immer kann ein Kapitel hier nicht das umfangreiche Analysieren von Zeitreihen abarbeiten. Daher auch wie in anderen Kapiteln schon eine Liste von Literatur und Links, die mich für dieses Kapitel hier inspiriert haben. Nicht alles habe ich genutzt, aber vielleicht ist für dich was dabei, was dir dann mehr konkret hilft als dieses Kapitel.</p>
<ul>
<li><a href="https://otexts.com/fpp3/">Forecasting: Principles and Practice</a> – Wenn ich keine Zeit hätte mich durch sehr viele Tutorien zu arbeiten, dann würde ich vermutlich mit diesem Online-Buch starten. Es ist alles drin was man braucht um die Zeitreihenanalyse tiefer zu verstehen, als dass ich es hier aufarbeiten kann. Wenn du dann noch das R Paket <code>{tktime}</code> nutzt, passt dann wieder alles.</li>
<li><a href="https://online.stat.psu.edu/stat510/">STAT 510: Applied Time Series Analysis</a> – Ein umfangreicher Kurs der Penn State - Eberly College of Science. Hier ist dann der R Anteil sehr eingeschränkt bzw. schon etwas älter aber dafür sind die Erklärungen umfangreicher als in diesem Kapitel. Es lohnt sich also nochmal dort für weitere Beispiele einmal reinzuschauen.</li>
<li><a href="https://a-little-book-of-r-for-time-series.readthedocs.io/en/latest/">Welcome to a Little Book of R for Time Series!</a> – Du findest hier eine sehr gute Übersicht über die Möglichkeiten einer Zeitreihenanalyse mit der Möglichkeit Vorhersagen durchzuführen. Teilweise sind die Funktionen etwas veraltet, ich würde da eher das R Paket <code>{timetk}</code> empfehlen. Der Text um die Funktionen herum ist immer noch lesenswert.</li>
<li><a href="https://business-science.github.io/timetk/">timetk for R</a> – Hier hast du das aktuelle R Paket, welches ich auch in diesem Kapitel teilweise vorstelle. Leider gibt es hier aber nicht sehr viel Erklärtext, daher musst du dich dann auf andere Quellen verlassen. Die Funktionen und die Anwendbarkeit ist aber sehr schön.</li>
<li><a href="https://rc2e.com/timeseriesanalysis">14 Time Series Analysis</a> – Du findest hier neben der klassischen Analyse von Zeitreihen noch Informationen zu anderen Möglichkeiten der Analyse von Zeitreihen. Eingebettet ist das Kapitel zu Zeitreihen in ein umfangreiches Buch über die Analyse von Daten und der Programmierung.</li>
<li><a href="https://ourcodingclub.github.io/tutorials/time/">Analysing Time Series Data – Modelling, Forecasting and Data Formatting in R</a> – Du findest hier nochmal ein gutes und in sich kompaktes Tutorium zu der Zeitreihenanalyse. Hier findest du dann auch mehr erklärenden Text. Auch werden die Datumsformate nochmal genauer auseinander genommen und erklärt. Für den Einstieg sicherlich eine gute Quelle.</li>
</ul>
</div>
</div>
</div>
<p>Ich habe mich auch wieder bemüht ein Beispiel für eine Zeitreihe zu finden, die ich als Abbildung einmal zerforschen kann. Damit sich hier nicht so viel verdoppelt, schaue auch einmal gerne in das Kapitel zur Visualisierung von Daten rein, dort sammle ich alle Beispiele zum Zerforschen. Hier also eine Abbildung, bei der es um eine Zeitreihe und der Trächtigkeit von Kühen geht.</p>
<section id="genutzte-r-pakete" class="level2" data-number="60.1">
<h2 data-number="60.1" class="anchored" data-anchor-id="genutzte-r-pakete"><span class="header-section-number">60.1</span> Genutzte R Pakete</h2>
<p>Wir wollen folgende R Pakete in diesem Kapitel nutzen.</p>
<div class="cell">
<div class="sourceCode cell-code" id="cb1"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb1-1"><a href="#cb1-1" aria-hidden="true" tabindex="-1"></a>pacman<span class="sc">::</span><span class="fu">p_load</span>(tidyverse, magrittr, janitor, see, readxl,</span>
<span id="cb1-2"><a href="#cb1-2" aria-hidden="true" tabindex="-1"></a>               xgboost, tidymodels, modeltime, forecast,</span>
<span id="cb1-3"><a href="#cb1-3" aria-hidden="true" tabindex="-1"></a>               lubridate, plotly, zoo, timetk, xts,</span>
<span id="cb1-4"><a href="#cb1-4" aria-hidden="true" tabindex="-1"></a>               corrplot, GGally, conflicted)</span>
<span id="cb1-5"><a href="#cb1-5" aria-hidden="true" tabindex="-1"></a><span class="fu">conflicts_prefer</span>(dplyr<span class="sc">::</span>filter)</span>
<span id="cb1-6"><a href="#cb1-6" aria-hidden="true" tabindex="-1"></a><span class="fu">conflicts_prefer</span>(magrittr<span class="sc">::</span>set_names)</span>
<span id="cb1-7"><a href="#cb1-7" aria-hidden="true" tabindex="-1"></a><span class="fu">conflicts_prefer</span>(plyr<span class="sc">::</span>mutate)</span>
<span id="cb1-8"><a href="#cb1-8" aria-hidden="true" tabindex="-1"></a><span class="fu">conflicts_prefer</span>(dplyr<span class="sc">::</span>slice)</span></code><button title="In die Zwischenablage kopieren" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
<p>Am Ende des Kapitels findest du nochmal den gesamten R Code in einem Rutsch zum selber durchführen oder aber kopieren.</p>
</section>
<section id="daten" class="level2" data-number="60.2">
<h2 data-number="60.2" class="anchored" data-anchor-id="daten"><span class="header-section-number">60.2</span> Daten</h2>
<p>Den ersten Datensatz, den wir uns anschauen wollen, ist ein Datensatz zu der Milchleistung von Kühen stammt aus dem Tutorium <a href="https://ourcodingclub.github.io/tutorials/time/">Analysing Time Series Data – Modelling, Forecasting and Data Formatting in R</a>. Wir haben hier ein idealisierten Datensatz vorliegen, so dass wir uns nicht mit dem Datumsformat quälen müssen. Der Datensatz wurde auch für die Analysen künstlich erstellt. Daher ist die milchleistung auch nicht als echt anzusehen. Wir haben es hier im Prinzip mit simulierten Daten zu tun.</p>
<div class="cell">
<div class="sourceCode cell-code" id="cb2"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb2-1"><a href="#cb2-1" aria-hidden="true" tabindex="-1"></a>milk_tbl <span class="ot">&lt;-</span> <span class="fu">read_csv</span>(<span class="st">"data/monthly_milk.csv"</span>) </span></code><button title="In die Zwischenablage kopieren" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
<p>In der <a href="#tbl-time-milk">Tabelle&nbsp;<span>60.1</span></a> siehst du nochmal einen Auszug aus den Milchdaten. An jedem Tag haben wir die Milchleistung für eine Kuh aufgetragen. Ich würde hier davon ausgehen, dass es sich um die mittlere Leistung handelt. In Wirklichkeit sind die Daten vermutlich etwas komplizierter und wir haben nicht nur eine Leistungsbewertung pro Tag für eine Kuh. Aber für diese Übersicht soll es reichen.</p>
<div class="cell">
<div class="cell-output-display">
<div id="tbl-time-milk" class="anchored">
<table class="table table-sm table-striped small">
<caption>Tabelle&nbsp;60.1— Auszug aus den Daten zu der Milchleistung von Kühen.</caption>
<thead>
<tr class="header">
<th style="text-align: center;">month</th>
<th style="text-align: center;">milk_prod_per_cow_kg</th>
</tr>
</thead>
<tbody>
<tr class="odd">
<td style="text-align: center;">1962-01-01</td>
<td style="text-align: center;">265.05</td>
</tr>
<tr class="even">
<td style="text-align: center;">1962-02-01</td>
<td style="text-align: center;">252.45</td>
</tr>
<tr class="odd">
<td style="text-align: center;">1962-03-01</td>
<td style="text-align: center;">288</td>
</tr>
<tr class="even">
<td style="text-align: center;">1962-04-01</td>
<td style="text-align: center;">295.2</td>
</tr>
<tr class="odd">
<td style="text-align: center;">…</td>
<td style="text-align: center;">…</td>
</tr>
<tr class="even">
<td style="text-align: center;">1975-09-01</td>
<td style="text-align: center;">367.65</td>
</tr>
<tr class="odd">
<td style="text-align: center;">1975-10-01</td>
<td style="text-align: center;">372.15</td>
</tr>
<tr class="even">
<td style="text-align: center;">1975-11-01</td>
<td style="text-align: center;">358.65</td>
</tr>
<tr class="odd">
<td style="text-align: center;">1975-12-01</td>
<td style="text-align: center;">379.35</td>
</tr>
</tbody>
</table>
</div>
</div>
</div>
</section>
<section id="sec-time-data-format" class="level2" data-number="60.3">
<h2 data-number="60.3" class="anchored" data-anchor-id="sec-time-data-format"><span class="header-section-number">60.3</span> Das Datumsformat</h2>
<p>Wenn wir von Zeitreihen sprechen dann sprechen wir auch von dem Datumsformat. Eine Zeitreihe ohne eine richtig formatierte Datumsspalte macht ja auch überhaupt keinen Sinn. Es ist eigentlich immer einer ewige Qual Daten in das richtige Zeitformat zu kriegen. Deshalb hier vorab einmal die folgende Abbildung, die nochmal die Wirrnisse des Datumsformat gut aufzeigt.</p>
<div class="quarto-figure quarto-figure-center">
<figure class="figure">
<p><img src="https://imgs.xkcd.com/comics/iso_8601.png" class="img-fluid figure-img" style="width:70.0%"></p>
<figcaption class="figure-caption">Quelle: https://xkcd.com/</figcaption>
</figure>
</div>
<p>Wichtig ist, dass wir das richtige Datumsformat haben. Siehe bitte dazu auch das Kapitel <a href="programing-strings.html#sec-time-date">Zeit und Datum</a>. Das einzig richtige Datumsformat ist und bleibt eben <code>Jahr-Monat-Tag</code>. Häufig ist eben dann doch anders, so dass wir uns etwas strecken müssen um unser Format in das richtige Format zu überführen. Bitte beachte aber, dass du auf jeden Fall einheitlich dein Datum einträgst. Am besten auch immer zusammen mit dem Jahr, dass macht vieles einfacher. Wie immer gibt es auch noch das Tutorium zu <a href="https://www.r-bloggers.com/2013/08/date-formats-in-r/">Date Formats in R</a> und natürlich das R Paket <code>{lubridate}</code> mit dem Einstieg <a href="https://lubridate.tidyverse.org/articles/lubridate.html">Do more with dates and times in R</a>.</p>
<p>Wir werden uns jetzt einmal am Beispiel die Transformation der Datumsformate in den jeweiligen Daten anschauen. Je nach Datensatz müssen wir da mehr oder weniger machen. Auch hier, wenn du weniger Arbeit möchtest, dann achte auf eine einheitliche Form der Datumsangabe</p>
<div class="callout callout-style-default callout-important callout-titled">
<div class="callout-header d-flex align-content-center">
<div class="callout-icon-container">
<i class="callout-icon"></i>
</div>
<div class="callout-title-container flex-fill">
Konvertierung von verschiedenen Datumsformaten in R
</div>
</div>
<div class="callout-body-container callout-body">
<p>Das R Paket <code>{timetk}</code> liefert dankenswerterweise Funktionen für die Konvertierung von verschiedenen Zeitformaten in R. Deshalb schaue einmal in die Hilfeseite <a href="https://business-science.github.io/timetk/articles/TK00_Time_Series_Coercion.html#introduction">Time Series Class Conversion – Between ts, xts, zoo, and tbl</a> und dann dort speziell der Abschnitt <a href="https://business-science.github.io/timetk/articles/TK00_Time_Series_Coercion.html#conversion-methods">Conversion Methods</a>. Leider ist Zeit in R wirklich relativ.</p>
</div>
</div>
</section>
<section id="visualisierung" class="level2" data-number="60.4">
<h2 data-number="60.4" class="anchored" data-anchor-id="visualisierung"><span class="header-section-number">60.4</span> Visualisierung</h2>
<section id="die-milchdaten" class="level3" data-number="60.4.1">
<h3 data-number="60.4.1" class="anchored" data-anchor-id="die-milchdaten"><span class="header-section-number">60.4.1</span> Die Milchdaten</h3>
<p>Um die Milchdaten in der <a href="#fig-time-milk-1">Abbildung&nbsp;<span>60.2</span></a> darzustellen nutzen wir die Funktion <code>plot_time_series()</code> aus dem R Paket <code>{timetk}</code>. Eigentlich ist es ein Zusammenschluss von <code>{ggplot}</code> und <code>{plotly}</code>. Wenn du die Option <code>.interactive = TRUE</code> wie ich setzt, dann bekommst du einen semi-interaktiven Plot durch <code>{plotly}</code> wiedergegeben. Mehr Informationen erhälst du dann auf der Hilfeseite von <code>timetk</code> zu <a href="https://business-science.github.io/timetk/articles/TK04_Plotting_Time_Series.html">Visualizing Time Series</a>. Wie immer wenn du so generische Funktionen nutzt, musst du schauen, ob dir die Abbildung so gefällt. Du verlierst hier etwas Flexibilität und erhälst dafür aber schneller deine Abbildungen.</p>
<p>Wir erkennen ganz gut, dass wir hier einen Effekt der Saison oder aber der Jahreszeit haben. Wir haben zyklische Peaks der Milchleistung über das Jahr verteilt. Gegen Ende unserer Zeitreihe sehen wir aber eine Art Plateau der Milchleistung. In der folgenden Analyse wollen wir einmal schauen, ob wir die zukünftige Milchleistung anhand der bisherigen Daten vorhersagen können.</p>
<div class="cell" data-layout-align="center">
<div class="sourceCode cell-code" id="cb3"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb3-1"><a href="#cb3-1" aria-hidden="true" tabindex="-1"></a>milk_tbl <span class="sc">%&gt;%</span></span>
<span id="cb3-2"><a href="#cb3-2" aria-hidden="true" tabindex="-1"></a>  <span class="fu">plot_time_series</span>(month, milk_prod_per_cow_kg, <span class="at">.interactive =</span> <span class="cn">TRUE</span>)</span></code><button title="In die Zwischenablage kopieren" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div id="fig-time-milk-1" class="quarto-figure quarto-figure-center anchored">
<figure class="figure">
<div class="plotly html-widget html-fill-item-overflow-hidden html-fill-item" id="htmlwidget-9311ef9ff921eb37d91f" style="width:100%;height:371px;"></div>
<script type="application/json" data-for="htmlwidget-9311ef9ff921eb37d91f">{"x":{"data":[{"x":["1962-01-01","1962-02-01","1962-03-01","1962-04-01","1962-05-01","1962-06-01","1962-07-01","1962-08-01","1962-09-01","1962-10-01","1962-11-01","1962-12-01","1963-01-01","1963-02-01","1963-03-01","1963-04-01","1963-05-01","1963-06-01","1963-07-01","1963-08-01","1963-09-01","1963-10-01","1963-11-01","1963-12-01","1964-01-01","1964-02-01","1964-03-01","1964-04-01","1964-05-01","1964-06-01","1964-07-01","1964-08-01","1964-09-01","1964-10-01","1964-11-01","1964-12-01","1965-01-01","1965-02-01","1965-03-01","1965-04-01","1965-05-01","1965-06-01","1965-07-01","1965-08-01","1965-09-01","1965-10-01","1965-11-01","1965-12-01","1966-01-01","1966-02-01","1966-03-01","1966-04-01","1966-05-01","1966-06-01","1966-07-01","1966-08-01","1966-09-01","1966-10-01","1966-11-01","1966-12-01","1967-01-01","1967-02-01","1967-03-01","1967-04-01","1967-05-01","1967-06-01","1967-07-01","1967-08-01","1967-09-01","1967-10-01","1967-11-01","1967-12-01","1968-01-01","1968-02-01","1968-03-01","1968-04-01","1968-05-01","1968-06-01","1968-07-01","1968-08-01","1968-09-01","1968-10-01","1968-11-01","1968-12-01","1969-01-01","1969-02-01","1969-03-01","1969-04-01","1969-05-01","1969-06-01","1969-07-01","1969-08-01","1969-09-01","1969-10-01","1969-11-01","1969-12-01","1970-01-01","1970-02-01","1970-03-01","1970-04-01","1970-05-01","1970-06-01","1970-07-01","1970-08-01","1970-09-01","1970-10-01","1970-11-01","1970-12-01","1971-01-01","1971-02-01","1971-03-01","1971-04-01","1971-05-01","1971-06-01","1971-07-01","1971-08-01","1971-09-01","1971-10-01","1971-11-01","1971-12-01","1972-01-01","1972-02-01","1972-03-01","1972-04-01","1972-05-01","1972-06-01","1972-07-01","1972-08-01","1972-09-01","1972-10-01","1972-11-01","1972-12-01","1973-01-01","1973-02-01","1973-03-01","1973-04-01","1973-05-01","1973-06-01","1973-07-01","1973-08-01","1973-09-01","1973-10-01","1973-11-01","1973-12-01","1974-01-01","1974-02-01","1974-03-01","1974-04-01","1974-05-01","1974-06-01","1974-07-01","1974-08-01","1974-09-01","1974-10-01","1974-11-01","1974-12-01","1975-01-01","1975-02-01","1975-03-01","1975-04-01","1975-05-01","1975-06-01","1975-07-01","1975-08-01","1975-09-01","1975-10-01","1975-11-01","1975-12-01"],"y":[265.05,252.45,288,295.2,327.15,313.65,288,269.55,255.6,259.65,248.85,261.9,270,254.7,293.85,302.85,333.9,322.2,297,277.65,262.35,264.15,254.25,269.1,282.6,278.1,309.6,317.25,346.5,331.2,305.1,287.55,271.8,274.95,267.3,285.3,296.1,279.9,319.05,324.9,351.9,340.2,315.9,293.85,276.75,279.45,270.9,285.75,304.65,285.75,331.2,339.75,364.95,359.1,330.75,313.65,297.45,300.15,290.25,309.6,320.85,300.15,342.9,352.8,376.65,367.65,345.15,324.9,306.45,309.15,297,314.1,322.65,313.2,348.75,358.2,386.1,371.7,352.35,333,315.45,317.7,304.65,319.95,330.3,310.5,353.25,362.25,391.95,380.25,360.45,343.8,326.25,325.35,310.5,330.3,337.5,318.15,363.15,370.8,398.7,386.55,368.55,352.35,333,336.15,319.95,337.95,361.8,340.2,387,395.1,423.9,410.85,391.05,375.3,355.5,360,343.35,360,371.7,359.55,400.5,405,432.45,420.75,402.3,384.75,364.05,364.5,344.7,362.25,369.45,347.85,397.35,404.1,430.65,415.8,396.45,376.65,352.8,355.95,342,360.9,372.6,350.1,400.05,405.9,436.05,426.15,408.6,390.15,366.75,365.4,347.85,365.85,375.3,351.9,401.4,406.35,434.7,421.65,403.2,386.1,367.65,372.15,358.65,379.35],"text":["month: 1962-01-01<br />.value: 265.05","month: 1962-02-01<br />.value: 252.45","month: 1962-03-01<br />.value: 288.00","month: 1962-04-01<br />.value: 295.20","month: 1962-05-01<br />.value: 327.15","month: 1962-06-01<br />.value: 313.65","month: 1962-07-01<br />.value: 288.00","month: 1962-08-01<br />.value: 269.55","month: 1962-09-01<br />.value: 255.60","month: 1962-10-01<br />.value: 259.65","month: 1962-11-01<br />.value: 248.85","month: 1962-12-01<br />.value: 261.90","month: 1963-01-01<br />.value: 270.00","month: 1963-02-01<br />.value: 254.70","month: 1963-03-01<br />.value: 293.85","month: 1963-04-01<br />.value: 302.85","month: 1963-05-01<br />.value: 333.90","month: 1963-06-01<br />.value: 322.20","month: 1963-07-01<br />.value: 297.00","month: 1963-08-01<br />.value: 277.65","month: 1963-09-01<br />.value: 262.35","month: 1963-10-01<br />.value: 264.15","month: 1963-11-01<br />.value: 254.25","month: 1963-12-01<br />.value: 269.10","month: 1964-01-01<br />.value: 282.60","month: 1964-02-01<br />.value: 278.10","month: 1964-03-01<br />.value: 309.60","month: 1964-04-01<br />.value: 317.25","month: 1964-05-01<br />.value: 346.50","month: 1964-06-01<br />.value: 331.20","month: 1964-07-01<br />.value: 305.10","month: 1964-08-01<br />.value: 287.55","month: 1964-09-01<br />.value: 271.80","month: 1964-10-01<br />.value: 274.95","month: 1964-11-01<br />.value: 267.30","month: 1964-12-01<br />.value: 285.30","month: 1965-01-01<br />.value: 296.10","month: 1965-02-01<br />.value: 279.90","month: 1965-03-01<br />.value: 319.05","month: 1965-04-01<br />.value: 324.90","month: 1965-05-01<br />.value: 351.90","month: 1965-06-01<br />.value: 340.20","month: 1965-07-01<br />.value: 315.90","month: 1965-08-01<br />.value: 293.85","month: 1965-09-01<br />.value: 276.75","month: 1965-10-01<br />.value: 279.45","month: 1965-11-01<br />.value: 270.90","month: 1965-12-01<br />.value: 285.75","month: 1966-01-01<br />.value: 304.65","month: 1966-02-01<br />.value: 285.75","month: 1966-03-01<br />.value: 331.20","month: 1966-04-01<br />.value: 339.75","month: 1966-05-01<br />.value: 364.95","month: 1966-06-01<br />.value: 359.10","month: 1966-07-01<br />.value: 330.75","month: 1966-08-01<br />.value: 313.65","month: 1966-09-01<br />.value: 297.45","month: 1966-10-01<br />.value: 300.15","month: 1966-11-01<br />.value: 290.25","month: 1966-12-01<br />.value: 309.60","month: 1967-01-01<br />.value: 320.85","month: 1967-02-01<br />.value: 300.15","month: 1967-03-01<br />.value: 342.90","month: 1967-04-01<br />.value: 352.80","month: 1967-05-01<br />.value: 376.65","month: 1967-06-01<br />.value: 367.65","month: 1967-07-01<br />.value: 345.15","month: 1967-08-01<br />.value: 324.90","month: 1967-09-01<br />.value: 306.45","month: 1967-10-01<br />.value: 309.15","month: 1967-11-01<br />.value: 297.00","month: 1967-12-01<br />.value: 314.10","month: 1968-01-01<br />.value: 322.65","month: 1968-02-01<br />.value: 313.20","month: 1968-03-01<br />.value: 348.75","month: 1968-04-01<br />.value: 358.20","month: 1968-05-01<br />.value: 386.10","month: 1968-06-01<br />.value: 371.70","month: 1968-07-01<br />.value: 352.35","month: 1968-08-01<br />.value: 333.00","month: 1968-09-01<br />.value: 315.45","month: 1968-10-01<br />.value: 317.70","month: 1968-11-01<br />.value: 304.65","month: 1968-12-01<br />.value: 319.95","month: 1969-01-01<br />.value: 330.30","month: 1969-02-01<br />.value: 310.50","month: 1969-03-01<br />.value: 353.25","month: 1969-04-01<br />.value: 362.25","month: 1969-05-01<br />.value: 391.95","month: 1969-06-01<br />.value: 380.25","month: 1969-07-01<br />.value: 360.45","month: 1969-08-01<br />.value: 343.80","month: 1969-09-01<br />.value: 326.25","month: 1969-10-01<br />.value: 325.35","month: 1969-11-01<br />.value: 310.50","month: 1969-12-01<br />.value: 330.30","month: 1970-01-01<br />.value: 337.50","month: 1970-02-01<br />.value: 318.15","month: 1970-03-01<br />.value: 363.15","month: 1970-04-01<br />.value: 370.80","month: 1970-05-01<br />.value: 398.70","month: 1970-06-01<br />.value: 386.55","month: 1970-07-01<br />.value: 368.55","month: 1970-08-01<br />.value: 352.35","month: 1970-09-01<br />.value: 333.00","month: 1970-10-01<br />.value: 336.15","month: 1970-11-01<br />.value: 319.95","month: 1970-12-01<br />.value: 337.95","month: 1971-01-01<br />.value: 361.80","month: 1971-02-01<br />.value: 340.20","month: 1971-03-01<br />.value: 387.00","month: 1971-04-01<br />.value: 395.10","month: 1971-05-01<br />.value: 423.90","month: 1971-06-01<br />.value: 410.85","month: 1971-07-01<br />.value: 391.05","month: 1971-08-01<br />.value: 375.30","month: 1971-09-01<br />.value: 355.50","month: 1971-10-01<br />.value: 360.00","month: 1971-11-01<br />.value: 343.35","month: 1971-12-01<br />.value: 360.00","month: 1972-01-01<br />.value: 371.70","month: 1972-02-01<br />.value: 359.55","month: 1972-03-01<br />.value: 400.50","month: 1972-04-01<br />.value: 405.00","month: 1972-05-01<br />.value: 432.45","month: 1972-06-01<br />.value: 420.75","month: 1972-07-01<br />.value: 402.30","month: 1972-08-01<br />.value: 384.75","month: 1972-09-01<br />.value: 364.05","month: 1972-10-01<br />.value: 364.50","month: 1972-11-01<br />.value: 344.70","month: 1972-12-01<br />.value: 362.25","month: 1973-01-01<br />.value: 369.45","month: 1973-02-01<br />.value: 347.85","month: 1973-03-01<br />.value: 397.35","month: 1973-04-01<br />.value: 404.10","month: 1973-05-01<br />.value: 430.65","month: 1973-06-01<br />.value: 415.80","month: 1973-07-01<br />.value: 396.45","month: 1973-08-01<br />.value: 376.65","month: 1973-09-01<br />.value: 352.80","month: 1973-10-01<br />.value: 355.95","month: 1973-11-01<br />.value: 342.00","month: 1973-12-01<br />.value: 360.90","month: 1974-01-01<br />.value: 372.60","month: 1974-02-01<br />.value: 350.10","month: 1974-03-01<br />.value: 400.05","month: 1974-04-01<br />.value: 405.90","month: 1974-05-01<br />.value: 436.05","month: 1974-06-01<br />.value: 426.15","month: 1974-07-01<br />.value: 408.60","month: 1974-08-01<br />.value: 390.15","month: 1974-09-01<br />.value: 366.75","month: 1974-10-01<br />.value: 365.40","month: 1974-11-01<br />.value: 347.85","month: 1974-12-01<br />.value: 365.85","month: 1975-01-01<br />.value: 375.30","month: 1975-02-01<br />.value: 351.90","month: 1975-03-01<br />.value: 401.40","month: 1975-04-01<br />.value: 406.35","month: 1975-05-01<br />.value: 434.70","month: 1975-06-01<br />.value: 421.65","month: 1975-07-01<br />.value: 403.20","month: 1975-08-01<br />.value: 386.10","month: 1975-09-01<br />.value: 367.65","month: 1975-10-01<br />.value: 372.15","month: 1975-11-01<br />.value: 358.65","month: 1975-12-01<br />.value: 379.35"],"type":"scatter","mode":"lines","line":{"width":1.88976377952756,"color":"rgba(44,62,80,1)","dash":"solid"},"hoveron":"points","showlegend":false,"xaxis":"x","yaxis":"y","hoverinfo":"text","frame":null},{"x":["1962-01-01","1962-02-01","1962-03-01","1962-04-01","1962-05-01","1962-06-01","1962-07-01","1962-08-01","1962-09-01","1962-10-01","1962-11-01","1962-12-01","1963-01-01","1963-02-01","1963-03-01","1963-04-01","1963-05-01","1963-06-01","1963-07-01","1963-08-01","1963-09-01","1963-10-01","1963-11-01","1963-12-01","1964-01-01","1964-02-01","1964-03-01","1964-04-01","1964-05-01","1964-06-01","1964-07-01","1964-08-01","1964-09-01","1964-10-01","1964-11-01","1964-12-01","1965-01-01","1965-02-01","1965-03-01","1965-04-01","1965-05-01","1965-06-01","1965-07-01","1965-08-01","1965-09-01","1965-10-01","1965-11-01","1965-12-01","1966-01-01","1966-02-01","1966-03-01","1966-04-01","1966-05-01","1966-06-01","1966-07-01","1966-08-01","1966-09-01","1966-10-01","1966-11-01","1966-12-01","1967-01-01","1967-02-01","1967-03-01","1967-04-01","1967-05-01","1967-06-01","1967-07-01","1967-08-01","1967-09-01","1967-10-01","1967-11-01","1967-12-01","1968-01-01","1968-02-01","1968-03-01","1968-04-01","1968-05-01","1968-06-01","1968-07-01","1968-08-01","1968-09-01","1968-10-01","1968-11-01","1968-12-01","1969-01-01","1969-02-01","1969-03-01","1969-04-01","1969-05-01","1969-06-01","1969-07-01","1969-08-01","1969-09-01","1969-10-01","1969-11-01","1969-12-01","1970-01-01","1970-02-01","1970-03-01","1970-04-01","1970-05-01","1970-06-01","1970-07-01","1970-08-01","1970-09-01","1970-10-01","1970-11-01","1970-12-01","1971-01-01","1971-02-01","1971-03-01","1971-04-01","1971-05-01","1971-06-01","1971-07-01","1971-08-01","1971-09-01","1971-10-01","1971-11-01","1971-12-01","1972-01-01","1972-02-01","1972-03-01","1972-04-01","1972-05-01","1972-06-01","1972-07-01","1972-08-01","1972-09-01","1972-10-01","1972-11-01","1972-12-01","1973-01-01","1973-02-01","1973-03-01","1973-04-01","1973-05-01","1973-06-01","1973-07-01","1973-08-01","1973-09-01","1973-10-01","1973-11-01","1973-12-01","1974-01-01","1974-02-01","1974-03-01","1974-04-01","1974-05-01","1974-06-01","1974-07-01","1974-08-01","1974-09-01","1974-10-01","1974-11-01","1974-12-01","1975-01-01","1975-02-01","1975-03-01","1975-04-01","1975-05-01","1975-06-01","1975-07-01","1975-08-01","1975-09-01","1975-10-01","1975-11-01","1975-12-01"],"y":[273.825503044183,274.559043767252,275.294184458604,276.03104362821,276.769739786037,277.510391442055,278.253117106233,278.99803528854,279.745264498945,280.494923247417,281.247130043925,282.002003398438,282.759661820925,283.520223821356,284.283807909699,285.050532595924,285.820516389999,286.593877801893,287.370735341577,288.151207519017,288.935412844185,289.723515550455,290.515450907919,291.31099398162,292.1099198366,292.912003537901,293.717020150567,294.52474473964,295.334952370162,296.147418107176,296.961917015725,297.778224160851,298.596114607596,299.415363421004,300.235745666117,301.057036407977,301.879010711627,302.70144364211,303.524110264468,304.346785643743,305.169244844979,305.991262933218,306.818955574339,307.657843268844,308.506808333712,309.364733085921,310.230499842448,311.102990920271,311.981088636369,312.863675307718,313.749633251299,314.637844784087,315.527192223062,316.4165578852,317.304824087481,318.190873146882,319.073587380381,319.951849104956,320.824540637584,321.690544295245,322.548742394915,323.398017253573,324.237251188197,325.062063112781,325.870138012932,326.663457313042,327.444002437507,328.213754810721,328.974695857076,329.728807000967,330.478069666788,331.224465278934,331.969975261797,332.716581039771,333.466264037252,334.221005678633,334.982787388307,335.753590590669,336.535396710112,337.330187171032,338.13994339782,338.966646814872,339.812278846582,340.678820917343,341.570694032401,342.488925032458,343.430404095092,344.392021397883,345.370667118409,346.363231434248,347.366604522979,348.377676562181,349.393337729432,350.410478202312,351.425988158398,352.436757775269,353.439677230504,354.431636701682,355.409526366381,356.37023640218,357.310656986657,358.227678297391,359.118190511961,359.979083807946,360.807248362923,361.622996927113,362.447207054753,363.277616129449,364.111961534808,364.947980654434,365.783410871934,366.615989570913,367.443454134978,368.263541947735,369.073990392788,369.872536853745,370.656918714211,371.424873357791,372.174138168092,372.902450528719,373.607547823279,374.287167435377,374.939046748619,375.560923146611,376.150534012959,376.705616731268,377.238414394625,377.762195913718,378.276237398562,378.779814959167,379.272204705546,379.752682747712,380.220525195677,380.675008159454,381.115407749054,381.541000074491,381.951061245777,382.344867372923,382.721694565943,383.080818934849,383.421516589653,383.743063640368,384.044736197006,384.325810369579,384.585562268101,384.823268002582,385.038203683036,385.231417492891,385.404599367525,385.557988044876,385.691822262883,385.806340759484,385.901782272617,385.978385540221,386.036389300233,386.076032290592,386.097553249237,386.101190914105,386.087184023135,386.055771314264,386.007191525433,385.941683394577,385.859485659637,385.760837058549,385.645976329253,385.515142209687,385.368573437788,385.206508751496],"text":["month: 1962-01-01<br />.value_smooth: 273.8255","month: 1962-02-01<br />.value_smooth: 274.5590","month: 1962-03-01<br />.value_smooth: 275.2942","month: 1962-04-01<br />.value_smooth: 276.0310","month: 1962-05-01<br />.value_smooth: 276.7697","month: 1962-06-01<br />.value_smooth: 277.5104","month: 1962-07-01<br />.value_smooth: 278.2531","month: 1962-08-01<br />.value_smooth: 278.9980","month: 1962-09-01<br />.value_smooth: 279.7453","month: 1962-10-01<br />.value_smooth: 280.4949","month: 1962-11-01<br />.value_smooth: 281.2471","month: 1962-12-01<br />.value_smooth: 282.0020","month: 1963-01-01<br />.value_smooth: 282.7597","month: 1963-02-01<br />.value_smooth: 283.5202","month: 1963-03-01<br />.value_smooth: 284.2838","month: 1963-04-01<br />.value_smooth: 285.0505","month: 1963-05-01<br />.value_smooth: 285.8205","month: 1963-06-01<br />.value_smooth: 286.5939","month: 1963-07-01<br />.value_smooth: 287.3707","month: 1963-08-01<br />.value_smooth: 288.1512","month: 1963-09-01<br />.value_smooth: 288.9354","month: 1963-10-01<br />.value_smooth: 289.7235","month: 1963-11-01<br />.value_smooth: 290.5155","month: 1963-12-01<br />.value_smooth: 291.3110","month: 1964-01-01<br />.value_smooth: 292.1099","month: 1964-02-01<br />.value_smooth: 292.9120","month: 1964-03-01<br />.value_smooth: 293.7170","month: 1964-04-01<br />.value_smooth: 294.5247","month: 1964-05-01<br />.value_smooth: 295.3350","month: 1964-06-01<br />.value_smooth: 296.1474","month: 1964-07-01<br />.value_smooth: 296.9619","month: 1964-08-01<br />.value_smooth: 297.7782","month: 1964-09-01<br />.value_smooth: 298.5961","month: 1964-10-01<br />.value_smooth: 299.4154","month: 1964-11-01<br />.value_smooth: 300.2357","month: 1964-12-01<br />.value_smooth: 301.0570","month: 1965-01-01<br />.value_smooth: 301.8790","month: 1965-02-01<br />.value_smooth: 302.7014","month: 1965-03-01<br />.value_smooth: 303.5241","month: 1965-04-01<br />.value_smooth: 304.3468","month: 1965-05-01<br />.value_smooth: 305.1692","month: 1965-06-01<br />.value_smooth: 305.9913","month: 1965-07-01<br />.value_smooth: 306.8190","month: 1965-08-01<br />.value_smooth: 307.6578","month: 1965-09-01<br />.value_smooth: 308.5068","month: 1965-10-01<br />.value_smooth: 309.3647","month: 1965-11-01<br />.value_smooth: 310.2305","month: 1965-12-01<br />.value_smooth: 311.1030","month: 1966-01-01<br />.value_smooth: 311.9811","month: 1966-02-01<br />.value_smooth: 312.8637","month: 1966-03-01<br />.value_smooth: 313.7496","month: 1966-04-01<br />.value_smooth: 314.6378","month: 1966-05-01<br />.value_smooth: 315.5272","month: 1966-06-01<br />.value_smooth: 316.4166","month: 1966-07-01<br />.value_smooth: 317.3048","month: 1966-08-01<br />.value_smooth: 318.1909","month: 1966-09-01<br />.value_smooth: 319.0736","month: 1966-10-01<br />.value_smooth: 319.9518","month: 1966-11-01<br />.value_smooth: 320.8245","month: 1966-12-01<br />.value_smooth: 321.6905","month: 1967-01-01<br />.value_smooth: 322.5487","month: 1967-02-01<br />.value_smooth: 323.3980","month: 1967-03-01<br />.value_smooth: 324.2373","month: 1967-04-01<br />.value_smooth: 325.0621","month: 1967-05-01<br />.value_smooth: 325.8701","month: 1967-06-01<br />.value_smooth: 326.6635","month: 1967-07-01<br />.value_smooth: 327.4440","month: 1967-08-01<br />.value_smooth: 328.2138","month: 1967-09-01<br />.value_smooth: 328.9747","month: 1967-10-01<br />.value_smooth: 329.7288","month: 1967-11-01<br />.value_smooth: 330.4781","month: 1967-12-01<br />.value_smooth: 331.2245","month: 1968-01-01<br />.value_smooth: 331.9700","month: 1968-02-01<br />.value_smooth: 332.7166","month: 1968-03-01<br />.value_smooth: 333.4663","month: 1968-04-01<br />.value_smooth: 334.2210","month: 1968-05-01<br />.value_smooth: 334.9828","month: 1968-06-01<br />.value_smooth: 335.7536","month: 1968-07-01<br />.value_smooth: 336.5354","month: 1968-08-01<br />.value_smooth: 337.3302","month: 1968-09-01<br />.value_smooth: 338.1399","month: 1968-10-01<br />.value_smooth: 338.9666","month: 1968-11-01<br />.value_smooth: 339.8123","month: 1968-12-01<br />.value_smooth: 340.6788","month: 1969-01-01<br />.value_smooth: 341.5707","month: 1969-02-01<br />.value_smooth: 342.4889","month: 1969-03-01<br />.value_smooth: 343.4304","month: 1969-04-01<br />.value_smooth: 344.3920","month: 1969-05-01<br />.value_smooth: 345.3707","month: 1969-06-01<br />.value_smooth: 346.3632","month: 1969-07-01<br />.value_smooth: 347.3666","month: 1969-08-01<br />.value_smooth: 348.3777","month: 1969-09-01<br />.value_smooth: 349.3933","month: 1969-10-01<br />.value_smooth: 350.4105","month: 1969-11-01<br />.value_smooth: 351.4260","month: 1969-12-01<br />.value_smooth: 352.4368","month: 1970-01-01<br />.value_smooth: 353.4397","month: 1970-02-01<br />.value_smooth: 354.4316","month: 1970-03-01<br />.value_smooth: 355.4095","month: 1970-04-01<br />.value_smooth: 356.3702","month: 1970-05-01<br />.value_smooth: 357.3107","month: 1970-06-01<br />.value_smooth: 358.2277","month: 1970-07-01<br />.value_smooth: 359.1182","month: 1970-08-01<br />.value_smooth: 359.9791","month: 1970-09-01<br />.value_smooth: 360.8072","month: 1970-10-01<br />.value_smooth: 361.6230","month: 1970-11-01<br />.value_smooth: 362.4472","month: 1970-12-01<br />.value_smooth: 363.2776","month: 1971-01-01<br />.value_smooth: 364.1120","month: 1971-02-01<br />.value_smooth: 364.9480","month: 1971-03-01<br />.value_smooth: 365.7834","month: 1971-04-01<br />.value_smooth: 366.6160","month: 1971-05-01<br />.value_smooth: 367.4435","month: 1971-06-01<br />.value_smooth: 368.2635","month: 1971-07-01<br />.value_smooth: 369.0740","month: 1971-08-01<br />.value_smooth: 369.8725","month: 1971-09-01<br />.value_smooth: 370.6569","month: 1971-10-01<br />.value_smooth: 371.4249","month: 1971-11-01<br />.value_smooth: 372.1741","month: 1971-12-01<br />.value_smooth: 372.9025","month: 1972-01-01<br />.value_smooth: 373.6075","month: 1972-02-01<br />.value_smooth: 374.2872","month: 1972-03-01<br />.value_smooth: 374.9390","month: 1972-04-01<br />.value_smooth: 375.5609","month: 1972-05-01<br />.value_smooth: 376.1505","month: 1972-06-01<br />.value_smooth: 376.7056","month: 1972-07-01<br />.value_smooth: 377.2384","month: 1972-08-01<br />.value_smooth: 377.7622","month: 1972-09-01<br />.value_smooth: 378.2762","month: 1972-10-01<br />.value_smooth: 378.7798","month: 1972-11-01<br />.value_smooth: 379.2722","month: 1972-12-01<br />.value_smooth: 379.7527","month: 1973-01-01<br />.value_smooth: 380.2205","month: 1973-02-01<br />.value_smooth: 380.6750","month: 1973-03-01<br />.value_smooth: 381.1154","month: 1973-04-01<br />.value_smooth: 381.5410","month: 1973-05-01<br />.value_smooth: 381.9511","month: 1973-06-01<br />.value_smooth: 382.3449","month: 1973-07-01<br />.value_smooth: 382.7217","month: 1973-08-01<br />.value_smooth: 383.0808","month: 1973-09-01<br />.value_smooth: 383.4215","month: 1973-10-01<br />.value_smooth: 383.7431","month: 1973-11-01<br />.value_smooth: 384.0447","month: 1973-12-01<br />.value_smooth: 384.3258","month: 1974-01-01<br />.value_smooth: 384.5856","month: 1974-02-01<br />.value_smooth: 384.8233","month: 1974-03-01<br />.value_smooth: 385.0382","month: 1974-04-01<br />.value_smooth: 385.2314","month: 1974-05-01<br />.value_smooth: 385.4046","month: 1974-06-01<br />.value_smooth: 385.5580","month: 1974-07-01<br />.value_smooth: 385.6918","month: 1974-08-01<br />.value_smooth: 385.8063","month: 1974-09-01<br />.value_smooth: 385.9018","month: 1974-10-01<br />.value_smooth: 385.9784","month: 1974-11-01<br />.value_smooth: 386.0364","month: 1974-12-01<br />.value_smooth: 386.0760","month: 1975-01-01<br />.value_smooth: 386.0976","month: 1975-02-01<br />.value_smooth: 386.1012","month: 1975-03-01<br />.value_smooth: 386.0872","month: 1975-04-01<br />.value_smooth: 386.0558","month: 1975-05-01<br />.value_smooth: 386.0072","month: 1975-06-01<br />.value_smooth: 385.9417","month: 1975-07-01<br />.value_smooth: 385.8595","month: 1975-08-01<br />.value_smooth: 385.7608","month: 1975-09-01<br />.value_smooth: 385.6460","month: 1975-10-01<br />.value_smooth: 385.5151","month: 1975-11-01<br />.value_smooth: 385.3686","month: 1975-12-01<br />.value_smooth: 385.2065"],"type":"scatter","mode":"lines","line":{"width":3.77952755905512,"color":"rgba(51,102,255,1)","dash":"solid"},"hoveron":"points","showlegend":false,"xaxis":"x","yaxis":"y","hoverinfo":"text","frame":null}],"layout":{"margin":{"t":46.3196347031963,"r":7.30593607305936,"b":28.1278538812785,"l":28.4931506849315},"plot_bgcolor":"rgba(255,255,255,1)","paper_bgcolor":"rgba(255,255,255,1)","font":{"color":"rgba(44,62,80,1)","family":"","size":14.6118721461187},"title":{"text":"Time Series Plot","font":{"color":"rgba(44,62,80,1)","family":"","size":17.5342465753425},"x":0,"xref":"paper"},"xaxis":{"domain":[0,1],"automargin":true,"type":"date","autorange":true,"range":["1961-04-21","1976-08-11"],"tickmode":"auto","ticktext":["1965","1970","1975"],"tickvals":[-1826,-4.54747350886464e-13,1826],"categoryorder":"array","categoryarray":["1965","1970","1975"],"nticks":null,"ticks":"outside","tickcolor":"rgba(204,204,204,1)","ticklen":3.65296803652968,"tickwidth":0.22139200221392,"showticklabels":true,"tickfont":{"color":"rgba(44,62,80,1)","family":"","size":11.689497716895},"tickangle":-0,"showline":false,"linecolor":null,"linewidth":0,"showgrid":true,"gridcolor":"rgba(204,204,204,1)","gridwidth":0.22139200221392,"zeroline":false,"anchor":"y","title":{"text":"","font":{"color":"rgba(44,62,80,1)","family":"","size":14.6118721461187}},"hoverformat":".2f"},"yaxis":{"domain":[0,1],"automargin":true,"type":"linear","autorange":true,"range":[239.49,445.41],"tickmode":"auto","ticktext":["250","300","350","400"],"tickvals":[250,300,350,400],"categoryorder":"array","categoryarray":["250","300","350","400"],"nticks":null,"ticks":"outside","tickcolor":"rgba(204,204,204,1)","ticklen":3.65296803652968,"tickwidth":0.22139200221392,"showticklabels":true,"tickfont":{"color":"rgba(44,62,80,1)","family":"","size":11.689497716895},"tickangle":-0,"showline":false,"linecolor":null,"linewidth":0,"showgrid":true,"gridcolor":"rgba(204,204,204,1)","gridwidth":0.22139200221392,"zeroline":false,"anchor":"x","title":{"text":"","font":{"color":"rgba(44,62,80,1)","family":"","size":14.6118721461187}},"hoverformat":".2f"},"shapes":[{"type":"rect","fillcolor":"transparent","line":{"color":"rgba(44,62,80,1)","width":0.33208800332088,"linetype":"solid"},"yref":"paper","xref":"paper","x0":0,"x1":1,"y0":0,"y1":1}],"showlegend":false,"legend":{"bgcolor":"rgba(255,255,255,1)","bordercolor":"transparent","borderwidth":1.88976377952756,"font":{"color":"rgba(44,62,80,1)","family":"","size":11.689497716895}},"hovermode":"closest","barmode":"relative"},"config":{"doubleClick":"reset","modeBarButtonsToAdd":["hoverclosest","hovercompare"],"showSendToCloud":false},"source":"A","attrs":{"947363f892d5":{"x":{},"y":{},"type":"scatter"},"947354701139":{"x":{},"y":{}}},"cur_data":"947363f892d5","visdat":{"947363f892d5":["function (y) ","x"],"947354701139":["function (y) ","x"]},"highlight":{"on":"plotly_click","persistent":false,"dynamic":false,"selectize":false,"opacityDim":0.2,"selected":{"opacity":1},"debounce":0},"shinyEvents":["plotly_hover","plotly_click","plotly_selected","plotly_relayout","plotly_brushed","plotly_brushing","plotly_clickannotation","plotly_doubleclick","plotly_deselect","plotly_afterplot","plotly_sunburstclick"],"base_url":"https://plot.ly"},"evals":[],"jsHooks":[]}</script>
<figcaption class="figure-caption">Abbildung&nbsp;60.2— Die Darstellung der Milchdaten durch das R Paket <code>{timetk}</code> und der Funktion <code>plot_time_series()</code>, die durch die Option <code>.interactive = TRUE</code> intern dann <code>{plotly}</code> aufruft.</figcaption>
</figure>
</div>
</div>
</section>
</section>
<section id="analysen-von-zeitreihen" class="level2 page-columns page-full" data-number="60.5">
<h2 data-number="60.5" class="anchored" data-anchor-id="analysen-von-zeitreihen"><span class="header-section-number">60.5</span> Analysen von Zeitreihen</h2>
<p>Bis jetzt haben wir uns die Visualisierung von Zeitreihen angeschaut. Häufig reicht die Visualisierung auch aus, wenn es um die Darstellung von Temperaturverläufen in einer Abschlussarbeit geht.</p>
<section id="definitionen-und-überblick" class="level3" data-number="60.5.1">
<h3 data-number="60.5.1" class="anchored" data-anchor-id="definitionen-und-überblick"><span class="header-section-number">60.5.1</span> Definitionen und Überblick</h3>
<p>In dem folgenden Abschnitt möchte ich gerne einmal einen Überblick über die wichtigsten Begriffe in der Analyse von Zeitreihen geben. Jetzt geht es also los mit der “richtigen” Zeitreihenanalyse. Teilweise sind es etwas speziellere Begriffe, so dass ich hier erstmal etwas zu den Begriffen schreibe und dann die einzelnen Begriffe nochmal tiefer erkläre. Als vertiefenden Einstieg kann ich hier auch das Buch “Forecasting: principles and practice” von <span class="citation" data-cites="hyndman2018forecasting">Hyndman und Athanasopoulos (<a href="#ref-hyndman2018forecasting" role="doc-biblioref">2018</a>)</span> empfehlen. Hier gibt es dann auch eine <a href="https://otexts.com/fpp3/">Webseite mit Videos zu dem Buch</a>. Denn so ausführlich kann ich das Thema Zeitreihenanalyse dann doch nicht in einem Kapitel bearbeiten.</p>
<dl>
<dt>Stationarität (eng. <em>stationarity</em>)</dt>
<dd>
<p>Eine gängige Annahme bei vielen Zeitreihenverfahren ist, dass die Daten stationär sind. Das klingt etwas seltsam, denn eigentlich soll sich doch was über die Zeit <em>verändern</em>. Wie kann dann eine Vorbedingung an Zeitreihen sein, dass Zeitreihen stationär sind? Ein stationärer Prozess hat die Eigenschaft, dass sich der Mittelwert, die Varianz und die Autokorrelationsstruktur im Laufe der Zeit nicht ändern. Wir sprechen hier also von statistischen Eigenschaften über den Zeitverlauf.</p>
</dd>
<dt>Autokorrelation</dt>
<dd>
<p>Wenn wir Zeitreihen <span class="math inline">\(t_1\)</span> und <span class="math inline">\(t_2\)</span> vorliegen haben, so zeigt die Korrelation <span class="math inline">\(\rho(t_1, t_2)\)</span>, wie sehr sich die zwei Zeitreihen ähneln. Die Autokorrelation beschreibt, wie ähnlich die Zeitreihe <span class="math inline">\(t_1\)</span> sich selbst ist. Damit beschreibt die Autokorrelation die inhärente Ähnlichkeit einer Zeitreihe. Anhand der Werte der Autokorrelationsfunktion können wir erkennen, wie stark sie mit sich selbst korreliert. Bei jeder Zeitreihe ist die Korrelation bei Lag/Delay = 0 perfekt, da man dieselben Werte miteinander vergleicht. Wenn du deine Zeitreihe verschiebst, wirst du feststellen, dass die Korrelationswerte abnehmen. Wenn die Zeitreihe aus völlig zufälligen Werten besteht, gibt es nur eine Korrelation bei lag = 0, aber keine Korrelation überall sonst. Bei den meisten Datensätzen/Zeitreihen ist dies nicht der Fall, da die Werte im Laufe der Zeit abnehmen und somit eine gewisse Korrelation bei niedrigen Lag-Werten besteht.Damit kann die Autokorrelationsfunktion die Frequenzkomponenten einer Zeitreihe aufzeigen.</p>
</dd>
<dt>ARIMA Modell</dt>
<dd>
<p>Wir nutzen zur Analyse von Zeitreihen das ARIMA Modell (abk. <em>autoregressive integrated moving average</em>, deu. <em>autoregressiver gleitender Durchschnitt</em>). Das ARIMA Modell ist dabei eine Erweiterung schon existierender Modelle und wird sehr häufig für die Analyse von Zeitreihen genutzt. Als wichtigste Anwendung gilt die kurzfristige Vorhersage. Das ARIMA Modell besitzt einen autoregressiven Teil (AR-Modell) und einen gleitenden Mittelwertbeitrag (MA-Modell). Das ARIMA Modell erfordern eigentlich stationäre Zeitreihen. Eine stationäre Zeitreihe bedeutet, dass sich die Randbedingungen einer Zeitreihe nicht verändern. Die zugrunde liegende Verteilungsfunktion der gemessenen Werte über die Zeitreihe muss zeitlich konstant sein. Das heißt konkret, dass die Mittelwerte und die Varianz zu jeder Zeit gleich sind. Gewisse Trends lassen sich durch ein ARIMA Modell herausfiltern.</p>
</dd>
<dt>Exponential smoothing</dt>
<dd>
<p>Alternative zu ARIMA https://otexts.com/fpp3/expsmooth.html</p>
</dd>
<dt>Lag (deu. <em>Zeitverzögerung</em>)</dt>
<dd>
<p>Mit eng. <em>lag</em> ist im Wesentlichen eine Verzögerung gemeint. Betrachte eine Folge von Zeitpunkten. Bei einem Lag von 1 vergleichst du die Zeitreihe mit einer verzögerten Zeitreihe. Du verschiebst die Zeitreihe um 1 Wert, bevor du sie mit sich selbst vergleichst. So gehst du dann für gesamte Länge der Zeitreihe vor. Wir haben nun eine Autokorrelationsfunktion für das Lag 1 vorliegen. Wenn wir also eine Zeitreihe <span class="math inline">\(t\)</span> vorliegen haben und das Lag 1 berechnen sollen, dann entfernen wir die erste Beobachtung und haben eine <span class="math inline">\(t-1\)</span> <em>gelaggte</em> Zeitreihe.</p>
</dd>
<dt>Differenz</dt>
<dd>
<p>Die Differenz zwischen zwei Zeitpunkten in einer Zeitreihe wird auch häufig benötigt. Dabei wird häufig auch von der Ordnung (eng. <em>order</em>) geschrieben. Die Ordnugn gibt nur an, die wievielte Differenz wir berechnet haben. Klingt wild, ist aber bnnichts anders als immer wieder die Differenz zwischen Zahlen zu berechnen. Die Differenz 1. Ordnung <span class="math inline">\(d(1)\)</span> zwischen den Zahlen <span class="math inline">\(y = {2, 6, 7}\)</span> ist <span class="math inline">\(d(1) = {4, 1}\)</span>. Die Differenz 2. Ordnung <span class="math inline">\(d(2)\)</span> ist dann nur noch die Differenz in der 1. Ordnung und damit <span class="math inline">\(d(2) = 3\)</span>.</p>
</dd>
<dt>Cross Correlation Functions and Lagged Regressions</dt>
<dd>
<p>Hier nochmal schauen: https://online.stat.psu.edu/stat510/lesson/8/8.2</p>
</dd>
</dl>
</section>
<section id="grundlagen-der-modellierung-von-zeitreihen" class="level3 page-columns page-full" data-number="60.5.2">
<h3 data-number="60.5.2" class="anchored" data-anchor-id="grundlagen-der-modellierung-von-zeitreihen"><span class="header-section-number">60.5.2</span> Grundlagen der Modellierung von Zeitreihen</h3>
<p>Im Folgenden wollen wir einmal den englischen Begriff <em>lag</em> (deu. <em>Zeitverzögerung</em>) verstehen. Dann arbeiten wir uns zu der Autokorrelation bzw. dem autoregressiven Prozess (abk. <em>AR-Prozess</em>) vor. Wir brauchen die Idee des Lag um eine Autokorrelation und daraus dann auch einen AR-Prozess ableiten zu können. Zum Verständis des Lag nutzen wir eine <a href="https://math.stackexchange.com/questions/2548314/what-is-lag-in-a-time-serie">Zeitreihe in Minuten aus dem Yellowstone-Nationalpark</a>. Im Sommer 1987 maßen die Ranger des Yellowstone-Nationalparks die Zeit zwischen den Ausbrüchen des Old Faithful Geysirs. Dieser Geysir ist für seine relativ regelmäßigen Ausbrüche bekannt, aber wie du dir vorstellen kannst, ist der Geysir keine Uhr. Ein Ziel bei der Erfassung der Zeiten war es, eine Möglichkeit zu finden, den Zeitpunkt des nächsten Ausbruchs vorherzusagen, um den Touristen, die auf einen Ausbruch warten, die Wartezeit zu erleichtern. Die Daten in Minuten für <span class="math inline">\(n=107\)</span> fast aufeinanderfolgende Wartezeiten lauten dann wie folgt.</p>
<div class="cell">
<div class="sourceCode cell-code" id="cb4"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb4-1"><a href="#cb4-1" aria-hidden="true" tabindex="-1"></a>erupt <span class="ot">&lt;-</span> <span class="fu">c</span>(<span class="dv">78</span>, <span class="dv">74</span>, <span class="dv">68</span>, <span class="dv">76</span>, <span class="dv">80</span>, <span class="dv">84</span>, <span class="dv">50</span>, <span class="dv">93</span>, <span class="dv">55</span>, <span class="dv">76</span>, <span class="dv">58</span>, <span class="dv">74</span>, <span class="dv">75</span>, <span class="dv">80</span>, <span class="dv">56</span>, <span class="dv">80</span>, <span class="dv">69</span>, <span class="dv">57</span>,</span>
<span id="cb4-2"><a href="#cb4-2" aria-hidden="true" tabindex="-1"></a>           <span class="dv">90</span>, <span class="dv">42</span>, <span class="dv">91</span>, <span class="dv">51</span>, <span class="dv">79</span>, <span class="dv">53</span>, <span class="dv">82</span>, <span class="dv">51</span>, <span class="dv">76</span>, <span class="dv">82</span>, <span class="dv">84</span>, <span class="dv">53</span>, <span class="dv">86</span>, <span class="dv">51</span>, <span class="dv">85</span>, <span class="dv">45</span>, <span class="dv">88</span>, <span class="dv">51</span>,</span>
<span id="cb4-3"><a href="#cb4-3" aria-hidden="true" tabindex="-1"></a>           <span class="dv">80</span>, <span class="dv">49</span>, <span class="dv">82</span>, <span class="dv">75</span>, <span class="dv">73</span>, <span class="dv">67</span>, <span class="dv">68</span>, <span class="dv">86</span>, <span class="dv">72</span>, <span class="dv">75</span>, <span class="dv">75</span>, <span class="dv">66</span>, <span class="dv">84</span>, <span class="dv">70</span>, <span class="dv">79</span>, <span class="dv">60</span>, <span class="dv">86</span>, <span class="dv">71</span>,</span>
<span id="cb4-4"><a href="#cb4-4" aria-hidden="true" tabindex="-1"></a>           <span class="dv">67</span>, <span class="dv">81</span>, <span class="dv">76</span>, <span class="dv">83</span>, <span class="dv">76</span>, <span class="dv">55</span>, <span class="dv">73</span>, <span class="dv">56</span>, <span class="dv">83</span>, <span class="dv">57</span>, <span class="dv">71</span>, <span class="dv">72</span>, <span class="dv">77</span>, <span class="dv">55</span>, <span class="dv">75</span>, <span class="dv">73</span>, <span class="dv">70</span>, <span class="dv">83</span>,</span>
<span id="cb4-5"><a href="#cb4-5" aria-hidden="true" tabindex="-1"></a>           <span class="dv">50</span>, <span class="dv">95</span>, <span class="dv">51</span>, <span class="dv">82</span>, <span class="dv">54</span>, <span class="dv">83</span>, <span class="dv">51</span>, <span class="dv">80</span>, <span class="dv">78</span>, <span class="dv">81</span>, <span class="dv">53</span>, <span class="dv">89</span>, <span class="dv">44</span>, <span class="dv">78</span>, <span class="dv">61</span>, <span class="dv">73</span>, <span class="dv">75</span>, <span class="dv">73</span>,</span>
<span id="cb4-6"><a href="#cb4-6" aria-hidden="true" tabindex="-1"></a>           <span class="dv">76</span>, <span class="dv">55</span>, <span class="dv">86</span>, <span class="dv">48</span>, <span class="dv">77</span>, <span class="dv">73</span>, <span class="dv">70</span>, <span class="dv">88</span>, <span class="dv">75</span>, <span class="dv">83</span>, <span class="dv">61</span>, <span class="dv">78</span>, <span class="dv">61</span>, <span class="dv">81</span>, <span class="dv">51</span>, <span class="dv">80</span>, <span class="dv">79</span>)</span></code><button title="In die Zwischenablage kopieren" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
<div class="cell" data-layout-align="center">
<div class="cell-output-display">
<div id="fig-time-intro-2" class="quarto-figure quarto-figure-center anchored">
<figure class="figure">
<p><img src="time-space-time-series_files/figure-html/fig-time-intro-2-1.png" class="img-fluid figure-img" width="672"></p>
<figcaption class="figure-caption">Abbildung&nbsp;60.3— Eine Zeitreihe, wie sie in der klassischen Analyse von Zeitreihen erwartet wird. Wir haben über einen längeren Zeitraum ein zyklisches Verhalten von Messwerten vorliegen. Nicht immer liegt so eine Form der Zeitreihe vor. Häufig ist der Zeitraum zu kurz gewählt.</figcaption>
</figure>
</div>
</div>
</div>
<p>Was ist nun ein Lag? Ein Lag ist einfach nur eine Verschiebung der Daten um einen Wert. Wir schauen uns also für Lag 1 die Werte ohne den ersten Wert an. Bei dem Lag 2 löschen wir die ersten beiden Werte. Und dann ist schon fast klar was wir bei dem Lag 3 machen, wir löschen die ersten drei Werte. Wenn wir dann dennoch die paarweise Korrelation berechnen, dann berechnen wir nicht die Korrelation mit sich selber, das wäre bei Lag 0, sondern eben die Korrelation mit sich selbst verschoben um den Lag. Deshalb nennt sich das dann auch Autokorrelation.</p>
<p>Dann berechnen wir einmal mit der Funktion <code>lag</code> aus dem R Paket <code>{dplyr}</code> die Lags 1, 2, und 3. Alle Lags packen wir dann mit den originalen Daten zusammen in einen Datensatz und haben somit auch gleich einen Vergleich.</p>
<div class="cell">
<div class="sourceCode cell-code" id="cb5"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb5-1"><a href="#cb5-1" aria-hidden="true" tabindex="-1"></a>erupt_tbl <span class="ot">&lt;-</span> <span class="fu">tibble</span>(erupt, </span>
<span id="cb5-2"><a href="#cb5-2" aria-hidden="true" tabindex="-1"></a>                    <span class="at">erupt_l1 =</span> dplyr<span class="sc">::</span><span class="fu">lag</span>(erupt, <span class="dv">1</span>),</span>
<span id="cb5-3"><a href="#cb5-3" aria-hidden="true" tabindex="-1"></a>                    <span class="at">erupt_l2 =</span> dplyr<span class="sc">::</span><span class="fu">lag</span>(erupt, <span class="dv">2</span>),</span>
<span id="cb5-4"><a href="#cb5-4" aria-hidden="true" tabindex="-1"></a>                    <span class="at">erupt_l3 =</span> dplyr<span class="sc">::</span><span class="fu">lag</span>(erupt, <span class="dv">3</span>))</span>
<span id="cb5-5"><a href="#cb5-5" aria-hidden="true" tabindex="-1"></a>erupt_tbl</span></code><button title="In die Zwischenablage kopieren" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code># A tibble: 107 × 4
   erupt erupt_l1 erupt_l2 erupt_l3
   &lt;dbl&gt;    &lt;dbl&gt;    &lt;dbl&gt;    &lt;dbl&gt;
 1    78       NA       NA       NA
 2    74       78       NA       NA
 3    68       74       78       NA
 4    76       68       74       78
 5    80       76       68       74
 6    84       80       76       68
 7    50       84       80       76
 8    93       50       84       80
 9    55       93       50       84
10    76       55       93       50
# ℹ 97 more rows</code></pre>
</div>
</div>
<p>Wie du siehst, haben wir immer eine Verschiebung um einen Wert. Daher können wir jetzt trotzdem eine lineare Regression auf die verschiedenen Lags und den originalen Daten rechnen. Dabei fleigen natürlich alle Zeilen aus den Daten wo wir einen fehlenden Wert haben, aber das ist ja dann auch gewünscht. In den folgenden Tabs kannst du einmal sehen, wie ich für verschiedene Lags die lineare Regression gerechnet habe. Nichts anderes ist dann auch ein AR-Modell. Wir berechnen über die lineare Regression die Korrelation für jedes Lag zu den originalen Daten.</p>
<div class="tabset-margin-container"></div><div class="panel-tabset">
<ul class="nav nav-tabs" role="tablist"><li class="nav-item" role="presentation"><a class="nav-link active" id="tabset-1-1-tab" data-bs-toggle="tab" data-bs-target="#tabset-1-1" role="tab" aria-controls="tabset-1-1" aria-selected="true" aria-current="page">Lag 1</a></li><li class="nav-item" role="presentation"><a class="nav-link" id="tabset-1-2-tab" data-bs-toggle="tab" data-bs-target="#tabset-1-2" role="tab" aria-controls="tabset-1-2" aria-selected="false">Lag 2</a></li><li class="nav-item" role="presentation"><a class="nav-link" id="tabset-1-3-tab" data-bs-toggle="tab" data-bs-target="#tabset-1-3" role="tab" aria-controls="tabset-1-3" aria-selected="false">Lag 3</a></li></ul>
<div class="tab-content">
<div id="tabset-1-1" class="tab-pane active" role="tabpanel" aria-labelledby="tabset-1-1-tab">
<div class="cell">
<div class="sourceCode cell-code" id="cb7"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb7-1"><a href="#cb7-1" aria-hidden="true" tabindex="-1"></a><span class="fu">lm</span>(erupt_l1 <span class="sc">~</span> erupt, erupt_tbl) <span class="sc">%&gt;%</span> </span>
<span id="cb7-2"><a href="#cb7-2" aria-hidden="true" tabindex="-1"></a>  <span class="fu">coef</span>()</span></code><button title="In die Zwischenablage kopieren" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>(Intercept)       erupt 
119.4877108  -0.6846253 </code></pre>
</div>
</div>
</div>
<div id="tabset-1-2" class="tab-pane" role="tabpanel" aria-labelledby="tabset-1-2-tab">
<div class="cell">
<div class="sourceCode cell-code" id="cb9"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb9-1"><a href="#cb9-1" aria-hidden="true" tabindex="-1"></a><span class="fu">lm</span>(erupt_l2 <span class="sc">~</span> erupt, erupt_tbl) <span class="sc">%&gt;%</span> </span>
<span id="cb9-2"><a href="#cb9-2" aria-hidden="true" tabindex="-1"></a>  <span class="fu">coef</span>()</span></code><button title="In die Zwischenablage kopieren" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>(Intercept)       erupt 
 31.8097211   0.5504338 </code></pre>
</div>
</div>
</div>
<div id="tabset-1-3" class="tab-pane" role="tabpanel" aria-labelledby="tabset-1-3-tab">
<div class="cell">
<div class="sourceCode cell-code" id="cb11"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb11-1"><a href="#cb11-1" aria-hidden="true" tabindex="-1"></a><span class="fu">lm</span>(erupt_l3 <span class="sc">~</span> erupt, erupt_tbl) <span class="sc">%&gt;%</span> </span>
<span id="cb11-2"><a href="#cb11-2" aria-hidden="true" tabindex="-1"></a>  <span class="fu">coef</span>()</span></code><button title="In die Zwischenablage kopieren" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>(Intercept)       erupt 
101.2796080  -0.4264714 </code></pre>
</div>
</div>
</div>
</div>
</div>
<p>In der <a href="#fig-time-lag">Abbildung&nbsp;<span>60.4</span></a> siehst du nochmal die verschobenen Daten auf der <span class="math inline">\(y\)</span>-Achse und die originalen Daten auf der <span class="math inline">\(x\)</span>-Achse. Durch die Verschiebung ändert sich immer die Punktewolke und damit dann auch die Regression sowie die berechnete Korrelation als “Steigung der Geraden”. Die Idee ist eben, einen Zyklus in den Eruptionen zu finden. Wenn wir also immer kurz/lang Wartezeiten hätten, dann würde sich auch immer die Korrelation ändern, wenn wir um einen Wert verschieben. Das trifft natürlich nur zu, wenn es eben der Rhythmus um <em>einen</em> Zeitpunkt verschoben ist. Häufig ist aber nicht <em>ein</em> Zeitpunkt sondern een <em>zwei</em> oder mehr. Das müssen wir dann durch eine Modellierung herausfinden.</p>
<div id="fig-time-lag" class="cell quarto-layout-panel">
<figure class="figure">
<div class="quarto-layout-row quarto-layout-valign-top">
<div class="cell-output-display quarto-layout-cell quarto-layout-cell-subref" style="flex-basis: 33.3%;justify-content: center;">
<div id="fig-time-lag-1" class="quarto-figure quarto-figure-center anchored">
<figure class="figure">
<p><img src="time-space-time-series_files/figure-html/fig-time-lag-1.png" class="img-fluid figure-img" data-ref-parent="fig-time-lag" width="384"></p>
<figcaption class="figure-caption">(a) Lag 1 vs.&nbsp;Orginal Eruptionszeiten.</figcaption>
</figure>
</div>
</div>
<div class="cell-output-display quarto-layout-cell quarto-layout-cell-subref" style="flex-basis: 33.3%;justify-content: center;">
<div id="fig-time-lag-2" class="quarto-figure quarto-figure-center anchored">
<figure class="figure">
<p><img src="time-space-time-series_files/figure-html/fig-time-lag-2.png" class="img-fluid figure-img" data-ref-parent="fig-time-lag" width="384"></p>
<figcaption class="figure-caption">(b) Lag 2 vs.&nbsp;Orginal Eruptionszeiten.</figcaption>
</figure>
</div>
</div>
<div class="cell-output-display quarto-layout-cell quarto-layout-cell-subref" style="flex-basis: 33.3%;justify-content: center;">
<div id="fig-time-lag-3" class="quarto-figure quarto-figure-center anchored">
<figure class="figure">
<p><img src="time-space-time-series_files/figure-html/fig-time-lag-3.png" class="img-fluid figure-img" data-ref-parent="fig-time-lag" width="384"></p>
<figcaption class="figure-caption">(c) Lag 3 vs.&nbsp;Orginal Eruptionszeiten.</figcaption>
</figure>
</div>
</div>
</div>
<p></p><figcaption class="figure-caption">Abbildung&nbsp;60.4— Dastellung der orginalen Eruptionszeiten des Old Faithful Geysirs sowie die entsprechenden Daten für die Lag 1 bis 3. Die Regressiongleichung wurde für alle Zusammenhänge ergänzt.</figcaption><p></p>
</figure>
</div>
<p>Bevor wir aber mit der Modellierung von Zeitreihen beginnen, hier nochmal die vollständige Korrelationsmatrix für alle Lags und den originalen Daten. Ich habe den Zusammenhang einmal in der <a href="#fig-time-corrplot-1">Abbildung&nbsp;<span>60.5</span></a> dargestellt. Wenn du mehr über die Visualisierung der Korrelation erfahren möchtest, dann besuche das <a href="stat-linear-reg-corr.html#sec-linear-corr-visu">Kapitel zur Korrelation</a>. Hier sehen wir dann gut, wie mit jedem Schritt im Lag die Korrelation im Vorzeichen flippt. Ein Zeichen, dass wir es hier mit einer zyklischen Zeitreihe zu tun haben und wir etwas in den Daten entdecken könnten.</p>
<div class="cell" data-layout-align="center">
<div class="cell-output-display">
<div id="fig-time-corrplot-1" class="quarto-figure quarto-figure-center anchored">
<figure class="figure">
<p><img src="time-space-time-series_files/figure-html/fig-time-corrplot-1-1.png" class="img-fluid figure-img" width="480"></p>
<figcaption class="figure-caption">Abbildung&nbsp;60.5— Korrealtion zwischen den originalen Daten und den Lags. Im unteren Bereich des Korrelationsplot sind die Scatterplost mit der Regressionsgraden eingezeichnet. Im oberen Bereich finden sich die berechneten Korrelationskoeffizienten <span class="math inline">\(\rho\)</span> für die paarweisen Vergleiche.</figcaption>
</figure>
</div>
</div>
</div>
<p>Das war jetzt die händische Darstellung. Wir können uns die Autokorrelation auch über eine Zeitreihe anschauen. Wir nutzen hier die etwas primitive Funktion <code>acf()</code>, da nur die “alten” Funktionen nur mit einem Vektor von Zeiten klar kommen. Eigentlich brauchen wir ja zu jedem Wert ein Datum. Das haben wir hier aber nicht, deshalb müssen wir hier zu der alten Implementierung greifen.</p>
<div class="cell">
<div class="sourceCode cell-code" id="cb13"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb13-1"><a href="#cb13-1" aria-hidden="true" tabindex="-1"></a>erupt_ts <span class="ot">&lt;-</span> <span class="fu">tk_ts</span>(erupt)</span></code><button title="In die Zwischenablage kopieren" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
<p>In der Abbildung <a href="#fig-time-correlogram-1">Abbildung&nbsp;<span>60.6 (a)</span></a> sehen wir die Autokorrelation zwischen den Orginaldaten des Geysirs und den entsprechenden Korrelationen zu den Lags 1 bis 5. Wenn du nochmal weiter oben schaust, dann haben wir für die Korrelationen von den Orginaldaten zu den entsprechenden Lags folgende Korrelationen berechnet. Wir hatten eine Korrelation von <span class="math inline">\(\rho = -0.68\)</span> zu Lag 1, eine Korrelation von <span class="math inline">\(\rho = 0.55\)</span> zu Lag 2 und ein <span class="math inline">\(\rho = -0.43\)</span> zum Lag 3 beobachtet. Die Korrelationen findest du dann als Striche auch in der Abbildung wieder.</p>
<p>Nun ist es aber so, dass natürlich die Lags untereinander auch korreliert sind. Diese Korrelation untereinander wollen wir dann einmal raus rechnen, so dass wir nur die partielle Korrelation haben, die zu den jeweiligen Lags gehört. Dabei entsteht natürlich eine Ordnung. Das Lag 1 wird vermutlich die meiste Korrelation erklären und dann folgen die anderen Lags. Deshalb nennen wir diese Art der Korrelation auch <em>partial</em> Autokorrelation (deu. <em>partielle</em>). Du siehst die Anteile der partiellen Korrelation zu den jeweiligen Lags dann in der <a href="#fig-time-correlogram-2">Abbildung&nbsp;<span>60.6 (b)</span></a>. Wir werden dann später bei <code>{tktime}</code> eine bessere Art und Weise sehen die Abbildungen zu erstellen. Zum Verstehen sind die Abbildungen gut, aber schön sind die Abbildungen nicht.</p>
<div class="page-columns page-full">
<div class="sourceCode cell-code" id="cb14"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb14-1"><a href="#cb14-1" aria-hidden="true" tabindex="-1"></a>erupt_ts <span class="sc">%&gt;%</span> </span>
<span id="cb14-2"><a href="#cb14-2" aria-hidden="true" tabindex="-1"></a>  <span class="fu">acf</span>(<span class="at">main =</span> <span class="st">"Correlogram"</span>, <span class="at">lag.max =</span> <span class="dv">5</span>, </span>
<span id="cb14-3"><a href="#cb14-3" aria-hidden="true" tabindex="-1"></a>      <span class="at">ylim =</span> <span class="fu">c</span>(<span class="sc">-</span><span class="dv">1</span>, <span class="dv">1</span>), <span class="at">xlim =</span> <span class="fu">c</span>(<span class="dv">1</span>, <span class="dv">5</span>))</span>
<span id="cb14-4"><a href="#cb14-4" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb14-5"><a href="#cb14-5" aria-hidden="true" tabindex="-1"></a>erupt_ts <span class="sc">%&gt;%</span> </span>
<span id="cb14-6"><a href="#cb14-6" aria-hidden="true" tabindex="-1"></a>  <span class="fu">pacf</span>(<span class="at">main =</span> <span class="st">"Partial Correlogram"</span>, <span class="at">lag.max =</span> <span class="dv">5</span>, </span>
<span id="cb14-7"><a href="#cb14-7" aria-hidden="true" tabindex="-1"></a>       <span class="at">ylim =</span> <span class="fu">c</span>(<span class="sc">-</span><span class="dv">1</span>, <span class="dv">1</span>))</span></code><button title="In die Zwischenablage kopieren" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div id="fig-time-correlogram" class="cell column-page quarto-layout-panel">
<figure class="figure">
<div class="quarto-layout-row quarto-layout-valign-top">
<div class="cell-output-display quarto-layout-cell quarto-layout-cell-subref" style="flex-basis: 50.0%;justify-content: center;">
<div id="fig-time-correlogram-1" class="quarto-figure quarto-figure-center anchored">
<figure class="figure">
<p><img src="time-space-time-series_files/figure-html/fig-time-correlogram-1.png" class="img-fluid figure-img" data-ref-parent="fig-time-correlogram" width="480"></p>
<figcaption class="figure-caption">(a) Correlogram.</figcaption>
</figure>
</div>
</div>
<div class="cell-output-display quarto-layout-cell quarto-layout-cell-subref" style="flex-basis: 50.0%;justify-content: center;">
<div id="fig-time-correlogram-2" class="quarto-figure quarto-figure-center anchored">
<figure class="figure">
<p><img src="time-space-time-series_files/figure-html/fig-time-correlogram-2.png" class="img-fluid figure-img" data-ref-parent="fig-time-correlogram" width="480"></p>
<figcaption class="figure-caption">(b) Partial Correlogram.</figcaption>
</figure>
</div>
</div>
</div>
<p></p><figcaption class="figure-caption">Abbildung&nbsp;60.6— Korrelationsabbildungen mit der Option <code>lag.max = 5</code>. Daher werden nur die ersten fün Lags betrachtet. Die Abbildungen dienen der Veranschaulichung vom Lag. Für eine Veröffentlichung bitte die Funktionen aus <code>{tktime}</code> verwenden. Beim Correlogram ist das Lag 0 entfernt, da die Korrelation mit sich selbst immer 1 ist.</figcaption><p></p>
</figure>
</div>
</div>
<p>In der folgenden <a href="app-spielecke.html#fig-time-ar-1">Abbildung&nbsp;<span>70.1</span></a> siehst du nochmal verschiedene Beispiele für eine Autokorrelation bzw. einen autoregressiven Prozess (abk. <em>AR</em>). Der einfachste AR-Prozess ist ein Prozess der Ordnung 0 und daher schreiben wir dann auch AR(0). Bei einem AR(0) liegt keine Abhängigkeit zwischen den Zeitpunkten vor. Nur der Fehlerterm trägt zum Output des Prozesses bei, so dass AR(0) in der Abbildung weißem Rauschen entspricht.</p>
<p>Bei einem AR(1)-Prozess mit einem positiven <span class="math inline">\(\varphi\)</span> tragen nur der vorherige Term des Prozesses und der Rauschterm zum Output bei. Wenn <span class="math inline">\(\varphi\)</span> nahe bei 0 liegt, dann sieht der Prozess immer noch wie weißes Rauschen aus, aber wenn <span class="math inline">\(\varphi\)</span> sich 1 nähert, erhält die Ausgabe einen größeren Beitrag des vorhergehenden Terms im Verhältnis zum Rauschen. Dies führt zu einer “Glättung” oder Integration der Ausgabe, ähnlich wie bei einem Tiefpassfilter.</p>
<p>Bei einem AR(2)-Prozess tragen die beiden vorhergehenden Terme und der Rauschtext zur Ausgabe bei. Wenn beide <span class="math inline">\(\varphi_1\)</span> und <span class="math inline">\(\varphi_2\)</span> positiv sind, ähnelt das Ergebnis einem Tiefpassfilter, bei dem der Hochfrequenzanteil des Rauschens verringert wird. <span class="math inline">\(\varphi_1\)</span> positiv ist, während <span class="math inline">\(\varphi_2\)</span> negativ ist, dann begünstigt der Prozess Vorzeichenwechsel zwischen den Termen des Prozesses. Die Ausgabe oszilliert. Dies kann mit der Erkennung von Kanten oder Richtungsänderungen verglichen werden.</p>
<div class="cell" data-layout-align="center">
<div class="cell-output-display">
<div id="fig-time-ar-1" class="quarto-figure quarto-figure-center anchored">
<figure class="figure">
<p><img src="time-space-time-series_files/figure-html/fig-time-ar-1-1.png" class="img-fluid figure-img" width="768"></p>
<figcaption class="figure-caption">Abbildung&nbsp;60.7— AR(0); AR(1) mit AR-Parameter 0.3; AR(1) mit AR-Parameter 0.9; AR(2) mit AR-Parameter 0.3 und 0.3; und AR(2) mit AR-Parameter 0.9 und -0.8.</figcaption>
</figure>
</div>
</div>
</div>
<p><a href="https://www.kaggle.com/code/ryanholbrook/time-series-as-features">Time Series as Features</a></p>
<p><a href="https://medium.com/analytics-vidhya/time-series-forecasting-d611fa8ae6ca">Time series forecasting</a></p>
</section>
</section>
<section id="vorhersagen-mit" class="level2" data-number="60.6">
<h2 data-number="60.6" class="anchored" data-anchor-id="vorhersagen-mit"><span class="header-section-number">60.6</span> Vorhersagen mit…</h2>
<section id="ts-und-zoo" class="level3" data-number="60.6.1">
<h3 data-number="60.6.1" class="anchored" data-anchor-id="ts-und-zoo"><span class="header-section-number">60.6.1</span> …<code>{ts}</code> und <code>{zoo}</code></h3>
<p>Eigentlich ist <code>{ts}</code> kein eigens Paket sondern die bulit-in Lösung von R, aber ich möchte hier dann doch <code>{ts}</code> als Paket schreiben, damit hier mehr Ordnung drin ist.</p>
<p>Wenn wir eine Vorhersage auf einem zeitlichen Verlauf rechnen wollen, dann brauchen wir als aller erstes einen Datensatz, der auch eine <em>echte</em> Zeitreihe über mehrere zeitliche Zyklen enthält. Das ist dann meistens die Herausforderung so eine Zeitreihe in einer Abschlussarbeit zu erzeugen. In ein paar Monaten einen zyklischen Verlauf zu finden ist schon eine echte Leistung. Deshalb nehmen wir hier als Beispiel einmal unsere künstlichen Daten zur Milchleistung von Kühen. Wie du in der obigen <a href="#fig-time-milk-1">Abbildung&nbsp;<span>60.2</span></a> klar erkennen kannst, haben wir hier Zyklen über die einzelnen Jahre hinweg. Es liegt ein stetiger, zyklischer Anstieg der Milchleistung über die beobachteten Jahre vor. Wir wollen jetzt den Verlauf modellieren und einen zukünftigen Verlauf vorhersagen. Oder andersherum, wie die zukünftigen Zyklen aussehen könnten.</p>
<p>In diesem Beispiel nutzen wir das R Paket <code>{zoo}</code> und die Funktion <code>ts()</code> für die Standardimplemetierung von Zeitreihen in R. Das hat immer ein paar Nachteile, da wir hier die veralteten Speicherformen für eine Zeitreihe nutzen. Auf der anderen Seite sind viele Tutorien im Internet noch genau auf diese Funktionen ausgerichtet. Deshalb auch hier einmal die Erklärung der etwas älteren Funktionen. Später schauen wir dann auch die neuere Implementierung in dem R Paket <code>{tktime}</code> einmal an. Wir wandeln also erstmal unsere Milchdaten mit der Funktion <code>tk_ts()</code> in ein <code>ts</code>-Zeitobjekt um. Dafür müssen wir angeben von wann bis wann die Jahre laufen und wie viele Beobachtungen jedes Jahr hat. Glücklicherweise müssen nicht alle Jahre gefüllt werden und die Funktion erlaubt auch einen anderen Startmonat als <code>Jan</code>. Wie du gleich siehst, dann haben wir eine Art Matrix als Ausgabe.</p>
<div class="cell">
<div class="sourceCode cell-code" id="cb15"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb15-1"><a href="#cb15-1" aria-hidden="true" tabindex="-1"></a>milk_ts <span class="ot">&lt;-</span> milk_tbl <span class="sc">%$%</span></span>
<span id="cb15-2"><a href="#cb15-2" aria-hidden="true" tabindex="-1"></a>  <span class="fu">tk_ts</span>(milk_prod_per_cow_kg, <span class="at">start =</span> <span class="dv">1962</span>, <span class="at">end =</span> <span class="dv">1975</span>, <span class="at">frequency =</span> <span class="dv">12</span>)</span>
<span id="cb15-3"><a href="#cb15-3" aria-hidden="true" tabindex="-1"></a>milk_ts</span></code><button title="In die Zwischenablage kopieren" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>        Jan    Feb    Mar    Apr    May    Jun    Jul    Aug    Sep    Oct
1962 265.05 252.45 288.00 295.20 327.15 313.65 288.00 269.55 255.60 259.65
1963 270.00 254.70 293.85 302.85 333.90 322.20 297.00 277.65 262.35 264.15
1964 282.60 278.10 309.60 317.25 346.50 331.20 305.10 287.55 271.80 274.95
1965 296.10 279.90 319.05 324.90 351.90 340.20 315.90 293.85 276.75 279.45
1966 304.65 285.75 331.20 339.75 364.95 359.10 330.75 313.65 297.45 300.15
1967 320.85 300.15 342.90 352.80 376.65 367.65 345.15 324.90 306.45 309.15
1968 322.65 313.20 348.75 358.20 386.10 371.70 352.35 333.00 315.45 317.70
1969 330.30 310.50 353.25 362.25 391.95 380.25 360.45 343.80 326.25 325.35
1970 337.50 318.15 363.15 370.80 398.70 386.55 368.55 352.35 333.00 336.15
1971 361.80 340.20 387.00 395.10 423.90 410.85 391.05 375.30 355.50 360.00
1972 371.70 359.55 400.50 405.00 432.45 420.75 402.30 384.75 364.05 364.50
1973 369.45 347.85 397.35 404.10 430.65 415.80 396.45 376.65 352.80 355.95
1974 372.60 350.10 400.05 405.90 436.05 426.15 408.60 390.15 366.75 365.40
1975 375.30                                                               
        Nov    Dec
1962 248.85 261.90
1963 254.25 269.10
1964 267.30 285.30
1965 270.90 285.75
1966 290.25 309.60
1967 297.00 314.10
1968 304.65 319.95
1969 310.50 330.30
1970 319.95 337.95
1971 343.35 360.00
1972 344.70 362.25
1973 342.00 360.90
1974 347.85 365.85
1975              </code></pre>
</div>
</div>
<p>Ein ARIMA Modell setzt sich aus drei Komponenten wie folgt zusammen.</p>
<ol type="1">
<li>Dem verwendeten Lag <span class="math inline">\(p\)</span> der Zeitreihe (eng. <em>autoregressiv model</em> oder AR-Modell), die wir für die Berechnung der Autokorrelation der Zeitreihe nutzen.</li>
<li>Der verwendeten Differenz <span class="math inline">\(d\)</span>, mit der wir unsere Zeitreihe anpassen.</li>
<li>Der laufenden Durchschnitt <span class="math inline">\(q\)</span> (eng. <em>moving average model</em> oder MA-Modell). Hiermit ist nicht das glättende Mittel gemeint. Wir modellieren hier etwas anderes.</li>
</ol>
<div class="tabset-margin-container"></div><div class="panel-tabset">
<ul class="nav nav-tabs" role="tablist"><li class="nav-item" role="presentation"><a class="nav-link active" id="tabset-2-1-tab" data-bs-toggle="tab" data-bs-target="#tabset-2-1" role="tab" aria-controls="tabset-2-1" aria-selected="true">Orginal</a></li><li class="nav-item" role="presentation"><a class="nav-link" id="tabset-2-2-tab" data-bs-toggle="tab" data-bs-target="#tabset-2-2" role="tab" aria-controls="tabset-2-2" aria-selected="false">Differenz 1</a></li><li class="nav-item" role="presentation"><a class="nav-link" id="tabset-2-3-tab" data-bs-toggle="tab" data-bs-target="#tabset-2-3" role="tab" aria-controls="tabset-2-3" aria-selected="false">Differenz 2</a></li></ul>
<div class="tab-content">
<div id="tabset-2-1" class="tab-pane active" role="tabpanel" aria-labelledby="tabset-2-1-tab">
<div class="cell">
<div class="sourceCode cell-code" id="cb17"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb17-1"><a href="#cb17-1" aria-hidden="true" tabindex="-1"></a>erupt[<span class="dv">1</span><span class="sc">:</span><span class="dv">10</span>]</span></code><button title="In die Zwischenablage kopieren" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code> [1] 78 74 68 76 80 84 50 93 55 76</code></pre>
</div>
</div>
</div>
<div id="tabset-2-2" class="tab-pane" role="tabpanel" aria-labelledby="tabset-2-2-tab">
<div class="cell">
<div class="sourceCode cell-code" id="cb19"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb19-1"><a href="#cb19-1" aria-hidden="true" tabindex="-1"></a><span class="fu">diff</span>(erupt[<span class="dv">1</span><span class="sc">:</span><span class="dv">10</span>], <span class="at">differences =</span> <span class="dv">1</span>)</span></code><button title="In die Zwischenablage kopieren" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>[1]  -4  -6   8   4   4 -34  43 -38  21</code></pre>
</div>
</div>
</div>
<div id="tabset-2-3" class="tab-pane" role="tabpanel" aria-labelledby="tabset-2-3-tab">
<div class="cell">
<div class="sourceCode cell-code" id="cb21"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb21-1"><a href="#cb21-1" aria-hidden="true" tabindex="-1"></a><span class="fu">diff</span>(erupt[<span class="dv">1</span><span class="sc">:</span><span class="dv">10</span>], <span class="at">differences =</span> <span class="dv">2</span>)</span></code><button title="In die Zwischenablage kopieren" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>[1]  -2  14  -4   0 -38  77 -81  59</code></pre>
</div>
</div>
</div>
</div>
</div>
<p>In der folgenden <a href="#fig-time-ts-3">Abbildung&nbsp;<span>60.8</span></a> siehst du die Zeitverzögerung (eng. <em>lag</em>).</p>
<div class="cell" data-layout-align="center">
<div class="sourceCode cell-code" id="cb23"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb23-1"><a href="#cb23-1" aria-hidden="true" tabindex="-1"></a>milk_ts <span class="sc">%&gt;%</span> </span>
<span id="cb23-2"><a href="#cb23-2" aria-hidden="true" tabindex="-1"></a>  <span class="fu">acf</span>(<span class="at">main =</span> <span class="st">'Correlogram'</span>)</span></code><button title="In die Zwischenablage kopieren" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output-display">
<div id="fig-time-ts-3" class="quarto-figure quarto-figure-center anchored">
<figure class="figure">
<p><img src="time-space-time-series_files/figure-html/fig-time-ts-3-1.png" class="img-fluid figure-img" width="672"></p>
<figcaption class="figure-caption">Abbildung&nbsp;60.8— foo.</figcaption>
</figure>
</div>
</div>
</div>
<div class="cell" data-layout-align="center">
<div class="sourceCode cell-code" id="cb24"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb24-1"><a href="#cb24-1" aria-hidden="true" tabindex="-1"></a>milk_ts <span class="sc">%&gt;%</span> </span>
<span id="cb24-2"><a href="#cb24-2" aria-hidden="true" tabindex="-1"></a>  <span class="fu">pacf</span>(<span class="at">main =</span> <span class="st">'Partial Correlogram'</span> )</span></code><button title="In die Zwischenablage kopieren" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output-display">
<div id="fig-time-ts-4" class="quarto-figure quarto-figure-center anchored">
<figure class="figure">
<p><img src="time-space-time-series_files/figure-html/fig-time-ts-4-1.png" class="img-fluid figure-img" width="672"></p>
<figcaption class="figure-caption">Abbildung&nbsp;60.9— foo.</figcaption>
</figure>
</div>
</div>
</div>
<div class="cell">
<div class="sourceCode cell-code" id="cb25"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb25-1"><a href="#cb25-1" aria-hidden="true" tabindex="-1"></a>decomp <span class="ot">&lt;-</span> <span class="fu">decompose</span>(milk_ts)</span></code><button title="In die Zwischenablage kopieren" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
<div class="cell" data-layout-align="center">
<div class="sourceCode cell-code" id="cb26"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb26-1"><a href="#cb26-1" aria-hidden="true" tabindex="-1"></a><span class="fu">plot</span>(decomp)</span></code><button title="In die Zwischenablage kopieren" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output-display">
<div id="fig-time-ts-1" class="quarto-figure quarto-figure-center anchored">
<figure class="figure">
<p><img src="time-space-time-series_files/figure-html/fig-time-ts-1-1.png" class="img-fluid figure-img" width="672"></p>
<figcaption class="figure-caption">Abbildung&nbsp;60.10— foo.</figcaption>
</figure>
</div>
</div>
</div>
<div class="cell" data-hash="time-space-time-series_cache/html/arima_milk_d76c1725fdebdd0dc7c5206cbb16cfbc">
<div class="sourceCode cell-code" id="cb27"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb27-1"><a href="#cb27-1" aria-hidden="true" tabindex="-1"></a>milk_arima_obj <span class="ot">&lt;-</span> <span class="fu">auto.arima</span>(milk_ts)</span></code><button title="In die Zwischenablage kopieren" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
<div class="cell">
<div class="sourceCode cell-code" id="cb28"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb28-1"><a href="#cb28-1" aria-hidden="true" tabindex="-1"></a>arima_mdl <span class="ot">&lt;-</span> <span class="fu">forecast</span>(milk_arima_obj, <span class="dv">24</span>)</span></code><button title="In die Zwischenablage kopieren" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
<div class="cell" data-layout-align="center">
<div class="sourceCode cell-code" id="cb29"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb29-1"><a href="#cb29-1" aria-hidden="true" tabindex="-1"></a><span class="fu">autoplot</span>(arima_mdl) <span class="sc">+</span></span>
<span id="cb29-2"><a href="#cb29-2" aria-hidden="true" tabindex="-1"></a>  <span class="fu">theme_bw</span>()</span></code><button title="In die Zwischenablage kopieren" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output-display">
<div id="fig-time-ts-2" class="quarto-figure quarto-figure-center anchored">
<figure class="figure">
<p><img src="time-space-time-series_files/figure-html/fig-time-ts-2-1.png" class="img-fluid figure-img" width="672"></p>
<figcaption class="figure-caption">Abbildung&nbsp;60.11— foo.</figcaption>
</figure>
</div>
</div>
</div>
</section>
<section id="tktime" class="level3" data-number="60.6.2">
<h3 data-number="60.6.2" class="anchored" data-anchor-id="tktime"><span class="header-section-number">60.6.2</span> … <code>{tktime}</code></h3>
<p><a href="https://business-science.github.io/timetk/">{timetk}</a></p>
</section>
<section id="fable-und-feasts" class="level3" data-number="60.6.3">
<h3 data-number="60.6.3" class="anchored" data-anchor-id="fable-und-feasts"><span class="header-section-number">60.6.3</span> … <code>{fable}</code> und <code>{feasts}</code></h3>
<p><a href="https://fable.tidyverts.org/articles/fable.html">{fable}</a> <a href="https://feasts.tidyverts.org/index.html">{feasts}</a></p>
</section>
<section id="modeltime" class="level3" data-number="60.6.4">
<h3 data-number="60.6.4" class="anchored" data-anchor-id="modeltime"><span class="header-section-number">60.6.4</span> … <code>{modeltime}</code></h3>
<p>Am Ende hier nochmal eine Möglichkeit sehr effizient Zeitreihen zu modellieren und eine Vorhersage für zukünftige Verläufe zu machen. Ich empfehle hier die Hilfeseite <a href="https://business-science.github.io/modeltime/articles/getting-started-with-modeltime.html">Getting Started with Modeltime</a>. Auf der Seite erfährst du dann die Grundlagen für die Anwendung von dem R Paket <code>{modeltime}</code>. Hier kannst du dann tief in den Kaninchenbau reingehen. Neben dem R Paket <code>{modeltime}</code> findest du im Ökosystem <code>{modeltime}</code> noch andere spannende R Pakete, die dir weitere und vertiefende Modellierungen zur Vorhersage erlauben. Wenn dir die Begriffe zu der Vorhersage und der Klassifikation etwas komisch vorkommen, dann kannst du in dem Kapitel <a href="classification-basic.html">Grundlagen der Klassifikation</a> reinschauen und nachlesen wo du dann noch Lücken hast. Ich gehe hier dann nicht mehr so tief auf die einzelnen Punkte ein, sondern führe hier eher grob durch den Code.</p>
<div class="cell">
<div class="sourceCode cell-code" id="cb30"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb30-1"><a href="#cb30-1" aria-hidden="true" tabindex="-1"></a>splits <span class="ot">&lt;-</span> <span class="fu">initial_time_split</span>(milk_tbl, <span class="at">prop =</span> <span class="fl">0.9</span>)</span></code><button title="In die Zwischenablage kopieren" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
<div class="cell" data-hash="time-space-time-series_cache/html/arima_modeltime_db85090bbb85cce5390fbbe791ce9860">
<div class="sourceCode cell-code" id="cb31"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb31-1"><a href="#cb31-1" aria-hidden="true" tabindex="-1"></a>model_fit_arima_no_boost <span class="ot">&lt;-</span> <span class="fu">arima_reg</span>() <span class="sc">%&gt;%</span></span>
<span id="cb31-2"><a href="#cb31-2" aria-hidden="true" tabindex="-1"></a>    <span class="fu">set_engine</span>(<span class="at">engine =</span> <span class="st">"auto_arima"</span>) <span class="sc">%&gt;%</span></span>
<span id="cb31-3"><a href="#cb31-3" aria-hidden="true" tabindex="-1"></a>    <span class="fu">fit</span>(milk_prod_per_cow_kg <span class="sc">~</span> month, <span class="at">data =</span> <span class="fu">training</span>(splits))</span></code><button title="In die Zwischenablage kopieren" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
<div class="cell">
<div class="sourceCode cell-code" id="cb32"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb32-1"><a href="#cb32-1" aria-hidden="true" tabindex="-1"></a>model_fit_ets <span class="ot">&lt;-</span> <span class="fu">exp_smoothing</span>() <span class="sc">%&gt;%</span></span>
<span id="cb32-2"><a href="#cb32-2" aria-hidden="true" tabindex="-1"></a>    <span class="fu">set_engine</span>(<span class="at">engine =</span> <span class="st">"ets"</span>) <span class="sc">%&gt;%</span></span>
<span id="cb32-3"><a href="#cb32-3" aria-hidden="true" tabindex="-1"></a>    <span class="fu">fit</span>(milk_prod_per_cow_kg <span class="sc">~</span> month, <span class="at">data =</span> <span class="fu">training</span>(splits))</span></code><button title="In die Zwischenablage kopieren" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
<div class="cell">
<div class="sourceCode cell-code" id="cb33"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb33-1"><a href="#cb33-1" aria-hidden="true" tabindex="-1"></a>milk_tbl <span class="sc">%&gt;%</span> </span>
<span id="cb33-2"><a href="#cb33-2" aria-hidden="true" tabindex="-1"></a>  <span class="fu">mutate</span>(<span class="at">month_fac =</span> <span class="fu">factor</span>(<span class="fu">month</span>(month, <span class="at">label =</span> <span class="cn">TRUE</span>), <span class="at">ordered =</span> <span class="cn">FALSE</span>),</span>
<span id="cb33-3"><a href="#cb33-3" aria-hidden="true" tabindex="-1"></a>         <span class="at">month_num =</span> <span class="fu">as.numeric</span>(month)) <span class="sc">%&gt;%</span> </span>
<span id="cb33-4"><a href="#cb33-4" aria-hidden="true" tabindex="-1"></a>  <span class="fu">head</span>(<span class="dv">7</span>)</span></code><button title="In die Zwischenablage kopieren" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code># A tibble: 7 × 4
  month      milk_prod_per_cow_kg month_fac month_num
  &lt;date&gt;                    &lt;dbl&gt; &lt;fct&gt;         &lt;dbl&gt;
1 1962-01-01                 265. Jan           -2922
2 1962-02-01                 252. Feb           -2891
3 1962-03-01                 288  Mar           -2863
4 1962-04-01                 295. Apr           -2832
5 1962-05-01                 327. May           -2802
6 1962-06-01                 314. Jun           -2771
7 1962-07-01                 288  Jul           -2741</code></pre>
</div>
</div>
<div class="cell">
<div class="sourceCode cell-code" id="cb35"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb35-1"><a href="#cb35-1" aria-hidden="true" tabindex="-1"></a>model_fit_lm <span class="ot">&lt;-</span> <span class="fu">linear_reg</span>() <span class="sc">%&gt;%</span></span>
<span id="cb35-2"><a href="#cb35-2" aria-hidden="true" tabindex="-1"></a>    <span class="fu">set_engine</span>(<span class="st">"lm"</span>) <span class="sc">%&gt;%</span></span>
<span id="cb35-3"><a href="#cb35-3" aria-hidden="true" tabindex="-1"></a>    <span class="fu">fit</span>(milk_prod_per_cow_kg <span class="sc">~</span> <span class="fu">as.numeric</span>(month) <span class="sc">+</span> <span class="fu">factor</span>(<span class="fu">month</span>(month, <span class="at">label =</span> <span class="cn">TRUE</span>), <span class="at">ordered =</span> <span class="cn">FALSE</span>),</span>
<span id="cb35-4"><a href="#cb35-4" aria-hidden="true" tabindex="-1"></a>        <span class="at">data =</span> <span class="fu">training</span>(splits))</span></code><button title="In die Zwischenablage kopieren" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
<div class="cell">
<div class="sourceCode cell-code" id="cb36"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb36-1"><a href="#cb36-1" aria-hidden="true" tabindex="-1"></a>models_tbl <span class="ot">&lt;-</span> <span class="fu">modeltime_table</span>(</span>
<span id="cb36-2"><a href="#cb36-2" aria-hidden="true" tabindex="-1"></a>    model_fit_arima_no_boost,</span>
<span id="cb36-3"><a href="#cb36-3" aria-hidden="true" tabindex="-1"></a>    model_fit_ets,</span>
<span id="cb36-4"><a href="#cb36-4" aria-hidden="true" tabindex="-1"></a>    model_fit_lm</span>
<span id="cb36-5"><a href="#cb36-5" aria-hidden="true" tabindex="-1"></a>)</span></code><button title="In die Zwischenablage kopieren" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
<div class="cell">
<div class="sourceCode cell-code" id="cb37"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb37-1"><a href="#cb37-1" aria-hidden="true" tabindex="-1"></a>calibration_tbl <span class="ot">&lt;-</span> models_tbl <span class="sc">%&gt;%</span></span>
<span id="cb37-2"><a href="#cb37-2" aria-hidden="true" tabindex="-1"></a>    <span class="fu">modeltime_calibrate</span>(<span class="at">new_data =</span> <span class="fu">testing</span>(splits))</span></code><button title="In die Zwischenablage kopieren" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
<div class="cell" data-layout-align="center">
<div class="sourceCode cell-code" id="cb38"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb38-1"><a href="#cb38-1" aria-hidden="true" tabindex="-1"></a>calibration_tbl <span class="sc">%&gt;%</span></span>
<span id="cb38-2"><a href="#cb38-2" aria-hidden="true" tabindex="-1"></a>    <span class="fu">modeltime_forecast</span>(</span>
<span id="cb38-3"><a href="#cb38-3" aria-hidden="true" tabindex="-1"></a>        <span class="at">new_data    =</span> <span class="fu">testing</span>(splits),</span>
<span id="cb38-4"><a href="#cb38-4" aria-hidden="true" tabindex="-1"></a>        <span class="at">actual_data =</span> milk_tbl</span>
<span id="cb38-5"><a href="#cb38-5" aria-hidden="true" tabindex="-1"></a>    ) <span class="sc">%&gt;%</span></span>
<span id="cb38-6"><a href="#cb38-6" aria-hidden="true" tabindex="-1"></a>    <span class="fu">plot_modeltime_forecast</span>(</span>
<span id="cb38-7"><a href="#cb38-7" aria-hidden="true" tabindex="-1"></a>      <span class="at">.legend_max_width =</span> <span class="dv">25</span>, <span class="co"># For mobile screens</span></span>
<span id="cb38-8"><a href="#cb38-8" aria-hidden="true" tabindex="-1"></a>      <span class="at">.interactive      =</span> <span class="cn">FALSE</span></span>
<span id="cb38-9"><a href="#cb38-9" aria-hidden="true" tabindex="-1"></a>    )</span></code><button title="In die Zwischenablage kopieren" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output-display">
<div id="fig-time-modeltime-1" class="quarto-figure quarto-figure-center anchored">
<figure class="figure">
<p><img src="time-space-time-series_files/figure-html/fig-time-modeltime-1-1.png" class="img-fluid figure-img" width="576"></p>
<figcaption class="figure-caption">Abbildung&nbsp;60.12— Eigenwerte für die beiden Datensätze.</figcaption>
</figure>
</div>
</div>
</div>
<div class="cell">
<div class="sourceCode cell-code" id="cb39"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb39-1"><a href="#cb39-1" aria-hidden="true" tabindex="-1"></a>calibration_tbl <span class="sc">%&gt;%</span></span>
<span id="cb39-2"><a href="#cb39-2" aria-hidden="true" tabindex="-1"></a>    <span class="fu">modeltime_accuracy</span>() <span class="sc">%&gt;%</span></span>
<span id="cb39-3"><a href="#cb39-3" aria-hidden="true" tabindex="-1"></a>    <span class="fu">table_modeltime_accuracy</span>(</span>
<span id="cb39-4"><a href="#cb39-4" aria-hidden="true" tabindex="-1"></a>        <span class="at">.interactive =</span> <span class="cn">FALSE</span></span>
<span id="cb39-5"><a href="#cb39-5" aria-hidden="true" tabindex="-1"></a>    )</span></code><button title="In die Zwischenablage kopieren" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output-display">
<div id="tbl-time-modeltime-1" class="anchored">

<div id="gynfrbtzug" style="padding-left:0px;padding-right:0px;padding-top:10px;padding-bottom:10px;overflow-x:auto;overflow-y:auto;width:auto;height:auto;">
<style>#gynfrbtzug table {
  font-family: system-ui, 'Segoe UI', Roboto, Helvetica, Arial, sans-serif, 'Apple Color Emoji', 'Segoe UI Emoji', 'Segoe UI Symbol', 'Noto Color Emoji';
  -webkit-font-smoothing: antialiased;
  -moz-osx-font-smoothing: grayscale;
}

#gynfrbtzug thead, #gynfrbtzug tbody, #gynfrbtzug tfoot, #gynfrbtzug tr, #gynfrbtzug td, #gynfrbtzug th {
  border-style: none;
}

#gynfrbtzug p {
  margin: 0;
  padding: 0;
}

#gynfrbtzug .gt_table {
  display: table;
  border-collapse: collapse;
  line-height: normal;
  margin-left: auto;
  margin-right: auto;
  color: #333333;
  font-size: 16px;
  font-weight: normal;
  font-style: normal;
  background-color: #FFFFFF;
  width: auto;
  border-top-style: solid;
  border-top-width: 2px;
  border-top-color: #A8A8A8;
  border-right-style: none;
  border-right-width: 2px;
  border-right-color: #D3D3D3;
  border-bottom-style: solid;
  border-bottom-width: 2px;
  border-bottom-color: #A8A8A8;
  border-left-style: none;
  border-left-width: 2px;
  border-left-color: #D3D3D3;
}

#gynfrbtzug .gt_caption {
  padding-top: 4px;
  padding-bottom: 4px;
}

#gynfrbtzug .gt_title {
  color: #333333;
  font-size: 125%;
  font-weight: initial;
  padding-top: 4px;
  padding-bottom: 4px;
  padding-left: 5px;
  padding-right: 5px;
  border-bottom-color: #FFFFFF;
  border-bottom-width: 0;
}

#gynfrbtzug .gt_subtitle {
  color: #333333;
  font-size: 85%;
  font-weight: initial;
  padding-top: 3px;
  padding-bottom: 5px;
  padding-left: 5px;
  padding-right: 5px;
  border-top-color: #FFFFFF;
  border-top-width: 0;
}

#gynfrbtzug .gt_heading {
  background-color: #FFFFFF;
  text-align: center;
  border-bottom-color: #FFFFFF;
  border-left-style: none;
  border-left-width: 1px;
  border-left-color: #D3D3D3;
  border-right-style: none;
  border-right-width: 1px;
  border-right-color: #D3D3D3;
}

#gynfrbtzug .gt_bottom_border {
  border-bottom-style: solid;
  border-bottom-width: 2px;
  border-bottom-color: #D3D3D3;
}

#gynfrbtzug .gt_col_headings {
  border-top-style: solid;
  border-top-width: 2px;
  border-top-color: #D3D3D3;
  border-bottom-style: solid;
  border-bottom-width: 2px;
  border-bottom-color: #D3D3D3;
  border-left-style: none;
  border-left-width: 1px;
  border-left-color: #D3D3D3;
  border-right-style: none;
  border-right-width: 1px;
  border-right-color: #D3D3D3;
}

#gynfrbtzug .gt_col_heading {
  color: #333333;
  background-color: #FFFFFF;
  font-size: 100%;
  font-weight: normal;
  text-transform: inherit;
  border-left-style: none;
  border-left-width: 1px;
  border-left-color: #D3D3D3;
  border-right-style: none;
  border-right-width: 1px;
  border-right-color: #D3D3D3;
  vertical-align: bottom;
  padding-top: 5px;
  padding-bottom: 6px;
  padding-left: 5px;
  padding-right: 5px;
  overflow-x: hidden;
}

#gynfrbtzug .gt_column_spanner_outer {
  color: #333333;
  background-color: #FFFFFF;
  font-size: 100%;
  font-weight: normal;
  text-transform: inherit;
  padding-top: 0;
  padding-bottom: 0;
  padding-left: 4px;
  padding-right: 4px;
}

#gynfrbtzug .gt_column_spanner_outer:first-child {
  padding-left: 0;
}

#gynfrbtzug .gt_column_spanner_outer:last-child {
  padding-right: 0;
}

#gynfrbtzug .gt_column_spanner {
  border-bottom-style: solid;
  border-bottom-width: 2px;
  border-bottom-color: #D3D3D3;
  vertical-align: bottom;
  padding-top: 5px;
  padding-bottom: 5px;
  overflow-x: hidden;
  display: inline-block;
  width: 100%;
}

#gynfrbtzug .gt_spanner_row {
  border-bottom-style: hidden;
}

#gynfrbtzug .gt_group_heading {
  padding-top: 8px;
  padding-bottom: 8px;
  padding-left: 5px;
  padding-right: 5px;
  color: #333333;
  background-color: #FFFFFF;
  font-size: 100%;
  font-weight: initial;
  text-transform: inherit;
  border-top-style: solid;
  border-top-width: 2px;
  border-top-color: #D3D3D3;
  border-bottom-style: solid;
  border-bottom-width: 2px;
  border-bottom-color: #D3D3D3;
  border-left-style: none;
  border-left-width: 1px;
  border-left-color: #D3D3D3;
  border-right-style: none;
  border-right-width: 1px;
  border-right-color: #D3D3D3;
  vertical-align: middle;
  text-align: left;
}

#gynfrbtzug .gt_empty_group_heading {
  padding: 0.5px;
  color: #333333;
  background-color: #FFFFFF;
  font-size: 100%;
  font-weight: initial;
  border-top-style: solid;
  border-top-width: 2px;
  border-top-color: #D3D3D3;
  border-bottom-style: solid;
  border-bottom-width: 2px;
  border-bottom-color: #D3D3D3;
  vertical-align: middle;
}

#gynfrbtzug .gt_from_md > :first-child {
  margin-top: 0;
}

#gynfrbtzug .gt_from_md > :last-child {
  margin-bottom: 0;
}

#gynfrbtzug .gt_row {
  padding-top: 8px;
  padding-bottom: 8px;
  padding-left: 5px;
  padding-right: 5px;
  margin: 10px;
  border-top-style: solid;
  border-top-width: 1px;
  border-top-color: #D3D3D3;
  border-left-style: none;
  border-left-width: 1px;
  border-left-color: #D3D3D3;
  border-right-style: none;
  border-right-width: 1px;
  border-right-color: #D3D3D3;
  vertical-align: middle;
  overflow-x: hidden;
}

#gynfrbtzug .gt_stub {
  color: #333333;
  background-color: #FFFFFF;
  font-size: 100%;
  font-weight: initial;
  text-transform: inherit;
  border-right-style: solid;
  border-right-width: 2px;
  border-right-color: #D3D3D3;
  padding-left: 5px;
  padding-right: 5px;
}

#gynfrbtzug .gt_stub_row_group {
  color: #333333;
  background-color: #FFFFFF;
  font-size: 100%;
  font-weight: initial;
  text-transform: inherit;
  border-right-style: solid;
  border-right-width: 2px;
  border-right-color: #D3D3D3;
  padding-left: 5px;
  padding-right: 5px;
  vertical-align: top;
}

#gynfrbtzug .gt_row_group_first td {
  border-top-width: 2px;
}

#gynfrbtzug .gt_row_group_first th {
  border-top-width: 2px;
}

#gynfrbtzug .gt_summary_row {
  color: #333333;
  background-color: #FFFFFF;
  text-transform: inherit;
  padding-top: 8px;
  padding-bottom: 8px;
  padding-left: 5px;
  padding-right: 5px;
}

#gynfrbtzug .gt_first_summary_row {
  border-top-style: solid;
  border-top-color: #D3D3D3;
}

#gynfrbtzug .gt_first_summary_row.thick {
  border-top-width: 2px;
}

#gynfrbtzug .gt_last_summary_row {
  padding-top: 8px;
  padding-bottom: 8px;
  padding-left: 5px;
  padding-right: 5px;
  border-bottom-style: solid;
  border-bottom-width: 2px;
  border-bottom-color: #D3D3D3;
}

#gynfrbtzug .gt_grand_summary_row {
  color: #333333;
  background-color: #FFFFFF;
  text-transform: inherit;
  padding-top: 8px;
  padding-bottom: 8px;
  padding-left: 5px;
  padding-right: 5px;
}

#gynfrbtzug .gt_first_grand_summary_row {
  padding-top: 8px;
  padding-bottom: 8px;
  padding-left: 5px;
  padding-right: 5px;
  border-top-style: double;
  border-top-width: 6px;
  border-top-color: #D3D3D3;
}

#gynfrbtzug .gt_last_grand_summary_row_top {
  padding-top: 8px;
  padding-bottom: 8px;
  padding-left: 5px;
  padding-right: 5px;
  border-bottom-style: double;
  border-bottom-width: 6px;
  border-bottom-color: #D3D3D3;
}

#gynfrbtzug .gt_striped {
  background-color: rgba(128, 128, 128, 0.05);
}

#gynfrbtzug .gt_table_body {
  border-top-style: solid;
  border-top-width: 2px;
  border-top-color: #D3D3D3;
  border-bottom-style: solid;
  border-bottom-width: 2px;
  border-bottom-color: #D3D3D3;
}

#gynfrbtzug .gt_footnotes {
  color: #333333;
  background-color: #FFFFFF;
  border-bottom-style: none;
  border-bottom-width: 2px;
  border-bottom-color: #D3D3D3;
  border-left-style: none;
  border-left-width: 2px;
  border-left-color: #D3D3D3;
  border-right-style: none;
  border-right-width: 2px;
  border-right-color: #D3D3D3;
}

#gynfrbtzug .gt_footnote {
  margin: 0px;
  font-size: 90%;
  padding-top: 4px;
  padding-bottom: 4px;
  padding-left: 5px;
  padding-right: 5px;
}

#gynfrbtzug .gt_sourcenotes {
  color: #333333;
  background-color: #FFFFFF;
  border-bottom-style: none;
  border-bottom-width: 2px;
  border-bottom-color: #D3D3D3;
  border-left-style: none;
  border-left-width: 2px;
  border-left-color: #D3D3D3;
  border-right-style: none;
  border-right-width: 2px;
  border-right-color: #D3D3D3;
}

#gynfrbtzug .gt_sourcenote {
  font-size: 90%;
  padding-top: 4px;
  padding-bottom: 4px;
  padding-left: 5px;
  padding-right: 5px;
}

#gynfrbtzug .gt_left {
  text-align: left;
}

#gynfrbtzug .gt_center {
  text-align: center;
}

#gynfrbtzug .gt_right {
  text-align: right;
  font-variant-numeric: tabular-nums;
}

#gynfrbtzug .gt_font_normal {
  font-weight: normal;
}

#gynfrbtzug .gt_font_bold {
  font-weight: bold;
}

#gynfrbtzug .gt_font_italic {
  font-style: italic;
}

#gynfrbtzug .gt_super {
  font-size: 65%;
}

#gynfrbtzug .gt_footnote_marks {
  font-size: 75%;
  vertical-align: 0.4em;
  position: initial;
}

#gynfrbtzug .gt_asterisk {
  font-size: 100%;
  vertical-align: 0;
}

#gynfrbtzug .gt_indent_1 {
  text-indent: 5px;
}

#gynfrbtzug .gt_indent_2 {
  text-indent: 10px;
}

#gynfrbtzug .gt_indent_3 {
  text-indent: 15px;
}

#gynfrbtzug .gt_indent_4 {
  text-indent: 20px;
}

#gynfrbtzug .gt_indent_5 {
  text-indent: 25px;
}
</style>
<table class="gt_table" data-quarto-disable-processing="false" data-quarto-bootstrap="false"><caption>Tabelle&nbsp;60.2—  <p>Eigenwerte für die beiden Datensätze.</p> </caption>
  <thead>
    <tr class="gt_heading">
      <td colspan="9" class="gt_heading gt_title gt_font_normal gt_bottom_border" style="">Accuracy Table</td>
    </tr>
    
    <tr class="gt_col_headings">
      <th class="gt_col_heading gt_columns_bottom_border gt_right" rowspan="1" colspan="1" scope="col" id=".model_id">.model_id</th>
      <th class="gt_col_heading gt_columns_bottom_border gt_left" rowspan="1" colspan="1" scope="col" id=".model_desc">.model_desc</th>
      <th class="gt_col_heading gt_columns_bottom_border gt_left" rowspan="1" colspan="1" scope="col" id=".type">.type</th>
      <th class="gt_col_heading gt_columns_bottom_border gt_right" rowspan="1" colspan="1" scope="col" id="mae">mae</th>
      <th class="gt_col_heading gt_columns_bottom_border gt_right" rowspan="1" colspan="1" scope="col" id="mape">mape</th>
      <th class="gt_col_heading gt_columns_bottom_border gt_right" rowspan="1" colspan="1" scope="col" id="mase">mase</th>
      <th class="gt_col_heading gt_columns_bottom_border gt_right" rowspan="1" colspan="1" scope="col" id="smape">smape</th>
      <th class="gt_col_heading gt_columns_bottom_border gt_right" rowspan="1" colspan="1" scope="col" id="rmse">rmse</th>
      <th class="gt_col_heading gt_columns_bottom_border gt_right" rowspan="1" colspan="1" scope="col" id="rsq">rsq</th>
    </tr>
  </thead>
  <tbody class="gt_table_body">
    <tr><td headers=".model_id" class="gt_row gt_right">1</td>
<td headers=".model_desc" class="gt_row gt_left">ARIMA(2,0,1)(2,1,1)[12] WITH DRIFT</td>
<td headers=".type" class="gt_row gt_left">Test</td>
<td headers="mae" class="gt_row gt_right">12.03</td>
<td headers="mape" class="gt_row gt_right">3.13</td>
<td headers="mase" class="gt_row gt_right">0.68</td>
<td headers="smape" class="gt_row gt_right">3.08</td>
<td headers="rmse" class="gt_row gt_right">13.02</td>
<td headers="rsq" class="gt_row gt_right">0.97</td></tr>
    <tr><td headers=".model_id" class="gt_row gt_right">2</td>
<td headers=".model_desc" class="gt_row gt_left">ETS(A,A,A)</td>
<td headers=".type" class="gt_row gt_left">Test</td>
<td headers="mae" class="gt_row gt_right">11.72</td>
<td headers="mape" class="gt_row gt_right">3.06</td>
<td headers="mase" class="gt_row gt_right">0.67</td>
<td headers="smape" class="gt_row gt_right">3.01</td>
<td headers="rmse" class="gt_row gt_right">12.59</td>
<td headers="rsq" class="gt_row gt_right">0.96</td></tr>
    <tr><td headers=".model_id" class="gt_row gt_right">3</td>
<td headers=".model_desc" class="gt_row gt_left">LM</td>
<td headers=".type" class="gt_row gt_left">Test</td>
<td headers="mae" class="gt_row gt_right">15.51</td>
<td headers="mape" class="gt_row gt_right">4.06</td>
<td headers="mase" class="gt_row gt_right">0.88</td>
<td headers="smape" class="gt_row gt_right">3.97</td>
<td headers="rmse" class="gt_row gt_right">16.30</td>
<td headers="rsq" class="gt_row gt_right">0.96</td></tr>
  </tbody>
  
  
</table>
</div>
</div>
</div>
</div>
<ul>
<li>MAE - Mean absolute error, <a href="https://yardstick.tidymodels.org/reference/mae.html"><code>mae()</code></a></li>
<li>MAPE - Mean absolute percentage error, <a href="https://yardstick.tidymodels.org/reference/mape.html"><code>mape()</code></a></li>
<li>MASE - Mean absolute scaled error, <a href="https://yardstick.tidymodels.org/reference/mase.html"><code>mase()</code></a></li>
<li>SMAPE - Symmetric mean absolute percentage error, <a href="https://yardstick.tidymodels.org/reference/smape.html"><code>smape()</code></a></li>
<li>RMSE - Root mean squared error, <a href="https://yardstick.tidymodels.org/reference/rmse.html"><code>rmse()</code></a></li>
<li>RSQ - R-squared, <a href="https://yardstick.tidymodels.org/reference/rsq.html"><code>rsq()</code></a></li>
</ul>
<div class="cell">
<div class="sourceCode cell-code" id="cb40"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb40-1"><a href="#cb40-1" aria-hidden="true" tabindex="-1"></a>refit_tbl <span class="ot">&lt;-</span> calibration_tbl <span class="sc">%&gt;%</span></span>
<span id="cb40-2"><a href="#cb40-2" aria-hidden="true" tabindex="-1"></a>    <span class="fu">modeltime_refit</span>(<span class="at">data =</span> milk_tbl)</span></code><button title="In die Zwischenablage kopieren" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
<div class="cell" data-layout-align="center">
<div class="sourceCode cell-code" id="cb41"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb41-1"><a href="#cb41-1" aria-hidden="true" tabindex="-1"></a>refit_tbl <span class="sc">%&gt;%</span></span>
<span id="cb41-2"><a href="#cb41-2" aria-hidden="true" tabindex="-1"></a>    <span class="fu">modeltime_forecast</span>(<span class="at">h =</span> <span class="st">"3 years"</span>, <span class="at">actual_data =</span> milk_tbl) <span class="sc">%&gt;%</span></span>
<span id="cb41-3"><a href="#cb41-3" aria-hidden="true" tabindex="-1"></a>    <span class="fu">plot_modeltime_forecast</span>(</span>
<span id="cb41-4"><a href="#cb41-4" aria-hidden="true" tabindex="-1"></a>      <span class="at">.legend_max_width =</span> <span class="dv">25</span>, <span class="co"># For mobile screens</span></span>
<span id="cb41-5"><a href="#cb41-5" aria-hidden="true" tabindex="-1"></a>      <span class="at">.interactive      =</span> <span class="cn">FALSE</span></span>
<span id="cb41-6"><a href="#cb41-6" aria-hidden="true" tabindex="-1"></a>    )</span></code><button title="In die Zwischenablage kopieren" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output-display">
<div id="fig-time-modeltime-2" class="quarto-figure quarto-figure-center anchored">
<figure class="figure">
<p><img src="time-space-time-series_files/figure-html/fig-time-modeltime-2-1.png" class="img-fluid figure-img" width="576"></p>
<figcaption class="figure-caption">Abbildung&nbsp;60.13— Eigenwerte für die beiden Datensätze.</figcaption>
</figure>
</div>
</div>
</div>
</section>
</section>
<section id="referenzen" class="level2 unnumbered">
<h2 class="unnumbered anchored" data-anchor-id="referenzen">Referenzen</h2>


<div id="refs" class="references csl-bib-body hanging-indent" role="list">
<div id="ref-chan2008time" class="csl-entry" role="listitem">
Chan K-S, Cryer JD. 2008. Time series analysis with applications in R. Springer.
</div>
<div id="ref-cowpertwait2009introductory" class="csl-entry" role="listitem">
Cowpertwait PS, Metcalfe AV. 2009. Introductory time series with R. Springer Science &amp; Business Media.
</div>
<div id="ref-hyndman2018forecasting" class="csl-entry" role="listitem">
Hyndman RJ, Athanasopoulos G. 2018. Forecasting: principles and practice. OTexts.
</div>
<div id="ref-robert2006time" class="csl-entry" role="listitem">
Robert H, others. 2006. Time Series Analysis and Its Applications With R Examples Second Edition.
</div>
</div>
</section>

</main> <!-- /main -->
<script id="quarto-html-after-body" type="application/javascript">
window.document.addEventListener("DOMContentLoaded", function (event) {
  const toggleBodyColorMode = (bsSheetEl) => {
    const mode = bsSheetEl.getAttribute("data-mode");
    const bodyEl = window.document.querySelector("body");
    if (mode === "dark") {
      bodyEl.classList.add("quarto-dark");
      bodyEl.classList.remove("quarto-light");
    } else {
      bodyEl.classList.add("quarto-light");
      bodyEl.classList.remove("quarto-dark");
    }
  }
  const toggleBodyColorPrimary = () => {
    const bsSheetEl = window.document.querySelector("link#quarto-bootstrap");
    if (bsSheetEl) {
      toggleBodyColorMode(bsSheetEl);
    }
  }
  toggleBodyColorPrimary();  
  const icon = "";
  const anchorJS = new window.AnchorJS();
  anchorJS.options = {
    placement: 'right',
    icon: icon
  };
  anchorJS.add('.anchored');
  const isCodeAnnotation = (el) => {
    for (const clz of el.classList) {
      if (clz.startsWith('code-annotation-')) {                     
        return true;
      }
    }
    return false;
  }
  const clipboard = new window.ClipboardJS('.code-copy-button', {
    text: function(trigger) {
      const codeEl = trigger.previousElementSibling.cloneNode(true);
      for (const childEl of codeEl.children) {
        if (isCodeAnnotation(childEl)) {
          childEl.remove();
        }
      }
      return codeEl.innerText;
    }
  });
  clipboard.on('success', function(e) {
    // button target
    const button = e.trigger;
    // don't keep focus
    button.blur();
    // flash "checked"
    button.classList.add('code-copy-button-checked');
    var currentTitle = button.getAttribute("title");
    button.setAttribute("title", "Kopiert");
    let tooltip;
    if (window.bootstrap) {
      button.setAttribute("data-bs-toggle", "tooltip");
      button.setAttribute("data-bs-placement", "left");
      button.setAttribute("data-bs-title", "Kopiert");
      tooltip = new bootstrap.Tooltip(button, 
        { trigger: "manual", 
          customClass: "code-copy-button-tooltip",
          offset: [0, -8]});
      tooltip.show();    
    }
    setTimeout(function() {
      if (tooltip) {
        tooltip.hide();
        button.removeAttribute("data-bs-title");
        button.removeAttribute("data-bs-toggle");
        button.removeAttribute("data-bs-placement");
      }
      button.setAttribute("title", currentTitle);
      button.classList.remove('code-copy-button-checked');
    }, 1000);
    // clear code selection
    e.clearSelection();
  });
  function tippyHover(el, contentFn) {
    const config = {
      allowHTML: true,
      content: contentFn,
      maxWidth: 500,
      delay: 100,
      arrow: false,
      appendTo: function(el) {
          return el.parentElement;
      },
      interactive: true,
      interactiveBorder: 10,
      theme: 'quarto',
      placement: 'bottom-start'
    };
    window.tippy(el, config); 
  }
  const noterefs = window.document.querySelectorAll('a[role="doc-noteref"]');
  for (var i=0; i<noterefs.length; i++) {
    const ref = noterefs[i];
    tippyHover(ref, function() {
      // use id or data attribute instead here
      let href = ref.getAttribute('data-footnote-href') || ref.getAttribute('href');
      try { href = new URL(href).hash; } catch {}
      const id = href.replace(/^#\/?/, "");
      const note = window.document.getElementById(id);
      return note.innerHTML;
    });
  }
      let selectedAnnoteEl;
      const selectorForAnnotation = ( cell, annotation) => {
        let cellAttr = 'data-code-cell="' + cell + '"';
        let lineAttr = 'data-code-annotation="' +  annotation + '"';
        const selector = 'span[' + cellAttr + '][' + lineAttr + ']';
        return selector;
      }
      const selectCodeLines = (annoteEl) => {
        const doc = window.document;
        const targetCell = annoteEl.getAttribute("data-target-cell");
        const targetAnnotation = annoteEl.getAttribute("data-target-annotation");
        const annoteSpan = window.document.querySelector(selectorForAnnotation(targetCell, targetAnnotation));
        const lines = annoteSpan.getAttribute("data-code-lines").split(",");
        const lineIds = lines.map((line) => {
          return targetCell + "-" + line;
        })
        let top = null;
        let height = null;
        let parent = null;
        if (lineIds.length > 0) {
            //compute the position of the single el (top and bottom and make a div)
            const el = window.document.getElementById(lineIds[0]);
            top = el.offsetTop;
            height = el.offsetHeight;
            parent = el.parentElement.parentElement;
          if (lineIds.length > 1) {
            const lastEl = window.document.getElementById(lineIds[lineIds.length - 1]);
            const bottom = lastEl.offsetTop + lastEl.offsetHeight;
            height = bottom - top;
          }
          if (top !== null && height !== null && parent !== null) {
            // cook up a div (if necessary) and position it 
            let div = window.document.getElementById("code-annotation-line-highlight");
            if (div === null) {
              div = window.document.createElement("div");
              div.setAttribute("id", "code-annotation-line-highlight");
              div.style.position = 'absolute';
              parent.appendChild(div);
            }
            div.style.top = top - 2 + "px";
            div.style.height = height + 4 + "px";
            let gutterDiv = window.document.getElementById("code-annotation-line-highlight-gutter");
            if (gutterDiv === null) {
              gutterDiv = window.document.createElement("div");
              gutterDiv.setAttribute("id", "code-annotation-line-highlight-gutter");
              gutterDiv.style.position = 'absolute';
              const codeCell = window.document.getElementById(targetCell);
              const gutter = codeCell.querySelector('.code-annotation-gutter');
              gutter.appendChild(gutterDiv);
            }
            gutterDiv.style.top = top - 2 + "px";
            gutterDiv.style.height = height + 4 + "px";
          }
          selectedAnnoteEl = annoteEl;
        }
      };
      const unselectCodeLines = () => {
        const elementsIds = ["code-annotation-line-highlight", "code-annotation-line-highlight-gutter"];
        elementsIds.forEach((elId) => {
          const div = window.document.getElementById(elId);
          if (div) {
            div.remove();
          }
        });
        selectedAnnoteEl = undefined;
      };
      // Handle positioning of the toggle
      window.addEventListener(
      "resize",
      throttle(() => {
        elRect = undefined;
        if (selectedAnnoteEl) {
          selectCodeLines(selectedAnnoteEl);
        }
      }, 10)
      );
      function throttle(fn, ms) {
      let throttle = false;
      let timer;
        return (...args) => {
          if(!throttle) { // first call gets through
              fn.apply(this, args);
              throttle = true;
          } else { // all the others get throttled
              if(timer) clearTimeout(timer); // cancel #2
              timer = setTimeout(() => {
                fn.apply(this, args);
                timer = throttle = false;
              }, ms);
          }
        };
      }
      const annoteTargets = window.document.querySelectorAll('.code-annotation-anchor');
      for (let i=0; i<annoteTargets.length; i++) {
        const annoteTarget = annoteTargets[i];
        const targetCell = annoteTarget.getAttribute("data-target-cell");
        const targetAnnotation = annoteTarget.getAttribute("data-target-annotation");
        const contentFn = () => {
          const content = window.document.querySelector(selectorForAnnotation(targetCell, targetAnnotation));
          if (content) {
            const tipContent = content.cloneNode(true);
            tipContent.classList.add("code-annotation-tip-content");
            return tipContent.outerHTML;
          }
        }
        const config = {
          allowHTML: true,
          content: contentFn,
          onShow: (instance) => {
            selectCodeLines(instance.reference);
            instance.reference.classList.add('code-annotation-active');
            window.tippy.hideAll();
          },
          onHide: (instance) => {
            unselectCodeLines();
            instance.reference.classList.remove('code-annotation-active');
          },
          maxWidth: 300,
          delay: [50, 0],
          duration: [200, 0],
          offset: [5, 10],
          arrow: true,
          appendTo: function(el) {
            return el.parentElement.parentElement.parentElement;
          },
          interactive: true,
          interactiveBorder: 10,
          theme: 'quarto',
          placement: 'right',
          popperOptions: {
            modifiers: [
            {
              name: 'flip',
              options: {
                flipVariations: false, // true by default
                allowedAutoPlacements: ['right'],
                fallbackPlacements: ['right', 'top', 'top-start', 'top-end'],
              },
            },
            {
              name: 'preventOverflow',
              options: {
                mainAxis: false,
                altAxis: false
              }
            }
            ]        
          }      
        };
        window.tippy(annoteTarget, config); 
      }
  const findCites = (el) => {
    const parentEl = el.parentElement;
    if (parentEl) {
      const cites = parentEl.dataset.cites;
      if (cites) {
        return {
          el,
          cites: cites.split(' ')
        };
      } else {
        return findCites(el.parentElement)
      }
    } else {
      return undefined;
    }
  };
  var bibliorefs = window.document.querySelectorAll('a[role="doc-biblioref"]');
  for (var i=0; i<bibliorefs.length; i++) {
    const ref = bibliorefs[i];
    const citeInfo = findCites(ref);
    if (citeInfo) {
      tippyHover(citeInfo.el, function() {
        var popup = window.document.createElement('div');
        citeInfo.cites.forEach(function(cite) {
          var citeDiv = window.document.createElement('div');
          citeDiv.classList.add('hanging-indent');
          citeDiv.classList.add('csl-entry');
          var biblioDiv = window.document.getElementById('ref-' + cite);
          if (biblioDiv) {
            citeDiv.innerHTML = biblioDiv.innerHTML;
          }
          popup.appendChild(citeDiv);
        });
        return popup.innerHTML;
      });
    }
  }
});
</script>
<nav class="page-navigation">
  <div class="nav-page nav-page-previous">
      <a href="./time-space-pseudo-time-series.html" class="pagination-link">
        <i class="bi bi-arrow-left-short"></i> <span class="nav-page-text"><span class="chapter-number">59</span>&nbsp; <span class="chapter-title">Pseudo Zeitreihen</span></span>
      </a>          
  </div>
  <div class="nav-page nav-page-next">
      <a href="./time-space-spatial-data.html" class="pagination-link">
        <span class="nav-page-text"><span class="chapter-number">61</span>&nbsp; <span class="chapter-title">Räumliche Daten (eng. <em>spatial data</em>)</span></span> <i class="bi bi-arrow-right-short"></i>
      </a>
  </div>
</nav>
</div> <!-- /content -->



</body></html>