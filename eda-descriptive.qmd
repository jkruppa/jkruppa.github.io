# Deskriptive Statistik

```{r }
#| echo: false
#| warning: false

pacman::p_load(tidyverse, readxl, knitr, kableExtra)

data_tbl <- read_excel("data/flea_dog_cat.xlsx")
y_dog <- c(5.2, 4.9, 12.1, 8.2, 5.6, 9.1, 7.4) 
```

Wir messen sieben Sprungweiten von sieben Hundeflöhen und messen dabei folgende Werte in \[cm\]: `r pander::p(y_dog, wrap = "", copula = " und ")`. Wir schreiben nun y als einen Vektor in der Form

$$
y = \{`r str_c(y_dog, collapse = ", ")`\}.
$$

In R würde der Vektor wie etwas anders aussehen.

```{r }
y <- c(5.2, 4.9, 12.1, 8.2, 5.6, 9.1, 7.4) 
```

### Mittelwert

$$
\bar{y} = \sum_{i=1}^{n}\cfrac{x_i}{n} =
\cfrac{`r str_c(y, collapse = " + ")`}{`r length(y)`} =
`r mean(y)`
$$

![kjasdsaddssd](images/index-drawn.png){#fig-index-drawn fig-align="center" width="100%"}

@fig-index-drawn

```{r }
y %>% mean
```

### Spannweite oder range

$$
y_{range} = y_{max} - y_{min} = 12.1 - 4.9 = 7.2
$$

```{r }
range(y) 
```

### Varianz

$$
s^2 = \sum_{i=1}^n\cfrac{(y_i - \bar{y})^2}{n-1} = \cfrac{(5.2 -
7.5)^2 + (4.9 - 7.5)^2 + ... + (7.4 - 7.5^2)}{7-1} = 6.65
$$

```{r }
y %>% var %>% round(2) 
```

### Standardabweichung

$$
s = \sqrt{s^2} = \sqrt{6.65} = 2.58
$$

```{r }
y %>% sd %>% round(2) 
```

### Standardfehler oder Standard Error (SE)

$$
SE = \cfrac{s}{\sqrt{n}} = \cfrac{2.58}{2.65} = 0.97
$$

```{r }
se <- sd(y)/sqrt(length(y))
se %>% round(2)
```

| Standardabweichung                                                           | Standardfehler                                                               |
|------------------------------------------------------------------------------|------------------------------------------------------------------------------|
| ... ist eine Aussage über die Streuung der erhobenen Werte einer Stichprobe. | ... ist eine Aussage über die Genauigkeit des Mittelwertes einer Stichprobe. |
| ... hängt von der biologischen Variabilität ab.                              | ... abhängig von der Messgenauigkeit                                         |
| ... ist ein beschreibendes Maß.                                              | ... ist ein statistisches Maß.                                               |
| ... ist nur wenig durch die Größe der Stichprobe beineinflussbar.            | ... steht im direkten Verhältnis zur Größe der Stichprobe.                   |

: test

### Mittelwert und Varianz - eine Herleitung

![kjasdsaddssd](images/mean-drawn.png){#fig-mean-drawn fig-align="center" width="100%"}

@fig-mean-drawn

### Median

$$
4.9,  5.2,  5.6,  \underbrace{7.4,}_{Median}  8.2,  9.1, 12.1
$$

```{r }
median(y) 
```

### Quartile

$$
4.9,  \underbrace{5.2,}_{1st\ Quartile}  5.6,  7.4,  8.2,  9.1, 12.1
$$

$$
4.9,  5.2,  5.6,  7.4,  8.2,  \underbrace{9.1,}_{3rd\ Quartile} 12.1
$$

```{r }
quantile(y, probs = c(0.25, 0.5, 0.75)) 
```

Warum unterscheiden sich die händisch berechneten Quartile von den Quartilen aus R? Es gibt verschiedene Arten der Berechnung. In der Klausur nutzen wir die Art und Weise wie die händische Berechnung hier beschrieben ist. Später in der Anwendung nehmen wir die Werte, die R ausgibt. Die Abweichungen sind so maginal, dass wir diese Abweichungen in der praktischen Anwendung ignorieren wollen.

### Interquartilesabstand (IQR)

$$
IQR = \mbox{3rd Quartile} - \mbox{1st Quartile} = 9.1 - 5.2 = 3.9
$$

## Zusammenfassen von Daten per Faktor

```{r }
data_tbl %>%
  gather(key = "animal", value = "jump_length") %>%
  mutate(animal = as_factor(animal)) %>%
  group_by(animal) %>%
  summarise(mean(jump_length),
            sd(jump_length))


```
