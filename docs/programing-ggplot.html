<!DOCTYPE html>
<html xmlns="http://www.w3.org/1999/xhtml" lang="de" xml:lang="de"><head>

<meta charset="utf-8">
<meta name="generator" content="quarto-1.8.25">

<meta name="viewport" content="width=device-width, initial-scale=1.0, user-scalable=yes">

<meta name="description" content="Ein Kochbuch mit Rezepten aus der Bio Data Science, Biostatistik, Biometrie und Statistik zum selber nachkochen!">

<title>15&nbsp; Ein {ggplot} Cookbook – Bio Data Science</title>
<style>
code{white-space: pre-wrap;}
span.smallcaps{font-variant: small-caps;}
div.columns{display: flex; gap: min(4vw, 1.5em);}
div.column{flex: auto; overflow-x: auto;}
div.hanging-indent{margin-left: 1.5em; text-indent: -1.5em;}
ul.task-list{list-style: none;}
ul.task-list li input[type="checkbox"] {
  width: 0.8em;
  margin: 0 0.8em 0.2em -1em; /* quarto-specific, see https://github.com/quarto-dev/quarto-cli/issues/4556 */ 
  vertical-align: middle;
}
/* CSS for syntax highlighting */
html { -webkit-text-size-adjust: 100%; }
pre > code.sourceCode { white-space: pre; position: relative; }
pre > code.sourceCode > span { display: inline-block; line-height: 1.25; }
pre > code.sourceCode > span:empty { height: 1.2em; }
.sourceCode { overflow: visible; }
code.sourceCode > span { color: inherit; text-decoration: inherit; }
div.sourceCode { margin: 1em 0; }
pre.sourceCode { margin: 0; }
@media screen {
div.sourceCode { overflow: auto; }
}
@media print {
pre > code.sourceCode { white-space: pre-wrap; }
pre > code.sourceCode > span { text-indent: -5em; padding-left: 5em; }
}
pre.numberSource code
  { counter-reset: source-line 0; }
pre.numberSource code > span
  { position: relative; left: -4em; counter-increment: source-line; }
pre.numberSource code > span > a:first-child::before
  { content: counter(source-line);
    position: relative; left: -1em; text-align: right; vertical-align: baseline;
    border: none; display: inline-block;
    -webkit-touch-callout: none; -webkit-user-select: none;
    -khtml-user-select: none; -moz-user-select: none;
    -ms-user-select: none; user-select: none;
    padding: 0 4px; width: 4em;
  }
pre.numberSource { margin-left: 3em;  padding-left: 4px; }
div.sourceCode
  {   }
@media screen {
pre > code.sourceCode > span > a:first-child::before { text-decoration: underline; }
}
/* CSS for citations */
div.csl-bib-body { }
div.csl-entry {
  clear: both;
  margin-bottom: 0em;
}
.hanging-indent div.csl-entry {
  margin-left:2em;
  text-indent:-2em;
}
div.csl-left-margin {
  min-width:2em;
  float:left;
}
div.csl-right-inline {
  margin-left:2em;
  padding-left:1em;
}
div.csl-indent {
  margin-left: 2em;
}</style>


<script src="site_libs/quarto-nav/quarto-nav.js"></script>
<script src="site_libs/quarto-nav/headroom.min.js"></script>
<script src="site_libs/clipboard/clipboard.min.js"></script>
<script src="site_libs/quarto-search/autocomplete.umd.js"></script>
<script src="site_libs/quarto-search/fuse.min.js"></script>
<script src="site_libs/quarto-search/quarto-search.js"></script>
<meta name="quarto:offset" content="./">
<link href="./programing-quarto-shiny.html" rel="next">
<link href="./programing-purrr-furrr.html" rel="prev">
<link href="./cover2026_favi.png" rel="icon" type="image/png">
<script src="site_libs/quarto-html/quarto.js" type="module"></script>
<script src="site_libs/quarto-html/tabsets/tabsets.js" type="module"></script>
<script src="site_libs/quarto-html/axe/axe-check.js" type="module"></script>
<script src="site_libs/quarto-html/popper.min.js"></script>
<script src="site_libs/quarto-html/tippy.umd.min.js"></script>
<script src="site_libs/quarto-html/anchor.min.js"></script>
<link href="site_libs/quarto-html/tippy.css" rel="stylesheet">
<link href="site_libs/quarto-html/quarto-syntax-highlighting-e41caad1b6b9b62eb3087831f3b4c651.css" rel="stylesheet" id="quarto-text-highlighting-styles">
<script src="site_libs/bootstrap/bootstrap.min.js"></script>
<link href="site_libs/bootstrap/bootstrap-icons.css" rel="stylesheet">
<link href="site_libs/bootstrap/bootstrap-064472c1586a72cde17e5630ffd91641.min.css" rel="stylesheet" append-hash="true" id="quarto-bootstrap" data-mode="light">
<script src="site_libs/quarto-contrib/glightbox/glightbox.min.js"></script>
<link href="site_libs/quarto-contrib/glightbox/glightbox.min.css" rel="stylesheet">
<link href="site_libs/quarto-contrib/glightbox/lightbox.css" rel="stylesheet">
<script id="quarto-search-options" type="application/json">{
  "location": "sidebar",
  "copy-button": false,
  "collapse-after": 3,
  "panel-placement": "start",
  "type": "textbox",
  "limit": 50,
  "keyboard-shortcut": [
    "f",
    "/",
    "s"
  ],
  "show-item-context": false,
  "language": {
    "search-no-results-text": "Keine Treffer",
    "search-matching-documents-text": "Treffer",
    "search-copy-link-title": "Link in die Suche kopieren",
    "search-hide-matches-text": "Zusätzliche Treffer verbergen",
    "search-more-match-text": "weitere Treffer in diesem Dokument",
    "search-more-matches-text": "weitere Treffer in diesem Dokument",
    "search-clear-button-title": "Zurücksetzen",
    "search-text-placeholder": "",
    "search-detached-cancel-button-title": "Abbrechen",
    "search-submit-button-title": "Abschicken",
    "search-label": "Suchen"
  }
}</script>

  <script src="https://cdnjs.cloudflare.com/polyfill/v3/polyfill.min.js?features=es6"></script>
  <script src="https://cdn.jsdelivr.net/npm/mathjax@3/es5/tex-chtml-full.js" type="text/javascript"></script>

<script type="text/javascript">
const typesetMath = (el) => {
  if (window.MathJax) {
    // MathJax Typeset
    window.MathJax.typeset([el]);
  } else if (window.katex) {
    // KaTeX Render
    var mathElements = el.getElementsByClassName("math");
    var macros = [];
    for (var i = 0; i < mathElements.length; i++) {
      var texText = mathElements[i].firstChild;
      if (mathElements[i].tagName == "SPAN" && texText && texText.data) {
        window.katex.render(texText.data, mathElements[i], {
          displayMode: mathElements[i].classList.contains('display'),
          throwOnError: false,
          macros: macros,
          fleqn: false
        });
      }
    }
  }
}
window.Quarto = {
  typesetMath
};
</script>

<meta property="og:title" content="15&nbsp; Ein {ggplot} Cookbook – Bio Data Science">
<meta property="og:description" content="Ein Kochbuch mit Rezepten der Bio Data Science, Biostatistik, Biometrie und Statistik">
<meta property="og:image" content="https://github.com/jkruppa/jkruppa.github.io/raw/master/cover2026.png">
<meta property="og:site_name" content="Bio Data Science">
</head>

<body class="nav-sidebar floating quarto-light">

<div id="quarto-search-results"></div>
  <header id="quarto-header" class="headroom fixed-top">
  <nav class="quarto-secondary-nav">
    <div class="container-fluid d-flex">
      <button type="button" class="quarto-btn-toggle btn" data-bs-toggle="collapse" role="button" data-bs-target=".quarto-sidebar-collapse-item" aria-controls="quarto-sidebar" aria-expanded="false" aria-label="Seitenleiste umschalten" onclick="if (window.quartoToggleHeadroom) { window.quartoToggleHeadroom(); }">
        <i class="bi bi-layout-text-sidebar-reverse"></i>
      </button>
        <nav class="quarto-page-breadcrumbs" aria-label="breadcrumb"><ol class="breadcrumb"><li class="breadcrumb-item"><a href="./programing-preface.html">Programmieren in R</a></li><li class="breadcrumb-item"><a href="./programing-ggplot.html"><span class="chapter-number">15</span>&nbsp; <span class="chapter-title">Ein <code>{ggplot}</code> Cookbook</span></a></li></ol></nav>
        <a class="flex-grow-1" role="navigation" data-bs-toggle="collapse" data-bs-target=".quarto-sidebar-collapse-item" aria-controls="quarto-sidebar" aria-expanded="false" aria-label="Seitenleiste umschalten" onclick="if (window.quartoToggleHeadroom) { window.quartoToggleHeadroom(); }">      
        </a>
      <button type="button" class="btn quarto-search-button" aria-label="Suchen" onclick="window.quartoOpenSearch();">
        <i class="bi bi-search"></i>
      </button>
    </div>
  </nav>
</header>
<!-- content -->
<div id="quarto-content" class="quarto-container page-columns page-rows-contents page-layout-article">
<!-- sidebar -->
  <nav id="quarto-sidebar" class="sidebar collapse collapse-horizontal quarto-sidebar-collapse-item sidebar-navigation floating overflow-auto">
    <div class="pt-lg-2 mt-2 text-left sidebar-header sidebar-header-stacked">
      <a href="./index.html" class="sidebar-logo-link">
      </a>
    <div class="sidebar-title mb-0 py-0">
      <a href="./">Bio Data Science</a> 
        <div class="sidebar-tools-main">
    <a href="https://github.com/jkruppa/jkruppa.github.io/" title="Quellcode" class="quarto-navigation-tool px-1" aria-label="Quellcode"><i class="bi bi-github"></i></a>
    <div class="dropdown">
      <a href="" title="Share" id="quarto-navigation-tool-dropdown-0" class="quarto-navigation-tool dropdown-toggle px-1" data-bs-toggle="dropdown" aria-expanded="false" role="link" aria-label="Share"><i class="bi bi-share"></i></a>
      <ul class="dropdown-menu" aria-labelledby="quarto-navigation-tool-dropdown-0">
          <li>
            <a class="dropdown-item sidebar-tools-main-item" href="https://twitter.com/intent/tweet?url=|url|">
              <i class="bi bi-twitter pe-1"></i>
            Twitter
            </a>
          </li>
          <li>
            <a class="dropdown-item sidebar-tools-main-item" href="https://www.facebook.com/sharer/sharer.php?u=|url|">
              <i class="bi bi-facebook pe-1"></i>
            Facebook
            </a>
          </li>
          <li>
            <a class="dropdown-item sidebar-tools-main-item" href="https://www.linkedin.com/sharing/share-offsite/?url=|url|">
              <i class="bi bi-linkedin pe-1"></i>
            LinkedIn
            </a>
          </li>
      </ul>
    </div>
</div>
    </div>
      </div>
        <div class="mt-2 flex-shrink-0 align-items-center">
        <div class="sidebar-search">
        <div id="quarto-search" class="" title="Suchen"></div>
        </div>
        </div>
    <div class="sidebar-menu-container"> 
    <ul class="list-unstyled mt-1">
        <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="./index.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text">Willkommen</span></a>
  </div>
</li>
        <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="./organisation.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text"><span class="chapter-number">1</span>&nbsp; <span class="chapter-title">Organisation</span></span></a>
  </div>
</li>
        <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="./literature.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text"><span class="chapter-number">2</span>&nbsp; <span class="chapter-title">Bibliothek</span></span></a>
  </div>
</li>
        <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="./forschungsprozess.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text"><span class="chapter-number">3</span>&nbsp; <span class="chapter-title">Forschungsprozess</span></span></a>
  </div>
</li>
        <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="./abschlussarbeit.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text"><span class="chapter-number">4</span>&nbsp; <span class="chapter-title">Abschlussarbeit</span></span></a>
  </div>
</li>
        <li class="sidebar-item sidebar-item-section">
      <div class="sidebar-item-container"> 
            <a href="./example-preface.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text">Datenbeispiele</span></a>
          <a class="sidebar-item-toggle text-start" data-bs-toggle="collapse" data-bs-target="#quarto-sidebar-section-1" role="navigation" aria-expanded="true" aria-label="Abschnitt umschalten">
            <i class="bi bi-chevron-right ms-2"></i>
          </a> 
      </div>
      <ul id="quarto-sidebar-section-1" class="collapse list-unstyled sidebar-section depth1 show">  
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="./example-fleas-dogs-cats.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text"><span class="chapter-number">5</span>&nbsp; <span class="chapter-title">Von Flöhen auf Tieren</span></span></a>
  </div>
</li>
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="./example-gummi-bears.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text"><span class="chapter-number">6</span>&nbsp; <span class="chapter-title">Von Gummibärchen</span></span></a>
  </div>
</li>
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="./example-complex.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text"><span class="chapter-number">7</span>&nbsp; <span class="chapter-title">Von komplexeren Daten</span></span></a>
  </div>
</li>
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="./example-database.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text"><span class="chapter-number">8</span>&nbsp; <span class="chapter-title">Von Datenbanken</span></span></a>
  </div>
</li>
      </ul>
  </li>
        <li class="sidebar-item sidebar-item-section">
      <div class="sidebar-item-container"> 
            <a href="./programing-preface.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text">Programmieren in R</span></a>
          <a class="sidebar-item-toggle text-start" data-bs-toggle="collapse" data-bs-target="#quarto-sidebar-section-2" role="navigation" aria-expanded="true" aria-label="Abschnitt umschalten">
            <i class="bi bi-chevron-right ms-2"></i>
          </a> 
      </div>
      <ul id="quarto-sidebar-section-2" class="collapse list-unstyled sidebar-section depth1 show">  
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="./programing-letters-numbers.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text"><span class="chapter-number">9</span>&nbsp; <span class="chapter-title">Daten in R</span></span></a>
  </div>
</li>
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="./programing-basics.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text"><span class="chapter-number">10</span>&nbsp; <span class="chapter-title">Operatoren, Funktionen und Pakete</span></span></a>
  </div>
</li>
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="./programing-import.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text"><span class="chapter-number">11</span>&nbsp; <span class="chapter-title">Daten lesen &amp; schreiben</span></span></a>
  </div>
</li>
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="./programing-dplyr.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text"><span class="chapter-number">12</span>&nbsp; <span class="chapter-title">Daten bearbeiten</span></span></a>
  </div>
</li>
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="./programing-strings.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text"><span class="chapter-number">13</span>&nbsp; <span class="chapter-title">Reguläre Ausdrücke</span></span></a>
  </div>
</li>
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="./programing-purrr-furrr.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text"><span class="chapter-number">14</span>&nbsp; <span class="chapter-title">Ein <code>{purrr}</code> Cookbook</span></span></a>
  </div>
</li>
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="./programing-ggplot.html" class="sidebar-item-text sidebar-link active">
 <span class="menu-text"><span class="chapter-number">15</span>&nbsp; <span class="chapter-title">Ein <code>{ggplot}</code> Cookbook</span></span></a>
  </div>
</li>
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="./programing-quarto-shiny.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text"><span class="chapter-number">16</span>&nbsp; <span class="chapter-title">Quarto und Shiny App</span></span></a>
  </div>
</li>
      </ul>
  </li>
        <li class="sidebar-item sidebar-item-section">
      <div class="sidebar-item-container"> 
            <a href="./eda-preface.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text">Explorative Datenanalyse</span></a>
          <a class="sidebar-item-toggle text-start" data-bs-toggle="collapse" data-bs-target="#quarto-sidebar-section-3" role="navigation" aria-expanded="true" aria-label="Abschnitt umschalten">
            <i class="bi bi-chevron-right ms-2"></i>
          </a> 
      </div>
      <ul id="quarto-sidebar-section-3" class="collapse list-unstyled sidebar-section depth1 show">  
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="./eda-descriptive.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text"><span class="chapter-number">17</span>&nbsp; <span class="chapter-title">Deskriptive Statistik</span></span></a>
  </div>
</li>
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="./eda-ggplot.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text"><span class="chapter-number">18</span>&nbsp; <span class="chapter-title">Visualisierung von Daten</span></span></a>
  </div>
</li>
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="./eda-distribution.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text"><span class="chapter-number">19</span>&nbsp; <span class="chapter-title">Verteilung von Daten</span></span></a>
  </div>
</li>
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="./eda-transform.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text"><span class="chapter-number">20</span>&nbsp; <span class="chapter-title">Transformieren von Daten</span></span></a>
  </div>
</li>
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="./eda-generation.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text"><span class="chapter-number">21</span>&nbsp; <span class="chapter-title">Generierung von Daten</span></span></a>
  </div>
</li>
      </ul>
  </li>
        <li class="sidebar-item sidebar-item-section">
      <div class="sidebar-item-container"> 
            <a href="./stat-tests-preface-theory.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text">Testen von Hypothesen</span></a>
          <a class="sidebar-item-toggle text-start" data-bs-toggle="collapse" data-bs-target="#quarto-sidebar-section-4" role="navigation" aria-expanded="true" aria-label="Abschnitt umschalten">
            <i class="bi bi-chevron-right ms-2"></i>
          </a> 
      </div>
      <ul id="quarto-sidebar-section-4" class="collapse list-unstyled sidebar-section depth1 show">  
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="./stat-tests-basic.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text"><span class="chapter-number">22</span>&nbsp; <span class="chapter-title">Die Testentscheidung</span></span></a>
  </div>
</li>
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="./stat-tests-theorie.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text"><span class="chapter-number">23</span>&nbsp; <span class="chapter-title">Die Testtheorie</span></span></a>
  </div>
</li>
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="./stat-tests-effect.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text"><span class="chapter-number">24</span>&nbsp; <span class="chapter-title">Der Effektschätzer</span></span></a>
  </div>
</li>
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="./stat-tests-pretest2.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text"><span class="chapter-number">25</span>&nbsp; <span class="chapter-title">Der Pre-Test oder Vortest</span></span></a>
  </div>
</li>
      </ul>
  </li>
        <li class="sidebar-item sidebar-item-section">
      <div class="sidebar-item-container"> 
            <a href="./experimental-design-preface.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text">Experimentelle Designs</span></a>
          <a class="sidebar-item-toggle text-start" data-bs-toggle="collapse" data-bs-target="#quarto-sidebar-section-5" role="navigation" aria-expanded="true" aria-label="Abschnitt umschalten">
            <i class="bi bi-chevron-right ms-2"></i>
          </a> 
      </div>
      <ul id="quarto-sidebar-section-5" class="collapse list-unstyled sidebar-section depth1 show">  
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="./experimental-design-r.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text"><span class="chapter-number">26</span>&nbsp; <span class="chapter-title">Versuchsplanung in R</span></span></a>
  </div>
</li>
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="./experimental-design-basic.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text"><span class="chapter-number">27</span>&nbsp; <span class="chapter-title">Einfache Designs</span></span></a>
  </div>
</li>
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="./experimental-design-advanced.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text"><span class="chapter-number">28</span>&nbsp; <span class="chapter-title">Fortgeschrittene Designs</span></span></a>
  </div>
</li>
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="./experimental-design-samplesize.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text"><span class="chapter-number">29</span>&nbsp; <span class="chapter-title">Fallzahlplanung</span></span></a>
  </div>
</li>
      </ul>
  </li>
        <li class="sidebar-item sidebar-item-section">
      <div class="sidebar-item-container"> 
            <a href="./stat-tests-preface-app.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text">Statistische Gruppenvergleiche</span></a>
          <a class="sidebar-item-toggle text-start" data-bs-toggle="collapse" data-bs-target="#quarto-sidebar-section-6" role="navigation" aria-expanded="true" aria-label="Abschnitt umschalten">
            <i class="bi bi-chevron-right ms-2"></i>
          </a> 
      </div>
      <ul id="quarto-sidebar-section-6" class="collapse list-unstyled sidebar-section depth1 show">  
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="./stat-tests-R.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text"><span class="chapter-number">30</span>&nbsp; <span class="chapter-title">Testen in R</span></span></a>
  </div>
</li>
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="./stat-tests-ttest.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text"><span class="chapter-number">31</span>&nbsp; <span class="chapter-title">Der t-Test</span></span></a>
  </div>
</li>
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="./stat-tests-anova2.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text"><span class="chapter-number">32</span>&nbsp; <span class="chapter-title">Die ANOVA</span></span></a>
  </div>
</li>
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="./stat-tests-ancova2.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text"><span class="chapter-number">33</span>&nbsp; <span class="chapter-title">Die ANCOVA</span></span></a>
  </div>
</li>
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="./stat-tests-anova-mixed.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text"><span class="chapter-number">34</span>&nbsp; <span class="chapter-title">Die repeated / mixed ANOVA</span></span></a>
  </div>
</li>
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="./stat-tests-anova-manova.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text"><span class="chapter-number">35</span>&nbsp; <span class="chapter-title">Die MANOVA</span></span></a>
  </div>
</li>
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="./stat-tests-utest.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text"><span class="chapter-number">36</span>&nbsp; <span class="chapter-title">Der U-Test</span></span></a>
  </div>
</li>
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="./stat-tests-kruskal.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text"><span class="chapter-number">37</span>&nbsp; <span class="chapter-title">Der Kruskal-Wallis-Test</span></span></a>
  </div>
</li>
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="./stat-tests-friedman.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text"><span class="chapter-number">38</span>&nbsp; <span class="chapter-title">Der Friedman Test</span></span></a>
  </div>
</li>
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="./stat-tests-chi-test.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text"><span class="chapter-number">39</span>&nbsp; <span class="chapter-title">Der Chi-Quadrat-Test</span></span></a>
  </div>
</li>
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="./stat-tests-anteil-test.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text"><span class="chapter-number">40</span>&nbsp; <span class="chapter-title">Der Anteilstest</span></span></a>
  </div>
</li>
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="./stat-tests-diagnostic.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text"><span class="chapter-number">41</span>&nbsp; <span class="chapter-title">Der diagnostische Test</span></span></a>
  </div>
</li>
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="./stat-tests-trendtest.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text"><span class="chapter-number">42</span>&nbsp; <span class="chapter-title">Der Trendtest</span></span></a>
  </div>
</li>
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="./stat-tests-permutationstest.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text"><span class="chapter-number">43</span>&nbsp; <span class="chapter-title">Der Permutationstest</span></span></a>
  </div>
</li>
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="./stat-tests-posthoc2.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text"><span class="chapter-number">44</span>&nbsp; <span class="chapter-title">Der Post-hoc Test</span></span></a>
  </div>
</li>
      </ul>
  </li>
        <li class="sidebar-item sidebar-item-section">
      <div class="sidebar-item-container"> 
            <a href="./stat-linear-reg-preface.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text">Grundlagen des Modellierens</span></a>
          <a class="sidebar-item-toggle text-start" data-bs-toggle="collapse" data-bs-target="#quarto-sidebar-section-7" role="navigation" aria-expanded="true" aria-label="Abschnitt umschalten">
            <i class="bi bi-chevron-right ms-2"></i>
          </a> 
      </div>
      <ul id="quarto-sidebar-section-7" class="collapse list-unstyled sidebar-section depth1 show">  
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="./stat-linear-reg-basic.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text"><span class="chapter-number">45</span>&nbsp; <span class="chapter-title">Simple lineare Regression</span></span></a>
  </div>
</li>
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="./stat-modeling-basic.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text"><span class="chapter-number">46</span>&nbsp; <span class="chapter-title">Multiple lineare Regression</span></span></a>
  </div>
</li>
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="./stat-linear-reg-quality.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text"><span class="chapter-number">47</span>&nbsp; <span class="chapter-title">Modelgüte</span></span></a>
  </div>
</li>
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="./stat-linear-reg-corr.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text"><span class="chapter-number">48</span>&nbsp; <span class="chapter-title">Korrelation</span></span></a>
  </div>
</li>
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="./stat-modeling-outlier.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text"><span class="chapter-number">49</span>&nbsp; <span class="chapter-title">Ausreißer</span></span></a>
  </div>
</li>
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="./stat-modeling-variable-selection.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text"><span class="chapter-number">50</span>&nbsp; <span class="chapter-title">Variablenselektion</span></span></a>
  </div>
</li>
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="./stat-modeling-missing.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text"><span class="chapter-number">51</span>&nbsp; <span class="chapter-title">Fehlende Werte</span></span></a>
  </div>
</li>
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="./stat-modeling-sensitivity.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text"><span class="chapter-number">52</span>&nbsp; <span class="chapter-title">Sensitivitätsanalyse</span></span></a>
  </div>
</li>
      </ul>
  </li>
        <li class="sidebar-item sidebar-item-section">
      <div class="sidebar-item-container"> 
            <a href="./stat-modeling-preface.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text">Statistisches Modellieren</span></a>
          <a class="sidebar-item-toggle text-start" data-bs-toggle="collapse" data-bs-target="#quarto-sidebar-section-8" role="navigation" aria-expanded="true" aria-label="Abschnitt umschalten">
            <i class="bi bi-chevron-right ms-2"></i>
          </a> 
      </div>
      <ul id="quarto-sidebar-section-8" class="collapse list-unstyled sidebar-section depth1 show">  
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="./stat-modeling-R.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text"><span class="chapter-number">53</span>&nbsp; <span class="chapter-title">Modellieren in R</span></span></a>
  </div>
</li>
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="./stat-modeling-marginal.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text"><span class="chapter-number">54</span>&nbsp; <span class="chapter-title">Marginal effect models</span></span></a>
  </div>
</li>
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="./stat-modeling-gaussian.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text"><span class="chapter-number">55</span>&nbsp; <span class="chapter-title">Gaussian Regression</span></span></a>
  </div>
</li>
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="./stat-modeling-poisson.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text"><span class="chapter-number">56</span>&nbsp; <span class="chapter-title">Poisson Regression</span></span></a>
  </div>
</li>
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="./stat-modeling-beta.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text"><span class="chapter-number">57</span>&nbsp; <span class="chapter-title">Beta Regression</span></span></a>
  </div>
</li>
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="./stat-modeling-multinom.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text"><span class="chapter-number">58</span>&nbsp; <span class="chapter-title">Multinomiale / Ordinale Regression</span></span></a>
  </div>
</li>
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="./stat-modeling-logistic.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text"><span class="chapter-number">59</span>&nbsp; <span class="chapter-title">Logistische Regression</span></span></a>
  </div>
</li>
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="./stat-modeling-prob-model.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text"><span class="chapter-number">60</span>&nbsp; <span class="chapter-title">Linear Probability Model</span></span></a>
  </div>
</li>
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="./stat-modeling-mixed.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text"><span class="chapter-number">61</span>&nbsp; <span class="chapter-title">Lineare gemischte Modelle</span></span></a>
  </div>
</li>
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="./stat-modeling-gee.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text"><span class="chapter-number">62</span>&nbsp; <span class="chapter-title">Generalized Estimating Equations (GEE)</span></span></a>
  </div>
</li>
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="./stat-modeling-non-linear.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text"><span class="chapter-number">63</span>&nbsp; <span class="chapter-title">Nicht lineare Regression</span></span></a>
  </div>
</li>
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="./stat-modeling-robust-quantile.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text"><span class="chapter-number">64</span>&nbsp; <span class="chapter-title">Robuste und Quantilesregression</span></span></a>
  </div>
</li>
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="./stat-modeling-survival.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text"><span class="chapter-number">65</span>&nbsp; <span class="chapter-title">Überlebenszeitanalysen</span></span></a>
  </div>
</li>
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="./stat-modeling-noninferiority.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text"><span class="chapter-number">66</span>&nbsp; <span class="chapter-title">Äquivalenz oder Nichtunterlegenheit</span></span></a>
  </div>
</li>
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="./stat-modeling-meta.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text"><span class="chapter-number">67</span>&nbsp; <span class="chapter-title">Metaanalysen</span></span></a>
  </div>
</li>
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="./stat-modeling-cluster.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text"><span class="chapter-number">68</span>&nbsp; <span class="chapter-title">Clusteranalysen</span></span></a>
  </div>
</li>
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="./stat-modeling-pca.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text"><span class="chapter-number">69</span>&nbsp; <span class="chapter-title">Multivariate Verfahren</span></span></a>
  </div>
</li>
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="./stat-modeling-survey.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text"><span class="chapter-number">70</span>&nbsp; <span class="chapter-title">Fragebogenanalyse</span></span></a>
  </div>
</li>
      </ul>
  </li>
        <li class="sidebar-item sidebar-item-section">
      <div class="sidebar-item-container"> 
            <a href="./time-space-preface.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text">Zeitliche und räumliche Analysen</span></a>
          <a class="sidebar-item-toggle text-start" data-bs-toggle="collapse" data-bs-target="#quarto-sidebar-section-9" role="navigation" aria-expanded="true" aria-label="Abschnitt umschalten">
            <i class="bi bi-chevron-right ms-2"></i>
          </a> 
      </div>
      <ul id="quarto-sidebar-section-9" class="collapse list-unstyled sidebar-section depth1 show">  
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="./time-space-pseudo-time-series.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text"><span class="chapter-number">71</span>&nbsp; <span class="chapter-title">Pseudo Zeitreihen</span></span></a>
  </div>
</li>
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="./time-space-time-series.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text"><span class="chapter-number">72</span>&nbsp; <span class="chapter-title">Zeitreihen</span></span></a>
  </div>
</li>
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="./time-space-spatial-data.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text"><span class="chapter-number">73</span>&nbsp; <span class="chapter-title">Räumliche Daten</span></span></a>
  </div>
</li>
      </ul>
  </li>
        <li class="sidebar-item sidebar-item-section">
      <div class="sidebar-item-container"> 
            <a href="./classification-preface.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text">Klassifikation oder maschinelles Lernen</span></a>
          <a class="sidebar-item-toggle text-start" data-bs-toggle="collapse" data-bs-target="#quarto-sidebar-section-10" role="navigation" aria-expanded="true" aria-label="Abschnitt umschalten">
            <i class="bi bi-chevron-right ms-2"></i>
          </a> 
      </div>
      <ul id="quarto-sidebar-section-10" class="collapse list-unstyled sidebar-section depth1 show">  
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="./classification-basic.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text"><span class="chapter-number">74</span>&nbsp; <span class="chapter-title">Grundlagen der Klassifikation</span></span></a>
  </div>
</li>
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="./classification-data.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text"><span class="chapter-number">75</span>&nbsp; <span class="chapter-title">Data splitting</span></span></a>
  </div>
</li>
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="./classification-pre-processing.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text"><span class="chapter-number">76</span>&nbsp; <span class="chapter-title">Data preprocessing</span></span></a>
  </div>
</li>
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="./classification-model-compare.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text"><span class="chapter-number">77</span>&nbsp; <span class="chapter-title">Vergleich von Algorithmen</span></span></a>
  </div>
</li>
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="./classification-knn.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text"><span class="chapter-number">78</span>&nbsp; <span class="chapter-title"><span class="math inline">\(k\)</span> nearest neighbor</span></span></a>
  </div>
</li>
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="./classification-randomforest.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text"><span class="chapter-number">79</span>&nbsp; <span class="chapter-title">Decision trees</span></span></a>
  </div>
</li>
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="./classification-svm.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text"><span class="chapter-number">80</span>&nbsp; <span class="chapter-title">Support vector machines</span></span></a>
  </div>
</li>
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="./classification-neural-networks.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text"><span class="chapter-number">81</span>&nbsp; <span class="chapter-title">Neural networks</span></span></a>
  </div>
</li>
      </ul>
  </li>
        <li class="sidebar-item sidebar-item-section">
      <div class="sidebar-item-container"> 
            <a href="./abspann.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text">Abspann</span></a>
          <a class="sidebar-item-toggle text-start" data-bs-toggle="collapse" data-bs-target="#quarto-sidebar-section-11" role="navigation" aria-expanded="true" aria-label="Abschnitt umschalten">
            <i class="bi bi-chevron-right ms-2"></i>
          </a> 
      </div>
      <ul id="quarto-sidebar-section-11" class="collapse list-unstyled sidebar-section depth1 show">  
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="./app-spielecke.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text"><span class="chapter-number">82</span>&nbsp; <span class="chapter-title">Spielecke</span></span></a>
  </div>
</li>
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="./construction-zone.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text"><span class="chapter-number">83</span>&nbsp; <span class="chapter-title">Baustelle</span></span></a>
  </div>
</li>
      </ul>
  </li>
    </ul>
    </div>
</nav>
<div id="quarto-sidebar-glass" class="quarto-sidebar-collapse-item" data-bs-toggle="collapse" data-bs-target=".quarto-sidebar-collapse-item"></div>
<!-- margin-sidebar -->
    <div id="quarto-margin-sidebar" class="sidebar margin-sidebar">
        <nav id="TOC" role="doc-toc" class="toc-active" data-toc-expanded="2">
    <h2 id="toc-title">Inhaltsverzeichnis</h2>
   
  <ul>
  <li><a href="#allgemeiner-hintergrund" id="toc-allgemeiner-hintergrund" class="nav-link active" data-scroll-target="#allgemeiner-hintergrund"><span class="header-section-number">15.1</span> Allgemeiner Hintergrund</a></li>
  <li><a href="#genutzte-r-pakete" id="toc-genutzte-r-pakete" class="nav-link" data-scroll-target="#genutzte-r-pakete"><span class="header-section-number">15.2</span> Genutzte R Pakete</a></li>
  <li><a href="#daten" id="toc-daten" class="nav-link" data-scroll-target="#daten"><span class="header-section-number">15.3</span> Daten</a></li>
  <li><a href="#probleme-von-interesse" id="toc-probleme-von-interesse" class="nav-link" data-scroll-target="#probleme-von-interesse"><span class="header-section-number">15.4</span> Probleme von Interesse</a>
  <ul class="collapse">
  <li><a href="#striche-punkte-und-text" id="toc-striche-punkte-und-text" class="nav-link" data-scroll-target="#striche-punkte-und-text"><span class="header-section-number">15.4.1</span> Striche, Punkte und Text</a></li>
  <li><a href="#überschriften-achsen-und-legenden" id="toc-überschriften-achsen-und-legenden" class="nav-link" data-scroll-target="#überschriften-achsen-und-legenden"><span class="header-section-number">15.4.2</span> Überschriften, Achsen und Legenden</a></li>
  <li><a href="#schriftarten" id="toc-schriftarten" class="nav-link" data-scroll-target="#schriftarten"><span class="header-section-number">15.4.3</span> Schriftarten</a></li>
  <li><a href="#theme-anpassen" id="toc-theme-anpassen" class="nav-link" data-scroll-target="#theme-anpassen"><span class="header-section-number">15.4.4</span> Theme anpassen</a></li>
  <li><a href="#abbildungen-beschriften" id="toc-abbildungen-beschriften" class="nav-link" data-scroll-target="#abbildungen-beschriften"><span class="header-section-number">15.4.5</span> Abbildungen beschriften</a></li>
  <li><a href="#keine-lücke-auf-der-y-achse" id="toc-keine-lücke-auf-der-y-achse" class="nav-link" data-scroll-target="#keine-lücke-auf-der-y-achse"><span class="header-section-number">15.4.6</span> Keine Lücke auf der y-Achse</a></li>
  <li><a href="#sec-abbildung-nebeneinander" id="toc-sec-abbildung-nebeneinander" class="nav-link" data-scroll-target="#sec-abbildung-nebeneinander"><span class="header-section-number">15.4.7</span> Abbildungen nebeneinander</a></li>
  <li><a href="#abbildungen-abspeichern" id="toc-abbildungen-abspeichern" class="nav-link" data-scroll-target="#abbildungen-abspeichern"><span class="header-section-number">15.4.8</span> Abbildungen abspeichern</a></li>
  <li><a href="#sec-eda-tex" id="toc-sec-eda-tex" class="nav-link" data-scroll-target="#sec-eda-tex"><span class="header-section-number">15.4.9</span> Mathematische Ausdrücke</a></li>
  <li><a href="#farbpaletten" id="toc-farbpaletten" class="nav-link" data-scroll-target="#farbpaletten"><span class="header-section-number">15.4.10</span> Farbpaletten</a></li>
  <li><a href="#lange-namen-auf-der-x-achse" id="toc-lange-namen-auf-der-x-achse" class="nav-link" data-scroll-target="#lange-namen-auf-der-x-achse"><span class="header-section-number">15.4.11</span> Lange Namen auf der x-Achse</a></li>
  <li><a href="#zoomen" id="toc-zoomen" class="nav-link" data-scroll-target="#zoomen"><span class="header-section-number">15.4.12</span> Zoomen</a></li>
  <li><a href="#abbildungen-aufteilen" id="toc-abbildungen-aufteilen" class="nav-link" data-scroll-target="#abbildungen-aufteilen"><span class="header-section-number">15.4.13</span> Abbildungen aufteilen</a></li>
  <li><a href="#gebrochene-y-achse" id="toc-gebrochene-y-achse" class="nav-link" data-scroll-target="#gebrochene-y-achse"><span class="header-section-number">15.4.14</span> Gebrochene <span class="math inline">\(y\)</span>-Achse</a></li>
  </ul></li>
  <li><a href="#r-pakete-von-interesse" id="toc-r-pakete-von-interesse" class="nav-link" data-scroll-target="#r-pakete-von-interesse"><span class="header-section-number">15.5</span> R Pakete von Interesse</a>
  <ul class="collapse">
  <li><a href="#forcats" id="toc-forcats" class="nav-link" data-scroll-target="#forcats"><span class="header-section-number">15.5.1</span> <code>{forcats}</code></a></li>
  <li><a href="#ggrepel" id="toc-ggrepel" class="nav-link" data-scroll-target="#ggrepel"><span class="header-section-number">15.5.2</span> <code>{ggrepel}</code></a></li>
  <li><a href="#ggh4x" id="toc-ggh4x" class="nav-link" data-scroll-target="#ggh4x"><span class="header-section-number">15.5.3</span> <code>{ggh4x}</code></a></li>
  <li><a href="#ggtext" id="toc-ggtext" class="nav-link" data-scroll-target="#ggtext"><span class="header-section-number">15.5.4</span> <code>{ggtext}</code></a></li>
  <li><a href="#ggdist" id="toc-ggdist" class="nav-link" data-scroll-target="#ggdist"><span class="header-section-number">15.5.5</span> <code>{ggdist}</code></a></li>
  <li><a href="#ggpmisc" id="toc-ggpmisc" class="nav-link" data-scroll-target="#ggpmisc"><span class="header-section-number">15.5.6</span> <code>{ggpmisc}</code></a></li>
  <li><a href="#patchwork" id="toc-patchwork" class="nav-link" data-scroll-target="#patchwork"><span class="header-section-number">15.5.7</span> <code>{patchwork}</code></a></li>
  <li><a href="#gganimate" id="toc-gganimate" class="nav-link" data-scroll-target="#gganimate"><span class="header-section-number">15.5.8</span> <code>{gganimate}</code></a></li>
  </ul></li>
  <li><a href="#links-von-interesse" id="toc-links-von-interesse" class="nav-link" data-scroll-target="#links-von-interesse"><span class="header-section-number">15.6</span> Links von Interesse</a></li>
  <li><a href="#referenzen" id="toc-referenzen" class="nav-link" data-scroll-target="#referenzen">Referenzen</a></li>
  </ul>
<div class="toc-actions"><ul><li><a href="https://github.com/jkruppa/jkruppa.github.io/edit/master/programing-ggplot.qmd" class="toc-action"><i class="bi bi-github"></i>Seite editieren</a></li><li><a href="https://github.com/jkruppa/jkruppa.github.io/issues/new" class="toc-action"><i class="bi empty"></i>Problem melden</a></li><li><a href="https://github.com/jkruppa/jkruppa.github.io/blob/master/programing-ggplot.qmd" class="toc-action"><i class="bi empty"></i>Quellcode anzeigen</a></li></ul></div></nav>
    </div>
<!-- main -->
<main class="content" id="quarto-document-content">

<header id="title-block-header" class="quarto-title-block default"><nav class="quarto-page-breadcrumbs quarto-title-breadcrumbs d-none d-lg-block" aria-label="breadcrumb"><ol class="breadcrumb"><li class="breadcrumb-item"><a href="./programing-preface.html">Programmieren in R</a></li><li class="breadcrumb-item"><a href="./programing-ggplot.html"><span class="chapter-number">15</span>&nbsp; <span class="chapter-title">Ein <code>{ggplot}</code> Cookbook</span></a></li></ol></nav>
<div class="quarto-title">
<div class="quarto-title-block"><div><h1 class="title"><span id="sec-ggplot-cookbook" class="quarto-section-identifier"><span class="chapter-number">15</span>&nbsp; <span class="chapter-title">Ein <code>{ggplot}</code> Cookbook</span></span></h1><button type="button" class="btn code-tools-button dropdown-toggle" id="quarto-code-tools-menu" data-bs-toggle="dropdown" aria-expanded="false"><i class="bi"></i> Code</button><ul class="dropdown-menu dropdown-menu-end" aria-labelelledby="quarto-code-tools-menu"><li><a id="quarto-show-all-code" class="dropdown-item" href="javascript:void(0)" role="button">Gesamten Code zeigen</a></li><li><a id="quarto-hide-all-code" class="dropdown-item" href="javascript:void(0)" role="button">Gesamten Code verbergen</a></li><li><hr class="dropdown-divider"></li><li><a id="quarto-view-source" class="dropdown-item" href="javascript:void(0)" role="button">Quellcode anzeigen</a></li></ul></div></div>
</div>



<div class="quarto-title-meta">

    
  
    
  </div>
  


</header>


<p><em>Letzte Änderung am 15. November 2025 um 20:32:58</em></p>
<blockquote class="blockquote">
<p><em>“Frei ist, wer missfallen kann.” — Annette Oschmann in <a href="https://www.annette-oschmann.de/maedchen-staerken/">Mädchen stärken</a></em></p>
</blockquote>
<p>Willkommen in einer weiteren wilden Linksammlung und R Code sowie einiges an interessanten R Paketen im Kontext der Visualisierung von Daten. Hier dreht sich dann fast alles um das R Paket <code>{ggplot}</code> und wie wir dieses R Paket sinnvoll nutzen können. Daher ist alles hier sehr stückhaft und manchmal einfach nur da. Das hat den Grund, dass ich das Kapitel hier eher als Steinbruch nutze als ein echtes Kapitel zum von oben nach unten Lesen. Sehe das Kapitel also eher als Referenzsammlung als ein Lernkapitel. Es lädt dann zum Stöbern ein. Es sind also eher kleine Rezepte in einem Kochbuch. Am Ende kommst du vermutlich aber nicht um <span class="citation" data-cites="wickham2016r">Wickham &amp; Grolemund (<a href="#ref-wickham2016r" role="doc-biblioref">2016</a>)</span> und <a href="https://r4ds.hadley.nz/">R for Data Science (2e)</a> oder aber dem Buch <a href="https://ggplot2-book.org/annotations.html">ggplot2: Elegant Graphics for Data Analysis (3e)</a> herum. Am Ende kann ich noch das <a href="https://r-graphics.org/">R Graphics Cookbook</a> empfehlen, wenn es um konkrete Probleme geht.</p>
<div class="callout callout-style-default callout-caution callout-titled">
<div class="callout-header d-flex align-content-center collapsed" data-bs-toggle="collapse" data-bs-target=".callout-1-contents" aria-controls="callout-1" aria-expanded="false" aria-label="Toggle callout">
<div class="callout-icon-container">
<i class="callout-icon"></i>
</div>
<div class="callout-title-container flex-fill">
<span class="screen-reader-only">Vorsicht</span>Was soll das hier? Was für ein Kochbuch?
</div>
<div class="callout-btn-toggle d-inline-block border-0 py-1 ps-1 pe-0 float-end"><i class="callout-toggle"></i></div>
</div>
<div id="callout-1" class="callout-1-contents callout-collapse collapse">
<div class="callout-body-container callout-body">
<div id="fig-math-cartoon" class="quarto-float quarto-figure quarto-figure-center anchored" data-fig-align="center">
<figure class="quarto-float quarto-float-fig figure">
<div aria-describedby="fig-math-cartoon-caption-0ceaefa1-69ba-4598-a22c-09a6ac19f8ca">
<a href="images/programing/programming-garfield.png" class="lightbox" data-gallery="quarto-lightbox-gallery-1" title="Abbildung&nbsp;15.1— Quelle: https://www.gocomics.com/garfield/1991/02/24"><img src="images/programing/programming-garfield.png" class="img-fluid quarto-figure quarto-figure-center figure-img" style="width:100.0%"></a>
</div>
<figcaption class="quarto-float-caption-bottom quarto-float-caption quarto-float-fig" id="fig-math-cartoon-caption-0ceaefa1-69ba-4598-a22c-09a6ac19f8ca">
Abbildung&nbsp;15.1— Quelle: <a href="https://www.gocomics.com/garfield/1991/02/24" class="uri">https://www.gocomics.com/garfield/1991/02/24</a>
</figcaption>
</figure>
</div>
<p>Dieses Kapitel dient dazu Programmierung in <code>{ggplot}</code> zu präsentieren. Es ist eine Sammlung von Code und Rezepten, die ich immer mal wieder nutze und immer wieder vergesse. Deshalb hat dieses Kapitel auch den Titel <em>Cookbook</em>. Wenn dich also Rumfummeln in <code>{ggplot}</code> interessiert, dann kannst du dir hier noch was anschauen. Das Kapitel ist eigentlich nie fertig, da ich sicherlich immer mal wieder was ergänzen werde.</p>
</div>
</div>
</div>
<section id="allgemeiner-hintergrund" class="level2" data-number="15.1">
<h2 data-number="15.1" class="anchored" data-anchor-id="allgemeiner-hintergrund"><span class="header-section-number">15.1</span> Allgemeiner Hintergrund</h2>
<p>In diesem Kapitel geht es hauptsächlich um das R Paket <code>{ggplot}</code>. Korrekterweise müsste ich natürlich eigentlich noch die korrekte Version ergänzen, aber wir schreiben selten <code>{ggplot2}</code> da eigentlich niemand mehr die uralte Version nutzt. Warum dieses Kapitel? Weil es eben dann doch so viel zu entdecken gibt, dass ich mir nicht alles merken kann. Daher habe ich einmal hier die Sammlung an nützlichen R Paketen um <code>{ggplot}</code> erstellt. Darüber hinaus war dann auch das <a href="eda-ggplot.html">Kapitel zur Visualisierung</a> einfach zu voll. Viele wollen dann einfach einen <code>{ggplot}</code> erstellen und nicht noch durch zig Pakete scrollen. Daher ist das hier eher für mich oder für Leute, die mal rechts und links gucken wollen was da noch am Straßenrand liegt. Vielleicht findest du was, was dich inspiriert. Daher auch die Einteilung in Abschnitte, wo ich ein Problem löse und dann nochmal Abschnitte mit teilweise den gleichen R Paketen als Vorstellung.</p>
<div class="callout callout-style-default callout-tip callout-titled">
<div class="callout-header d-flex align-content-center">
<div class="callout-icon-container">
<i class="callout-icon"></i>
</div>
<div class="callout-title-container flex-fill">
<span class="screen-reader-only">Tipp</span>Woher habe ich alle Pakete her?
</div>
</div>
<div class="callout-body-container callout-body">
<p>Wenn es einen Link zu einer Seite gibt, den ich immer mal wieder Besuche, ist es der folgende Link: <a href="https://exts.ggplot2.tidyverse.org/gallery/">ggplot2 extensions</a>. Du erfährst hier eine Menge neues an Paketen und es gibt immer wieder spannendes zu entdecken. Ein Besuch lohnt sich auf jeden Fall.</p>
</div>
</div>
</section>
<section id="genutzte-r-pakete" class="level2" data-number="15.2">
<h2 data-number="15.2" class="anchored" data-anchor-id="genutzte-r-pakete"><span class="header-section-number">15.2</span> Genutzte R Pakete</h2>
<p>Wir wollen folgende R Pakete in diesem Kapitel nutzen.</p>
<div class="cell">
<details open="" class="code-fold">
<summary>R Code [zeigen / verbergen]</summary>
<div class="code-copy-outer-scaffold"><div class="sourceCode cell-code" id="cb1"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb1-1"><a href="#cb1-1" aria-hidden="true" tabindex="-1"></a>pacman<span class="sc">::</span><span class="fu">p_load</span>(tidyverse, readxl, latex2exp, see, duke, </span>
<span id="cb1-2"><a href="#cb1-2" aria-hidden="true" tabindex="-1"></a>               wesanderson, ggbreak, patchwork, ggrepel,</span>
<span id="cb1-3"><a href="#cb1-3" aria-hidden="true" tabindex="-1"></a>               tidyplots, ggh4x, ggtext, gganimate, </span>
<span id="cb1-4"><a href="#cb1-4" aria-hidden="true" tabindex="-1"></a>               ggpmisc, broom, ggdist, distributional, conflicted)</span>
<span id="cb1-5"><a href="#cb1-5" aria-hidden="true" tabindex="-1"></a><span class="fu">conflicts_prefer</span>(ggplot2<span class="sc">::</span>annotate)</span></code></pre></div><button title="In die Zwischenablage kopieren" class="code-copy-button"><i class="bi"></i></button></div>
</details>
</div>
<p>An der Seite des Kapitels findest du den Link <em>Quellcode anzeigen</em>, über den du Zugang zum gesamten R-Code dieses Kapitels erhältst.</p>
</section>
<section id="daten" class="level2" data-number="15.3">
<h2 data-number="15.3" class="anchored" data-anchor-id="daten"><span class="header-section-number">15.3</span> Daten</h2>
<p>Beginnen wir hier nochmal mit einem Datenbeispiel für unsere Flöhe. Wir schauen uns hier einmal an, ob es einen Unterschied in den Ernährungsformen sowie dem Entwicklungsstand gibt. Dabei messen wir dann wieder die Sprungweite. Darüber hinaus nehme ich noch das Gewicht der Flöhe mit in unseren Datensatz. Damit haben wir auch schon genug um mal etwas hier mit <code>{ggplot}</code> spielen zu können. Ob hier irgendwas interessantes in den Daten vorliegt interessiert uns eigentlich ja nicht. Hier geht es ums visualisieren.</p>
<div class="cell">
<details open="" class="code-fold">
<summary>R Code [zeigen / verbergen]</summary>
<div class="code-copy-outer-scaffold"><div class="sourceCode cell-code" id="cb2"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb2-1"><a href="#cb2-1" aria-hidden="true" tabindex="-1"></a>ggplot_tbl <span class="ot">&lt;-</span> <span class="fu">read_xlsx</span>(<span class="st">"data/fleas_model_data.xlsx"</span>) <span class="sc">|&gt;</span> </span>
<span id="cb2-2"><a href="#cb2-2" aria-hidden="true" tabindex="-1"></a>  <span class="fu">mutate</span>(<span class="at">feeding =</span> <span class="fu">as_factor</span>(feeding),</span>
<span id="cb2-3"><a href="#cb2-3" aria-hidden="true" tabindex="-1"></a>         <span class="at">stage =</span> <span class="fu">as_factor</span>(stage)) <span class="sc">|&gt;</span> </span>
<span id="cb2-4"><a href="#cb2-4" aria-hidden="true" tabindex="-1"></a>  <span class="fu">select</span>(feeding, stage, weight, jump_length)</span></code></pre></div><button title="In die Zwischenablage kopieren" class="code-copy-button"><i class="bi"></i></button></div>
</details>
</div>
<p>Betrachten wir als erstes einen Auszug aus der Datentabelle. Wir werden hier immer den Messwert auf die y-Achse legen und uns dann je nach Anwendung sowie Algorithmus für eine Einflussvariable entscheiden.</p>
<div class="cell">
<div id="tbl-model-table" class="cell quarto-float quarto-figure quarto-figure-center anchored">
<figure class="quarto-float quarto-float-tbl figure">
<figcaption class="quarto-float-caption-top quarto-float-caption quarto-float-tbl" id="tbl-model-table-caption-0ceaefa1-69ba-4598-a22c-09a6ac19f8ca">
Tabelle&nbsp;15.1— Tabelle der vier Variablen für die Darstellung mit <code>{ggplot}</code>. Der Messwert ist hier die Sprungweite. Die anderen Variablen dienen als Einflussvariablen.
</figcaption>
<div aria-describedby="tbl-model-table-caption-0ceaefa1-69ba-4598-a22c-09a6ac19f8ca">
<div class="cell-output-display">
<table class="do-not-create-environment cell caption-top table table-sm table-striped small">
<thead>
<tr class="header">
<th style="text-align: center;">feeding</th>
<th style="text-align: center;">stage</th>
<th style="text-align: center;">weight</th>
<th style="text-align: center;">jump_length</th>
</tr>
</thead>
<tbody>
<tr class="odd">
<td style="text-align: center;">sugar_water</td>
<td style="text-align: center;">adult</td>
<td style="text-align: center;">16.42</td>
<td style="text-align: center;">77.2</td>
</tr>
<tr class="even">
<td style="text-align: center;">sugar_water</td>
<td style="text-align: center;">adult</td>
<td style="text-align: center;">12.62</td>
<td style="text-align: center;">56.25</td>
</tr>
<tr class="odd">
<td style="text-align: center;">sugar_water</td>
<td style="text-align: center;">adult</td>
<td style="text-align: center;">15.57</td>
<td style="text-align: center;">73.42</td>
</tr>
<tr class="even">
<td style="text-align: center;">…</td>
<td style="text-align: center;">…</td>
<td style="text-align: center;">…</td>
<td style="text-align: center;">…</td>
</tr>
<tr class="odd">
<td style="text-align: center;">ketchup</td>
<td style="text-align: center;">juvenile</td>
<td style="text-align: center;">7.18</td>
<td style="text-align: center;">83.38</td>
</tr>
<tr class="even">
<td style="text-align: center;">ketchup</td>
<td style="text-align: center;">juvenile</td>
<td style="text-align: center;">6.6</td>
<td style="text-align: center;">104.48</td>
</tr>
<tr class="odd">
<td style="text-align: center;">ketchup</td>
<td style="text-align: center;">juvenile</td>
<td style="text-align: center;">4.19</td>
<td style="text-align: center;">130.18</td>
</tr>
</tbody>
</table>
</div>
</div>
</figure>
</div>
</div>
<p>Bitte den Datensatz hier nicht allzu überinterpretieren. Ich brauche einfach nur ein paar Daten um die Funktionen aufrufen zu können. Da ich aber nicht die generischen Daten nutzen will, mache ich hier alles mit meinen Flöhen. Das sind ja meine Tiere hier in der Bio Data Science und deshalb nehmen wir das hier mal auch als Beispiel.</p>
</section>
<section id="probleme-von-interesse" class="level2" data-number="15.4">
<h2 data-number="15.4" class="anchored" data-anchor-id="probleme-von-interesse"><span class="header-section-number">15.4</span> Probleme von Interesse</h2>
<p>Im Folgenden dann noch eine Sammlung an nützlichen Optionen und Möglichkeiten, die einem das Leben einfacher machen und die Abbildungen dann noch schöner. Nicht alles musst du in <code>{ggplot}</code> machen, manchmal geht es dann in PowerPoint dann doch schneller mal eben einen Text zu ergänzen. Sehe das hier deshalb als Ergänzung und meinen privaten Raum, den ich nutze um mir den Code zu merken. Viele der Probleme sind dann auch eher so Sachen, die du mit der Zeit als erstrebenswert empfinden magst.</p>
<section id="striche-punkte-und-text" class="level3" data-number="15.4.1">
<h3 data-number="15.4.1" class="anchored" data-anchor-id="striche-punkte-und-text"><span class="header-section-number">15.4.1</span> Striche, Punkte und Text</h3>
<p>Der folgende Code und die entsprechenden Abbildungen sind einfach nur Copy&amp; Paste von der Vignette <a href="https://ggplot2.tidyverse.org/articles/ggplot2-specs.html">Aesthetic specifications in <code>{ggplot}</code></a> und dienen nur meinem schnellen Zugriff. Dann habe ich hier alles was ich brauche einmal zusammen. Häufig sucht man dann doch nochmal die Form eines Punktes oder die Art der Linie.</p>
<div class="cell" data-layout-align="center">
<div class="cell-output-display">
<div id="fig-ggplot-shape" class="quarto-float quarto-figure quarto-figure-center anchored" data-fig-align="center">
<figure class="quarto-float quarto-float-fig figure">
<div aria-describedby="fig-ggplot-shape-caption-0ceaefa1-69ba-4598-a22c-09a6ac19f8ca">
<a href="programing-ggplot_files/figure-html/fig-ggplot-shape-1.png" class="lightbox" data-gallery="quarto-lightbox-gallery-2" title="Abbildung&nbsp;15.2— Verschiedene Formen der Punkte die durch die shape-Option geändert werden können. Teilweise lassen sich die Punkte auch mit der Option fill entsprechebd einfärben. [Zum Vergrößern anklicken]"><img src="programing-ggplot_files/figure-html/fig-ggplot-shape-1.png" class="img-fluid quarto-figure quarto-figure-center figure-img" width="672"></a>
</div>
<figcaption class="quarto-float-caption-bottom quarto-float-caption quarto-float-fig" id="fig-ggplot-shape-caption-0ceaefa1-69ba-4598-a22c-09a6ac19f8ca">
Abbildung&nbsp;15.2— Verschiedene Formen der Punkte die durch die <code>shape</code>-Option geändert werden können. Teilweise lassen sich die Punkte auch mit der Option <code>fill</code> entsprechebd einfärben. <em>[Zum Vergrößern anklicken]</em>
</figcaption>
</figure>
</div>
</div>
</div>
<p>Dann gibt es noch die Möglichkeit sich verschiedene Arten von Linien zeichnen zu lassen. Im Folgenden dann erstmal der Standard, der dann manchmal nicht so richtig passt. Dafür gibt es dann aber gleich nochmal eine Option die Abstände zwischen den Teillinien zu ändern.</p>
<div class="cell" data-layout-align="center">
<div class="cell-output-display">
<div id="fig-ggplot-linetype" class="quarto-float quarto-figure quarto-figure-center anchored" data-fig-align="center">
<figure class="quarto-float quarto-float-fig figure">
<div aria-describedby="fig-ggplot-linetype-caption-0ceaefa1-69ba-4598-a22c-09a6ac19f8ca">
<a href="programing-ggplot_files/figure-html/fig-ggplot-linetype-1.png" class="lightbox" data-gallery="quarto-lightbox-gallery-3" title="Abbildung&nbsp;15.3— Verschiedene Arten der Linien die durch die linetype-Option geändert werden können. [Zum Vergrößern anklicken]"><img src="programing-ggplot_files/figure-html/fig-ggplot-linetype-1.png" class="img-fluid quarto-figure quarto-figure-center figure-img" width="672"></a>
</div>
<figcaption class="quarto-float-caption-bottom quarto-float-caption quarto-float-fig" id="fig-ggplot-linetype-caption-0ceaefa1-69ba-4598-a22c-09a6ac19f8ca">
Abbildung&nbsp;15.3— Verschiedene Arten der Linien die durch die <code>linetype</code>-Option geändert werden können. <em>[Zum Vergrößern anklicken]</em>
</figcaption>
</figure>
</div>
</div>
</div>
<p>Manchmal will ich dann aber nicht so große Abstände haben. Hier können wir dann mit der Option und verschiedenen Buchstaben spielen. Mehr gibt es in der Vignette <a href="https://ggplot2.tidyverse.org/articles/ggplot2-specs.html">Aesthetic specifications in <code>{ggplot}</code></a> dazu. Hier reichen mir die folgenden Beispiele um mal schnell die passende Linie zu finden.</p>
<div class="cell" data-layout-align="center">
<div class="cell-output-display">
<div id="fig-ggplot-linetype-2" class="quarto-float quarto-figure quarto-figure-center anchored" data-fig-align="center">
<figure class="quarto-float quarto-float-fig figure">
<div aria-describedby="fig-ggplot-linetype-2-caption-0ceaefa1-69ba-4598-a22c-09a6ac19f8ca">
<a href="programing-ggplot_files/figure-html/fig-ggplot-linetype-2-1.png" class="lightbox" data-gallery="quarto-lightbox-gallery-4" title="Abbildung&nbsp;15.4— Verschiedene Arten der Linien die durch die linetype-Option geändert werden können. Hier können dann individuell die Abstände zwischen den Linien angepasst werden. [Zum Vergrößern anklicken]"><img src="programing-ggplot_files/figure-html/fig-ggplot-linetype-2-1.png" class="img-fluid quarto-figure quarto-figure-center figure-img" width="672"></a>
</div>
<figcaption class="quarto-float-caption-bottom quarto-float-caption quarto-float-fig" id="fig-ggplot-linetype-2-caption-0ceaefa1-69ba-4598-a22c-09a6ac19f8ca">
Abbildung&nbsp;15.4— Verschiedene Arten der Linien die durch die <code>linetype</code>-Option geändert werden können. Hier können dann individuell die Abstände zwischen den Linien angepasst werden. <em>[Zum Vergrößern anklicken]</em>
</figcaption>
</figure>
</div>
</div>
</div>
<p>Manchmal wollen wir dann noch den Text positionieren. Das können wir dann entweder durch die Option <code>hjust</code> mit den Worten <code>"left"</code>, <code>"center"</code> oder <code>"right"</code> machen oder eben dann mit Zahlen. Das ganz geht dann neben der horizontalen Ebene auch mit <code>vjust</code> auf der vertikalen Ebene. Für mich ist es immer etwas Voodoo und ich schaue hier dann immer regelmäßig rein.</p>
<div class="cell" data-layout-align="center">
<div class="cell-output-display">
<div id="fig-ggplot-just" class="quarto-float quarto-figure quarto-figure-center anchored" data-fig-align="center">
<figure class="quarto-float quarto-float-fig figure">
<div aria-describedby="fig-ggplot-just-caption-0ceaefa1-69ba-4598-a22c-09a6ac19f8ca">
<a href="programing-ggplot_files/figure-html/fig-ggplot-just-1.png" class="lightbox" data-gallery="quarto-lightbox-gallery-5" title="Abbildung&nbsp;15.5— Positionen von Text durch die Optionen vjust und hjust. [Zum Vergrößern anklicken]"><img src="programing-ggplot_files/figure-html/fig-ggplot-just-1.png" class="img-fluid quarto-figure quarto-figure-center figure-img" width="672"></a>
</div>
<figcaption class="quarto-float-caption-bottom quarto-float-caption quarto-float-fig" id="fig-ggplot-just-caption-0ceaefa1-69ba-4598-a22c-09a6ac19f8ca">
Abbildung&nbsp;15.5— Positionen von Text durch die Optionen <code>vjust</code> und <code>hjust</code>. <em>[Zum Vergrößern anklicken]</em>
</figcaption>
</figure>
</div>
</div>
</div>
<p>Natürlich geht wie immer auch mehr. Dazu dann aber mehr in der passenden Vignette oder eben auf den entsprechenden Hilfeseiten von <code>{ggplot}</code>. Aus meiner Erfahrung habe ich dann meistens nicht mehr gebraucht oder es mir dann situativ zusammengesucht.</p>
</section>
<section id="überschriften-achsen-und-legenden" class="level3" data-number="15.4.2">
<h3 data-number="15.4.2" class="anchored" data-anchor-id="überschriften-achsen-und-legenden"><span class="header-section-number">15.4.2</span> Überschriften, Achsen und Legenden</h3>
<p>Die Abbildungen einfach nur so machen ist eigentlich nur in einer reinen explorativen Datenanalyse sinnvoll. Sobald du die Abbildungen dann irgendwie veröffentlichen willst, dann sind die normalen Beschriftungen der Achsen in <code>{ggplot}</code> mit den Variablennamen nicht mehr schön. Wenn du dann mehr machen willst, also die Überschriften anpassen oder aber die Achsenbeschriftung ändern, dann gibt es hier global Hilfe im <a href="https://ggplot2.tidyverse.org/reference/index.html"><code>{ggplot}</code> Manual</a>. In den folgenden Abbildungen siehst du einmal einen veränderten Titel und Beschriftungen sowie die Legenden. Die Möglichkeiten sind nahezu unbegrenzt und sprengen auch hier den Rahmen. Die Webseite <a href="https://ggplot2.tidyverse.org/reference/index.html">R Cookbook</a> hat auch spezielle Hilfe für <code>{ggplot}</code>.</p>
<section id="überschriften-und-achsenbeschriftung" class="level4 unnumbered unlisted">
<h4 class="unnumbered unlisted anchored" data-anchor-id="überschriften-und-achsenbeschriftung">Überschriften und Achsenbeschriftung</h4>
<p>Die <a href="http://www.cookbook-r.com/Graphs/Titles_(ggplot2)/">Überschriften von Abbildungen</a> können wir beliebig anpassen. Hier können wir die Funktion <code>ggtitle()</code> oder aber die Funktion <code>labs()</code> nutzen. Die <a href="http://www.cookbook-r.com/Graphs/Axes_(ggplot2)/">Achsenbeschriftung</a> können wir in der Funktion <code>labs()</code> einfach ändern. Das ist dann am Ende immer eine Geschmacksfrage was dir besser gefällt. Ich nutze hier gerne die Funktion <code>labs()</code>, dann habe ich alles zusammen.</p>
<div class="cell" data-layout-align="center">
<details open="" class="code-fold">
<summary>R Code [zeigen / verbergen]</summary>
<div class="code-copy-outer-scaffold"><div class="sourceCode cell-code" id="cb3"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb3-1"><a href="#cb3-1" aria-hidden="true" tabindex="-1"></a><span class="fu">ggplot</span>(<span class="at">data =</span> ggplot_tbl, <span class="fu">aes</span>(<span class="at">x =</span> feeding, <span class="at">y =</span> jump_length,</span>
<span id="cb3-2"><a href="#cb3-2" aria-hidden="true" tabindex="-1"></a>                              <span class="at">fill =</span> feeding)) <span class="sc">+</span></span>
<span id="cb3-3"><a href="#cb3-3" aria-hidden="true" tabindex="-1"></a>  <span class="fu">theme_minimal</span>() <span class="sc">+</span></span>
<span id="cb3-4"><a href="#cb3-4" aria-hidden="true" tabindex="-1"></a>  <span class="fu">geom_boxplot</span>() <span class="sc">+</span></span>
<span id="cb3-5"><a href="#cb3-5" aria-hidden="true" tabindex="-1"></a>  <span class="fu">labs</span>(<span class="at">title =</span> <span class="st">"Ernährungsbedinungen"</span>,</span>
<span id="cb3-6"><a href="#cb3-6" aria-hidden="true" tabindex="-1"></a>       <span class="at">subtitle =</span> <span class="st">"Unterschiedliche Bedingungen für die Sprungweite"</span>,</span>
<span id="cb3-7"><a href="#cb3-7" aria-hidden="true" tabindex="-1"></a>       <span class="at">caption =</span> <span class="st">"Erhoben im Sommer 2022"</span>,</span>
<span id="cb3-8"><a href="#cb3-8" aria-hidden="true" tabindex="-1"></a>       <span class="at">x =</span> <span class="st">"Ernährungsarten"</span>, <span class="at">y =</span> <span class="st">"Sprungweite in [cm]"</span>,</span>
<span id="cb3-9"><a href="#cb3-9" aria-hidden="true" tabindex="-1"></a>       <span class="at">fill =</span> <span class="st">"Ernährung"</span>)</span></code></pre></div><button title="In die Zwischenablage kopieren" class="code-copy-button"><i class="bi"></i></button></div>
</details>
<div class="cell-output-display">
<div id="fig-labels-scale-title-labs" class="quarto-float quarto-figure quarto-figure-center anchored" data-fig-align="center">
<figure class="quarto-float quarto-float-fig figure">
<div aria-describedby="fig-labels-scale-title-labs-caption-0ceaefa1-69ba-4598-a22c-09a6ac19f8ca">
<a href="programing-ggplot_files/figure-html/fig-labels-scale-title-labs-1.png" class="lightbox" data-gallery="quarto-lightbox-gallery-6" title="Abbildung&nbsp;15.6— Beispielhafte Abbildung mit Titel und geänderter Achsenbeschrittung. [Zum Vergrößern anklicken]"><img src="programing-ggplot_files/figure-html/fig-labels-scale-title-labs-1.png" class="img-fluid quarto-figure quarto-figure-center figure-img" width="672"></a>
</div>
<figcaption class="quarto-float-caption-bottom quarto-float-caption quarto-float-fig" id="fig-labels-scale-title-labs-caption-0ceaefa1-69ba-4598-a22c-09a6ac19f8ca">
Abbildung&nbsp;15.6— Beispielhafte Abbildung mit Titel und geänderter Achsenbeschrittung. <em>[Zum Vergrößern anklicken]</em>
</figcaption>
</figure>
</div>
</div>
</div>
</section>
<section id="legende-anpassen" class="level4 unnumbered unlisted">
<h4 class="unnumbered unlisted anchored" data-anchor-id="legende-anpassen">Legende anpassen</h4>
<p>Die <a href="http://www.cookbook-r.com/Graphs/Legends_(ggplot2)/">Legende</a> können wir ebenfalls in <code>labs()</code> und dann in den entsprechenden <code>scales</code>-Funktionen anpassen. Hier musst du im Zweifel etwas probieren. Faktoren würde ich in den Daten über die Funktion <code>factor()</code> anpassen. Du hast dann hier eben auch die Wahl wie du vorgehst. Manchmal macht es dann auch Sinn dir ein eigenes <code>tibble</code> für die Erstellung der Abbildungen zu bauen. In den beiden folgenden Tabs zeige ich dir mal beide Wege.</p>
<div class="tabset-margin-container"></div><div class="panel-tabset">
<ul class="nav nav-tabs" role="tablist"><li class="nav-item" role="presentation"><a class="nav-link active" id="tabset-1-1-tab" data-bs-toggle="tab" data-bs-target="#tabset-1-1" role="tab" aria-controls="tabset-1-1" aria-selected="true" href="" aria-current="page"><code>factor()</code></a></li><li class="nav-item" role="presentation"><a class="nav-link" id="tabset-1-2-tab" data-bs-toggle="tab" data-bs-target="#tabset-1-2" role="tab" aria-controls="tabset-1-2" aria-selected="false" href=""><code>scale_*_discrete()</code></a></li></ul>
<div class="tab-content">
<div id="tabset-1-1" class="tab-pane active" role="tabpanel" aria-labelledby="tabset-1-1-tab">
<p>Wir bauen hier erstmal den Faktor mit der Funktion <code>factor()</code> in der wir dann die Sortierung und dann die Labels der Level ändern können. Ich empfehle dir erst die Sortierung zu bestimmen und dann umzubenennen. Sonst kann da schnell was durcheinanderkommen. Hier mag dann auch das <a href="https://forcats.tidyverse.org/">R Paket <code>{forcats}</code></a> helfen.</p>
<div class="cell">
<details open="" class="code-fold">
<summary>R Code [zeigen / verbergen]</summary>
<div class="code-copy-outer-scaffold"><div class="sourceCode cell-code" id="cb4"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb4-1"><a href="#cb4-1" aria-hidden="true" tabindex="-1"></a>ggplot_factor_tbl <span class="ot">&lt;-</span> ggplot_tbl <span class="sc">|&gt;</span> </span>
<span id="cb4-2"><a href="#cb4-2" aria-hidden="true" tabindex="-1"></a>  <span class="fu">mutate</span>(<span class="at">feeding =</span> <span class="fu">factor</span>(feeding,</span>
<span id="cb4-3"><a href="#cb4-3" aria-hidden="true" tabindex="-1"></a>                          <span class="at">levels =</span> <span class="fu">c</span>(<span class="st">"sugar_water"</span>, <span class="st">"blood"</span>, <span class="st">"ketchup"</span>),</span>
<span id="cb4-4"><a href="#cb4-4" aria-hidden="true" tabindex="-1"></a>                          <span class="at">labels =</span> <span class="fu">c</span>(<span class="st">"Zuckerwasser"</span>, <span class="st">"Blut"</span>, <span class="st">"Ketchup"</span>)))</span></code></pre></div><button title="In die Zwischenablage kopieren" class="code-copy-button"><i class="bi"></i></button></div>
</details>
</div>
<p>Dann können wir uns auch schon einmal die folgende Abbildung bauen in dem wir die Level des Faktors geändert haben.</p>
<div class="cell" data-layout-align="center">
<details open="" class="code-fold">
<summary>R Code [zeigen / verbergen]</summary>
<div class="code-copy-outer-scaffold"><div class="sourceCode cell-code" id="cb5"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb5-1"><a href="#cb5-1" aria-hidden="true" tabindex="-1"></a><span class="fu">ggplot</span>(<span class="at">data =</span> ggplot_factor_tbl, <span class="fu">aes</span>(<span class="at">x =</span> feeding, <span class="at">y =</span> jump_length,</span>
<span id="cb5-2"><a href="#cb5-2" aria-hidden="true" tabindex="-1"></a>                                     <span class="at">fill =</span> feeding)) <span class="sc">+</span></span>
<span id="cb5-3"><a href="#cb5-3" aria-hidden="true" tabindex="-1"></a>  <span class="fu">theme_minimal</span>() <span class="sc">+</span></span>
<span id="cb5-4"><a href="#cb5-4" aria-hidden="true" tabindex="-1"></a>  <span class="fu">geom_boxplot</span>() </span></code></pre></div><button title="In die Zwischenablage kopieren" class="code-copy-button"><i class="bi"></i></button></div>
</details>
<div class="cell-output-display">
<div id="fig-labels-scale-factor" class="quarto-float quarto-figure quarto-figure-center anchored" data-fig-align="center">
<figure class="quarto-float quarto-float-fig figure">
<div aria-describedby="fig-labels-scale-factor-caption-0ceaefa1-69ba-4598-a22c-09a6ac19f8ca">
<a href="programing-ggplot_files/figure-html/fig-labels-scale-factor-1.png" class="lightbox" data-gallery="quarto-lightbox-gallery-7" title="Abbildung&nbsp;15.7— Beispielhafte Abbildung mit Titel und geänderter Achsenbeschrittung. [Zum Vergrößern anklicken]"><img src="programing-ggplot_files/figure-html/fig-labels-scale-factor-1.png" class="img-fluid quarto-figure quarto-figure-center figure-img" width="672"></a>
</div>
<figcaption class="quarto-float-caption-bottom quarto-float-caption quarto-float-fig" id="fig-labels-scale-factor-caption-0ceaefa1-69ba-4598-a22c-09a6ac19f8ca">
Abbildung&nbsp;15.7— Beispielhafte Abbildung mit Titel und geänderter Achsenbeschrittung. <em>[Zum Vergrößern anklicken]</em>
</figcaption>
</figure>
</div>
</div>
</div>
</div>
<div id="tabset-1-2" class="tab-pane" role="tabpanel" aria-labelledby="tabset-1-2-tab">
<p>Es ist auch möglich direkt in <code>{ggplot}</code> die Level des Faktors umzubenennen. Das ist genau so gut, wenn wir hier nicht so viel mit der Sortierung ändern wollen. Wie immer würde ich hier empfehlen nur Kosmetik zu machen und den Rest sauber über das <a href="https://forcats.tidyverse.org/">R Paket <code>{forcats}</code></a> oder eben die Funktion <code>factor()</code></p>
<div class="cell" data-layout-align="center">
<details open="" class="code-fold">
<summary>R Code [zeigen / verbergen]</summary>
<div class="code-copy-outer-scaffold"><div class="sourceCode cell-code" id="cb6"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb6-1"><a href="#cb6-1" aria-hidden="true" tabindex="-1"></a><span class="fu">ggplot</span>(<span class="at">data =</span> ggplot_tbl, <span class="fu">aes</span>(<span class="at">x =</span> feeding, <span class="at">y =</span> jump_length,</span>
<span id="cb6-2"><a href="#cb6-2" aria-hidden="true" tabindex="-1"></a>                              <span class="at">fill =</span> feeding)) <span class="sc">+</span></span>
<span id="cb6-3"><a href="#cb6-3" aria-hidden="true" tabindex="-1"></a>  <span class="fu">theme_minimal</span>() <span class="sc">+</span></span>
<span id="cb6-4"><a href="#cb6-4" aria-hidden="true" tabindex="-1"></a>  <span class="fu">geom_boxplot</span>() <span class="sc">+</span></span>
<span id="cb6-5"><a href="#cb6-5" aria-hidden="true" tabindex="-1"></a>  <span class="fu">scale_x_discrete</span>(<span class="at">labels =</span> <span class="fu">c</span>(<span class="st">"Blut"</span>, <span class="st">"Ketchup"</span>, <span class="st">"Zuckerwasser"</span>)) <span class="sc">+</span></span>
<span id="cb6-6"><a href="#cb6-6" aria-hidden="true" tabindex="-1"></a>  <span class="fu">scale_fill_discrete</span>(<span class="at">name =</span> <span class="st">"Behandlung"</span>, </span>
<span id="cb6-7"><a href="#cb6-7" aria-hidden="true" tabindex="-1"></a>                      <span class="at">labels =</span> <span class="fu">c</span>(<span class="st">"Blut"</span>, <span class="st">"Ketchup"</span>, <span class="st">"Zuckerwasser"</span>))</span></code></pre></div><button title="In die Zwischenablage kopieren" class="code-copy-button"><i class="bi"></i></button></div>
</details>
<div class="cell-output-display">
<div id="fig-labels-scale-discrete" class="quarto-float quarto-figure quarto-figure-center anchored" data-fig-align="center">
<figure class="quarto-float quarto-float-fig figure">
<div aria-describedby="fig-labels-scale-discrete-caption-0ceaefa1-69ba-4598-a22c-09a6ac19f8ca">
<a href="programing-ggplot_files/figure-html/fig-labels-scale-discrete-1.png" class="lightbox" data-gallery="quarto-lightbox-gallery-8" title="Abbildung&nbsp;15.8— Beispielhafte Abbildung mit Titel und geänderter Achsenbeschrittung. [Zum Vergrößern anklicken]"><img src="programing-ggplot_files/figure-html/fig-labels-scale-discrete-1.png" class="img-fluid quarto-figure quarto-figure-center figure-img" width="672"></a>
</div>
<figcaption class="quarto-float-caption-bottom quarto-float-caption quarto-float-fig" id="fig-labels-scale-discrete-caption-0ceaefa1-69ba-4598-a22c-09a6ac19f8ca">
Abbildung&nbsp;15.8— Beispielhafte Abbildung mit Titel und geänderter Achsenbeschrittung. <em>[Zum Vergrößern anklicken]</em>
</figcaption>
</figure>
</div>
</div>
</div>
</div>
</div>
</div>
</section>
</section>
<section id="schriftarten" class="level3" data-number="15.4.3">
<h3 data-number="15.4.3" class="anchored" data-anchor-id="schriftarten"><span class="header-section-number">15.4.3</span> Schriftarten</h3>
<p>Das Thema Schriftarten ist so eine Sache. Am Ende des Abschnitts gebe ich dir nochmal eine Linksammlung für die Hilfe. Es ist nämlich wichtig in welchem Betriebssystem (eng. <em>operating system</em>, abk. <em>OS</em>) du arbeitest. Je nach Betriebssystem hast du unterschiedliche Schriften installiert und die lassen sich dann nicht so einfach exportieren oder aber in anderen Betriebssystemen darstellen. Fangen wir also erstmal mit einer Abbildung an, an der wir dann mal was ändern wollen. Wir speichern die Abbildung einmal als Objekt <code>p1</code> ab und ändern nachträglich die Schriftarten.</p>
<div class="cell" data-layout-align="center">
<details open="" class="code-fold">
<summary>R Code [zeigen / verbergen]</summary>
<div class="code-copy-outer-scaffold"><div class="sourceCode cell-code" id="cb7"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb7-1"><a href="#cb7-1" aria-hidden="true" tabindex="-1"></a>p1 <span class="ot">&lt;-</span> <span class="fu">ggplot</span>(<span class="at">data =</span> ggplot_tbl, <span class="fu">aes</span>(<span class="at">x =</span> feeding, <span class="at">y =</span> jump_length,</span>
<span id="cb7-2"><a href="#cb7-2" aria-hidden="true" tabindex="-1"></a>                              <span class="at">fill =</span> feeding)) <span class="sc">+</span></span>
<span id="cb7-3"><a href="#cb7-3" aria-hidden="true" tabindex="-1"></a>  <span class="fu">theme_minimal</span>() <span class="sc">+</span></span>
<span id="cb7-4"><a href="#cb7-4" aria-hidden="true" tabindex="-1"></a>  <span class="fu">geom_boxplot</span>() <span class="sc">+</span></span>
<span id="cb7-5"><a href="#cb7-5" aria-hidden="true" tabindex="-1"></a>  <span class="fu">scale_x_discrete</span>(<span class="at">labels =</span> <span class="fu">c</span>(<span class="st">"Blut"</span>, <span class="st">"Ketchup"</span>, <span class="st">"Zuckerwasser"</span>)) <span class="sc">+</span></span>
<span id="cb7-6"><a href="#cb7-6" aria-hidden="true" tabindex="-1"></a>  <span class="fu">labs</span>(<span class="at">title =</span> <span class="st">"Ernährungsbedinungen"</span>,</span>
<span id="cb7-7"><a href="#cb7-7" aria-hidden="true" tabindex="-1"></a>       <span class="at">subtitle =</span> <span class="st">"Unterschiedliche Bedingungen für die Sprungweite"</span>,</span>
<span id="cb7-8"><a href="#cb7-8" aria-hidden="true" tabindex="-1"></a>       <span class="at">caption =</span> <span class="st">"Erhoben im Sommer 2022"</span>,</span>
<span id="cb7-9"><a href="#cb7-9" aria-hidden="true" tabindex="-1"></a>       <span class="at">x =</span> <span class="st">"Ernährungsarten"</span>, <span class="at">y =</span> <span class="st">"Sprungweite in [cm]"</span>,</span>
<span id="cb7-10"><a href="#cb7-10" aria-hidden="true" tabindex="-1"></a>       <span class="at">fill =</span> <span class="st">"Ernährung"</span>)</span>
<span id="cb7-11"><a href="#cb7-11" aria-hidden="true" tabindex="-1"></a>p1</span></code></pre></div><button title="In die Zwischenablage kopieren" class="code-copy-button"><i class="bi"></i></button></div>
</details>
<div class="cell-output-display">
<div id="fig-ggplot-schrift-base" class="quarto-float quarto-figure quarto-figure-center anchored" data-fig-align="center">
<figure class="quarto-float quarto-float-fig figure">
<div aria-describedby="fig-ggplot-schrift-base-caption-0ceaefa1-69ba-4598-a22c-09a6ac19f8ca">
<a href="programing-ggplot_files/figure-html/fig-ggplot-schrift-base-1.png" class="lightbox" data-gallery="quarto-lightbox-gallery-9" title="Abbildung&nbsp;15.9— Beispielhafte Abbildung mit Titel und geänderter Achsenbeschrittung in der die Schriftarten geändert werden sollen. [Zum Vergrößern anklicken]"><img src="programing-ggplot_files/figure-html/fig-ggplot-schrift-base-1.png" class="img-fluid quarto-figure quarto-figure-center figure-img" width="672"></a>
</div>
<figcaption class="quarto-float-caption-bottom quarto-float-caption quarto-float-fig" id="fig-ggplot-schrift-base-caption-0ceaefa1-69ba-4598-a22c-09a6ac19f8ca">
Abbildung&nbsp;15.9— Beispielhafte Abbildung mit Titel und geänderter Achsenbeschrittung in der die Schriftarten geändert werden sollen. <em>[Zum Vergrößern anklicken]</em>
</figcaption>
</figure>
</div>
</div>
</div>
<p>Wenn wir allgemein die Schriftart in der ganzen Abbildung ändern wollen, dann können wir einfach folgende Option in <code>theme()</code> setzen. Hier ändern wir alles an Text einmal auf <code>"Times New Roman"</code> um. Welche Möglichkeiten du hast, hängt von deinem Betriebssystem und deinen installierten Schriften ab. Dazu mehr weiter unten.</p>
<div class="cell" data-layout-align="center">
<details open="" class="code-fold">
<summary>R Code [zeigen / verbergen]</summary>
<div class="code-copy-outer-scaffold"><div class="sourceCode cell-code" id="cb8"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb8-1"><a href="#cb8-1" aria-hidden="true" tabindex="-1"></a>p1 <span class="sc">+</span></span>
<span id="cb8-2"><a href="#cb8-2" aria-hidden="true" tabindex="-1"></a>  <span class="fu">theme</span>(<span class="at">text =</span> <span class="fu">element_text</span>(<span class="at">family =</span> <span class="st">"Times New Roman"</span>))</span></code></pre></div><button title="In die Zwischenablage kopieren" class="code-copy-button"><i class="bi"></i></button></div>
</details>
<div class="cell-output-display">
<div class="quarto-figure quarto-figure-center">
<figure class="figure">
<p><a href="programing-ggplot_files/figure-html/unnamed-chunk-5-1.png" class="lightbox" data-gallery="quarto-lightbox-gallery-10"><img src="programing-ggplot_files/figure-html/unnamed-chunk-5-1.png" class="img-fluid quarto-figure quarto-figure-center figure-img" width="672"></a></p>
</figure>
</div>
</div>
</div>
<p>Wir können auch vollkommen frei drehen und dann alles mögliche ändern. Ich habe hier mal alles verwendet was es so in meinem Schriftordner so gab. Leider ist es dann auch hier wirklich so, dass es keien direkte Übersicht an möglichen Schriften gibt.</p>
<div class="cell" data-layout-align="center">
<details open="" class="code-fold">
<summary>R Code [zeigen / verbergen]</summary>
<div class="code-copy-outer-scaffold"><div class="sourceCode cell-code" id="cb9"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb9-1"><a href="#cb9-1" aria-hidden="true" tabindex="-1"></a>p1 <span class="sc">+</span></span>
<span id="cb9-2"><a href="#cb9-2" aria-hidden="true" tabindex="-1"></a>  <span class="fu">theme</span>(<span class="at">plot.title =</span> <span class="fu">element_text</span>(<span class="at">family =</span> <span class="st">"mono"</span>),</span>
<span id="cb9-3"><a href="#cb9-3" aria-hidden="true" tabindex="-1"></a>        <span class="at">plot.subtitle =</span> <span class="fu">element_text</span>(<span class="at">family =</span> <span class="st">"sans"</span>),</span>
<span id="cb9-4"><a href="#cb9-4" aria-hidden="true" tabindex="-1"></a>        <span class="at">axis.title.x =</span> <span class="fu">element_text</span>(<span class="at">family =</span> <span class="st">"Comic Sans MS"</span>),</span>
<span id="cb9-5"><a href="#cb9-5" aria-hidden="true" tabindex="-1"></a>        <span class="at">axis.title.y =</span> <span class="fu">element_text</span>(<span class="at">family =</span> <span class="st">"AppleGothic"</span>),</span>
<span id="cb9-6"><a href="#cb9-6" aria-hidden="true" tabindex="-1"></a>        <span class="at">axis.text.x =</span> <span class="fu">element_text</span>(<span class="at">family =</span> <span class="st">"Optima"</span>),</span>
<span id="cb9-7"><a href="#cb9-7" aria-hidden="true" tabindex="-1"></a>        <span class="at">axis.text.y =</span> <span class="fu">element_text</span>(<span class="at">family =</span> <span class="st">"Luminari"</span>))</span></code></pre></div><button title="In die Zwischenablage kopieren" class="code-copy-button"><i class="bi"></i></button></div>
</details>
<div class="cell-output-display">
<div class="quarto-figure quarto-figure-center">
<figure class="figure">
<p><a href="programing-ggplot_files/figure-html/unnamed-chunk-6-1.png" class="lightbox" data-gallery="quarto-lightbox-gallery-11"><img src="programing-ggplot_files/figure-html/unnamed-chunk-6-1.png" class="img-fluid quarto-figure quarto-figure-center figure-img" width="672"></a></p>
</figure>
</div>
</div>
</div>
<p>Am Ende gibt es noch die Möglichkeit eine <code>mono</code>, <code>sans</code> oder <code>serif</code> Schriftfamilie auszuwählen. Dann wird die Standardschrift deines Betriebssystems genommen. Das mag sich dann wiederum unterscheiden, aber dafür hat dann die Schrift die Eigenschaften, die du möchtest.</p>
<div class="tabset-margin-container"></div><div class="panel-tabset">
<ul class="nav nav-tabs" role="tablist"><li class="nav-item" role="presentation"><a class="nav-link active" id="tabset-2-1-tab" data-bs-toggle="tab" data-bs-target="#tabset-2-1" role="tab" aria-controls="tabset-2-1" aria-selected="true" href=""><code>mono</code></a></li><li class="nav-item" role="presentation"><a class="nav-link" id="tabset-2-2-tab" data-bs-toggle="tab" data-bs-target="#tabset-2-2" role="tab" aria-controls="tabset-2-2" aria-selected="false" href=""><code>sans</code></a></li><li class="nav-item" role="presentation"><a class="nav-link" id="tabset-2-3-tab" data-bs-toggle="tab" data-bs-target="#tabset-2-3" role="tab" aria-controls="tabset-2-3" aria-selected="false" href=""><code>serif</code></a></li></ul>
<div class="tab-content">
<div id="tabset-2-1" class="tab-pane active" role="tabpanel" aria-labelledby="tabset-2-1-tab">
<p>Mit der Option <code>"mono"</code> erhälst du eine nichtproportionale Schrift.</p>
<div class="cell" data-layout-align="center">
<details open="" class="code-fold">
<summary>R Code [zeigen / verbergen]</summary>
<div class="code-copy-outer-scaffold"><div class="sourceCode cell-code" id="cb10"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb10-1"><a href="#cb10-1" aria-hidden="true" tabindex="-1"></a>p1 <span class="sc">+</span></span>
<span id="cb10-2"><a href="#cb10-2" aria-hidden="true" tabindex="-1"></a>  <span class="fu">theme</span>(<span class="at">text =</span> <span class="fu">element_text</span>(<span class="at">family =</span> <span class="st">"mono"</span>))</span></code></pre></div><button title="In die Zwischenablage kopieren" class="code-copy-button"><i class="bi"></i></button></div>
</details>
<div class="cell-output-display">
<div class="quarto-figure quarto-figure-center">
<figure class="figure">
<p><a href="programing-ggplot_files/figure-html/unnamed-chunk-7-1.png" class="lightbox" data-gallery="quarto-lightbox-gallery-12"><img src="programing-ggplot_files/figure-html/unnamed-chunk-7-1.png" class="img-fluid quarto-figure quarto-figure-center figure-img" width="672"></a></p>
</figure>
</div>
</div>
</div>
</div>
<div id="tabset-2-2" class="tab-pane" role="tabpanel" aria-labelledby="tabset-2-2-tab">
<p>Mit der Option <code>"sans"</code> erhälst du eine serifenlose Schrift.</p>
<div class="cell" data-layout-align="center">
<details open="" class="code-fold">
<summary>R Code [zeigen / verbergen]</summary>
<div class="code-copy-outer-scaffold"><div class="sourceCode cell-code" id="cb11"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb11-1"><a href="#cb11-1" aria-hidden="true" tabindex="-1"></a>p1 <span class="sc">+</span></span>
<span id="cb11-2"><a href="#cb11-2" aria-hidden="true" tabindex="-1"></a>  <span class="fu">theme</span>(<span class="at">text =</span> <span class="fu">element_text</span>(<span class="at">family =</span> <span class="st">"sans"</span>))</span></code></pre></div><button title="In die Zwischenablage kopieren" class="code-copy-button"><i class="bi"></i></button></div>
</details>
<div class="cell-output-display">
<div class="quarto-figure quarto-figure-center">
<figure class="figure">
<p><a href="programing-ggplot_files/figure-html/unnamed-chunk-8-1.png" class="lightbox" data-gallery="quarto-lightbox-gallery-13"><img src="programing-ggplot_files/figure-html/unnamed-chunk-8-1.png" class="img-fluid quarto-figure quarto-figure-center figure-img" width="672"></a></p>
</figure>
</div>
</div>
</div>
</div>
<div id="tabset-2-3" class="tab-pane" role="tabpanel" aria-labelledby="tabset-2-3-tab">
<p>Mit der Option <code>"serif"</code> erhälst du eine Serifenschrift.</p>
<div class="cell" data-layout-align="center">
<details open="" class="code-fold">
<summary>R Code [zeigen / verbergen]</summary>
<div class="code-copy-outer-scaffold"><div class="sourceCode cell-code" id="cb12"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb12-1"><a href="#cb12-1" aria-hidden="true" tabindex="-1"></a>p1 <span class="sc">+</span></span>
<span id="cb12-2"><a href="#cb12-2" aria-hidden="true" tabindex="-1"></a>  <span class="fu">theme</span>(<span class="at">text =</span> <span class="fu">element_text</span>(<span class="at">family =</span> <span class="st">"serif"</span>))</span></code></pre></div><button title="In die Zwischenablage kopieren" class="code-copy-button"><i class="bi"></i></button></div>
</details>
<div class="cell-output-display">
<div class="quarto-figure quarto-figure-center">
<figure class="figure">
<p><a href="programing-ggplot_files/figure-html/unnamed-chunk-9-1.png" class="lightbox" data-gallery="quarto-lightbox-gallery-14"><img src="programing-ggplot_files/figure-html/unnamed-chunk-9-1.png" class="img-fluid quarto-figure quarto-figure-center figure-img" width="672"></a></p>
</figure>
</div>
</div>
</div>
</div>
</div>
</div>
<p>Dann möchte ich hier am Ende nochmal auf ein paar Blogs und Hilfeseiten verlinken, die sich alle mit dem Thema Schriftarten in <code>{ggplot}</code> beschäftigen. Vielleicht ist ja einer der Links exakt das, was du jetzt nochmal nachschauen wolltest. Es ist dann eher ein kompliziertes Thema, was dich einiges an Zeit kosten kann. Die Installation und die Suche der Schriften in einem Betriebssystem ist nervig.</p>
<ul>
<li><a href="https://gradientdescending.com/adding-custom-fonts-to-ggplot-in-r/">Adding Custom Fonts to ggplot in R</a> stellt das <a href="https://github.com/wch/extrafont">R Paket <code>{extrafont}</code></a> vor. Ich habe mich erstmal hier dagegen entschieden nochmal das Paket zu zeigen. Ich stelle es aber weiter unten nochmal vor.</li>
<li><a href="https://stackoverflow.com/questions/34522732/changing-fonts-in-ggplot2">Changing fonts in ggplot2</a> geht nochmal auf die Probleme mit dem R Paket <code>{extrafont}</code> ein.</li>
<li><a href="https://statisticaloddsandends.wordpress.com/2021/07/08/using-different-fonts-with-ggplot2/">Using different fonts with ggplot2</a> ist die Basis dieses Abschnitts hier. Dort wird nochmal erklärt wie die Schriftarten eingebaut werden können.</li>
<li><a href="https://systemfonts.r-lib.org/articles/systemfonts.html">Using systemfonts to handle fonts in R</a> ist die Vignette von <code>{ggplot}</code> wo es nochmal um die Verwendung von Systemschriften in <code>{ggplot}</code> geht.</li>
</ul>
<p>Wenn ich noch was tolles finde, dann werde ich es hier ergänzen. Leider ist es mir nicht gegeben alle Betriebssysteme hier einmal vollumfänglich darzustellen. Das macht ja auch so keinen Sinn. Wenn es für mich klappt, dann muss es auch erstmal reichen.</p>
<div class="quarto-layout-panel" data-layout="[15,85]">
<div class="quarto-layout-row quarto-layout-valign-top">
<div class="quarto-layout-cell" style="flex-basis: 15.0%;justify-content: center;">
<div class="quarto-figure quarto-figure-center">
<figure class="figure">
<p><a href="images/personal_opinion.png" class="lightbox" data-gallery="quarto-lightbox-gallery-15"><img src="images/personal_opinion.png" class="img-fluid quarto-figure quarto-figure-center figure-img"></a></p>
</figure>
</div>
</div>
<div class="quarto-layout-cell" style="flex-basis: 85.0%;justify-content: flex-start;">
<blockquote class="blockquote">
<p><em>“Ich persönlich habe eigentlich nie die Schriftarten in <code>{ggplot}</code> geändert. Häufig haben wir dann nur die Abbildungen genommen und dann in PowerPoint nochmal die Legenden angepasst, wenn die Schriftarten nicht gepasst haben. Ich halte es eher für ein vorgeschobenes Problem um nicht R und Co.&nbsp;nutzen zu müssen sondern alles in Excel zu machen.” — Jochen Kruppa-Scheetz, meiner bescheidener Meinung nach.</em></p>
</blockquote>
</div>
</div>
</div>
</section>
<section id="theme-anpassen" class="level3" data-number="15.4.4">
<h3 data-number="15.4.4" class="anchored" data-anchor-id="theme-anpassen"><span class="header-section-number">15.4.4</span> Theme anpassen</h3>
<p>Am meisten Spaß macht es dann doch nochmal das Thema der <code>{ggplot}</code> Abbildung anzupassen. Da geht so einiges wie wir in der Vignette <a href="https://ggplot2.tidyverse.org/reference/theme.html">Modify components of a theme</a> nachlesen können. Ich zeige hier mal die häufigsten Fragen und dann nochmal mein Thema, welches ich hier im Buch verwende.</p>
<section id="position-der-legende" class="level4 unnumbered unlisted">
<h4 class="unnumbered unlisted anchored" data-anchor-id="position-der-legende">Position der Legende</h4>
<p>Wo soll die Legende hin? Vielleicht einmal nach oben?</p>
<div class="cell">
<details open="" class="code-fold">
<summary>R Code [zeigen / verbergen]</summary>
<div class="code-copy-outer-scaffold"><div class="sourceCode cell-code" id="cb13"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb13-1"><a href="#cb13-1" aria-hidden="true" tabindex="-1"></a><span class="fu">theme</span>(<span class="at">legend.position =</span> <span class="st">"top"</span>)</span></code></pre></div><button title="In die Zwischenablage kopieren" class="code-copy-button"><i class="bi"></i></button></div>
</details>
</div>
<p>Oder soll die Legende gar nicht angezeigt werden?</p>
<div class="cell">
<details open="" class="code-fold">
<summary>R Code [zeigen / verbergen]</summary>
<div class="code-copy-outer-scaffold"><div class="sourceCode cell-code" id="cb14"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb14-1"><a href="#cb14-1" aria-hidden="true" tabindex="-1"></a><span class="fu">theme</span>(<span class="at">legend.position =</span> <span class="st">"none"</span>)</span></code></pre></div><button title="In die Zwischenablage kopieren" class="code-copy-button"><i class="bi"></i></button></div>
</details>
</div>
<p>Wenn ein einzelnes <code>geom_*</code> nicht angezeigt werden soll, dann kannst du auch den Eintrag in die Legende ausschalten.</p>
<div class="cell">
<details open="" class="code-fold">
<summary>R Code [zeigen / verbergen]</summary>
<div class="code-copy-outer-scaffold"><div class="sourceCode cell-code" id="cb15"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb15-1"><a href="#cb15-1" aria-hidden="true" tabindex="-1"></a><span class="fu">geom_point</span>(<span class="at">show.legend =</span> <span class="cn">FALSE</span>)</span></code></pre></div><button title="In die Zwischenablage kopieren" class="code-copy-button"><i class="bi"></i></button></div>
</details>
</div>
</section>
<section id="eigenes-theme" class="level4 unnumbered unlisted">
<h4 class="unnumbered unlisted anchored" data-anchor-id="eigenes-theme">Eigenes Theme</h4>
<p>Wie du in der Vignette <a href="https://ggplot2.tidyverse.org/reference/theme.html">Modify components of a theme</a> nachlesen kannst, geht immer eine Menge, wenn es um die Änderung der Abbildung geht. Ich nutze dann immer folgendes Template, wenn es dann um meine Abbildungen geht. Daher verwende ich dann statt <code>theme_minimal()</code> in meinen Abbildungen immer <code>theme_modeling()</code>, wenn es um Modelle geht. Ich habe dann noch andere Themen in anderen Kapiteln definiert, aber das hier ist dann mein Template.</p>
<div class="cell">
<details open="" class="code-fold">
<summary>R Code [zeigen / verbergen]</summary>
<div class="code-copy-outer-scaffold"><div class="sourceCode cell-code" id="cb16"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb16-1"><a href="#cb16-1" aria-hidden="true" tabindex="-1"></a>theme_modeling <span class="ot">&lt;-</span> <span class="cf">function</span>() {</span>
<span id="cb16-2"><a href="#cb16-2" aria-hidden="true" tabindex="-1"></a>  <span class="fu">theme_minimal</span>() <span class="sc">+</span></span>
<span id="cb16-3"><a href="#cb16-3" aria-hidden="true" tabindex="-1"></a>    <span class="fu">theme</span>(<span class="at">panel.grid.minor =</span> <span class="fu">element_blank</span>(),</span>
<span id="cb16-4"><a href="#cb16-4" aria-hidden="true" tabindex="-1"></a>          <span class="at">plot.title =</span> <span class="fu">element_text</span>(<span class="at">size =</span> <span class="dv">16</span>, <span class="at">face =</span> <span class="st">"bold"</span>),</span>
<span id="cb16-5"><a href="#cb16-5" aria-hidden="true" tabindex="-1"></a>          <span class="at">plot.subtitle =</span> <span class="fu">element_text</span>(<span class="at">size =</span> <span class="dv">12</span>, <span class="at">face =</span> <span class="st">"italic"</span>),</span>
<span id="cb16-6"><a href="#cb16-6" aria-hidden="true" tabindex="-1"></a>          <span class="at">plot.caption =</span> <span class="fu">element_text</span>(<span class="at">face =</span> <span class="st">"italic"</span>),</span>
<span id="cb16-7"><a href="#cb16-7" aria-hidden="true" tabindex="-1"></a>          <span class="at">axis.title =</span> <span class="fu">element_text</span>(<span class="at">size =</span> <span class="dv">12</span>, <span class="at">face =</span> <span class="st">"bold"</span>),</span>
<span id="cb16-8"><a href="#cb16-8" aria-hidden="true" tabindex="-1"></a>          <span class="at">axis.text =</span> <span class="fu">element_text</span>(<span class="at">size =</span> <span class="dv">12</span>),</span>
<span id="cb16-9"><a href="#cb16-9" aria-hidden="true" tabindex="-1"></a>          <span class="at">strip.text =</span> <span class="fu">element_text</span>(<span class="at">face =</span> <span class="st">"bold"</span>))</span>
<span id="cb16-10"><a href="#cb16-10" aria-hidden="true" tabindex="-1"></a>}</span></code></pre></div><button title="In die Zwischenablage kopieren" class="code-copy-button"><i class="bi"></i></button></div>
</details>
</div>
<p>Dann können wir uns auch einmal das Template <code>theme_modeling()</code> in der folgenden Abbildung anschauen. Ich habe hier einfach etwas angepasst, so dass ich die Abbildung am Ende schöner fand. Das Farbthema ändere ich dann meistens auch noch, aber das ist dann weiter unten Thema.</p>
<div class="cell" data-layout-align="center">
<details open="" class="code-fold">
<summary>R Code [zeigen / verbergen]</summary>
<div class="code-copy-outer-scaffold"><div class="sourceCode cell-code" id="cb17"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb17-1"><a href="#cb17-1" aria-hidden="true" tabindex="-1"></a><span class="fu">ggplot</span>(<span class="at">data =</span> ggplot_tbl, <span class="fu">aes</span>(<span class="at">x =</span> feeding, <span class="at">y =</span> jump_length,</span>
<span id="cb17-2"><a href="#cb17-2" aria-hidden="true" tabindex="-1"></a>                              <span class="at">fill =</span> feeding)) <span class="sc">+</span></span>
<span id="cb17-3"><a href="#cb17-3" aria-hidden="true" tabindex="-1"></a>  <span class="fu">theme_modeling</span>() <span class="sc">+</span></span>
<span id="cb17-4"><a href="#cb17-4" aria-hidden="true" tabindex="-1"></a>  <span class="fu">geom_boxplot</span>() <span class="sc">+</span></span>
<span id="cb17-5"><a href="#cb17-5" aria-hidden="true" tabindex="-1"></a>  <span class="fu">scale_x_discrete</span>(<span class="at">labels =</span> <span class="fu">c</span>(<span class="st">"Blut"</span>, <span class="st">"Ketchup"</span>, <span class="st">"Zuckerwasser"</span>)) <span class="sc">+</span></span>
<span id="cb17-6"><a href="#cb17-6" aria-hidden="true" tabindex="-1"></a>  <span class="fu">labs</span>(<span class="at">title =</span> <span class="st">"Ernährungsbedinungen"</span>,</span>
<span id="cb17-7"><a href="#cb17-7" aria-hidden="true" tabindex="-1"></a>       <span class="at">subtitle =</span> <span class="st">"Unterschiedliche Bedingungen für die Sprungweite"</span>,</span>
<span id="cb17-8"><a href="#cb17-8" aria-hidden="true" tabindex="-1"></a>       <span class="at">caption =</span> <span class="st">"Erhoben im Sommer 2022"</span>,</span>
<span id="cb17-9"><a href="#cb17-9" aria-hidden="true" tabindex="-1"></a>       <span class="at">x =</span> <span class="st">"Ernährungsarten"</span>, <span class="at">y =</span> <span class="st">"Sprungweite in [cm]"</span>,</span>
<span id="cb17-10"><a href="#cb17-10" aria-hidden="true" tabindex="-1"></a>       <span class="at">fill =</span> <span class="st">"Ernährung"</span>)</span></code></pre></div><button title="In die Zwischenablage kopieren" class="code-copy-button"><i class="bi"></i></button></div>
</details>
<div class="cell-output-display">
<div id="fig-labels-own-theme" class="quarto-float quarto-figure quarto-figure-center anchored" data-fig-align="center">
<figure class="quarto-float quarto-float-fig figure">
<div aria-describedby="fig-labels-own-theme-caption-0ceaefa1-69ba-4598-a22c-09a6ac19f8ca">
<a href="programing-ggplot_files/figure-html/fig-labels-own-theme-1.png" class="lightbox" data-gallery="quarto-lightbox-gallery-16" title="Abbildung&nbsp;15.10— Beispielhafte Anwendung des Templates theme_modeling(). [Zum Vergrößern anklicken]"><img src="programing-ggplot_files/figure-html/fig-labels-own-theme-1.png" class="img-fluid quarto-figure quarto-figure-center figure-img" width="672"></a>
</div>
<figcaption class="quarto-float-caption-bottom quarto-float-caption quarto-float-fig" id="fig-labels-own-theme-caption-0ceaefa1-69ba-4598-a22c-09a6ac19f8ca">
Abbildung&nbsp;15.10— Beispielhafte Anwendung des Templates <code>theme_modeling()</code>. <em>[Zum Vergrößern anklicken]</em>
</figcaption>
</figure>
</div>
</div>
</div>
</section>
</section>
<section id="abbildungen-beschriften" class="level3" data-number="15.4.5">
<h3 data-number="15.4.5" class="anchored" data-anchor-id="abbildungen-beschriften"><span class="header-section-number">15.4.5</span> Abbildungen beschriften</h3>
<p>Manchmal willst du auch Abbildungen beschriften. Ich mache das ja hier die ganze Zeit. Alle meine Abbildungen sind in der zweiten Runde dann auf <code>{ggplot}</code> umgestellt worden. Ich haben nur noch in alten Kapiteln meine Handzeichnungen drin. Dennoch ist es immer so eine Sache. Dazu dann ein Wort von mir nochmal zum Ende. Hier einmal die beispielhafte Abbildung mit einem Text aus der Funktion <code>annotate()</code>. Die Funktion ist sehr mächtig, den wir können so ziemlich jedes <code>geom_*</code> auch annotieren. Mehr zur Beschriftung einer <code>{ggplot}</code> Abbildung findest du auch im <a href="https://r-graphics.org/CHAPTER-ANNOTATE.html">R Graphics Cookbook</a>.</p>
<div class="cell" data-layout-align="center">
<details open="" class="code-fold">
<summary>R Code [zeigen / verbergen]</summary>
<div class="code-copy-outer-scaffold"><div class="sourceCode cell-code" id="cb18"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb18-1"><a href="#cb18-1" aria-hidden="true" tabindex="-1"></a><span class="fu">ggplot</span>(<span class="at">data =</span> ggplot_tbl, <span class="fu">aes</span>(<span class="at">x =</span> weight, <span class="at">y =</span> jump_length,</span>
<span id="cb18-2"><a href="#cb18-2" aria-hidden="true" tabindex="-1"></a>                              <span class="at">color =</span> feeding)) <span class="sc">+</span></span>
<span id="cb18-3"><a href="#cb18-3" aria-hidden="true" tabindex="-1"></a>  <span class="fu">theme_minimal</span>() <span class="sc">+</span>  </span>
<span id="cb18-4"><a href="#cb18-4" aria-hidden="true" tabindex="-1"></a>  <span class="fu">geom_point</span>(<span class="at">alpha =</span> <span class="fl">0.5</span>) <span class="sc">+</span></span>
<span id="cb18-5"><a href="#cb18-5" aria-hidden="true" tabindex="-1"></a>  <span class="fu">annotate</span>(<span class="st">"text"</span>, <span class="at">x =</span> <span class="dv">10</span>, <span class="at">y =</span> <span class="dv">100</span>, <span class="at">label =</span> <span class="st">"text"</span>, <span class="at">size =</span> <span class="dv">5</span>,</span>
<span id="cb18-6"><a href="#cb18-6" aria-hidden="true" tabindex="-1"></a>           <span class="at">fontface =</span> <span class="dv">3</span>) <span class="sc">+</span></span>
<span id="cb18-7"><a href="#cb18-7" aria-hidden="true" tabindex="-1"></a>  <span class="fu">annotate</span>(<span class="st">"label"</span>, <span class="at">x =</span> <span class="dv">10</span>, <span class="at">y =</span> <span class="dv">200</span>, <span class="at">label =</span> <span class="st">"text"</span>, <span class="at">size =</span> <span class="dv">5</span>,</span>
<span id="cb18-8"><a href="#cb18-8" aria-hidden="true" tabindex="-1"></a>           <span class="at">fontface =</span> <span class="dv">2</span>) </span></code></pre></div><button title="In die Zwischenablage kopieren" class="code-copy-button"><i class="bi"></i></button></div>
</details>
<div class="cell-output-display">
<div id="fig-labels-beschriften" class="quarto-float quarto-figure quarto-figure-center anchored" data-fig-align="center">
<figure class="quarto-float quarto-float-fig figure">
<div aria-describedby="fig-labels-beschriften-caption-0ceaefa1-69ba-4598-a22c-09a6ac19f8ca">
<a href="programing-ggplot_files/figure-html/fig-labels-beschriften-1.png" class="lightbox" data-gallery="quarto-lightbox-gallery-17" title="Abbildung&nbsp;15.11— Beispielhafte Anwendung der Funktion annotate() für einen Text und ein Label. [Zum Vergrößern anklicken]"><img src="programing-ggplot_files/figure-html/fig-labels-beschriften-1.png" class="img-fluid quarto-figure quarto-figure-center figure-img" width="672"></a>
</div>
<figcaption class="quarto-float-caption-bottom quarto-float-caption quarto-float-fig" id="fig-labels-beschriften-caption-0ceaefa1-69ba-4598-a22c-09a6ac19f8ca">
Abbildung&nbsp;15.11— Beispielhafte Anwendung der Funktion <code>annotate()</code> für einen Text und ein Label. <em>[Zum Vergrößern anklicken]</em>
</figcaption>
</figure>
</div>
</div>
</div>
<p>Wir haben mit der <code>fontface</code>-Option in <code>element_text()</code> die Möglichkeit auch die Schriften anzupassen. Dabei ist es dann die folgende Reihenfolge oder eben der Begriff.</p>
<div class="cell" data-layout-align="center">
<div class="cell-output-display">
<div id="fig-labels-beschriften-0" class="quarto-float quarto-figure quarto-figure-center anchored" data-fig-align="center">
<figure class="quarto-float quarto-float-fig figure">
<div aria-describedby="fig-labels-beschriften-0-caption-0ceaefa1-69ba-4598-a22c-09a6ac19f8ca">
<a href="programing-ggplot_files/figure-html/fig-labels-beschriften-0-1.png" class="lightbox" data-gallery="quarto-lightbox-gallery-18" title="Abbildung&nbsp;15.12— Zuordnung der Zahlen und Begrifflichkeiten in der fontface-Option. [Zum Vergrößern anklicken]"><img src="programing-ggplot_files/figure-html/fig-labels-beschriften-0-1.png" class="img-fluid quarto-figure quarto-figure-center figure-img" width="672"></a>
</div>
<figcaption class="quarto-float-caption-bottom quarto-float-caption quarto-float-fig" id="fig-labels-beschriften-0-caption-0ceaefa1-69ba-4598-a22c-09a6ac19f8ca">
Abbildung&nbsp;15.12— Zuordnung der Zahlen und Begrifflichkeiten in der <code>fontface</code>-Option. <em>[Zum Vergrößern anklicken]</em>
</figcaption>
</figure>
</div>
</div>
</div>
<p>Manchmal zeichne ich dann auch gerne mal eine Kurve oder eine Linie ein. Dafür haben wir dann die Funktionen <code>geom_curve()</code> und <code>geom_segment()</code>. Das sind dann aber schon eher die Besonderheiten in <code>{ggplot}</code>. Statt der Funktionen mit <code>geom</code> können wir dann auch die Funktionen mit <code>annotate()</code> anwählen.</p>
<div class="cell" data-layout-align="center">
<details open="" class="code-fold">
<summary>R Code [zeigen / verbergen]</summary>
<div class="code-copy-outer-scaffold"><div class="sourceCode cell-code" id="cb19"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb19-1"><a href="#cb19-1" aria-hidden="true" tabindex="-1"></a><span class="fu">ggplot</span>(<span class="at">data =</span> ggplot_tbl, <span class="fu">aes</span>(<span class="at">x =</span> weight, <span class="at">y =</span> jump_length,</span>
<span id="cb19-2"><a href="#cb19-2" aria-hidden="true" tabindex="-1"></a>                              <span class="at">color =</span> feeding)) <span class="sc">+</span></span>
<span id="cb19-3"><a href="#cb19-3" aria-hidden="true" tabindex="-1"></a>  <span class="fu">theme_minimal</span>() <span class="sc">+</span>  </span>
<span id="cb19-4"><a href="#cb19-4" aria-hidden="true" tabindex="-1"></a>  <span class="fu">geom_point</span>(<span class="at">alpha =</span> <span class="fl">0.5</span>) <span class="sc">+</span></span>
<span id="cb19-5"><a href="#cb19-5" aria-hidden="true" tabindex="-1"></a>  <span class="fu">geom_curve</span>(<span class="fu">aes</span>(<span class="at">x =</span> <span class="dv">12</span>, <span class="at">y =</span> <span class="dv">100</span>, <span class="at">xend =</span> <span class="dv">15</span>, <span class="at">yend =</span> <span class="dv">150</span>),</span>
<span id="cb19-6"><a href="#cb19-6" aria-hidden="true" tabindex="-1"></a>             <span class="at">arrow =</span> <span class="fu">arrow</span>(<span class="at">length =</span> <span class="fu">unit</span>(<span class="fl">0.3</span>, <span class="st">"cm"</span>), <span class="at">type =</span> <span class="st">"closed"</span>),</span>
<span id="cb19-7"><a href="#cb19-7" aria-hidden="true" tabindex="-1"></a>             <span class="at">color =</span> <span class="st">"blue"</span>,</span>
<span id="cb19-8"><a href="#cb19-8" aria-hidden="true" tabindex="-1"></a>             <span class="at">size =</span> <span class="fl">0.75</span>,</span>
<span id="cb19-9"><a href="#cb19-9" aria-hidden="true" tabindex="-1"></a>             <span class="at">curvature =</span> <span class="fl">0.3</span>) <span class="sc">+</span></span>
<span id="cb19-10"><a href="#cb19-10" aria-hidden="true" tabindex="-1"></a>  <span class="fu">geom_segment</span>(<span class="fu">aes</span>(<span class="at">x =</span> <span class="dv">5</span>, <span class="at">xend =</span> <span class="dv">25</span>, <span class="at">y =</span> <span class="dv">50</span>, <span class="at">yend =</span> <span class="dv">100</span>), <span class="at">color =</span> <span class="st">"black"</span>)</span></code></pre></div><button title="In die Zwischenablage kopieren" class="code-copy-button"><i class="bi"></i></button></div>
</details>
<div class="cell-output-display">
<div id="fig-labels-beschriften-mitpfeil" class="quarto-float quarto-figure quarto-figure-center anchored" data-fig-align="center">
<figure class="quarto-float quarto-float-fig figure">
<div aria-describedby="fig-labels-beschriften-mitpfeil-caption-0ceaefa1-69ba-4598-a22c-09a6ac19f8ca">
<a href="programing-ggplot_files/figure-html/fig-labels-beschriften-mitpfeil-1.png" class="lightbox" data-gallery="quarto-lightbox-gallery-19" title="Abbildung&nbsp;15.13— Beispielhafte Darstellung eines Pfeils und einer Linie. [Zum Vergrößern anklicken]"><img src="programing-ggplot_files/figure-html/fig-labels-beschriften-mitpfeil-1.png" class="img-fluid quarto-figure quarto-figure-center figure-img" width="672"></a>
</div>
<figcaption class="quarto-float-caption-bottom quarto-float-caption quarto-float-fig" id="fig-labels-beschriften-mitpfeil-caption-0ceaefa1-69ba-4598-a22c-09a6ac19f8ca">
Abbildung&nbsp;15.13— Beispielhafte Darstellung eines Pfeils und einer Linie. <em>[Zum Vergrößern anklicken]</em>
</figcaption>
</figure>
</div>
</div>
</div>
<p>Die Beschriftung von Abbildungen ist in dem Buch <a href="https://ggplot2-book.org/annotations.html">ggplot2: Elegant Graphics for Data Analysis (3e)</a> super beschrieben. Aber auch hier muss man dann immer überlegen, ob sich der Aufwand dann lohnt. Das <a href="https://r-graphics.org/CHAPTER-ANNOTATE.html">R Graphics Cookbook</a> liefert hier auch nochmal Inspirationen. Manchmal ist der Zeitaufwand aber sehr hoch und du könntest es auch schneller mit PowerPoint lösen. Das mag in einer Abschlussarbeit mal eine gute Idee sein.</p>
<div class="quarto-layout-panel" data-layout="[15,85]">
<div class="quarto-layout-row quarto-layout-valign-top">
<div class="quarto-layout-cell" style="flex-basis: 15.0%;justify-content: center;">
<div class="quarto-figure quarto-figure-center">
<figure class="figure">
<p><a href="images/personal_opinion.png" class="lightbox" data-gallery="quarto-lightbox-gallery-20"><img src="images/personal_opinion.png" class="img-fluid quarto-figure quarto-figure-center figure-img"></a></p>
</figure>
</div>
</div>
<div class="quarto-layout-cell" style="flex-basis: 85.0%;justify-content: flex-start;">
<blockquote class="blockquote">
<p><em>“Macht es überhaupt Sinn? Wenn du nur ein paar Abbildungen mit einem Pfeil versehen willst, dann würde ich dir immer den Weg über PowerPoint empfehlen. Dann kannst du dort deine Abbildung exportieren und im Zweifel zuschneiden. Das geht viel schneller als sich hier mit der Annotation in <code>{ggplot}</code> zu quälen. Aber ja, es ist sehr befriedigend, wenn es dann geklappt hat…” — Jochen Kruppa-Scheetz, meiner bescheidener Meinung nach.</em></p>
</blockquote>
</div>
</div>
</div>
</section>
<section id="keine-lücke-auf-der-y-achse" class="level3" data-number="15.4.6">
<h3 data-number="15.4.6" class="anchored" data-anchor-id="keine-lücke-auf-der-y-achse"><span class="header-section-number">15.4.6</span> Keine Lücke auf der y-Achse</h3>
<p>Wenn du dir einen Barplot baust, dann hast du das Problem, dass auf der y-Achse eine kliene Lücke zu der x-Achse vorliegt. Das mag unangenehm sein. Deshalb können wir diese Lücke auch entfernen. Zuerst nochmal schnell die Daten zusammengefasst.</p>
<div class="cell">
<details open="" class="code-fold">
<summary>R Code [zeigen / verbergen]</summary>
<div class="code-copy-outer-scaffold"><div class="sourceCode cell-code" id="cb20"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb20-1"><a href="#cb20-1" aria-hidden="true" tabindex="-1"></a>stats_tbl <span class="ot">&lt;-</span> ggplot_tbl <span class="sc">|&gt;</span> </span>
<span id="cb20-2"><a href="#cb20-2" aria-hidden="true" tabindex="-1"></a>  <span class="fu">group_by</span>(feeding) <span class="sc">|&gt;</span> </span>
<span id="cb20-3"><a href="#cb20-3" aria-hidden="true" tabindex="-1"></a>  <span class="fu">summarise</span>(<span class="at">mean =</span> <span class="fu">mean</span>(jump_length))</span></code></pre></div><button title="In die Zwischenablage kopieren" class="code-copy-button"><i class="bi"></i></button></div>
</details>
</div>
<p>Dann können wir uns auch schon die Abbildung bauen und dabei dann die Option <code>expand = expansion(0)</code> setzen. Damit haben wir dann keine Lücke mehr in unserer Abbildung.</p>
<div class="cell" data-layout-align="center">
<details open="" class="code-fold">
<summary>R Code [zeigen / verbergen]</summary>
<div class="code-copy-outer-scaffold"><div class="sourceCode cell-code" id="cb21"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb21-1"><a href="#cb21-1" aria-hidden="true" tabindex="-1"></a><span class="fu">ggplot</span>(stats_tbl, <span class="fu">aes</span>(<span class="at">x =</span> feeding, <span class="at">y =</span> mean)) <span class="sc">+</span></span>
<span id="cb21-2"><a href="#cb21-2" aria-hidden="true" tabindex="-1"></a>  <span class="fu">theme_minimal</span>() <span class="sc">+</span></span>
<span id="cb21-3"><a href="#cb21-3" aria-hidden="true" tabindex="-1"></a>  <span class="fu">geom_bar</span>(<span class="at">stat =</span> <span class="st">"identity"</span>) <span class="sc">+</span> </span>
<span id="cb21-4"><a href="#cb21-4" aria-hidden="true" tabindex="-1"></a>  <span class="fu">scale_y_continuous</span>(<span class="at">expand =</span> <span class="fu">expansion</span>(<span class="dv">0</span>)) </span></code></pre></div><button title="In die Zwischenablage kopieren" class="code-copy-button"><i class="bi"></i></button></div>
</details>
<div class="cell-output-display">
<div id="fig-labels-zero" class="quarto-float quarto-figure quarto-figure-center anchored" data-fig-align="center">
<figure class="quarto-float quarto-float-fig figure">
<div aria-describedby="fig-labels-zero-caption-0ceaefa1-69ba-4598-a22c-09a6ac19f8ca">
<a href="programing-ggplot_files/figure-html/fig-labels-zero-1.png" class="lightbox" data-gallery="quarto-lightbox-gallery-21" title="Abbildung&nbsp;15.14— Beispielhafter ohne Lücke auf der y-Achse zu der x-Achse. [Zum Vergrößern anklicken]"><img src="programing-ggplot_files/figure-html/fig-labels-zero-1.png" class="img-fluid quarto-figure quarto-figure-center figure-img" width="672"></a>
</div>
<figcaption class="quarto-float-caption-bottom quarto-float-caption quarto-float-fig" id="fig-labels-zero-caption-0ceaefa1-69ba-4598-a22c-09a6ac19f8ca">
Abbildung&nbsp;15.14— Beispielhafter ohne Lücke auf der y-Achse zu der x-Achse. <em>[Zum Vergrößern anklicken]</em>
</figcaption>
</figure>
</div>
</div>
</div>
</section>
<section id="sec-abbildung-nebeneinander" class="level3" data-number="15.4.7">
<h3 data-number="15.4.7" class="anchored" data-anchor-id="sec-abbildung-nebeneinander"><span class="header-section-number">15.4.7</span> Abbildungen nebeneinander</h3>
<p>Das <a href="https://patchwork.data-imaginist.com/articles/patchwork.html">R Paket <code>{patchwork}</code></a> erlaubt es mehrere <code>ggplot</code> Abbildungen nebeneinander oder in einem beliebigen Layout miteinander zu verbinden. Das tolle ist, dass die Idee sehr intuitiv ist. Wir nutzen wieder das <code>+</code> um verschiedene Plots miteinander zu verbinden. Im Folgenden erschaffen wir uns zwei <code>ggplots</code> und speichern die Plots in den Objekten <code>p1</code> und <code>p2</code>. Das ist wie wir es bisher kennen, nur das jetzt keine Abbildung erscheint sondern beide Plots in zwei Objekten gespeichert sind.</p>
<div class="cell">
<details open="" class="code-fold">
<summary>R Code [zeigen / verbergen]</summary>
<div class="code-copy-outer-scaffold"><div class="sourceCode cell-code" id="cb22"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb22-1"><a href="#cb22-1" aria-hidden="true" tabindex="-1"></a>p1 <span class="ot">&lt;-</span> <span class="fu">ggplot</span>(<span class="at">data =</span> ggplot_tbl, </span>
<span id="cb22-2"><a href="#cb22-2" aria-hidden="true" tabindex="-1"></a>             <span class="fu">aes</span>(<span class="at">x =</span> weight, <span class="at">y =</span> jump_length,</span>
<span id="cb22-3"><a href="#cb22-3" aria-hidden="true" tabindex="-1"></a>                 <span class="at">color =</span> feeding)) <span class="sc">+</span></span>
<span id="cb22-4"><a href="#cb22-4" aria-hidden="true" tabindex="-1"></a>  <span class="fu">geom_point</span>() <span class="sc">+</span></span>
<span id="cb22-5"><a href="#cb22-5" aria-hidden="true" tabindex="-1"></a>  <span class="fu">scale_color_okabeito</span>() <span class="sc">+</span></span>
<span id="cb22-6"><a href="#cb22-6" aria-hidden="true" tabindex="-1"></a>  <span class="fu">theme_minimal</span>()</span>
<span id="cb22-7"><a href="#cb22-7" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb22-8"><a href="#cb22-8" aria-hidden="true" tabindex="-1"></a>p2 <span class="ot">&lt;-</span> <span class="fu">ggplot</span>(<span class="at">data =</span> ggplot_tbl, </span>
<span id="cb22-9"><a href="#cb22-9" aria-hidden="true" tabindex="-1"></a>                <span class="fu">aes</span>(<span class="at">x =</span> feeding, <span class="at">y =</span> jump_length,</span>
<span id="cb22-10"><a href="#cb22-10" aria-hidden="true" tabindex="-1"></a>                    <span class="at">color =</span> feeding)) <span class="sc">+</span></span>
<span id="cb22-11"><a href="#cb22-11" aria-hidden="true" tabindex="-1"></a>  <span class="fu">geom_point</span>() <span class="sc">+</span></span>
<span id="cb22-12"><a href="#cb22-12" aria-hidden="true" tabindex="-1"></a>  <span class="fu">scale_color_okabeito</span>() <span class="sc">+</span></span>
<span id="cb22-13"><a href="#cb22-13" aria-hidden="true" tabindex="-1"></a>  <span class="fu">theme_minimal</span>()</span></code></pre></div><button title="In die Zwischenablage kopieren" class="code-copy-button"><i class="bi"></i></button></div>
</details>
</div>
<p>Wie können wir nun die beiden Abbildungen nebeneinander zeichnen? Wir nutzen einfach das <code>+</code> Symbol.</p>
<div class="cell" data-layout-align="center">
<details open="" class="code-fold">
<summary>R Code [zeigen / verbergen]</summary>
<div class="code-copy-outer-scaffold"><div class="sourceCode cell-code" id="cb23"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb23-1"><a href="#cb23-1" aria-hidden="true" tabindex="-1"></a>p1 <span class="sc">+</span> p2 <span class="sc">+</span></span>
<span id="cb23-2"><a href="#cb23-2" aria-hidden="true" tabindex="-1"></a>  <span class="fu">plot_layout</span>(<span class="at">ncol =</span> <span class="dv">2</span>) <span class="sc">+</span></span>
<span id="cb23-3"><a href="#cb23-3" aria-hidden="true" tabindex="-1"></a>  <span class="fu">plot_annotation</span>(<span class="at">tag_levels =</span> <span class="st">'A'</span>, <span class="at">tag_prefix =</span> <span class="st">'('</span>, <span class="at">tag_suffix =</span> <span class="st">')'</span>) <span class="sc">&amp;</span></span>
<span id="cb23-4"><a href="#cb23-4" aria-hidden="true" tabindex="-1"></a>  <span class="fu">theme</span>(<span class="at">plot.tag =</span> <span class="fu">element_text</span>(<span class="at">size =</span> <span class="dv">16</span>, <span class="at">face =</span> <span class="st">"bold"</span>))</span></code></pre></div><button title="In die Zwischenablage kopieren" class="code-copy-button"><i class="bi"></i></button></div>
</details>
<div class="cell-output-display">
<div id="fig-labels-patchwork-1" class="quarto-float quarto-figure quarto-figure-center anchored" data-fig-align="center">
<figure class="quarto-float quarto-float-fig figure">
<div aria-describedby="fig-labels-patchwork-1-caption-0ceaefa1-69ba-4598-a22c-09a6ac19f8ca">
<a href="programing-ggplot_files/figure-html/fig-labels-patchwork-1-1.png" class="lightbox" data-gallery="quarto-lightbox-gallery-22" title="Abbildung&nbsp;15.15— Beispielhafte Abbildung der zweier Plots nebeneinander für die Sprungweite und zwei Einflussvariablen. (A) Zusammenhang zwischen dem Gewicht und der Sprungweite. (B) Zusammenhang der Ernährungsart und der Sprungweite. [Zum Vergrößern anklicken]"><img src="programing-ggplot_files/figure-html/fig-labels-patchwork-1-1.png" class="img-fluid quarto-figure quarto-figure-center figure-img" width="864"></a>
</div>
<figcaption class="quarto-float-caption-bottom quarto-float-caption quarto-float-fig" id="fig-labels-patchwork-1-caption-0ceaefa1-69ba-4598-a22c-09a6ac19f8ca">
Abbildung&nbsp;15.15— Beispielhafte Abbildung der zweier Plots nebeneinander für die Sprungweite und zwei Einflussvariablen. <strong>(A)</strong> Zusammenhang zwischen dem Gewicht und der Sprungweite. <strong>(B)</strong> Zusammenhang der Ernährungsart und der Sprungweite. <em>[Zum Vergrößern anklicken]</em>
</figcaption>
</figure>
</div>
</div>
</div>
<p>Auf der Seite des <a href="https://patchwork.data-imaginist.com/articles/patchwork.html">R Paket <code>{patchwork}</code></a> findest du viel mehr Möglichkeiten das Layout anzupassen und auch die einzelnen <a href="https://patchwork.data-imaginist.com/articles/guides/annotation.html">Subplots zu beschriften</a>.</p>
</section>
<section id="abbildungen-abspeichern" class="level3" data-number="15.4.8">
<h3 data-number="15.4.8" class="anchored" data-anchor-id="abbildungen-abspeichern"><span class="header-section-number">15.4.8</span> Abbildungen abspeichern</h3>
<p>Wenn du eine Abbildung abspeichern willst, dann musst du nur nach dem <code>ggplot</code>-Code die Funktion <code>ggsave()</code> setzen. Wie du im hier im Folgenden siehst, speichere ich die Abbildung der Boxplots der Hunde- und Katzenflöhe einmal in der Datei <code>flea_dog_boxplot.png</code> ab. Dabei wähle ich eine Breite <code>width</code> und eine Höhe <code>height</code> von jeweils 5. Du musst dann immer etwas spielen, je größer die Zahlen, desto größer die Abbildung und die Auflösung.</p>
<div class="cell" data-layout-align="center">
<details open="" class="code-fold">
<summary>R Code [zeigen / verbergen]</summary>
<div class="code-copy-outer-scaffold"><div class="sourceCode cell-code" id="cb24"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb24-1"><a href="#cb24-1" aria-hidden="true" tabindex="-1"></a><span class="fu">ggplot</span>(<span class="at">data =</span> ggplot_tbl, </span>
<span id="cb24-2"><a href="#cb24-2" aria-hidden="true" tabindex="-1"></a>       <span class="fu">aes</span>(<span class="at">x =</span> feeding, <span class="at">y =</span> jump_length)) <span class="sc">+</span></span>
<span id="cb24-3"><a href="#cb24-3" aria-hidden="true" tabindex="-1"></a>  <span class="fu">geom_boxplot</span>() </span>
<span id="cb24-4"><a href="#cb24-4" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb24-5"><a href="#cb24-5" aria-hidden="true" tabindex="-1"></a><span class="do">## Abspeichern des obigen ggplots  </span></span>
<span id="cb24-6"><a href="#cb24-6" aria-hidden="true" tabindex="-1"></a><span class="fu">ggsave</span>(<span class="st">"feeding_boxplot.png"</span>, <span class="at">width =</span> <span class="dv">5</span>, <span class="at">height =</span> <span class="dv">5</span>)</span></code></pre></div><button title="In die Zwischenablage kopieren" class="code-copy-button"><i class="bi"></i></button></div>
</details>
</div>
<p>Wie immer hilft auch die <a href="https://ggplot2.tidyverse.org/reference/ggsave.html">Hilfeseite von <code>ggsave()</code></a> weiter, wenn es um mehr Optionen und Qualität der Abbildungen geht und natürlich das Kapitel im Buch <a href="https://ggplot2-book.org/themes.html#sec-saving">ggplot2: Elegant Graphics for Data Analysis (3e)</a> wo wir nochmal über verschiedene Formate wie PDF und PNG aufgeklärt werden.</p>
</section>
<section id="sec-eda-tex" class="level3" data-number="15.4.9">
<h3 data-number="15.4.9" class="anchored" data-anchor-id="sec-eda-tex"><span class="header-section-number">15.4.9</span> Mathematische Ausdrücke</h3>
<p>Häufig wollen wir nicht nur einfache Achsenbeschriftungen haben, sondern auch irgendwie komplexere Einheiten wie Eisendüngergehalt im Boden in <span class="math inline">\([kg\, ha]^{-1}\)</span> darstellen. Jetzt soll die Einheit auch in dieser Form mit in die Achsenbeschriftung. Wir können dafür zwei Wege wählen. Einmal über das R Paket <code>{latex2exp}</code> und die Funktion <code>TeX()</code> oder aber die Funktion <code>expression()</code>, wofür wir dann kein eigenes R Paket brauchen. Beide Wege haben Vor- und Nachteile. Wir gehen aber beide mal durch. Mehr Informationen durch das Tutorium <a href="https://cran.r-project.org/web/packages/latex2exp/vignettes/using-latex2exp.html">Using latex2exp</a> oder aber eben der Klassiker mit <a href="https://stat.ethz.ch/R-manual/R-patched/library/grDevices/html/plotmath.html">Plot math expression</a>.</p>
<p>Wir können die Funktion <code>expression()</code> nutzen um uns mathematische Formeln zu bauen. Leider ist das Ganze etwas frickelig und auch ich brauche immer drei Anläufe, bis die Formel dann passt. Im Folgenden aber einmal zwei Beispiel für mathematische Formeln und Ausdrücke. Beachte, dass du jedes Leerzeichen durch eine Tilde <code>~</code> abbilden musst. Ich nutze die Funktion <code>expression()</code> sehr selten und nur wenn die Formel wirklich sehr einfach ist. Da wir aber schon mit eckigen Klammern Probleme kriegen und diese so nervig mit <code>"</code> einklammern müssen, nutze ich dann das Paket <code>{latex2exp}</code> was ich im Folgenden vorstellen werde.</p>
<p>Hier aber erstmal zwei Beispiele für eine Formel mit der Funktion <code>expression()</code>. Wenn du mehr über die Möglichkeiten wissen willst, dann schauen auch einmal auf die Hilfeseite von <a href="https://stat.ethz.ch/R-manual/R-patched/library/grDevices/html/plotmath.html">Plot math</a> oder du googelst dir die Lösung wie ich früher zusammen.</p>
<div class="cell" data-layout-align="center">
<details open="" class="code-fold">
<summary>R Code [zeigen / verbergen]</summary>
<div class="code-copy-outer-scaffold"><div class="sourceCode cell-code" id="cb25"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb25-1"><a href="#cb25-1" aria-hidden="true" tabindex="-1"></a><span class="fu">plot</span>(<span class="fu">expression</span>(Eisendüngeform<span class="sc">~</span>und<span class="sc">~-</span>höhe<span class="sc">~</span><span class="st">"[kg ha]"</span><span class="sc">^-</span><span class="dv">1</span>), <span class="at">cex =</span> <span class="fl">1.5</span>, <span class="at">main =</span> <span class="st">""</span>)</span></code></pre></div><button title="In die Zwischenablage kopieren" class="code-copy-button"><i class="bi"></i></button></div>
</details>
<div class="cell-output-display">
<div class="quarto-figure quarto-figure-center">
<figure class="figure">
<p><a href="programing-ggplot_files/figure-html/unnamed-chunk-16-1.png" class="lightbox" data-gallery="quarto-lightbox-gallery-23"><img src="programing-ggplot_files/figure-html/unnamed-chunk-16-1.png" class="img-fluid quarto-figure quarto-figure-center figure-img" width="480"></a></p>
</figure>
</div>
</div>
<details open="" class="code-fold">
<summary>R Code [zeigen / verbergen]</summary>
<div class="code-copy-outer-scaffold"><div class="sourceCode cell-code" id="cb26"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb26-1"><a href="#cb26-1" aria-hidden="true" tabindex="-1"></a><span class="fu">plot</span>(<span class="fu">expression</span>(Fe<span class="sc">-</span>Gehalt<span class="sc">~</span><span class="st">"["</span><span class="sc">~</span>mg<span class="sc">%.%</span>(kg<span class="sc">~</span>TM)<span class="sc">^-</span><span class="dv">1</span><span class="sc">~</span><span class="st">"]"</span>), <span class="at">cex =</span> <span class="fl">1.5</span>, <span class="at">main =</span> <span class="st">""</span>)</span></code></pre></div><button title="In die Zwischenablage kopieren" class="code-copy-button"><i class="bi"></i></button></div>
</details>
<div class="cell-output-display">
<div class="quarto-figure quarto-figure-center">
<figure class="figure">
<p><a href="programing-ggplot_files/figure-html/unnamed-chunk-16-2.png" class="lightbox" data-gallery="quarto-lightbox-gallery-24"><img src="programing-ggplot_files/figure-html/unnamed-chunk-16-2.png" class="img-fluid quarto-figure quarto-figure-center figure-img" width="480"></a></p>
</figure>
</div>
</div>
</div>
<p>Für mich ausdrücklich einfacher geht es mit dem R Paket <code>{latex2exp}</code> und der Funktion <code>TeX()</code> sowie die Helferfunktion <code>r"()"</code>. Ja, hier muss man dann noch eine andere Programmiersprache kennen, aber wie immer, du wirst nur schlauer. Die Informationen zur Matheumgebung in <span class="math inline">\(\LaTeX\)</span> kommen dann nochmal extra zwischen zwei Dollarzeichen <code>$</code>. Ja, das ist etwas wirr für einen Anfänger, aber wir nutzen hier auch zwei Programmiersprachen zusammen. Zum einen <span class="math inline">\(\LaTeX\)</span> um die Mathesymbole sauber darzustellen und dann R um die Abbildungen in <code>ggplot()</code> zu bauen. Mehr Informationen zu der Matheumgebung in <span class="math inline">\(\LaTeX\)</span> findest du einmal in der <a href="https://de.wikipedia.org/wiki/Hilfe:TeX">LaTeX Mathehilfe I</a> sowie der <a href="https://en.wikibooks.org/wiki/LaTeX/Mathematics">LaTeX Mathehilfe II</a>.</p>
<p>Wie bauen wir uns also unseren mathematischen Ausdruck? Als erstes brauchen wir die Funktion <code>Tex()</code>, die sagt einfach nur aus, dass jetzt <span class="math inline">\(\LaTeX\)</span>-Code kommt. Dann wollen wir noch einen String brauen in dem der <span class="math inline">\(\LaTeX\)</span>-Code für unseren mathematischen Ausdruck drin steht. Diesen String bauen wir mit <code>r"()"</code>. Achtung, hier ist das Gänsefüßchen oben und unten vor und nach der runden Klammer sehr wichtig. In den Ausdruck können wir dann Text schreiben <code>Eisengehalt</code> oder aber einen mathematischen Ausdruck abgrenzt von zwei Dollarzeichen <code>$</code> wie <code>$[kg\, ha]^{-1}$</code>. <span class="math inline">\(\LaTeX\)</span> kann nämlich nicht nur mathematische Ausdrücke sondern ist eigentlich ein Textverarbeitungsprogramm. Deshalb musst du hier <em>nochmal</em> zwischen Text und mathematischen Ausdruck unterscheiden.</p>
<p>Hier nochmal aufgeschlüsselt wie der Code aussieht. Wir schreiben den Code nachher in einer Zeile, aber zum Verständnis ist es besser, wenn wir den Code einmal aufgeklappt sehen.</p>
<div class="cell">
<details open="" class="code-fold">
<summary>R Code [zeigen / verbergen]</summary>
<div class="code-copy-outer-scaffold"><div class="sourceCode cell-code" id="cb27"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb27-1"><a href="#cb27-1" aria-hidden="true" tabindex="-1"></a><span class="fu">TeX</span>(</span>
<span id="cb27-2"><a href="#cb27-2" aria-hidden="true" tabindex="-1"></a>    r<span class="st">"(</span></span>
<span id="cb27-3"><a href="#cb27-3" aria-hidden="true" tabindex="-1"></a><span class="st">      Eisengehalt $[kg\, ha]^{-1}$</span></span>
<span id="cb27-4"><a href="#cb27-4" aria-hidden="true" tabindex="-1"></a><span class="st">    )"</span></span>
<span id="cb27-5"><a href="#cb27-5" aria-hidden="true" tabindex="-1"></a>   )</span></code></pre></div><button title="In die Zwischenablage kopieren" class="code-copy-button"><i class="bi"></i></button></div>
</details>
</div>
<p>Wir wollen uns das Ergebnis einmal in einem simplen <code>plot()</code> anschauen. Wir nutzen die Funktionalität natürlich später in <code>ggplot</code>, aber hier ist es so einmal einfacher zu sehen.</p>
<div class="cell" data-layout-align="center">
<details open="" class="code-fold">
<summary>R Code [zeigen / verbergen]</summary>
<div class="code-copy-outer-scaffold"><div class="sourceCode cell-code" id="cb28"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb28-1"><a href="#cb28-1" aria-hidden="true" tabindex="-1"></a><span class="fu">plot</span>(<span class="at">cex =</span> <span class="dv">2</span>, <span class="at">main =</span> <span class="st">""</span>,</span>
<span id="cb28-2"><a href="#cb28-2" aria-hidden="true" tabindex="-1"></a>  <span class="fu">TeX</span>(r<span class="st">"(</span></span>
<span id="cb28-3"><a href="#cb28-3" aria-hidden="true" tabindex="-1"></a><span class="st">         Eisengehalt $[kg\, ha]^{-1}$</span></span>
<span id="cb28-4"><a href="#cb28-4" aria-hidden="true" tabindex="-1"></a><span class="st">      )"</span>)</span>
<span id="cb28-5"><a href="#cb28-5" aria-hidden="true" tabindex="-1"></a>    )</span></code></pre></div><button title="In die Zwischenablage kopieren" class="code-copy-button"><i class="bi"></i></button></div>
</details>
<div class="cell-output-display">
<div class="quarto-figure quarto-figure-center">
<figure class="figure">
<p><a href="programing-ggplot_files/figure-html/unnamed-chunk-18-1.png" class="lightbox" data-gallery="quarto-lightbox-gallery-25"><img src="programing-ggplot_files/figure-html/unnamed-chunk-18-1.png" class="img-fluid quarto-figure quarto-figure-center figure-img" width="480"></a></p>
</figure>
</div>
</div>
</div>
<p>Auch können wir sehr viel komplexere Formeln erstellen. Beachte auch hier, dass wir zwei Matheumgebungen in <span class="math inline">\(\LaTeX\)</span> vorliegen haben.</p>
<div class="cell" data-layout-align="center">
<details open="" class="code-fold">
<summary>R Code [zeigen / verbergen]</summary>
<div class="code-copy-outer-scaffold"><div class="sourceCode cell-code" id="cb29"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb29-1"><a href="#cb29-1" aria-hidden="true" tabindex="-1"></a><span class="fu">plot</span>(<span class="at">cex =</span> <span class="dv">2</span>, <span class="at">main =</span> <span class="st">""</span>,</span>
<span id="cb29-2"><a href="#cb29-2" aria-hidden="true" tabindex="-1"></a>  <span class="fu">TeX</span>(r<span class="st">"(</span></span>
<span id="cb29-3"><a href="#cb29-3" aria-hidden="true" tabindex="-1"></a><span class="st">         A $\LaTeX$ formula: $</span><span class="sc">\f</span><span class="st">rac{2hc^2}{\lambda^5}</span><span class="sc">\f</span><span class="st">rac{1}{e^{</span><span class="sc">\f</span><span class="st">rac{hc}{\lambda k_B T}} - 1}$</span></span>
<span id="cb29-4"><a href="#cb29-4" aria-hidden="true" tabindex="-1"></a><span class="st">      )"</span>)</span>
<span id="cb29-5"><a href="#cb29-5" aria-hidden="true" tabindex="-1"></a>  )</span></code></pre></div><button title="In die Zwischenablage kopieren" class="code-copy-button"><i class="bi"></i></button></div>
</details>
<div class="cell-output-display">
<div class="quarto-figure quarto-figure-center">
<figure class="figure">
<p><a href="programing-ggplot_files/figure-html/unnamed-chunk-19-1.png" class="lightbox" data-gallery="quarto-lightbox-gallery-26"><img src="programing-ggplot_files/figure-html/unnamed-chunk-19-1.png" class="img-fluid quarto-figure quarto-figure-center figure-img" width="480"></a></p>
</figure>
</div>
</div>
</div>
<p>In der <a href="#fig-scatter-flea-1" class="quarto-xref">Abbildung&nbsp;<span>15.16</span></a> dann nochmal die Anwendung in einem <code>ggplot</code> in dem wir die Achsen entsprechend beschriften und dann auch noch eine ausgedachte Regressionsgeleichung zu der Abbildung ergänzen.</p>
<div class="cell" data-layout-align="center">
<details open="" class="code-fold">
<summary>R Code [zeigen / verbergen]</summary>
<div class="code-copy-outer-scaffold"><div class="sourceCode cell-code" id="cb30"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb30-1"><a href="#cb30-1" aria-hidden="true" tabindex="-1"></a><span class="fu">ggplot</span>(<span class="at">data =</span> ggplot_tbl, <span class="fu">aes</span>(<span class="at">x =</span> weight, <span class="at">y =</span> jump_length)) <span class="sc">+</span></span>
<span id="cb30-2"><a href="#cb30-2" aria-hidden="true" tabindex="-1"></a>  <span class="fu">geom_point</span>() <span class="sc">+</span></span>
<span id="cb30-3"><a href="#cb30-3" aria-hidden="true" tabindex="-1"></a>  <span class="fu">stat_smooth</span>(<span class="at">method =</span> <span class="st">"lm"</span>, <span class="at">se =</span> <span class="cn">FALSE</span>) <span class="sc">+</span></span>
<span id="cb30-4"><a href="#cb30-4" aria-hidden="true" tabindex="-1"></a>  <span class="fu">theme_minimal</span>() <span class="sc">+</span></span>
<span id="cb30-5"><a href="#cb30-5" aria-hidden="true" tabindex="-1"></a>  <span class="fu">labs</span>(<span class="at">x =</span> <span class="fu">TeX</span>(r<span class="st">"(Eisengehalt und -höhe $[kg\, ha]^{-1}$)"</span>), </span>
<span id="cb30-6"><a href="#cb30-6" aria-hidden="true" tabindex="-1"></a>       <span class="at">y =</span> <span class="fu">TeX</span>(r<span class="st">"(Fe-Gehalt $[mg \cdot (kg TM)^{-1}]$)"</span>)) <span class="sc">+</span></span>
<span id="cb30-7"><a href="#cb30-7" aria-hidden="true" tabindex="-1"></a>  <span class="fu">annotate</span>(<span class="st">"text"</span>, <span class="at">x =</span> <span class="dv">10</span>, <span class="at">y =</span> <span class="dv">200</span>,</span>
<span id="cb30-8"><a href="#cb30-8" aria-hidden="true" tabindex="-1"></a>           <span class="at">label =</span> <span class="fu">TeX</span>(r<span class="st">"($y = </span><span class="sc">\b</span><span class="st">eta_0 + </span><span class="sc">\b</span><span class="st">eta_1 \cdot x;\; R^2 = 0.24$)"</span>))</span></code></pre></div><button title="In die Zwischenablage kopieren" class="code-copy-button"><i class="bi"></i></button></div>
</details>
<div class="cell-output-display">
<div id="fig-scatter-flea-1" class="quarto-float quarto-figure quarto-figure-center anchored" data-fig-align="center">
<figure class="quarto-float quarto-float-fig figure">
<div aria-describedby="fig-scatter-flea-1-caption-0ceaefa1-69ba-4598-a22c-09a6ac19f8ca">
<a href="programing-ggplot_files/figure-html/fig-scatter-flea-1-1.png" class="lightbox" data-gallery="quarto-lightbox-gallery-27" title="Abbildung&nbsp;15.16— Zusammenhang zwischen dem Eisengehalt und -höhe im Boden und dem Eisengehalt in Salat. Zusätzlich ergänzt eine Regressiongleichung und ein ausgedachtes Bestimmtheitsmaß. [Zum Vergrößern anklicken]"><img src="programing-ggplot_files/figure-html/fig-scatter-flea-1-1.png" class="img-fluid quarto-figure quarto-figure-center figure-img" width="672"></a>
</div>
<figcaption class="quarto-float-caption-bottom quarto-float-caption quarto-float-fig" id="fig-scatter-flea-1-caption-0ceaefa1-69ba-4598-a22c-09a6ac19f8ca">
Abbildung&nbsp;15.16— Zusammenhang zwischen dem Eisengehalt und -höhe im Boden und dem Eisengehalt in Salat. Zusätzlich ergänzt eine Regressiongleichung und ein ausgedachtes Bestimmtheitsmaß. <em>[Zum Vergrößern anklicken]</em>
</figcaption>
</figure>
</div>
</div>
</div>
<p>Wenn du dann mal die Funktion <code>Tex()</code> in <code>geom_text()</code> verwenden willst, dann musst du einmal etwas anpassen. Dann klappt es aber auch hier. Das hat mich mal echt Nerven und Zeit gekostet, deshalb lagere ich die Information mal hier für mich.</p>
<div class="cell" data-layout-align="center">
<details open="" class="code-fold">
<summary>R Code [zeigen / verbergen]</summary>
<div class="code-copy-outer-scaffold"><div class="sourceCode cell-code" id="cb31"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb31-1"><a href="#cb31-1" aria-hidden="true" tabindex="-1"></a><span class="fu">ggplot</span>() <span class="sc">+</span></span>
<span id="cb31-2"><a href="#cb31-2" aria-hidden="true" tabindex="-1"></a>  <span class="fu">theme_void</span>() <span class="sc">+</span></span>
<span id="cb31-3"><a href="#cb31-3" aria-hidden="true" tabindex="-1"></a>  <span class="fu">geom_text</span>(<span class="fu">aes</span>(<span class="dv">0</span>, <span class="dv">0</span>, </span>
<span id="cb31-4"><a href="#cb31-4" aria-hidden="true" tabindex="-1"></a>                <span class="at">label =</span> <span class="fu">TeX</span>(r<span class="st">'($</span><span class="sc">\a</span><span class="st">lpha  x^</span><span class="sc">\a</span><span class="st">lpha$, where $</span><span class="sc">\a</span><span class="st">lpha \in 1\ldots 5$)'</span>,</span>
<span id="cb31-5"><a href="#cb31-5" aria-hidden="true" tabindex="-1"></a>                                  <span class="at">output =</span> <span class="st">"character"</span>)), <span class="at">parse =</span> <span class="cn">TRUE</span>) </span></code></pre></div><button title="In die Zwischenablage kopieren" class="code-copy-button"><i class="bi"></i></button></div>
</details>
</div>
</section>
<section id="farbpaletten" class="level3" data-number="15.4.10">
<h3 data-number="15.4.10" class="anchored" data-anchor-id="farbpaletten"><span class="header-section-number">15.4.10</span> Farbpaletten</h3>
<p>Die <a href="http://www.cookbook-r.com/Graphs/Colors_(ggplot2)/">Farben</a> können weitreichend angepasst werden. Weiter unten findest du dann noch verschiedene Farbpaletten. Wenn du deine Farben selber wählst, dann kann es manchmal etwas kunterbund aussehen. Neben den klassischen Farben im R Paket <code>{ggplot2}</code> gibt es noch weit, weit mehr Farbpaletten. Wir nutzen in der Folge immer wieder die Okabe-Ito Farbpalette aus dem R Paket <code>{see}</code>. Die Okabe-Ito Farbpalette ist speziell so gebaut, dass die Farben sich gut für farbenblinde Personen unterscheiden. Mehr zum R Paket <code>{see}</code> auf der <a href="https://easystats.github.io/see/index.html">Hilfeseite des Paketes</a>. Der Kontrast zwischen den Farben ist sehr gut. Wenn du eine andere Farbpalette nutzen willst, findest du hier noch andere <a href="https://easystats.github.io/see/articles/seecolorscales.html">Color Scales</a>.</p>
<div class="cell" data-layout-align="center">
<details open="" class="code-fold">
<summary>R Code [zeigen / verbergen]</summary>
<div class="code-copy-outer-scaffold"><div class="sourceCode cell-code" id="cb32"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb32-1"><a href="#cb32-1" aria-hidden="true" tabindex="-1"></a><span class="fu">ggplot</span>(<span class="at">data =</span> ggplot_tbl, </span>
<span id="cb32-2"><a href="#cb32-2" aria-hidden="true" tabindex="-1"></a>       <span class="fu">aes</span>(<span class="at">x =</span> feeding, <span class="at">y =</span> jump_length,</span>
<span id="cb32-3"><a href="#cb32-3" aria-hidden="true" tabindex="-1"></a>           <span class="at">fill =</span> feeding)) <span class="sc">+</span></span>
<span id="cb32-4"><a href="#cb32-4" aria-hidden="true" tabindex="-1"></a>  <span class="fu">geom_boxplot</span>() <span class="sc">+</span></span>
<span id="cb32-5"><a href="#cb32-5" aria-hidden="true" tabindex="-1"></a>  <span class="fu">scale_fill_okabeito</span>() <span class="sc">+</span></span>
<span id="cb32-6"><a href="#cb32-6" aria-hidden="true" tabindex="-1"></a>  <span class="fu">theme_minimal</span>()</span></code></pre></div><button title="In die Zwischenablage kopieren" class="code-copy-button"><i class="bi"></i></button></div>
</details>
<div class="cell-output-display">
<div id="fig-labels-see-0" class="quarto-float quarto-figure quarto-figure-center anchored" data-fig-align="center">
<figure class="quarto-float quarto-float-fig figure">
<div aria-describedby="fig-labels-see-0-caption-0ceaefa1-69ba-4598-a22c-09a6ac19f8ca">
<a href="programing-ggplot_files/figure-html/fig-labels-see-0-1.png" class="lightbox" data-gallery="quarto-lightbox-gallery-28" title="Abbildung&nbsp;15.17— Beispielhafte Abbildung der Okabe-Ito Farbpalette für Boxplots. [Zum Vergrößern anklicken]"><img src="programing-ggplot_files/figure-html/fig-labels-see-0-1.png" class="img-fluid quarto-figure quarto-figure-center figure-img" width="672"></a>
</div>
<figcaption class="quarto-float-caption-bottom quarto-float-caption quarto-float-fig" id="fig-labels-see-0-caption-0ceaefa1-69ba-4598-a22c-09a6ac19f8ca">
Abbildung&nbsp;15.17— Beispielhafte Abbildung der Okabe-Ito Farbpalette für Boxplots. <em>[Zum Vergrößern anklicken]</em>
</figcaption>
</figure>
</div>
</div>
</div>
<div class="cell" data-layout-align="center">
<details open="" class="code-fold">
<summary>R Code [zeigen / verbergen]</summary>
<div class="code-copy-outer-scaffold"><div class="sourceCode cell-code" id="cb33"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb33-1"><a href="#cb33-1" aria-hidden="true" tabindex="-1"></a><span class="fu">ggplot</span>(<span class="at">data =</span> ggplot_tbl, </span>
<span id="cb33-2"><a href="#cb33-2" aria-hidden="true" tabindex="-1"></a>       <span class="fu">aes</span>(<span class="at">x =</span> feeding, <span class="at">y =</span> jump_length,</span>
<span id="cb33-3"><a href="#cb33-3" aria-hidden="true" tabindex="-1"></a>           <span class="at">fill =</span> feeding)) <span class="sc">+</span></span>
<span id="cb33-4"><a href="#cb33-4" aria-hidden="true" tabindex="-1"></a>  <span class="fu">geom_point</span>() <span class="sc">+</span></span>
<span id="cb33-5"><a href="#cb33-5" aria-hidden="true" tabindex="-1"></a>  <span class="fu">scale_color_okabeito</span>() <span class="sc">+</span></span>
<span id="cb33-6"><a href="#cb33-6" aria-hidden="true" tabindex="-1"></a>  <span class="fu">theme_minimal</span>()</span></code></pre></div><button title="In die Zwischenablage kopieren" class="code-copy-button"><i class="bi"></i></button></div>
</details>
<div class="cell-output-display">
<div id="fig-labels-see-1" class="quarto-float quarto-figure quarto-figure-center anchored" data-fig-align="center">
<figure class="quarto-float quarto-float-fig figure">
<div aria-describedby="fig-labels-see-1-caption-0ceaefa1-69ba-4598-a22c-09a6ac19f8ca">
<a href="programing-ggplot_files/figure-html/fig-labels-see-1-1.png" class="lightbox" data-gallery="quarto-lightbox-gallery-29" title="Abbildung&nbsp;15.18— Beispielhafte Abbildung der Okabe-Ito Farbpalette für Punkte. [Zum Vergrößern anklicken]"><img src="programing-ggplot_files/figure-html/fig-labels-see-1-1.png" class="img-fluid quarto-figure quarto-figure-center figure-img" width="672"></a>
</div>
<figcaption class="quarto-float-caption-bottom quarto-float-caption quarto-float-fig" id="fig-labels-see-1-caption-0ceaefa1-69ba-4598-a22c-09a6ac19f8ca">
Abbildung&nbsp;15.18— Beispielhafte Abbildung der Okabe-Ito Farbpalette für Punkte. <em>[Zum Vergrößern anklicken]</em>
</figcaption>
</figure>
</div>
</div>
</div>
<p>Das Ganze geht dann auch händisch mit dem folgenden Code für die <a href="http://www.cookbook-r.com/Graphs/Colors_(ggplot2)/#a-colorblind-friendly-palette">jeweiligen Farben</a>. Anbei einmal die Farbpalette dargestellt.</p>
<div class="cell" data-layout-align="center">
<div class="cell-output-display">
<div id="fig-ggplot-okabeito" class="quarto-float quarto-figure quarto-figure-center anchored" data-fig-align="center">
<figure class="quarto-float quarto-float-fig figure">
<div aria-describedby="fig-ggplot-okabeito-caption-0ceaefa1-69ba-4598-a22c-09a6ac19f8ca">
<a href="programing-ggplot_files/figure-html/fig-ggplot-okabeito-1.png" class="lightbox" data-gallery="quarto-lightbox-gallery-30" title="Abbildung&nbsp;15.19— Farbpalette nach dem Okabe-Ito-Schema ebenfalls für farbblinde Personen erstellt. [Zum Vergrößern anklicken]"><img src="programing-ggplot_files/figure-html/fig-ggplot-okabeito-1.png" class="img-fluid quarto-figure quarto-figure-center figure-img" width="576"></a>
</div>
<figcaption class="quarto-float-caption-bottom quarto-float-caption quarto-float-fig" id="fig-ggplot-okabeito-caption-0ceaefa1-69ba-4598-a22c-09a6ac19f8ca">
Abbildung&nbsp;15.19— Farbpalette nach dem Okabe-Ito-Schema ebenfalls für farbblinde Personen erstellt. <em>[Zum Vergrößern anklicken]</em>
</figcaption>
</figure>
</div>
</div>
</div>
<p>Die Farben sind dann in der Reihenfolge wie folgt kodiert.</p>
<div class="cell">
<details open="" class="code-fold">
<summary>R Code [zeigen / verbergen]</summary>
<div class="code-copy-outer-scaffold"><div class="sourceCode cell-code" id="cb34"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb34-1"><a href="#cb34-1" aria-hidden="true" tabindex="-1"></a>cbbPalette <span class="ot">&lt;-</span> <span class="fu">c</span>(<span class="st">"#E69F00"</span>, <span class="st">"#56B4E9"</span>, <span class="st">"#009E73"</span>, </span>
<span id="cb34-2"><a href="#cb34-2" aria-hidden="true" tabindex="-1"></a>                <span class="st">"#F0E442"</span>, <span class="st">"#0072B2"</span>, <span class="st">"#D55E00"</span>, </span>
<span id="cb34-3"><a href="#cb34-3" aria-hidden="true" tabindex="-1"></a>                <span class="st">"#CC79A7"</span>, <span class="st">"#999999"</span>, <span class="st">"#000000"</span>)</span></code></pre></div><button title="In die Zwischenablage kopieren" class="code-copy-button"><i class="bi"></i></button></div>
</details>
</div>
<p>Wenn wir Boxplots einfärben wollen dann nehmen wir den folgenden Code.</p>
<div class="cell">
<details open="" class="code-fold">
<summary>R Code [zeigen / verbergen]</summary>
<div class="code-copy-outer-scaffold"><div class="sourceCode cell-code" id="cb35"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb35-1"><a href="#cb35-1" aria-hidden="true" tabindex="-1"></a><span class="fu">scale_fill_manual</span>(<span class="at">values =</span> cbPalette)</span></code></pre></div><button title="In die Zwischenablage kopieren" class="code-copy-button"><i class="bi"></i></button></div>
</details>
</div>
<p>Und das hier ist die Ergänzung für Punkte und Linien.</p>
<div class="cell">
<details open="" class="code-fold">
<summary>R Code [zeigen / verbergen]</summary>
<div class="code-copy-outer-scaffold"><div class="sourceCode cell-code" id="cb36"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb36-1"><a href="#cb36-1" aria-hidden="true" tabindex="-1"></a><span class="fu">scale_colour_manual</span>(<span class="at">values =</span> cbPalette)</span></code></pre></div><button title="In die Zwischenablage kopieren" class="code-copy-button"><i class="bi"></i></button></div>
</details>
</div>
<p>Neben der Okabe-Ito Farbpalette liefert das <a href="https://cran.r-project.org/web/packages/duke/vignettes/duke.html">R Paket <code>{duke}</code></a> noch eine andere Möglichkeit eine Farbpalette für Farbblinde zu generieren.</p>
<div class="cell" data-layout-align="center">
<div class="cell-output-display">
<div id="fig-ggplot-duke" class="quarto-float quarto-figure quarto-figure-center anchored" data-fig-align="center">
<figure class="quarto-float quarto-float-fig figure">
<div aria-describedby="fig-ggplot-duke-caption-0ceaefa1-69ba-4598-a22c-09a6ac19f8ca">
<a href="programing-ggplot_files/figure-html/fig-ggplot-duke-1.png" class="lightbox" data-gallery="quarto-lightbox-gallery-31" title="Abbildung&nbsp;15.20— Farbpalette nach dem Duke-Schema ebenfalls für farbblinde Personen erstellt. [Zum Vergrößern anklicken]"><img src="programing-ggplot_files/figure-html/fig-ggplot-duke-1.png" class="img-fluid quarto-figure quarto-figure-center figure-img" width="576"></a>
</div>
<figcaption class="quarto-float-caption-bottom quarto-float-caption quarto-float-fig" id="fig-ggplot-duke-caption-0ceaefa1-69ba-4598-a22c-09a6ac19f8ca">
Abbildung&nbsp;15.20— Farbpalette nach dem Duke-Schema ebenfalls für farbblinde Personen erstellt. <em>[Zum Vergrößern anklicken]</em>
</figcaption>
</figure>
</div>
</div>
</div>
<p>Die Farben sind dann in der Reihenfolge wie folgt kodiert.</p>
<div class="cell">
<details open="" class="code-fold">
<summary>R Code [zeigen / verbergen]</summary>
<div class="code-copy-outer-scaffold"><div class="sourceCode cell-code" id="cb37"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb37-1"><a href="#cb37-1" aria-hidden="true" tabindex="-1"></a>dukePalette <span class="ot">&lt;-</span> <span class="fu">c</span>(<span class="st">"#012169"</span>, <span class="st">"#C84E00"</span>, <span class="st">"#00539B"</span>, <span class="st">"#339898"</span>, </span>
<span id="cb37-2"><a href="#cb37-2" aria-hidden="true" tabindex="-1"></a>                 <span class="st">"#A1B70D"</span>, <span class="st">"#E89923"</span>, <span class="st">"#FFD960"</span>, <span class="st">"#262626"</span>)</span></code></pre></div><button title="In die Zwischenablage kopieren" class="code-copy-button"><i class="bi"></i></button></div>
</details>
</div>
<p>Die Funktionen hier sind <code>scale_duke_color_discrete()</code> sowie <code>scale_duke_continuous()</code> und <code>scale_duke_fill_discrete()</code>.</p>
<p>Manchmal benötigen wir auch Farbverläufe. In R heißen diese Farbverläufe dann Farbpaletten. Eine Einführung liefert das Tutorium <a href="http://www.sthda.com/english/wiki/colors-in-r#using-rcolorbrewer-palettes">Using RColorBrewer palettes</a>. Ich selber nutze gerne das R Paket <code>{wesanderson}</code> welches sehr schöne Farbverläufe hat. Mehr kannst du auf der GitHub Seite <a href="https://github.com/karthik/wesanderson">Wes Anderson Palettes</a> erfahren. Wir können die Paletten ganz einfach mit der Funktion <code>wes_palette()</code> laden.</p>
<div class="cell">
<details open="" class="code-fold">
<summary>R Code [zeigen / verbergen]</summary>
<div class="code-copy-outer-scaffold"><div class="sourceCode cell-code" id="cb38"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb38-1"><a href="#cb38-1" aria-hidden="true" tabindex="-1"></a><span class="fu">wes_palette</span>(<span class="st">"Zissou1"</span>)</span></code></pre></div><button title="In die Zwischenablage kopieren" class="code-copy-button"><i class="bi"></i></button></div>
</details>
<div class="cell-output-display">
<div>
<figure class="figure">
<p><a href="programing-ggplot_files/figure-html/unnamed-chunk-25-1.png" class="lightbox" data-gallery="quarto-lightbox-gallery-32"><img src="programing-ggplot_files/figure-html/unnamed-chunk-25-1.png" class="img-fluid figure-img" width="576"></a></p>
</figure>
</div>
</div>
</div>
<p>Das schöne ist hier, dass wir einfach wie folgt Farbverläufe erstellen können. Wir wollen hier 21 Farbwerte haben und das Ganze dann als kontinuierlichen Verlauf.</p>
<div class="cell">
<details open="" class="code-fold">
<summary>R Code [zeigen / verbergen]</summary>
<div class="code-copy-outer-scaffold"><div class="sourceCode cell-code" id="cb39"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb39-1"><a href="#cb39-1" aria-hidden="true" tabindex="-1"></a><span class="fu">wes_palette</span>(<span class="st">"Zissou1"</span>, <span class="dv">21</span>, <span class="at">type =</span> <span class="st">"continuous"</span>)</span></code></pre></div><button title="In die Zwischenablage kopieren" class="code-copy-button"><i class="bi"></i></button></div>
</details>
<div class="cell-output-display">
<div>
<figure class="figure">
<p><a href="programing-ggplot_files/figure-html/unnamed-chunk-26-1.png" class="lightbox" data-gallery="quarto-lightbox-gallery-33"><img src="programing-ggplot_files/figure-html/unnamed-chunk-26-1.png" class="img-fluid figure-img" width="576"></a></p>
</figure>
</div>
</div>
</div>
</section>
<section id="lange-namen-auf-der-x-achse" class="level3" data-number="15.4.11">
<h3 data-number="15.4.11" class="anchored" data-anchor-id="lange-namen-auf-der-x-achse"><span class="header-section-number">15.4.11</span> Lange Namen auf der x-Achse</h3>
<p>Manchmal haben wir das Problem, dass unsere Namen der Level der Faktoren zu lang werden oder wir zu viele Namen eben abbilden wollen. Der Blogpost <a href="https://www.andrewheiss.com/blog/2022/06/23/long-labels-ggplot/">Quick and easy ways to deal with long labels in <code>{ggplot}</code></a> hilft hier einmal. Ich habe mich dann meistens für die folgende Lösung entschieden.</p>
<div class="cell" data-layout-align="center">
<details open="" class="code-fold">
<summary>R Code [zeigen / verbergen]</summary>
<div class="code-copy-outer-scaffold"><div class="sourceCode cell-code" id="cb40"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb40-1"><a href="#cb40-1" aria-hidden="true" tabindex="-1"></a><span class="fu">ggplot</span>(<span class="at">data =</span> ggplot_tbl, <span class="fu">aes</span>(<span class="at">x =</span> feeding, <span class="at">y =</span> jump_length,</span>
<span id="cb40-2"><a href="#cb40-2" aria-hidden="true" tabindex="-1"></a>                              <span class="at">fill =</span> feeding)) <span class="sc">+</span></span>
<span id="cb40-3"><a href="#cb40-3" aria-hidden="true" tabindex="-1"></a>  <span class="fu">theme_minimal</span>() <span class="sc">+</span></span>
<span id="cb40-4"><a href="#cb40-4" aria-hidden="true" tabindex="-1"></a>  <span class="fu">geom_boxplot</span>() <span class="sc">+</span></span>
<span id="cb40-5"><a href="#cb40-5" aria-hidden="true" tabindex="-1"></a>  <span class="fu">scale_x_discrete</span>(<span class="at">labels =</span> <span class="fu">c</span>(<span class="st">"Blutkonserven aus Rinderblut"</span>, </span>
<span id="cb40-6"><a href="#cb40-6" aria-hidden="true" tabindex="-1"></a>                              <span class="st">"Ketchup aus einer Flasche"</span>, </span>
<span id="cb40-7"><a href="#cb40-7" aria-hidden="true" tabindex="-1"></a>                              <span class="st">"Zuckerwasser mit Fruktose"</span>),</span>
<span id="cb40-8"><a href="#cb40-8" aria-hidden="true" tabindex="-1"></a>                   <span class="at">guide =</span> <span class="fu">guide_axis</span>(<span class="at">n.dodge =</span> <span class="dv">2</span>)) </span></code></pre></div><button title="In die Zwischenablage kopieren" class="code-copy-button"><i class="bi"></i></button></div>
</details>
<div class="cell-output-display">
<div id="fig-labels-scale-discrete-longnames" class="quarto-float quarto-figure quarto-figure-center anchored" data-fig-align="center">
<figure class="quarto-float quarto-float-fig figure">
<div aria-describedby="fig-labels-scale-discrete-longnames-caption-0ceaefa1-69ba-4598-a22c-09a6ac19f8ca">
<a href="programing-ggplot_files/figure-html/fig-labels-scale-discrete-longnames-1.png" class="lightbox" data-gallery="quarto-lightbox-gallery-34" title="Abbildung&nbsp;15.21— Beispielhafte Abbildung mit gestapelten Gruppen auf der x-Achse. [Zum Vergrößern anklicken]"><img src="programing-ggplot_files/figure-html/fig-labels-scale-discrete-longnames-1.png" class="img-fluid quarto-figure quarto-figure-center figure-img" width="672"></a>
</div>
<figcaption class="quarto-float-caption-bottom quarto-float-caption quarto-float-fig" id="fig-labels-scale-discrete-longnames-caption-0ceaefa1-69ba-4598-a22c-09a6ac19f8ca">
Abbildung&nbsp;15.21— Beispielhafte Abbildung mit gestapelten Gruppen auf der x-Achse. <em>[Zum Vergrößern anklicken]</em>
</figcaption>
</figure>
</div>
</div>
</div>
<p>Das Rotieren um 45° mag auch eine Lösung sein, aber ich fand es dann immer schwerer zu lesen. Wenn es aber wirklich viele Gruppen sind, dann mag es dann doch eine der besseren Lösungen sein. Du kannst ja dann noch den Winkel entsprechend anpassen. Ich muss immer mit <code>hjust</code> spielen, bis es dann gut passt.</p>
<div class="cell" data-layout-align="center">
<details open="" class="code-fold">
<summary>R Code [zeigen / verbergen]</summary>
<div class="code-copy-outer-scaffold"><div class="sourceCode cell-code" id="cb41"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb41-1"><a href="#cb41-1" aria-hidden="true" tabindex="-1"></a><span class="fu">ggplot</span>(<span class="at">data =</span> ggplot_tbl, <span class="fu">aes</span>(<span class="at">x =</span> feeding, <span class="at">y =</span> jump_length,</span>
<span id="cb41-2"><a href="#cb41-2" aria-hidden="true" tabindex="-1"></a>                              <span class="at">fill =</span> feeding)) <span class="sc">+</span></span>
<span id="cb41-3"><a href="#cb41-3" aria-hidden="true" tabindex="-1"></a>  <span class="fu">theme_minimal</span>() <span class="sc">+</span></span>
<span id="cb41-4"><a href="#cb41-4" aria-hidden="true" tabindex="-1"></a>  <span class="fu">geom_boxplot</span>() <span class="sc">+</span></span>
<span id="cb41-5"><a href="#cb41-5" aria-hidden="true" tabindex="-1"></a>  <span class="fu">scale_x_discrete</span>(<span class="at">labels =</span> <span class="fu">c</span>(<span class="st">"Blutkonserven aus Rinderblut"</span>, </span>
<span id="cb41-6"><a href="#cb41-6" aria-hidden="true" tabindex="-1"></a>                              <span class="st">"Ketchup aus einer Flasche"</span>, </span>
<span id="cb41-7"><a href="#cb41-7" aria-hidden="true" tabindex="-1"></a>                              <span class="st">"Zuckerwasser mit Fruktose"</span>)) <span class="sc">+</span></span>
<span id="cb41-8"><a href="#cb41-8" aria-hidden="true" tabindex="-1"></a>  <span class="fu">theme</span>(<span class="at">axis.text.x =</span> <span class="fu">element_text</span>(<span class="at">angle =</span> <span class="sc">-</span><span class="dv">45</span>, <span class="at">hjust =</span> <span class="dv">0</span>))</span></code></pre></div><button title="In die Zwischenablage kopieren" class="code-copy-button"><i class="bi"></i></button></div>
</details>
<div class="cell-output-display">
<div id="fig-labels-scale-discrete-longnames-rotate" class="quarto-float quarto-figure quarto-figure-center anchored" data-fig-align="center">
<figure class="quarto-float quarto-float-fig figure">
<div aria-describedby="fig-labels-scale-discrete-longnames-rotate-caption-0ceaefa1-69ba-4598-a22c-09a6ac19f8ca">
<a href="programing-ggplot_files/figure-html/fig-labels-scale-discrete-longnames-rotate-1.png" class="lightbox" data-gallery="quarto-lightbox-gallery-35" title="Abbildung&nbsp;15.22— Beispielhafte Abbildung mit einer 45° Drehung der Gruppen auf der x-Achse. [Zum Vergrößern anklicken]"><img src="programing-ggplot_files/figure-html/fig-labels-scale-discrete-longnames-rotate-1.png" class="img-fluid quarto-figure quarto-figure-center figure-img" width="672"></a>
</div>
<figcaption class="quarto-float-caption-bottom quarto-float-caption quarto-float-fig" id="fig-labels-scale-discrete-longnames-rotate-caption-0ceaefa1-69ba-4598-a22c-09a6ac19f8ca">
Abbildung&nbsp;15.22— Beispielhafte Abbildung mit einer 45° Drehung der Gruppen auf der x-Achse. <em>[Zum Vergrößern anklicken]</em>
</figcaption>
</figure>
</div>
</div>
</div>
<p>Am Ende sei dann noch auf die Funktion <code>label_wrap()</code> aus dem Paket <code>{scales}</code> verwiesen, die dir dann einen automatischen Zeilenumbruch mit einbaut. Da musst du dann spielen, ob du wirklich einen Zeilenbruch vertreten kannst oder nicht. Manchmal willst du dann die Namen zusammenhaben und nicht auseinandergerissen.</p>
</section>
<section id="zoomen" class="level3" data-number="15.4.12">
<h3 data-number="15.4.12" class="anchored" data-anchor-id="zoomen"><span class="header-section-number">15.4.12</span> Zoomen</h3>
<p>Mir ist dann noch vor kurzem über den Weg gelaufen, dass wenn wir <code>ylim()</code> nutzen um in eine Abbildung zu zoomen, wir automatisch auch die Abbildungen wie einen Boxplot verändern. Wir entfernen mit <code>ylim()</code> wirklich die Werte aus der Berechnung der Abbildung. Wenn wir Zoomen wollen, also wirklich die Abbildungen auf allen Werten aber näher dran, dann müssen wir die Funktion <code>coord_cartesian()</code> nutzen. In dem folgenden Beispiel siehst du einmal die Anwendung. Dazu dann noch mein eigenes Theme mit <code>theme_modeling()</code> von weiter oben sowie die Anwendung des R Pakets <code>{patchwork}</code> um die Abbildungen nebeneinander darzustellen.</p>
<div class="cell" data-layout-align="center">
<details open="" class="code-fold">
<summary>R Code [zeigen / verbergen]</summary>
<div class="code-copy-outer-scaffold"><div class="sourceCode cell-code" id="cb42"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb42-1"><a href="#cb42-1" aria-hidden="true" tabindex="-1"></a>p1 <span class="ot">&lt;-</span> <span class="fu">ggplot</span>(<span class="at">data =</span> ggplot_tbl, <span class="fu">aes</span>(<span class="at">x =</span> feeding, <span class="at">y =</span> jump_length,</span>
<span id="cb42-2"><a href="#cb42-2" aria-hidden="true" tabindex="-1"></a>                                      <span class="at">fill =</span> feeding)) <span class="sc">+</span></span>
<span id="cb42-3"><a href="#cb42-3" aria-hidden="true" tabindex="-1"></a>  <span class="fu">theme_modeling</span>() <span class="sc">+</span></span>
<span id="cb42-4"><a href="#cb42-4" aria-hidden="true" tabindex="-1"></a>  <span class="fu">geom_hline</span>(<span class="at">yintercept =</span> <span class="dv">93</span>, <span class="at">colour =</span> <span class="st">"red"</span>) <span class="sc">+</span> </span>
<span id="cb42-5"><a href="#cb42-5" aria-hidden="true" tabindex="-1"></a>  <span class="fu">geom_boxplot</span>() <span class="sc">+</span></span>
<span id="cb42-6"><a href="#cb42-6" aria-hidden="true" tabindex="-1"></a>  <span class="fu">theme</span>(<span class="at">legend.position =</span> <span class="st">"none"</span>)</span>
<span id="cb42-7"><a href="#cb42-7" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb42-8"><a href="#cb42-8" aria-hidden="true" tabindex="-1"></a>p1 <span class="sc">+</span> <span class="fu">ggtitle</span>(<span class="st">"Original"</span>) <span class="sc">+</span></span>
<span id="cb42-9"><a href="#cb42-9" aria-hidden="true" tabindex="-1"></a>p1 <span class="sc">+</span> <span class="fu">coord_cartesian</span>(<span class="at">ylim =</span> <span class="fu">c</span>(<span class="dv">55</span>, <span class="dv">125</span>)) <span class="sc">+</span> </span>
<span id="cb42-10"><a href="#cb42-10" aria-hidden="true" tabindex="-1"></a>  <span class="fu">ggtitle</span>(<span class="st">"coord_cartesian()"</span>, <span class="at">subtitle =</span> <span class="st">"Boxplots auf allen Werten"</span>) <span class="sc">+</span></span>
<span id="cb42-11"><a href="#cb42-11" aria-hidden="true" tabindex="-1"></a>p1 <span class="sc">+</span> <span class="fu">ylim</span>(<span class="dv">55</span>, <span class="dv">125</span>) <span class="sc">+</span> </span>
<span id="cb42-12"><a href="#cb42-12" aria-hidden="true" tabindex="-1"></a>  <span class="fu">ggtitle</span>(<span class="st">"ylim()"</span>, <span class="at">subtitle =</span> <span class="st">"Boxplots auf ylim Werten"</span>) <span class="sc">+</span></span>
<span id="cb42-13"><a href="#cb42-13" aria-hidden="true" tabindex="-1"></a>  <span class="fu">plot_layout</span>(<span class="at">ncol =</span> <span class="dv">3</span>) <span class="sc">+</span></span>
<span id="cb42-14"><a href="#cb42-14" aria-hidden="true" tabindex="-1"></a>  <span class="fu">plot_annotation</span>(<span class="at">tag_levels =</span> <span class="st">'A'</span>, <span class="at">tag_prefix =</span> <span class="st">'('</span>, <span class="at">tag_suffix =</span> <span class="st">')'</span>) <span class="sc">&amp;</span></span>
<span id="cb42-15"><a href="#cb42-15" aria-hidden="true" tabindex="-1"></a>  <span class="fu">theme</span>(<span class="at">plot.tag =</span> <span class="fu">element_text</span>(<span class="at">size =</span> <span class="dv">16</span>, <span class="at">face =</span> <span class="st">"bold"</span>))</span></code></pre></div><button title="In die Zwischenablage kopieren" class="code-copy-button"><i class="bi"></i></button></div>
</details>
<div class="cell-output-display">
<div id="fig-labels-scale-zoom" class="quarto-float quarto-figure quarto-figure-center anchored" data-fig-align="center">
<figure class="quarto-float quarto-float-fig figure">
<div aria-describedby="fig-labels-scale-zoom-caption-0ceaefa1-69ba-4598-a22c-09a6ac19f8ca">
<a href="programing-ggplot_files/figure-html/fig-labels-scale-zoom-1.png" class="lightbox" data-gallery="quarto-lightbox-gallery-36" title="Abbildung&nbsp;15.23— Problematisches Verhalten der Option ylim() beim Zoomen in eine Abbildung. Besser hierfür die Funktion coord_cartesian() verwenden. [Zum Vergrößern anklicken]"><img src="programing-ggplot_files/figure-html/fig-labels-scale-zoom-1.png" class="img-fluid quarto-figure quarto-figure-center figure-img" width="864"></a>
</div>
<figcaption class="quarto-float-caption-bottom quarto-float-caption quarto-float-fig" id="fig-labels-scale-zoom-caption-0ceaefa1-69ba-4598-a22c-09a6ac19f8ca">
Abbildung&nbsp;15.23— Problematisches Verhalten der Option <code>ylim()</code> beim Zoomen in eine Abbildung. Besser hierfür die Funktion <code>coord_cartesian()</code> verwenden. <em>[Zum Vergrößern anklicken]</em>
</figcaption>
</figure>
</div>
</div>
</div>
</section>
<section id="abbildungen-aufteilen" class="level3" data-number="15.4.13">
<h3 data-number="15.4.13" class="anchored" data-anchor-id="abbildungen-aufteilen"><span class="header-section-number">15.4.13</span> Abbildungen aufteilen</h3>
<p>Die Funktion <code>facet_wrap()</code> erlaubt es dir nach einem Faktor die Abbildungen einmal aufzuteilen. Wir werden später noch das R Paket <code>{ggh4x}</code> kennenlernen, welches noch besser mit der Aufteilung klarkommt. Hier aber einmal das simpelste Beispiel. Wir wollen die Ernährungsformen einmal getrennt für die beiden Entwicklungsstände darstellen. Wir haben auch hier die Möglichkeit festzulegen, dass die Einheiten auf der x- und y-Achse eben auch frei sein können. Dazu nutzen wir die Option <code>scales = "free_x"</code> oder <code>scales = "free_y"</code>. Ich persönlich nutze die Option hier nur bei der explorativen Datenanalyse. Wenn ich dann meine Abbildungen habe, würde ich eher über <code>{patchwork}</code> mit die einzelnen Abbildungen zusammenkleben als über die Funktion <code>facet_wrap()</code>. Aber das ist dann Geschmackssache.</p>
<div class="cell" data-layout-align="center">
<details open="" class="code-fold">
<summary>R Code [zeigen / verbergen]</summary>
<div class="code-copy-outer-scaffold"><div class="sourceCode cell-code" id="cb43"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb43-1"><a href="#cb43-1" aria-hidden="true" tabindex="-1"></a><span class="fu">ggplot</span>(<span class="at">data =</span> ggplot_tbl, <span class="fu">aes</span>(<span class="at">x =</span> feeding, <span class="at">y =</span> jump_length,</span>
<span id="cb43-2"><a href="#cb43-2" aria-hidden="true" tabindex="-1"></a>                              <span class="at">fill =</span> feeding)) <span class="sc">+</span></span>
<span id="cb43-3"><a href="#cb43-3" aria-hidden="true" tabindex="-1"></a>  <span class="fu">geom_boxplot</span>() <span class="sc">+</span></span>
<span id="cb43-4"><a href="#cb43-4" aria-hidden="true" tabindex="-1"></a>  <span class="fu">facet_wrap</span>(<span class="sc">~</span> stage)</span></code></pre></div><button title="In die Zwischenablage kopieren" class="code-copy-button"><i class="bi"></i></button></div>
</details>
<div class="cell-output-display">
<div id="fig-labels-facet-wrap" class="quarto-float quarto-figure quarto-figure-center anchored" data-fig-align="center">
<figure class="quarto-float quarto-float-fig figure">
<div aria-describedby="fig-labels-facet-wrap-caption-0ceaefa1-69ba-4598-a22c-09a6ac19f8ca">
<a href="programing-ggplot_files/figure-html/fig-labels-facet-wrap-1.png" class="lightbox" data-gallery="quarto-lightbox-gallery-37" title="Abbildung&nbsp;15.24— Aufteilung der Ernährungsformen nach den beiden Entwicklungsständen. [Zum Vergrößern anklicken]"><img src="programing-ggplot_files/figure-html/fig-labels-facet-wrap-1.png" class="img-fluid quarto-figure quarto-figure-center figure-img" width="864"></a>
</div>
<figcaption class="quarto-float-caption-bottom quarto-float-caption quarto-float-fig" id="fig-labels-facet-wrap-caption-0ceaefa1-69ba-4598-a22c-09a6ac19f8ca">
Abbildung&nbsp;15.24— Aufteilung der Ernährungsformen nach den beiden Entwicklungsständen. <em>[Zum Vergrößern anklicken]</em>
</figcaption>
</figure>
</div>
</div>
</div>
</section>
<section id="gebrochene-y-achse" class="level3" data-number="15.4.14">
<h3 data-number="15.4.14" class="anchored" data-anchor-id="gebrochene-y-achse"><span class="header-section-number">15.4.14</span> Gebrochene <span class="math inline">\(y\)</span>-Achse</h3>
<p>Das <a href="https://cran.r-project.org/web/packages/ggbreak/vignettes/ggbreak.html">R Paket <code>{ggbreak}</code></a> erlaubt es dir in die <span class="math inline">\(x\)</span>-Achse oder aber <span class="math inline">\(y\)</span>-Achse Lücken einzusetzen oder aber die Achsen eben gebrochen darzustellen. Zur Demonstration bauen wir uns nochmal den <code>stat_tbl</code> für die Hunde- und Katzenflöhe. Wir berechnen hier dann die Mittelwerte und nicht mehr die Standardabweichung, da es sonst nicht so gut mit der Darstellung mit der gebrochenen <span class="math inline">\(y\)</span>-Achse für dieses Beispiel klappt.</p>
<div class="cell">
<details open="" class="code-fold">
<summary>R Code [zeigen / verbergen]</summary>
<div class="code-copy-outer-scaffold"><div class="sourceCode cell-code" id="cb44"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb44-1"><a href="#cb44-1" aria-hidden="true" tabindex="-1"></a>stat_tbl <span class="ot">&lt;-</span> ggplot_tbl <span class="sc">|&gt;</span> </span>
<span id="cb44-2"><a href="#cb44-2" aria-hidden="true" tabindex="-1"></a>  <span class="fu">group_by</span>(feeding) <span class="sc">|&gt;</span> </span>
<span id="cb44-3"><a href="#cb44-3" aria-hidden="true" tabindex="-1"></a>  <span class="fu">summarise</span>(<span class="at">mean =</span> <span class="fu">mean</span>(jump_length))</span></code></pre></div><button title="In die Zwischenablage kopieren" class="code-copy-button"><i class="bi"></i></button></div>
</details>
</div>
<p>In der <a href="#fig-labels-ggbreak-1" class="quarto-xref">Abbildung&nbsp;<span>15.25</span></a> siehst du einmal die Abbildung der Mittelwerte der Sprungweiten der Hunde- und Katzenflöhe als Barplots dargestellt. Ich habe hier einen Bruch auf der <span class="math inline">\(y\)</span>-Achse mit der Funktion <code>scale_y_break()</code> bei 1 bis 4 eingefügt und den Abstand über die Option <code>space</code> etwas visuell vergrößert. Mit der Option <code>scales</code> könntest du dann noch die Skalierung der gebrochenen <span class="math inline">\(y\)</span>-Achse anpassen.</p>
<div class="cell" data-layout-align="center">
<details open="" class="code-fold">
<summary>R Code [zeigen / verbergen]</summary>
<div class="code-copy-outer-scaffold"><div class="sourceCode cell-code" id="cb45"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb45-1"><a href="#cb45-1" aria-hidden="true" tabindex="-1"></a><span class="fu">ggplot</span>(stat_tbl, <span class="fu">aes</span>(<span class="at">x =</span> feeding, <span class="at">y =</span> mean, <span class="at">fill =</span> feeding)) <span class="sc">+</span> </span>
<span id="cb45-2"><a href="#cb45-2" aria-hidden="true" tabindex="-1"></a>  <span class="fu">theme_minimal</span>() <span class="sc">+</span></span>
<span id="cb45-3"><a href="#cb45-3" aria-hidden="true" tabindex="-1"></a>  <span class="fu">geom_bar</span>(<span class="at">stat =</span> <span class="st">"identity"</span>) <span class="sc">+</span></span>
<span id="cb45-4"><a href="#cb45-4" aria-hidden="true" tabindex="-1"></a>  <span class="fu">scale_y_break</span>(<span class="fu">c</span>(<span class="dv">10</span>, <span class="dv">60</span>), <span class="at">space =</span> <span class="fl">0.5</span>)</span></code></pre></div><button title="In die Zwischenablage kopieren" class="code-copy-button"><i class="bi"></i></button></div>
</details>
<div class="cell-output-display">
<div id="fig-labels-ggbreak-1" class="quarto-float quarto-figure quarto-figure-center anchored" data-fig-align="center">
<figure class="quarto-float quarto-float-fig figure">
<div aria-describedby="fig-labels-ggbreak-1-caption-0ceaefa1-69ba-4598-a22c-09a6ac19f8ca">
<a href="programing-ggplot_files/figure-html/fig-labels-ggbreak-1-1.png" class="lightbox" data-gallery="quarto-lightbox-gallery-38" title="Abbildung&nbsp;15.25— Beispielhafte Abbildung der Barplots mit gebrochener y-Achse. Die Fehlerbalken wurden aus Gründen der besseren Darstellung der zerbrochenen y-Achse entfernt. [Zum Vergrößern anklicken]"><img src="programing-ggplot_files/figure-html/fig-labels-ggbreak-1-1.png" class="img-fluid quarto-figure quarto-figure-center figure-img" width="672"></a>
</div>
<figcaption class="quarto-float-caption-bottom quarto-float-caption quarto-float-fig" id="fig-labels-ggbreak-1-caption-0ceaefa1-69ba-4598-a22c-09a6ac19f8ca">
Abbildung&nbsp;15.25— Beispielhafte Abbildung der Barplots mit gebrochener <span class="math inline">\(y\)</span>-Achse. Die Fehlerbalken wurden aus Gründen der besseren Darstellung der zerbrochenen <span class="math inline">\(y\)</span>-Achse entfernt. <em>[Zum Vergrößern anklicken]</em>
</figcaption>
</figure>
</div>
</div>
</div>
</section>
</section>
<section id="r-pakete-von-interesse" class="level2" data-number="15.5">
<h2 data-number="15.5" class="anchored" data-anchor-id="r-pakete-von-interesse"><span class="header-section-number">15.5</span> R Pakete von Interesse</h2>
<p>Manchmal braucht es mehr, als nur <code>{ggplot}</code> zu bieten hat. Deshalb gibt es eine riesige Auswahl an zusätzlichen R Paketen, die sich nur mit der Erstellung von Abbildungen im Universum von <code>{ggplot}</code> beschäftigen. Hier will ich nicht alle vorstellen, dass macht auch überhaupt keinen Sinn. Es gibt aber immer wieder R Pakete, die finde ich so nützlich, dass ich diese Pakete gerne wiederfinden würde. Meistens brauche ich dann die Pakete aber doch nicht jeden Tag oder häufig. Dann vergesse ich eventuell den Namen oder gar das Paket. Daher ist diese Sammlung also auch für mich eine Art Bibliothek wo ich immer mal schauen kann was es so gibt. Wenn ich ein neues R Paket entdecke, dann ergänze ich das Paket mal eben hier.</p>
<div class="callout callout-style-default callout-tip callout-titled">
<div class="callout-header d-flex align-content-center">
<div class="callout-icon-container">
<i class="callout-icon"></i>
</div>
<div class="callout-title-container flex-fill">
<span class="screen-reader-only">Tipp</span>Woher habe ich alle Pakete her?
</div>
</div>
<div class="callout-body-container callout-body">
<p>Wenn es einen Link zu einer Seite gibt, den ich immer mal wieder Besuche, ist es der folgende Link: <a href="https://exts.ggplot2.tidyverse.org/gallery/">ggplot2 extensions</a>. Du erfährst hier eine Menge neues an Paketen und es gibt immer wieder spannendes zu entdecken. Ein Besuch lohnt sich auf jeden Fall.</p>
</div>
</div>
<p>Gehen wir also einmal die sicherlich nie vollständige Liste an R Paketen einmal durch. Die Pakete haben keine richtige Ordnung. Du musst schauen, ob dich was anspricht. Häufig musst du dann auch nochmal die Hilfeseiten hinter den Links besuchen. Hier gebe ich nur einen Einblick für die Anwendungen die ich eben gebraucht habe und glaube wieder zu brauchen.</p>
<section id="forcats" class="level3" data-number="15.5.1">
<h3 data-number="15.5.1" class="anchored" data-anchor-id="forcats"><span class="header-section-number">15.5.1</span> <code>{forcats}</code></h3>
<p>Das erste Paket hier hat eigentlich gar nicht so richtig was mit <code>{ggplot}</code> zu tun. Mit dem <a href="https://forcats.tidyverse.org/">R Paket <code>{forcats}</code></a> haben wir eigentlich nur eine bessere Art mit Faktoren umzugehen. Das brauchen wir dann auch für faktorielle Experimente, aber auch bei <code>{ggplot}</code> lohnt sich eine saubere Definition der kategorialen Variablen. Wir können mit der Funktion <code>fct()</code> sauber Faktoren erstellen und haben eine weitreichende Anwendungsmöglichkeiten. Hier empfehle ich dann das <a href="https://raw.githubusercontent.com/rstudio/cheatsheets/main/factors.pdf">Cheat sheet <code>{forcats}</code></a> um einemla einen Überblick zu erhalten. Hier einmal alle Funktionen durchzugehen sprengt dann das Kapitel. Ich nutze das R Paket immer mal wieder, aber hier hat es auf jeden Fall auch seine Nützlichkeit.</p>
</section>
<section id="ggrepel" class="level3" data-number="15.5.2">
<h3 data-number="15.5.2" class="anchored" data-anchor-id="ggrepel"><span class="header-section-number">15.5.2</span> <code>{ggrepel}</code></h3>
<p>Das <a href="https://cran.r-project.org/web/packages/ggrepel/vignettes/ggrepel.html">R Paket <code>{ggrepel}</code></a> ist die Antwort auf die Frage, ob es nicht irgendwie eine Möglichkeit gibt intelliegent einmal die Labels in einem Plot anzuordnen. Hier dann wiederum nur ein Beispiel, es gibt aber eine Menge <a href="https://ggrepel.slowkow.com/articles/examples.html">Beispiele für <code>{ggrepel}</code></a> zum Nachbauen und sich inspieren lassen. Die Idee ist eben, dass die LAbels so angeordnet werden, dass wir kein Überlappen der Worte haben und wenn dann doch, wird eben ein Pfeil oder Strich gezeichnet. Das ist super praktisch, wenn wir mal wirklich viele Punkte aufeinmal beschriften wollen.</p>
<div class="cell" data-layout-align="center">
<details open="" class="code-fold">
<summary>R Code [zeigen / verbergen]</summary>
<div class="code-copy-outer-scaffold"><div class="sourceCode cell-code" id="cb46"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb46-1"><a href="#cb46-1" aria-hidden="true" tabindex="-1"></a><span class="fu">ggplot</span>(ggplot_tbl, <span class="fu">aes</span>(<span class="at">x =</span> weight, <span class="at">y =</span> jump_length,</span>
<span id="cb46-2"><a href="#cb46-2" aria-hidden="true" tabindex="-1"></a>                       <span class="at">label =</span> weight)) <span class="sc">+</span> </span>
<span id="cb46-3"><a href="#cb46-3" aria-hidden="true" tabindex="-1"></a>  <span class="fu">theme_minimal</span>() <span class="sc">+</span></span>
<span id="cb46-4"><a href="#cb46-4" aria-hidden="true" tabindex="-1"></a>  <span class="fu">geom_point</span>() <span class="sc">+</span></span>
<span id="cb46-5"><a href="#cb46-5" aria-hidden="true" tabindex="-1"></a>  <span class="fu">geom_text_repel</span>()</span></code></pre></div><button title="In die Zwischenablage kopieren" class="code-copy-button"><i class="bi"></i></button></div>
</details>
<div class="cell-output-display">
<div id="fig-labels-ggrepel" class="quarto-float quarto-figure quarto-figure-center anchored" data-fig-align="center">
<figure class="quarto-float quarto-float-fig figure">
<div aria-describedby="fig-labels-ggrepel-caption-0ceaefa1-69ba-4598-a22c-09a6ac19f8ca">
<a href="programing-ggplot_files/figure-html/fig-labels-ggrepel-1.png" class="lightbox" data-gallery="quarto-lightbox-gallery-39" title="Abbildung&nbsp;15.26— Beispielhafte Anwendung des R Paketes {ggrepel} für die Beschriftung aller Punkte mit den entsprechenden Flohgewichten. [Zum Vergrößern anklicken]"><img src="programing-ggplot_files/figure-html/fig-labels-ggrepel-1.png" class="img-fluid quarto-figure quarto-figure-center figure-img" width="672"></a>
</div>
<figcaption class="quarto-float-caption-bottom quarto-float-caption quarto-float-fig" id="fig-labels-ggrepel-caption-0ceaefa1-69ba-4598-a22c-09a6ac19f8ca">
Abbildung&nbsp;15.26— Beispielhafte Anwendung des R Paketes <code>{ggrepel}</code> für die Beschriftung aller Punkte mit den entsprechenden Flohgewichten. <em>[Zum Vergrößern anklicken]</em>
</figcaption>
</figure>
</div>
</div>
</div>
</section>
<section id="ggh4x" class="level3" data-number="15.5.3">
<h3 data-number="15.5.3" class="anchored" data-anchor-id="ggh4x"><span class="header-section-number">15.5.3</span> <code>{ggh4x}</code></h3>
<p>Das <a href="https://teunbrand.github.io/ggh4x/articles/ggh4x.html">R Paket <code>{ggh4x}</code></a> liefert nochmal eine Reihe von Funktionen in <code>{ggplot}</code> Sachen schöner zu machen. Der zentrale Teil ist aber <code>facet_wrap2()</code>. Mit dieser Funktion können wir dann die Aufteilung viel besser kontrollieren und somit auch schöner einen Faktor getrennt über einen anderen Faktor darstellen. Schaue dir dazu gerne einmal die ausführliche Vignette des Paketes an. Hier zeige ich dann nur einmal ein kurzes Beispiel zur Veranschaulichung.</p>
<div class="cell" data-layout-align="center">
<details open="" class="code-fold">
<summary>R Code [zeigen / verbergen]</summary>
<div class="code-copy-outer-scaffold"><div class="sourceCode cell-code" id="cb47"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb47-1"><a href="#cb47-1" aria-hidden="true" tabindex="-1"></a><span class="fu">ggplot</span>(<span class="at">data =</span> ggplot_tbl, <span class="fu">aes</span>(<span class="at">x =</span> stage, <span class="at">y =</span> jump_length,</span>
<span id="cb47-2"><a href="#cb47-2" aria-hidden="true" tabindex="-1"></a>                              <span class="at">fill =</span> stage)) <span class="sc">+</span></span>
<span id="cb47-3"><a href="#cb47-3" aria-hidden="true" tabindex="-1"></a>  <span class="fu">theme_minimal</span>() <span class="sc">+</span></span>
<span id="cb47-4"><a href="#cb47-4" aria-hidden="true" tabindex="-1"></a>  <span class="fu">geom_boxplot</span>() <span class="sc">+</span></span>
<span id="cb47-5"><a href="#cb47-5" aria-hidden="true" tabindex="-1"></a>  <span class="fu">facet_wrap2</span>(<span class="sc">~</span> feeding, <span class="at">axes =</span> <span class="st">"all"</span>)</span></code></pre></div><button title="In die Zwischenablage kopieren" class="code-copy-button"><i class="bi"></i></button></div>
</details>
<div class="cell-output-display">
<div id="fig-labels-facet-wrap-gghx" class="quarto-float quarto-figure quarto-figure-center anchored" data-fig-align="center">
<figure class="quarto-float quarto-float-fig figure">
<div aria-describedby="fig-labels-facet-wrap-gghx-caption-0ceaefa1-69ba-4598-a22c-09a6ac19f8ca">
<a href="programing-ggplot_files/figure-html/fig-labels-facet-wrap-gghx-1.png" class="lightbox" data-gallery="quarto-lightbox-gallery-40" title="Abbildung&nbsp;15.27— Aufteilung der Ernährungsformen nach den beiden Entwicklungsständen. [Zum Vergrößern anklicken]"><img src="programing-ggplot_files/figure-html/fig-labels-facet-wrap-gghx-1.png" class="img-fluid quarto-figure quarto-figure-center figure-img" width="864"></a>
</div>
<figcaption class="quarto-float-caption-bottom quarto-float-caption quarto-float-fig" id="fig-labels-facet-wrap-gghx-caption-0ceaefa1-69ba-4598-a22c-09a6ac19f8ca">
Abbildung&nbsp;15.27— Aufteilung der Ernährungsformen nach den beiden Entwicklungsständen. <em>[Zum Vergrößern anklicken]</em>
</figcaption>
</figure>
</div>
</div>
</div>
</section>
<section id="ggtext" class="level3" data-number="15.5.4">
<h3 data-number="15.5.4" class="anchored" data-anchor-id="ggtext"><span class="header-section-number">15.5.4</span> <code>{ggtext}</code></h3>
<p>Was super nervt ist immer, wenn wir uns mit der Textformatierung rumschlagen müssen. Ich habe ja schon oben bei den Schriftarten geschrieben, dass es noch Lösungen gibt. Das <a href="https://wilkelab.org/ggtext/">R Paket <code>{ggtext}</code></a> ist mit der Funktion <code>element_markdown()</code> und den <a href="https://wilkelab.org/ggtext/articles/theme_elements.html">Markdown theme elements</a> ein Paket davon. Es gibt aber noch weitere Funktionen und Möglichkeiten in dem R Paket, wie du in der Vignette <a href="https://wilkelab.org/ggtext/articles/plotting_text.html">Plotting with markdown text</a> dir anschauen kannst. Im Prinzip ist das R Paket <code>{ggtext}</code> nochmal eine Möglichkeit alles was in Text in deiner Abbildung vokommt nochmal schhöner zu gestalten. Es gilt wie immer, das ist einigen zu viel udn auch nicht nötig. Manchmal möchtest du es dann aber wissen, dann geht es hier in den Kaninchenbau der Textformatierung. Du kannst mit den klassischen <a href="https://quarto.org/docs/authoring/markdown-basics.html">Markdownbefehlen</a> deinen text in einer <code>{ggplot}</code> Abbildung formatieren. Ganz wichtig, du musst immer über <code>theme()</code> dann den entsprechenden Teil in deiner Abbdilung auf <code>element_markdown()</code> setzen.</p>
<div class="cell" data-layout-align="center">
<details open="" class="code-fold">
<summary>R Code [zeigen / verbergen]</summary>
<div class="code-copy-outer-scaffold"><div class="sourceCode cell-code" id="cb48"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb48-1"><a href="#cb48-1" aria-hidden="true" tabindex="-1"></a><span class="fu">ggplot</span>(<span class="at">data =</span> ggplot_tbl, <span class="fu">aes</span>(<span class="at">x =</span> feeding, <span class="at">y =</span> jump_length,</span>
<span id="cb48-2"><a href="#cb48-2" aria-hidden="true" tabindex="-1"></a>                              <span class="at">fill =</span> feeding)) <span class="sc">+</span></span>
<span id="cb48-3"><a href="#cb48-3" aria-hidden="true" tabindex="-1"></a>  <span class="fu">theme_minimal</span>() <span class="sc">+</span></span>
<span id="cb48-4"><a href="#cb48-4" aria-hidden="true" tabindex="-1"></a>  <span class="fu">geom_boxplot</span>() <span class="sc">+</span></span>
<span id="cb48-5"><a href="#cb48-5" aria-hidden="true" tabindex="-1"></a>  <span class="fu">labs</span>(<span class="at">x =</span> <span class="st">"**Ernährungsarten**"</span>, <span class="at">y =</span> <span class="st">"*Sprungweite in [cm]*"</span>) <span class="sc">+</span></span>
<span id="cb48-6"><a href="#cb48-6" aria-hidden="true" tabindex="-1"></a>  <span class="fu">theme</span>(<span class="at">legend.position =</span> <span class="st">"none"</span>,</span>
<span id="cb48-7"><a href="#cb48-7" aria-hidden="true" tabindex="-1"></a>        <span class="at">axis.title =</span> <span class="fu">element_markdown</span>())</span></code></pre></div><button title="In die Zwischenablage kopieren" class="code-copy-button"><i class="bi"></i></button></div>
</details>
<div class="cell-output-display">
<div id="fig-labels-scale-title-ggtext-0" class="quarto-float quarto-figure quarto-figure-center anchored" data-fig-align="center">
<figure class="quarto-float quarto-float-fig figure">
<div aria-describedby="fig-labels-scale-title-ggtext-0-caption-0ceaefa1-69ba-4598-a22c-09a6ac19f8ca">
<a href="programing-ggplot_files/figure-html/fig-labels-scale-title-ggtext-0-1.png" class="lightbox" data-gallery="quarto-lightbox-gallery-41" title="Abbildung&nbsp;15.28— Beispielhafte Abbildung mit Titel und geänderter Achsenbeschrittung mit Markdown. [Zum Vergrößern anklicken]"><img src="programing-ggplot_files/figure-html/fig-labels-scale-title-ggtext-0-1.png" class="img-fluid quarto-figure quarto-figure-center figure-img" width="672"></a>
</div>
<figcaption class="quarto-float-caption-bottom quarto-float-caption quarto-float-fig" id="fig-labels-scale-title-ggtext-0-caption-0ceaefa1-69ba-4598-a22c-09a6ac19f8ca">
Abbildung&nbsp;15.28— Beispielhafte Abbildung mit Titel und geänderter Achsenbeschrittung mit Markdown. <em>[Zum Vergrößern anklicken]</em>
</figcaption>
</figure>
</div>
</div>
</div>
<p>Neben klassischen Markdown kannst du auch <a href="https://wiki.selfhtml.org/wiki/HTML/Elemente">HTML Elemente</a> verwenden. Das macht die Abbildiungen dann noch komplexer und noch kleinteiliger. Hier kannst du dann einzelne Worte oder aber Teile deiner Texte in den Abbildungen ändern. In der folgenden Tabelle dann einmal ein paar Beispiele für HTML Elemente, die du in deiner Abbildung nutzen kannst.</p>
<div id="tbl-html-beispiel" class="quarto-float quarto-figure quarto-figure-center anchored">
<figure class="quarto-float quarto-float-tbl figure">
<figcaption class="quarto-float-caption-top quarto-float-caption quarto-float-tbl" id="tbl-html-beispiel-caption-0ceaefa1-69ba-4598-a22c-09a6ac19f8ca">
Tabelle&nbsp;15.2— Ausgewählte HTML Codes und deren Darstellung.
</figcaption>
<div aria-describedby="tbl-html-beispiel-caption-0ceaefa1-69ba-4598-a22c-09a6ac19f8ca">
<table class="caption-top table">
<colgroup>
<col style="width: 50%">
<col style="width: 50%">
</colgroup>
<thead>
<tr class="header">
<th>HTML Element</th>
<th>Darstellung</th>
</tr>
</thead>
<tbody>
<tr class="odd">
<td><code>x&lt;sup&gt;2&lt;/sup&gt;</code></td>
<td><span class="math inline">\(x^2\)</span></td>
</tr>
<tr class="even">
<td><code>x&lt;sub&gt;2&lt;/sub&gt;</code></td>
<td><span class="math inline">\(x_2\)</span></td>
</tr>
<tr class="odd">
<td><code>&lt;span style = 'color:#0072B2;'&gt; text &lt;/span&gt;</code></td>
<td><span class="math inline">\(\textcolor{#0072B2}{text}\)</span></td>
</tr>
<tr class="even">
<td><code>&lt;br&gt;</code></td>
<td>Zeilenumbruch</td>
</tr>
</tbody>
</table>
</div>
</figure>
</div>
<p>Wenn wir die HTML Elemente dann anwenden wollen, dann müssen wir auch hier daran denken, dass wir die entsprechenden Teile in der Abbildung im <code>theme()</code> dann auch auf <code>element_markdown()</code> setzen. Wenn du das vergisst, dann ändert sich in den Abbildungen erstma rein gar nichts. Hier siehst du dann auch ganz schön, dass sich so gewisse mathematische Ausdrücke auch in HTML darstellen lassen. Auch hier kommt es dann auf die Komplexität an. Einfache Einheiten lassen sich hier so auf jeden Fall einfacher darstellen.</p>
<div class="cell" data-layout-align="center">
<details open="" class="code-fold">
<summary>R Code [zeigen / verbergen]</summary>
<div class="code-copy-outer-scaffold"><div class="sourceCode cell-code" id="cb49"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb49-1"><a href="#cb49-1" aria-hidden="true" tabindex="-1"></a><span class="fu">ggplot</span>(<span class="at">data =</span> ggplot_tbl, <span class="fu">aes</span>(<span class="at">x =</span> feeding, <span class="at">y =</span> jump_length,</span>
<span id="cb49-2"><a href="#cb49-2" aria-hidden="true" tabindex="-1"></a>                              <span class="at">fill =</span> feeding)) <span class="sc">+</span></span>
<span id="cb49-3"><a href="#cb49-3" aria-hidden="true" tabindex="-1"></a>  <span class="fu">theme_minimal</span>() <span class="sc">+</span></span>
<span id="cb49-4"><a href="#cb49-4" aria-hidden="true" tabindex="-1"></a>  <span class="fu">geom_boxplot</span>() <span class="sc">+</span></span>
<span id="cb49-5"><a href="#cb49-5" aria-hidden="true" tabindex="-1"></a><span class="fu">labs</span>(</span>
<span id="cb49-6"><a href="#cb49-6" aria-hidden="true" tabindex="-1"></a>    <span class="at">x =</span> <span class="st">"Horse power [E&lt;sup&gt;2&lt;/sup&gt;]"</span>,</span>
<span id="cb49-7"><a href="#cb49-7" aria-hidden="true" tabindex="-1"></a>    <span class="at">y =</span> <span class="st">"Miles per gallon (MPG)"</span>,</span>
<span id="cb49-8"><a href="#cb49-8" aria-hidden="true" tabindex="-1"></a>    <span class="at">title =</span> <span class="st">"&lt;span style = 'font-size:14pt; font-family:Helvetica;'&gt;Transmission type impacts fuel efficiency&lt;/span&gt;&lt;br&gt;</span></span>
<span id="cb49-9"><a href="#cb49-9" aria-hidden="true" tabindex="-1"></a><span class="st">MPG is higher for &lt;span style = 'color:#0072B2;'&gt;automatic&lt;/span&gt;</span></span>
<span id="cb49-10"><a href="#cb49-10" aria-hidden="true" tabindex="-1"></a><span class="st">than for &lt;span style = 'color:#D55E00;'&gt;manual&lt;/span&gt; transmissions"</span></span>
<span id="cb49-11"><a href="#cb49-11" aria-hidden="true" tabindex="-1"></a>  ) <span class="sc">+</span></span>
<span id="cb49-12"><a href="#cb49-12" aria-hidden="true" tabindex="-1"></a>  <span class="fu">theme</span>(<span class="at">legend.position =</span> <span class="st">"none"</span>,</span>
<span id="cb49-13"><a href="#cb49-13" aria-hidden="true" tabindex="-1"></a>        <span class="at">plot.title =</span> <span class="fu">element_markdown</span>(<span class="at">size =</span> <span class="dv">11</span>, <span class="at">lineheight =</span> <span class="fl">1.2</span>),</span>
<span id="cb49-14"><a href="#cb49-14" aria-hidden="true" tabindex="-1"></a>        <span class="at">axis.title =</span> <span class="fu">element_markdown</span>(<span class="at">size =</span> <span class="dv">11</span>))</span></code></pre></div><button title="In die Zwischenablage kopieren" class="code-copy-button"><i class="bi"></i></button></div>
</details>
<div class="cell-output-display">
<div id="fig-labels-scale-title-ggtext-3" class="quarto-float quarto-figure quarto-figure-center anchored" data-fig-align="center">
<figure class="quarto-float quarto-float-fig figure">
<div aria-describedby="fig-labels-scale-title-ggtext-3-caption-0ceaefa1-69ba-4598-a22c-09a6ac19f8ca">
<a href="programing-ggplot_files/figure-html/fig-labels-scale-title-ggtext-3-1.png" class="lightbox" data-gallery="quarto-lightbox-gallery-42" title="Abbildung&nbsp;15.29— Beispielhafte Abbildung mit Titel und geänderter Achsenbeschrittung angepasst durch HTML Elemente. [Zum Vergrößern anklicken]"><img src="programing-ggplot_files/figure-html/fig-labels-scale-title-ggtext-3-1.png" class="img-fluid quarto-figure quarto-figure-center figure-img" width="672"></a>
</div>
<figcaption class="quarto-float-caption-bottom quarto-float-caption quarto-float-fig" id="fig-labels-scale-title-ggtext-3-caption-0ceaefa1-69ba-4598-a22c-09a6ac19f8ca">
Abbildung&nbsp;15.29— Beispielhafte Abbildung mit Titel und geänderter Achsenbeschrittung angepasst durch HTML Elemente. <em>[Zum Vergrößern anklicken]</em>
</figcaption>
</figure>
</div>
</div>
</div>
<p>Dann können wir auch noch die Abbildungen durch ein <code>facet_wrap()</code> schöner machen. Hier können wir dann natürlich auch noch das R Paket <code>{ggh4x}</code> mit nutzen um dann wirklich alles rauszuholen. Ich finde aber die Möglichkeit einmal die einzelnen Subplots schöner zu beschriften schon super. Am Ende nutze ich diese Option abr eher weniger sondern baue mir dann immer die einzelnen Plots und klebe diese dann über <code>{patchwork}</code> zusammen. Das ist dann aber wirklich nur noch eine Geschmacksfrage.</p>
<div class="cell" data-layout-align="center">
<details open="" class="code-fold">
<summary>R Code [zeigen / verbergen]</summary>
<div class="code-copy-outer-scaffold"><div class="sourceCode cell-code" id="cb50"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb50-1"><a href="#cb50-1" aria-hidden="true" tabindex="-1"></a><span class="fu">ggplot</span>(ggplot_tbl, <span class="fu">aes</span>(<span class="at">x =</span> stage, <span class="at">y =</span> jump_length)) <span class="sc">+</span></span>
<span id="cb50-2"><a href="#cb50-2" aria-hidden="true" tabindex="-1"></a>  <span class="fu">theme_minimal</span>() <span class="sc">+</span></span>
<span id="cb50-3"><a href="#cb50-3" aria-hidden="true" tabindex="-1"></a>  <span class="fu">geom_boxplot</span>() <span class="sc">+</span></span>
<span id="cb50-4"><a href="#cb50-4" aria-hidden="true" tabindex="-1"></a>  <span class="fu">facet_wrap</span>(<span class="sc">~</span> feeding) <span class="sc">+</span></span>
<span id="cb50-5"><a href="#cb50-5" aria-hidden="true" tabindex="-1"></a>  <span class="fu">theme</span>(</span>
<span id="cb50-6"><a href="#cb50-6" aria-hidden="true" tabindex="-1"></a>    <span class="at">strip.background =</span> <span class="fu">element_blank</span>(),</span>
<span id="cb50-7"><a href="#cb50-7" aria-hidden="true" tabindex="-1"></a>    <span class="at">strip.text =</span> <span class="fu">element_textbox</span>(</span>
<span id="cb50-8"><a href="#cb50-8" aria-hidden="true" tabindex="-1"></a>      <span class="at">size =</span> <span class="dv">12</span>,</span>
<span id="cb50-9"><a href="#cb50-9" aria-hidden="true" tabindex="-1"></a>      <span class="at">color =</span> <span class="st">"white"</span>, <span class="at">fill =</span> <span class="st">"#5D729D"</span>, <span class="at">box.color =</span> <span class="st">"#4A618C"</span>,</span>
<span id="cb50-10"><a href="#cb50-10" aria-hidden="true" tabindex="-1"></a>      <span class="at">halign =</span> <span class="fl">0.5</span>, <span class="at">linetype =</span> <span class="dv">1</span>, <span class="at">r =</span> <span class="fu">unit</span>(<span class="dv">5</span>, <span class="st">"pt"</span>), <span class="at">width =</span> <span class="fu">unit</span>(<span class="dv">1</span>, <span class="st">"npc"</span>),</span>
<span id="cb50-11"><a href="#cb50-11" aria-hidden="true" tabindex="-1"></a>      <span class="at">padding =</span> <span class="fu">margin</span>(<span class="dv">2</span>, <span class="dv">0</span>, <span class="dv">1</span>, <span class="dv">0</span>), <span class="at">margin =</span> <span class="fu">margin</span>(<span class="dv">3</span>, <span class="dv">3</span>, <span class="dv">3</span>, <span class="dv">3</span>)</span>
<span id="cb50-12"><a href="#cb50-12" aria-hidden="true" tabindex="-1"></a>    )</span>
<span id="cb50-13"><a href="#cb50-13" aria-hidden="true" tabindex="-1"></a>  )</span></code></pre></div><button title="In die Zwischenablage kopieren" class="code-copy-button"><i class="bi"></i></button></div>
</details>
<div class="cell-output-display">
<div id="fig-labels-scale-title-ggtext-1" class="quarto-float quarto-figure quarto-figure-center anchored" data-fig-align="center">
<figure class="quarto-float quarto-float-fig figure">
<div aria-describedby="fig-labels-scale-title-ggtext-1-caption-0ceaefa1-69ba-4598-a22c-09a6ac19f8ca">
<a href="programing-ggplot_files/figure-html/fig-labels-scale-title-ggtext-1-1.png" class="lightbox" data-gallery="quarto-lightbox-gallery-43" title="Abbildung&nbsp;15.30— Beispielhafte Abbildung für eine facet_wrap() Abbildung mit schöneren Subtiteln. [Zum Vergrößern anklicken]"><img src="programing-ggplot_files/figure-html/fig-labels-scale-title-ggtext-1-1.png" class="img-fluid quarto-figure quarto-figure-center figure-img" width="672"></a>
</div>
<figcaption class="quarto-float-caption-bottom quarto-float-caption quarto-float-fig" id="fig-labels-scale-title-ggtext-1-caption-0ceaefa1-69ba-4598-a22c-09a6ac19f8ca">
Abbildung&nbsp;15.30— Beispielhafte Abbildung für eine <code>facet_wrap()</code> Abbildung mit schöneren Subtiteln. <em>[Zum Vergrößern anklicken]</em>
</figcaption>
</figure>
</div>
</div>
</div>
</section>
<section id="ggdist" class="level3" data-number="15.5.5">
<h3 data-number="15.5.5" class="anchored" data-anchor-id="ggdist"><span class="header-section-number">15.5.5</span> <code>{ggdist}</code></h3>
<p>Das <a href="https://mjskay.github.io/ggdist/index.html">R Paket <code>{ggdist}</code></a> ist ein mächtiges Paket, wenn es darum geht Verteilungen darzustellen. Dafür brauchen wir dann aber auf der anderen Seite auch einiges an Beobachtungen pro Gruppe. Ich würde mal sagen, dass wir hier schnell mal von mittleren zweistelligen Zahlen an Beobachtungen sprechen. Wir können hier aber trotzdem mal zeigen, was das R Paket so kann. Im Folgenden einmal die Verteilung der Sprungweiten auf der x-Achse und die Gruppen auf der y-Achse. Ich habe dann noch die einzlenen Beobachtungen nach dem Entwicklungsstand und der Ernährungsform aufgeteilt.</p>
<div class="cell" data-layout-align="center">
<details open="" class="code-fold">
<summary>R Code [zeigen / verbergen]</summary>
<div class="code-copy-outer-scaffold"><div class="sourceCode cell-code" id="cb51"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb51-1"><a href="#cb51-1" aria-hidden="true" tabindex="-1"></a>ggplot_tbl <span class="sc">|&gt;</span> </span>
<span id="cb51-2"><a href="#cb51-2" aria-hidden="true" tabindex="-1"></a>  <span class="fu">ggplot</span>(<span class="fu">aes</span>(<span class="at">x =</span> jump_length, <span class="at">y =</span> feeding, <span class="at">color =</span> stage)) <span class="sc">+</span></span>
<span id="cb51-3"><a href="#cb51-3" aria-hidden="true" tabindex="-1"></a>  <span class="fu">theme_minimal</span>() <span class="sc">+</span></span>
<span id="cb51-4"><a href="#cb51-4" aria-hidden="true" tabindex="-1"></a>  <span class="fu">geom_point</span>(<span class="at">position =</span> <span class="fu">position_dodge</span>(<span class="fl">0.4</span>)) <span class="sc">+</span></span>
<span id="cb51-5"><a href="#cb51-5" aria-hidden="true" tabindex="-1"></a>  <span class="fu">scale_color_okabeito</span>() <span class="sc">+</span></span>
<span id="cb51-6"><a href="#cb51-6" aria-hidden="true" tabindex="-1"></a>  <span class="fu">theme</span>(<span class="at">legend.position =</span> <span class="st">"top"</span>)</span></code></pre></div><button title="In die Zwischenablage kopieren" class="code-copy-button"><i class="bi"></i></button></div>
</details>
<div class="cell-output-display">
<div id="fig-ggdist-01" class="quarto-float quarto-figure quarto-figure-center anchored" data-fig-align="center">
<figure class="quarto-float quarto-float-fig figure">
<div aria-describedby="fig-ggdist-01-caption-0ceaefa1-69ba-4598-a22c-09a6ac19f8ca">
<a href="programing-ggplot_files/figure-html/fig-ggdist-01-1.png" class="lightbox" data-gallery="quarto-lightbox-gallery-44" title="Abbildung&nbsp;15.31— Darstellung der Sprungweite in Abhängigkeit der Ernährungsform und dem Entwicklungsstand. Hier einmal gedereht für die x- und y-Achse um gleich die Verteilungen etwas besser zeigen zu können. [Zum Vergrößern anklicken]"><img src="programing-ggplot_files/figure-html/fig-ggdist-01-1.png" class="img-fluid quarto-figure quarto-figure-center figure-img" width="672"></a>
</div>
<figcaption class="quarto-float-caption-bottom quarto-float-caption quarto-float-fig" id="fig-ggdist-01-caption-0ceaefa1-69ba-4598-a22c-09a6ac19f8ca">
Abbildung&nbsp;15.31— Darstellung der Sprungweite in Abhängigkeit der Ernährungsform und dem Entwicklungsstand. Hier einmal gedereht für die x- und y-Achse um gleich die Verteilungen etwas besser zeigen zu können. <em>[Zum Vergrößern anklicken]</em>
</figcaption>
</figure>
</div>
</div>
</div>
<p>Dann können wir einmal ein lineares Modell schätzen um uns gleich mal die Koeffizienten mit den entsprechenden Fehlern als Verteilung anzuschauen.</p>
<div class="cell">
<details open="" class="code-fold">
<summary>R Code [zeigen / verbergen]</summary>
<div class="code-copy-outer-scaffold"><div class="sourceCode cell-code" id="cb52"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb52-1"><a href="#cb52-1" aria-hidden="true" tabindex="-1"></a>jump_feeding_fit <span class="ot">&lt;-</span> <span class="fu">lm</span>(jump_length <span class="sc">~</span> feeding <span class="sc">*</span> stage, <span class="at">data =</span> ggplot_tbl)</span></code></pre></div><button title="In die Zwischenablage kopieren" class="code-copy-button"><i class="bi"></i></button></div>
</details>
</div>
<p>In der folgenden Abbildung siehst du dann einmal die Koeffizienten und deren Fehler als Verteilung einmal dargestellt. Hier siehst du sehr schön, dass die Koeffizienten als Punktschätzer eigentlich aus einer Verteilung stammen, die natürlich auch einen Fehler hat. Der Koeffizient ist eben dann doch nichts anders als der Wert wo die Verteilung ihren Schwerpunkt hat. Wir sehen hier im rinzip die Visualisierung der <code>summary()</code> Ausgabe eines linearen Modells.</p>
<div class="cell" data-layout-align="center">
<details open="" class="code-fold">
<summary>R Code [zeigen / verbergen]</summary>
<div class="code-copy-outer-scaffold"><div class="sourceCode cell-code" id="cb53"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb53-1"><a href="#cb53-1" aria-hidden="true" tabindex="-1"></a>jump_feeding_fit <span class="sc">|&gt;</span> </span>
<span id="cb53-2"><a href="#cb53-2" aria-hidden="true" tabindex="-1"></a>  <span class="fu">tidy</span>()  <span class="sc">|&gt;</span> </span>
<span id="cb53-3"><a href="#cb53-3" aria-hidden="true" tabindex="-1"></a>  <span class="fu">ggplot</span>(<span class="fu">aes</span>(<span class="at">y =</span> term)) <span class="sc">+</span></span>
<span id="cb53-4"><a href="#cb53-4" aria-hidden="true" tabindex="-1"></a>  <span class="fu">theme_minimal</span>() <span class="sc">+</span></span>
<span id="cb53-5"><a href="#cb53-5" aria-hidden="true" tabindex="-1"></a>  <span class="fu">stat_halfeye</span>(<span class="fu">aes</span>(<span class="at">xdist =</span> <span class="fu">dist_student_t</span>(<span class="at">df =</span> <span class="fu">df.residual</span>(jump_feeding_fit), </span>
<span id="cb53-6"><a href="#cb53-6" aria-hidden="true" tabindex="-1"></a>                                          <span class="at">mu =</span> estimate, <span class="at">sigma =</span> std.error)))</span></code></pre></div><button title="In die Zwischenablage kopieren" class="code-copy-button"><i class="bi"></i></button></div>
</details>
<div class="cell-output-display">
<div id="fig-ggdist-02" class="quarto-float quarto-figure quarto-figure-center anchored" data-fig-align="center">
<figure class="quarto-float quarto-float-fig figure">
<div aria-describedby="fig-ggdist-02-caption-0ceaefa1-69ba-4598-a22c-09a6ac19f8ca">
<a href="programing-ggplot_files/figure-html/fig-ggdist-02-1.png" class="lightbox" data-gallery="quarto-lightbox-gallery-45" title="Abbildung&nbsp;15.32— Darstellung der Koeffizienten aus einer linearen Regression zusammen mit dem Fehler und der Verteilung aus der der Punktschätzer stammt.. [Zum Vergrößern anklicken]"><img src="programing-ggplot_files/figure-html/fig-ggdist-02-1.png" class="img-fluid quarto-figure quarto-figure-center figure-img" width="672"></a>
</div>
<figcaption class="quarto-float-caption-bottom quarto-float-caption quarto-float-fig" id="fig-ggdist-02-caption-0ceaefa1-69ba-4598-a22c-09a6ac19f8ca">
Abbildung&nbsp;15.32— Darstellung der Koeffizienten aus einer linearen Regression zusammen mit dem Fehler und der Verteilung aus der der Punktschätzer stammt.. <em>[Zum Vergrößern anklicken]</em>
</figcaption>
</figure>
</div>
</div>
</div>
<p>Jetzt können wir nochmal richtig ausholen und dann nochmal alles zusammenbringen. Wir schauen uns die Punktschätzer aus der linearen Regression mit den Koeffizienten an. Dann bringen wir noch die einzelnen Beobachtungen mit ein. Damit haben wir dann die Daten mit den theoretischen Koeffizienten zusammen. Da sehen wir dann auch gleich die Effekte der Ernährungsformen auf die Sprungweite und das sich die Effekte bei einer Zuckerernährung und dem Entwicklungsstand umdrehen.</p>
<div class="cell" data-layout-align="center">
<details open="" class="code-fold">
<summary>R Code [zeigen / verbergen]</summary>
<div class="code-copy-outer-scaffold"><div class="sourceCode cell-code" id="cb54"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb54-1"><a href="#cb54-1" aria-hidden="true" tabindex="-1"></a><span class="fu">expand</span>(ggplot_tbl, feeding, stage) <span class="sc">|&gt;</span> </span>
<span id="cb54-2"><a href="#cb54-2" aria-hidden="true" tabindex="-1"></a>  <span class="fu">augment</span>(jump_feeding_fit, <span class="at">newdata =</span> _, <span class="at">se_fit =</span> <span class="cn">TRUE</span>) <span class="sc">|&gt;</span> </span>
<span id="cb54-3"><a href="#cb54-3" aria-hidden="true" tabindex="-1"></a>  <span class="fu">ggplot</span>(<span class="fu">aes</span>(<span class="at">y =</span> feeding, <span class="at">color =</span> stage)) <span class="sc">+</span></span>
<span id="cb54-4"><a href="#cb54-4" aria-hidden="true" tabindex="-1"></a>  <span class="fu">theme_minimal</span>() <span class="sc">+</span></span>
<span id="cb54-5"><a href="#cb54-5" aria-hidden="true" tabindex="-1"></a>  <span class="fu">stat_halfeye</span>(<span class="fu">aes</span>(<span class="at">xdist =</span> <span class="fu">dist_student_t</span>(<span class="at">df =</span> <span class="fu">df.residual</span>(jump_feeding_fit), </span>
<span id="cb54-6"><a href="#cb54-6" aria-hidden="true" tabindex="-1"></a>                                          <span class="at">mu =</span> .fitted, <span class="at">sigma =</span> .se.fit),</span>
<span id="cb54-7"><a href="#cb54-7" aria-hidden="true" tabindex="-1"></a>                   <span class="at">fill =</span> stage),</span>
<span id="cb54-8"><a href="#cb54-8" aria-hidden="true" tabindex="-1"></a>               <span class="at">scale =</span> <span class="fl">0.5</span>, <span class="at">alpha =</span> <span class="fl">0.5</span>) <span class="sc">+</span></span>
<span id="cb54-9"><a href="#cb54-9" aria-hidden="true" tabindex="-1"></a>  <span class="fu">geom_point</span>(<span class="at">data =</span> ggplot_tbl, <span class="fu">aes</span>(<span class="at">x =</span> jump_length),</span>
<span id="cb54-10"><a href="#cb54-10" aria-hidden="true" tabindex="-1"></a>             <span class="at">pch =</span> <span class="st">"|"</span>, <span class="at">size =</span> <span class="dv">3</span>, <span class="at">position =</span> <span class="fu">position_nudge</span>(<span class="at">y =</span> <span class="sc">-</span>.<span class="dv">15</span>)) <span class="sc">+</span></span>
<span id="cb54-11"><a href="#cb54-11" aria-hidden="true" tabindex="-1"></a>  <span class="fu">scale_color_okabeito</span>() <span class="sc">+</span></span>
<span id="cb54-12"><a href="#cb54-12" aria-hidden="true" tabindex="-1"></a>  <span class="fu">scale_fill_okabeito</span>() <span class="sc">+</span></span>
<span id="cb54-13"><a href="#cb54-13" aria-hidden="true" tabindex="-1"></a>  <span class="fu">theme</span>(<span class="at">legend.position =</span> <span class="st">"top"</span>)</span></code></pre></div><button title="In die Zwischenablage kopieren" class="code-copy-button"><i class="bi"></i></button></div>
</details>
<div class="cell-output-display">
<div id="fig-ggdist-03" class="quarto-float quarto-figure quarto-figure-center anchored" data-fig-align="center">
<figure class="quarto-float quarto-float-fig figure">
<div aria-describedby="fig-ggdist-03-caption-0ceaefa1-69ba-4598-a22c-09a6ac19f8ca">
<a href="programing-ggplot_files/figure-html/fig-ggdist-03-1.png" class="lightbox" data-gallery="quarto-lightbox-gallery-46" title="Abbildung&nbsp;15.33— Darstellung der Sprungweite in Abhängigkeit von der Ernährungsform der Flöhe und dem Entwicklungstand. Die Verteilung der Koeffizienten ist zusammen mit den beobachteten Daten dargestellt. [Zum Vergrößern anklicken]"><img src="programing-ggplot_files/figure-html/fig-ggdist-03-1.png" class="img-fluid quarto-figure quarto-figure-center figure-img" width="672"></a>
</div>
<figcaption class="quarto-float-caption-bottom quarto-float-caption quarto-float-fig" id="fig-ggdist-03-caption-0ceaefa1-69ba-4598-a22c-09a6ac19f8ca">
Abbildung&nbsp;15.33— Darstellung der Sprungweite in Abhängigkeit von der Ernährungsform der Flöhe und dem Entwicklungstand. Die Verteilung der Koeffizienten ist zusammen mit den beobachteten Daten dargestellt. <em>[Zum Vergrößern anklicken]</em>
</figcaption>
</figure>
</div>
</div>
</div>
<p>Am Ende möchte ich dann nochmal auf das <a href="https://pkg.mitchelloharawild.com/distributional/index.html">R Paket <code>{distributional}</code></a> verweisen, was erlaubt auch noch andere Verteilungen für die Koeffizienten zu wählen. Häufig reicht hier die t-Verteilung oder Normalverteilung aus, aber es gibt eben dann noch mehr Möglichkeiten. Das Paket ist jedenfalls klasse, wenn es um Verteilungen geht.</p>
</section>
<section id="ggpmisc" class="level3" data-number="15.5.6">
<h3 data-number="15.5.6" class="anchored" data-anchor-id="ggpmisc"><span class="header-section-number">15.5.6</span> <code>{ggpmisc}</code></h3>
<p>Ich nutze das <a href="https://cran.r-project.org/web/packages/ggpmisc/vignettes/user-guide.html">R Paket <code>{ggpmisc}</code></a> im Besonderen, wenn ich eine Grade durch eine Punktewolke legen will. Dafür ist das R Paket richtig super. Wir erhalten realtiv einfach die Gradengleichung und auch das Bestimmtheitsmaß angegeben. Wir haben also die Möglichkeit in einer explorativen Datenanalyse einmal zu spielen und dann gleich die Gradengleichung. Das ist jetzt aber ein sehr spezieller Fall. Deshalb hier nur der Link zu dem Paket. Ich zeige die Anwendung nochmal kurz bei dem Scatterplot in dem <a href="eda-ggplot.html">Kapitel zur Visualisierung von Daten</a>. Dort ist es auch besser aufgehoben. Sonst verteilt sich das Paket recht gleichmäßig immer mal wieder bei den Regressionsanalysen. Hier einmal ein Beispiel mit den Sprungweiten aus unseren Daten.</p>
<div class="cell" data-layout-align="center">
<details open="" class="code-fold">
<summary>R Code [zeigen / verbergen]</summary>
<div class="code-copy-outer-scaffold"><div class="sourceCode cell-code" id="cb55"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb55-1"><a href="#cb55-1" aria-hidden="true" tabindex="-1"></a><span class="fu">ggplot</span>(ggplot_tbl, <span class="fu">aes</span>(<span class="at">x =</span> weight, <span class="at">y =</span> jump_length)) <span class="sc">+</span></span>
<span id="cb55-2"><a href="#cb55-2" aria-hidden="true" tabindex="-1"></a>  <span class="fu">theme_minimal</span>() <span class="sc">+</span></span>
<span id="cb55-3"><a href="#cb55-3" aria-hidden="true" tabindex="-1"></a>  <span class="fu">geom_point</span>() <span class="sc">+</span></span>
<span id="cb55-4"><a href="#cb55-4" aria-hidden="true" tabindex="-1"></a>  <span class="fu">stat_poly_line</span>(<span class="at">formula =</span> y <span class="sc">~</span> x, <span class="at">se =</span> <span class="cn">FALSE</span>) <span class="sc">+</span></span>
<span id="cb55-5"><a href="#cb55-5" aria-hidden="true" tabindex="-1"></a>  <span class="fu">stat_poly_eq</span>(<span class="at">formula =</span> y <span class="sc">~</span> x, <span class="at">mapping =</span> <span class="fu">use_label</span>(<span class="fu">c</span>(<span class="st">"eq"</span>, <span class="st">"r2"</span>))) <span class="sc">+</span></span>
<span id="cb55-6"><a href="#cb55-6" aria-hidden="true" tabindex="-1"></a>  <span class="fu">labs</span>(<span class="at">x =</span> <span class="st">"Gewicht der Katzenflöhe [mg]"</span>, <span class="at">y =</span> <span class="st">"Sprungweite in [cm]"</span>) <span class="sc">+</span></span>
<span id="cb55-7"><a href="#cb55-7" aria-hidden="true" tabindex="-1"></a>  <span class="fu">ylim</span>(<span class="dv">0</span>, <span class="cn">NA</span>) <span class="sc">+</span> <span class="fu">xlim</span>(<span class="dv">0</span>, <span class="cn">NA</span>)</span></code></pre></div><button title="In die Zwischenablage kopieren" class="code-copy-button"><i class="bi"></i></button></div>
</details>
<div class="cell-output-display">
<div id="fig-cookbook-ppgmisc" class="quarto-float quarto-figure quarto-figure-center anchored" data-fig-align="center">
<figure class="quarto-float quarto-float-fig figure">
<div aria-describedby="fig-cookbook-ppgmisc-caption-0ceaefa1-69ba-4598-a22c-09a6ac19f8ca">
<a href="programing-ggplot_files/figure-html/fig-cookbook-ppgmisc-1.png" class="lightbox" data-gallery="quarto-lightbox-gallery-47" title="Abbildung&nbsp;15.34— Zusammenhang zwischen der Sprungweite in [cm] und Gewicht. Jeder Punkt stellt eine Beobachtung dar. Die Grade wird durch die Punkte gezeichnet und die Gradengleichung zusammen mit dem Bestimmtheitsmaß R^2 angegeben."><img src="programing-ggplot_files/figure-html/fig-cookbook-ppgmisc-1.png" class="img-fluid quarto-figure quarto-figure-center figure-img" width="576"></a>
</div>
<figcaption class="quarto-float-caption-bottom quarto-float-caption quarto-float-fig" id="fig-cookbook-ppgmisc-caption-0ceaefa1-69ba-4598-a22c-09a6ac19f8ca">
Abbildung&nbsp;15.34— Zusammenhang zwischen der Sprungweite in [cm] und Gewicht. Jeder Punkt stellt eine Beobachtung dar. Die Grade wird durch die Punkte gezeichnet und die Gradengleichung zusammen mit dem Bestimmtheitsmaß <span class="math inline">\(R^2\)</span> angegeben.
</figcaption>
</figure>
</div>
</div>
</div>
</section>
<section id="patchwork" class="level3" data-number="15.5.7">
<h3 data-number="15.5.7" class="anchored" data-anchor-id="patchwork"><span class="header-section-number">15.5.7</span> <code>{patchwork}</code></h3>
<p>Das <a href="https://patchwork.data-imaginist.com/">R Paket <code>{patchwork}</code></a> bietet die Möglichkeit Abbildungen nebeneinander darzustellen. Hier findest du einmal den Code, den ich hier in diesem Buch nutze. Dafür ist der Abschnitt auch nur da. Damit ich den Code kopieren kann.</p>
<div class="cell">
<details open="" class="code-fold">
<summary>R Code [zeigen / verbergen]</summary>
<div class="code-copy-outer-scaffold"><div class="sourceCode cell-code" id="cb56"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb56-1"><a href="#cb56-1" aria-hidden="true" tabindex="-1"></a>p1 <span class="sc">+</span> p2 <span class="sc">+</span></span>
<span id="cb56-2"><a href="#cb56-2" aria-hidden="true" tabindex="-1"></a>  <span class="fu">plot_layout</span>(<span class="at">ncol =</span> <span class="dv">2</span>) <span class="sc">+</span></span>
<span id="cb56-3"><a href="#cb56-3" aria-hidden="true" tabindex="-1"></a>  <span class="fu">plot_annotation</span>(<span class="at">tag_levels =</span> <span class="st">'A'</span>, <span class="at">tag_prefix =</span> <span class="st">'('</span>, <span class="at">tag_suffix =</span> <span class="st">')'</span>) <span class="sc">&amp;</span></span>
<span id="cb56-4"><a href="#cb56-4" aria-hidden="true" tabindex="-1"></a>  <span class="fu">theme</span>(<span class="at">plot.tag =</span> <span class="fu">element_text</span>(<span class="at">size =</span> <span class="dv">16</span>, <span class="at">face =</span> <span class="st">"bold"</span>))</span></code></pre></div><button title="In die Zwischenablage kopieren" class="code-copy-button"><i class="bi"></i></button></div>
</details>
</div>
<p>Hier gibt es dann nicht mehr zu sehen. Ausgeführten Code findest du dann weiter oben in dem <a href="#sec-abbildung-nebeneinander">Abschnitt zu den Abbildungen nebeneinander</a>. Das dient hier nur für mich um dann nochmal schnell auf meine Vorlagen zurückgreifen zu können.</p>
</section>
<section id="gganimate" class="level3" data-number="15.5.8">
<h3 data-number="15.5.8" class="anchored" data-anchor-id="gganimate"><span class="header-section-number">15.5.8</span> <code>{gganimate}</code></h3>
<p>Das <a href="https://gganimate.com">R Paket <code>{gganimate}</code></a> liefert die Möglichkeit animierte Abbildungen zu erstellen. Es gibt auf der Seite von <a href="https://www.datanovia.com/en/blog/gganimate-how-to-create-plots-with-beautiful-animation-in-r/">Datanovia - How to Create Plots with Beautiful Animation in R</a> nochmal einen Blogpost dazu und auch das <a href="https://rstudio.github.io/cheatsheets/gganimate.pdf">Cheat sheet <code>{gganimate}</code></a> hilft weiter. Ich persönlich finde aber die Anwendung immer etwas sperrig. Oder andersherum, ich habe mich noch nicht so richtig in den Code und die Funktionen reinfuchsen können. Nicht jede Funktion klappt auf Anhieb und dann muss man fummeln bis es geht. Anbei einmal eine mögliche Darstellung. Es geht so viel mehr, aber aktuell fehlt mir die Zeit und der Wille mich tiefer mit <code>{gganimate}</code> zu beschäftigen.</p>
<div class="cell" data-layout-align="center">
<details open="" class="code-fold">
<summary>R Code [zeigen / verbergen]</summary>
<div class="code-copy-outer-scaffold"><div class="sourceCode cell-code" id="cb57"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb57-1"><a href="#cb57-1" aria-hidden="true" tabindex="-1"></a><span class="fu">ggplot</span>(ggplot_tbl, <span class="fu">aes</span>(<span class="at">x =</span> weight, <span class="at">y =</span> jump_length,</span>
<span id="cb57-2"><a href="#cb57-2" aria-hidden="true" tabindex="-1"></a>                       <span class="at">color =</span> feeding)) <span class="sc">+</span> </span>
<span id="cb57-3"><a href="#cb57-3" aria-hidden="true" tabindex="-1"></a>  <span class="fu">theme_minimal</span>() <span class="sc">+</span></span>
<span id="cb57-4"><a href="#cb57-4" aria-hidden="true" tabindex="-1"></a>  <span class="fu">geom_point</span>(<span class="fu">aes</span>(<span class="at">group =</span> <span class="fu">seq_along</span>(feeding))) <span class="sc">+</span></span>
<span id="cb57-5"><a href="#cb57-5" aria-hidden="true" tabindex="-1"></a>  <span class="fu">theme</span>(<span class="at">legend.position =</span> <span class="st">"top"</span>) <span class="sc">+</span></span>
<span id="cb57-6"><a href="#cb57-6" aria-hidden="true" tabindex="-1"></a>  <span class="fu">transition_reveal</span>(weight) </span></code></pre></div><button title="In die Zwischenablage kopieren" class="code-copy-button"><i class="bi"></i></button></div>
</details>
<div class="cell-output-display">
<div id="fig-labels-animate" class="quarto-float quarto-figure quarto-figure-center anchored" data-fig-align="center">
<figure class="quarto-float quarto-float-fig figure">
<div aria-describedby="fig-labels-animate-caption-0ceaefa1-69ba-4598-a22c-09a6ac19f8ca">
<a href="programing-ggplot_files/figure-html/fig-labels-animate-1.gif" class="lightbox" data-gallery="quarto-lightbox-gallery-48" title="Abbildung&nbsp;15.35— Beispielhafte Anwendung der Funktion transition_reveal() auf dem Flohgewicht. [Zum Vergrößern anklicken]"><img src="programing-ggplot_files/figure-html/fig-labels-animate-1.gif" class="img-fluid quarto-figure quarto-figure-center figure-img"></a>
</div>
<figcaption class="quarto-float-caption-bottom quarto-float-caption quarto-float-fig" id="fig-labels-animate-caption-0ceaefa1-69ba-4598-a22c-09a6ac19f8ca">
Abbildung&nbsp;15.35— Beispielhafte Anwendung der Funktion <code>transition_reveal()</code> auf dem Flohgewicht. <em>[Zum Vergrößern anklicken]</em>
</figcaption>
</figure>
</div>
</div>
</div>
<p>Am Ende bin ich dann gescheitert hier einmal anständig <code>geom_smooth()</code> zu ergänzen, was ja auch wirklich mal das Interessanteste wäre. Das geht auch leider nicht mit dem R Paket <code>{ggpmisc}</code> einfach so. Damit ist dann hier erst recht erstmal Pause für mich.</p>
<div class="quarto-layout-panel" data-layout="[15,85]">
<div class="quarto-layout-row quarto-layout-valign-top">
<div class="quarto-layout-cell" style="flex-basis: 15.0%;justify-content: center;">
<div class="quarto-figure quarto-figure-center">
<figure class="figure">
<p><a href="images/personal_opinion.png" class="lightbox" data-gallery="quarto-lightbox-gallery-49"><img src="images/personal_opinion.png" class="img-fluid quarto-figure quarto-figure-center figure-img"></a></p>
</figure>
</div>
</div>
<div class="quarto-layout-cell" style="flex-basis: 85.0%;justify-content: flex-start;">
<blockquote class="blockquote">
<p><em>“Das R Paket <code>{gganimate}</code> klingt super spannend und ich war auch begeistert es zu nutzen. Dann fand ich aber nicht so richtig eine Anwendung. Vielleicht bei Zeitreihen oder aber bei Verläufen. Aber so richtig nutzen tue ich <code>{gganimate}</code> nicht, so dass das Paket hier erstmal parkt, bis ich eine bessere Anwendung gefunden habe. Gut zu wissen das es <code>{gganimate}</code> gibt.” — Jochen Kruppa-Scheetz, meiner bescheidener Meinung nach.</em></p>
</blockquote>
</div>
</div>
</div>
<div class="callout callout-style-default callout-tip callout-titled">
<div class="callout-header d-flex align-content-center">
<div class="callout-icon-container">
<i class="callout-icon"></i>
</div>
<div class="callout-title-container flex-fill">
<span class="screen-reader-only">Tipp</span>Mehr Pakete von Interesse
</div>
</div>
<div class="callout-body-container callout-body">
<p>Manchmal finde ich irgendwo ein R Paket und denke, dass könnte von Interesse sein und irgendwie dann doch mit in Visualisierung passen. Daher schreibe ich mir das Paket erstmal hier auf und schaue später mal vorbei. Es sind eben dann auch Daten dabei, die man mal visualisieren könnte. Manchmal passen die Pakete hier auch nicht so richtig zur Visualisierung. Aber erstmal sammeln.</p>
<table class="caption-top table">
<colgroup>
<col style="width: 5%">
<col style="width: 35%">
<col style="width: 60%">
</colgroup>
<thead>
<tr class="header">
<th>Nr.</th>
<th>Link</th>
<th>Beschreibung</th>
</tr>
</thead>
<tbody>
<tr class="odd">
<td>1.</td>
<td><a href="https://sebkrantz.github.io/collapse/index.html">R Paket <code>{collapse}</code></a></td>
<td>Das R Paket <code>{collapse}</code> ist ein umfangreiches C/C++-basiertes Paket für die Datenumwandlung und statistische Berechnungen in R. Es ist super spannend, aber mir fehlte bis jetzt die Zeit. Wenn deine Daten riesig werden, dann ist das hier deine Lösung.</td>
</tr>
<tr class="even">
<td>2.</td>
<td><a href="https://m-clark.github.io/visibly/articles/intro.html">R Paket <code>{visibly}</code></a></td>
<td>Das Paket erlaubt dir schnell die passenden Farben für deine Analysen zu finden, die maximal verschieden sind. Daneben gibt es noch weitere Funktionen um Farben und Visualisierungen.</td>
</tr>
<tr class="odd">
<td>3.</td>
<td><a href="https://github.com/jennybc/gapminder">R Paket <code>{gapminder}</code></a></td>
<td>Hier noch ein Paket mit Daten von <a href="https://www.gapminder.org/data/">Gapminder</a> und damit eine Möglichkeit nochmal auf große soziodemographische Daten zuzugreifen. Es ist eien super Quelle und man kann sich in den Daten verlieren.</td>
</tr>
<tr class="even">
<td>4.</td>
<td><a href="https://cran.r-project.org/web/packages/emojifont/vignettes/emojifont.html">R Paket<code>{emojifont}</code></a></td>
<td>Nochmal etwas zu Emojis und die Möglichkeit diese dann in R darzustellen. Nur alleine in <code>{ggplot}</code> ist es eine Sache, das ganze dann aber mit Quarto und HTML eine andere. Ich habe es nicht weiter vertieft.</td>
</tr>
<tr class="odd">
<td>5.</td>
<td><a href="https://github.com/hadley/emo">R Paket<code>{emo}</code></a></td>
<td>Eine Möglichkeit nochmal anders Emojis darzustellen. Ich hatte das Paket gefunden aber nicht mehr ausprobiert.</td>
</tr>
<tr class="even">
<td>6.</td>
<td><a href="https://docs.r4photobiology.info/ggpp/index.html">R Paket <code>{ggpp}</code></a></td>
<td>Eine weitere Möglichkeit Tabellen und verschiedene Abbildungen ineinander zu verschränken. Also Tabellen innerhalb eines <code>{ggplot}</code>s zu plotten oder aber noch wildere Sachen. Am Ende habe ich es nie angewendet.</td>
</tr>
<tr class="odd">
<td>7.</td>
<td><a href="https://github.com/const-ae/ggsignif">R Paket <code>{ggsignif}</code></a></td>
<td>Auch hier hast du nochmal die Möglichkeit einen statistischen Test direkt in deine Abbildung darstellen zu lassen. Fand ich interessant, habe es aber dann auch nie selber verwendet.</td>
</tr>
</tbody>
</table>
<p>Diese Liste kann natürlich beliebig erweitert werden. Für mich ist es dann ein ewiger Arbeitsauftrag mich mal mit dieser Liste zu beschäftigen. Teilweise sind aber die Pakete auch hier für dich. Ich fand es interessant, habe das Paket dann aber doch (noch) nicht genutzt.</p>
</div>
</div>
</section>
</section>
<section id="links-von-interesse" class="level2" data-number="15.6">
<h2 data-number="15.6" class="anchored" data-anchor-id="links-von-interesse"><span class="header-section-number">15.6</span> Links von Interesse</h2>
<p>Kennst du das auch? Spannende Links, die man sich mal anschauen möchte? Aber noch nicht richtig weiß, wie und wo die Links mit reinpassen. Zwar haben alle was mit der Visualisierung zu tun, aber eventuell dann doch zu spezielle Themen. Auch diese Liste ist vermutlich nie vollständig und wird dann immer mal wieder von mir erweitert, wenn ich ein nettes Buch oder einen tollen Blogeintrag zu Thema hier finde.</p>
<table class="caption-top table">
<colgroup>
<col style="width: 5%">
<col style="width: 25%">
<col style="width: 70%">
</colgroup>
<thead>
<tr class="header">
<th>Nr.</th>
<th>Link</th>
<th>Beschreibung</th>
</tr>
</thead>
<tbody>
<tr class="odd">
<td>1.</td>
<td><a href="https://ggplot2-book.org/">ggplot2: Elegant Graphics for Data Analysis (3e)</a></td>
<td>Das Buch, wenn es um <code>{ggplot}</code> geht. Eigentlich ja schon ob mit in der Einleitung, aber dann hier nochmal zur Erinnerung. Hier geht es eher um die Struktur von <code>{ggplot}</code> und die Idee dahinter.</td>
</tr>
<tr class="even">
<td>2.</td>
<td><a href="https://r-graphics.org/">R Graphics Cookbook</a></td>
<td>Auch dieses Buch habe ich oben schon mal erwähnt. Es ist super, wenn du nach Rezepten für die Lösung deiner Probleme mit <code>{ggplot}</code> suchst.</td>
</tr>
<tr class="odd">
<td>3.</td>
<td><a href="https://github.com/tidyverse/ggplot2/wiki/Legend-Attributes">Legend Attributes</a></td>
<td>Zwar wird das <code>{ggplot}</code>-Wiki nicht mehr unterstützt, aber dennoch findet sich hier einiges an Informationen zu den Legenden in einem Plot. Sehr schön aufgearbeitet.</td>
</tr>
<tr class="even">
<td>4.</td>
<td><a href="https://www.tidyverse.org/blog/2024/02/ggplot2-3-5-0-legends/">Legenden in ggplot</a></td>
<td>Hier erfahren wir dann nochmal mehr über die Legenden in einem <code>{ggplot}</code> und wie wir die Abbildung sauber beschriften.</td>
</tr>
<tr class="odd">
<td>5.</td>
<td><a href="https://aosmith.rbind.io/2020/07/09/ggplot2-override-aes/">Controlling legend appearance in ggplot2 with <code>override.aes</code></a></td>
<td>Ein Problem was mir gar nicht so aufgefallen war, wir haben zu viele Informationen auf der Legende oder wollen nicht alles in der Legende darstellen. Hier hilft dieser Blogpost nochmal, wenn du deine Legenden sauberer haben möchtest.</td>
</tr>
<tr class="even">
<td>7.</td>
<td><a href="https://bookdown.org/rdpeng/exdata/exploratory-data-analysis-checklist.html">Exploratory Data Analysis Checklist</a></td>
<td>Manchmal ist es ganz hilfreich sich nochmal klar zu machen wie eine explorative Datenanalyse ablaufen kann. Daher hier nochmal die Checkliste, die du dann abarbeiten kannst. Fand ich als Orientierung ganz hilfreich.</td>
</tr>
<tr class="odd">
<td>8.</td>
<td><a href="https://www.cell.com/patterns/fulltext/S2666-3899(20)30189-6">Principles of Effective Data Visualization</a></td>
<td>Eine wunderbare Arbeit, die nochmal auf die Prinzipien einer guten Abbiuldung im Kontext einer wissenschaftlichen Fragestellung eingeht. Ich nutze die Arbeit auch in meiner Lehre und als Orientierung immer super. Besonders wenn du gerade mit der Thematik anfängst. (Hier auch einmal die PDF-Datei unter <a href="https://www.cell.com/action/showPdf?pii=S2666-3899%2820%2930189-6">Principles of Effective Data Visualization</a>)</td>
</tr>
<tr class="even">
<td>9.</td>
<td><a href="https://apps.timwhitlock.info/emoji/tables/unicode">Emoji Unicode Tables</a></td>
<td>Manchmal wollen wir lustige Emoticons in unsere Abbildung bauen. Dann müssen wir auch wissen, welche es so gibt. Auf dem Handy ist es einfach hier in <code>{ggplot}</code> dann manchmal schwerer. Die Tabelle gibt aber erstmal eine Orientierung.</td>
</tr>
</tbody>
</table>
</section>
<section id="referenzen" class="level2 unnumbered">
<h2 class="unnumbered anchored" data-anchor-id="referenzen">Referenzen</h2>


<!-- -->

<div id="refs" class="references csl-bib-body hanging-indent" data-entry-spacing="0" data-line-spacing="2" role="list">
<div id="ref-wickham2016r" class="csl-entry" role="listitem">
Wickham, H., &amp; Grolemund, G. (2016). <em>R for data science: import, tidy, transform, visualize, and model data</em>. O’Reilly Media, Inc.
</div>
</div>
</section>

</main> <!-- /main -->
<script id="quarto-html-after-body" type="application/javascript">
  window.document.addEventListener("DOMContentLoaded", function (event) {
    const icon = "";
    const anchorJS = new window.AnchorJS();
    anchorJS.options = {
      placement: 'right',
      icon: icon
    };
    anchorJS.add('.anchored');
    const isCodeAnnotation = (el) => {
      for (const clz of el.classList) {
        if (clz.startsWith('code-annotation-')) {                     
          return true;
        }
      }
      return false;
    }
    const onCopySuccess = function(e) {
      // button target
      const button = e.trigger;
      // don't keep focus
      button.blur();
      // flash "checked"
      button.classList.add('code-copy-button-checked');
      var currentTitle = button.getAttribute("title");
      button.setAttribute("title", "Kopiert");
      let tooltip;
      if (window.bootstrap) {
        button.setAttribute("data-bs-toggle", "tooltip");
        button.setAttribute("data-bs-placement", "left");
        button.setAttribute("data-bs-title", "Kopiert");
        tooltip = new bootstrap.Tooltip(button, 
          { trigger: "manual", 
            customClass: "code-copy-button-tooltip",
            offset: [0, -8]});
        tooltip.show();    
      }
      setTimeout(function() {
        if (tooltip) {
          tooltip.hide();
          button.removeAttribute("data-bs-title");
          button.removeAttribute("data-bs-toggle");
          button.removeAttribute("data-bs-placement");
        }
        button.setAttribute("title", currentTitle);
        button.classList.remove('code-copy-button-checked');
      }, 1000);
      // clear code selection
      e.clearSelection();
    }
    const getTextToCopy = function(trigger) {
      const outerScaffold = trigger.parentElement.cloneNode(true);
      const codeEl = outerScaffold.querySelector('code');
      for (const childEl of codeEl.children) {
        if (isCodeAnnotation(childEl)) {
          childEl.remove();
        }
      }
      return codeEl.innerText;
    }
    const clipboard = new window.ClipboardJS('.code-copy-button:not([data-in-quarto-modal])', {
      text: getTextToCopy
    });
    clipboard.on('success', onCopySuccess);
    if (window.document.getElementById('quarto-embedded-source-code-modal')) {
      const clipboardModal = new window.ClipboardJS('.code-copy-button[data-in-quarto-modal]', {
        text: getTextToCopy,
        container: window.document.getElementById('quarto-embedded-source-code-modal')
      });
      clipboardModal.on('success', onCopySuccess);
    }
    const viewSource = window.document.getElementById('quarto-view-source') ||
                       window.document.getElementById('quarto-code-tools-source');
    if (viewSource) {
      const sourceUrl = viewSource.getAttribute("data-quarto-source-url");
      viewSource.addEventListener("click", function(e) {
        if (sourceUrl) {
          // rstudio viewer pane
          if (/\bcapabilities=\b/.test(window.location)) {
            window.open(sourceUrl);
          } else {
            window.location.href = sourceUrl;
          }
        } else {
          const modal = new bootstrap.Modal(document.getElementById('quarto-embedded-source-code-modal'));
          modal.show();
        }
        return false;
      });
    }
    function toggleCodeHandler(show) {
      return function(e) {
        const detailsSrc = window.document.querySelectorAll(".cell > details > .sourceCode");
        for (let i=0; i<detailsSrc.length; i++) {
          const details = detailsSrc[i].parentElement;
          if (show) {
            details.open = true;
          } else {
            details.removeAttribute("open");
          }
        }
        const cellCodeDivs = window.document.querySelectorAll(".cell > .sourceCode");
        const fromCls = show ? "hidden" : "unhidden";
        const toCls = show ? "unhidden" : "hidden";
        for (let i=0; i<cellCodeDivs.length; i++) {
          const codeDiv = cellCodeDivs[i];
          if (codeDiv.classList.contains(fromCls)) {
            codeDiv.classList.remove(fromCls);
            codeDiv.classList.add(toCls);
          } 
        }
        return false;
      }
    }
    const hideAllCode = window.document.getElementById("quarto-hide-all-code");
    if (hideAllCode) {
      hideAllCode.addEventListener("click", toggleCodeHandler(false));
    }
    const showAllCode = window.document.getElementById("quarto-show-all-code");
    if (showAllCode) {
      showAllCode.addEventListener("click", toggleCodeHandler(true));
    }
      var localhostRegex = new RegExp(/^(?:http|https):\/\/localhost\:?[0-9]*\//);
      var mailtoRegex = new RegExp(/^mailto:/);
        var filterRegex = new RegExp('/' + window.location.host + '/');
      var isInternal = (href) => {
          return filterRegex.test(href) || localhostRegex.test(href) || mailtoRegex.test(href);
      }
      // Inspect non-navigation links and adorn them if external
     var links = window.document.querySelectorAll('a[href]:not(.nav-link):not(.navbar-brand):not(.toc-action):not(.sidebar-link):not(.sidebar-item-toggle):not(.pagination-link):not(.no-external):not([aria-hidden]):not(.dropdown-item):not(.quarto-navigation-tool):not(.about-link)');
      for (var i=0; i<links.length; i++) {
        const link = links[i];
        if (!isInternal(link.href)) {
          // undo the damage that might have been done by quarto-nav.js in the case of
          // links that we want to consider external
          if (link.dataset.originalHref !== undefined) {
            link.href = link.dataset.originalHref;
          }
        }
      }
    function tippyHover(el, contentFn, onTriggerFn, onUntriggerFn) {
      const config = {
        allowHTML: true,
        maxWidth: 500,
        delay: 100,
        arrow: false,
        appendTo: function(el) {
            return el.parentElement;
        },
        interactive: true,
        interactiveBorder: 10,
        theme: 'quarto',
        placement: 'bottom-start',
      };
      if (contentFn) {
        config.content = contentFn;
      }
      if (onTriggerFn) {
        config.onTrigger = onTriggerFn;
      }
      if (onUntriggerFn) {
        config.onUntrigger = onUntriggerFn;
      }
      window.tippy(el, config); 
    }
    const noterefs = window.document.querySelectorAll('a[role="doc-noteref"]');
    for (var i=0; i<noterefs.length; i++) {
      const ref = noterefs[i];
      tippyHover(ref, function() {
        // use id or data attribute instead here
        let href = ref.getAttribute('data-footnote-href') || ref.getAttribute('href');
        try { href = new URL(href).hash; } catch {}
        const id = href.replace(/^#\/?/, "");
        const note = window.document.getElementById(id);
        if (note) {
          return note.innerHTML;
        } else {
          return "";
        }
      });
    }
    const xrefs = window.document.querySelectorAll('a.quarto-xref');
    const processXRef = (id, note) => {
      // Strip column container classes
      const stripColumnClz = (el) => {
        el.classList.remove("page-full", "page-columns");
        if (el.children) {
          for (const child of el.children) {
            stripColumnClz(child);
          }
        }
      }
      stripColumnClz(note)
      if (id === null || id.startsWith('sec-')) {
        // Special case sections, only their first couple elements
        const container = document.createElement("div");
        if (note.children && note.children.length > 2) {
          container.appendChild(note.children[0].cloneNode(true));
          for (let i = 1; i < note.children.length; i++) {
            const child = note.children[i];
            if (child.tagName === "P" && child.innerText === "") {
              continue;
            } else {
              container.appendChild(child.cloneNode(true));
              break;
            }
          }
          if (window.Quarto?.typesetMath) {
            window.Quarto.typesetMath(container);
          }
          return container.innerHTML
        } else {
          if (window.Quarto?.typesetMath) {
            window.Quarto.typesetMath(note);
          }
          return note.innerHTML;
        }
      } else {
        // Remove any anchor links if they are present
        const anchorLink = note.querySelector('a.anchorjs-link');
        if (anchorLink) {
          anchorLink.remove();
        }
        if (window.Quarto?.typesetMath) {
          window.Quarto.typesetMath(note);
        }
        if (note.classList.contains("callout")) {
          return note.outerHTML;
        } else {
          return note.innerHTML;
        }
      }
    }
    for (var i=0; i<xrefs.length; i++) {
      const xref = xrefs[i];
      tippyHover(xref, undefined, function(instance) {
        instance.disable();
        let url = xref.getAttribute('href');
        let hash = undefined; 
        if (url.startsWith('#')) {
          hash = url;
        } else {
          try { hash = new URL(url).hash; } catch {}
        }
        if (hash) {
          const id = hash.replace(/^#\/?/, "");
          const note = window.document.getElementById(id);
          if (note !== null) {
            try {
              const html = processXRef(id, note.cloneNode(true));
              instance.setContent(html);
            } finally {
              instance.enable();
              instance.show();
            }
          } else {
            // See if we can fetch this
            fetch(url.split('#')[0])
            .then(res => res.text())
            .then(html => {
              const parser = new DOMParser();
              const htmlDoc = parser.parseFromString(html, "text/html");
              const note = htmlDoc.getElementById(id);
              if (note !== null) {
                const html = processXRef(id, note);
                instance.setContent(html);
              } 
            }).finally(() => {
              instance.enable();
              instance.show();
            });
          }
        } else {
          // See if we can fetch a full url (with no hash to target)
          // This is a special case and we should probably do some content thinning / targeting
          fetch(url)
          .then(res => res.text())
          .then(html => {
            const parser = new DOMParser();
            const htmlDoc = parser.parseFromString(html, "text/html");
            const note = htmlDoc.querySelector('main.content');
            if (note !== null) {
              // This should only happen for chapter cross references
              // (since there is no id in the URL)
              // remove the first header
              if (note.children.length > 0 && note.children[0].tagName === "HEADER") {
                note.children[0].remove();
              }
              const html = processXRef(null, note);
              instance.setContent(html);
            } 
          }).finally(() => {
            instance.enable();
            instance.show();
          });
        }
      }, function(instance) {
      });
    }
        let selectedAnnoteEl;
        const selectorForAnnotation = ( cell, annotation) => {
          let cellAttr = 'data-code-cell="' + cell + '"';
          let lineAttr = 'data-code-annotation="' +  annotation + '"';
          const selector = 'span[' + cellAttr + '][' + lineAttr + ']';
          return selector;
        }
        const selectCodeLines = (annoteEl) => {
          const doc = window.document;
          const targetCell = annoteEl.getAttribute("data-target-cell");
          const targetAnnotation = annoteEl.getAttribute("data-target-annotation");
          const annoteSpan = window.document.querySelector(selectorForAnnotation(targetCell, targetAnnotation));
          const lines = annoteSpan.getAttribute("data-code-lines").split(",");
          const lineIds = lines.map((line) => {
            return targetCell + "-" + line;
          })
          let top = null;
          let height = null;
          let parent = null;
          if (lineIds.length > 0) {
              //compute the position of the single el (top and bottom and make a div)
              const el = window.document.getElementById(lineIds[0]);
              top = el.offsetTop;
              height = el.offsetHeight;
              parent = el.parentElement.parentElement;
            if (lineIds.length > 1) {
              const lastEl = window.document.getElementById(lineIds[lineIds.length - 1]);
              const bottom = lastEl.offsetTop + lastEl.offsetHeight;
              height = bottom - top;
            }
            if (top !== null && height !== null && parent !== null) {
              // cook up a div (if necessary) and position it 
              let div = window.document.getElementById("code-annotation-line-highlight");
              if (div === null) {
                div = window.document.createElement("div");
                div.setAttribute("id", "code-annotation-line-highlight");
                div.style.position = 'absolute';
                parent.appendChild(div);
              }
              div.style.top = top - 2 + "px";
              div.style.height = height + 4 + "px";
              div.style.left = 0;
              let gutterDiv = window.document.getElementById("code-annotation-line-highlight-gutter");
              if (gutterDiv === null) {
                gutterDiv = window.document.createElement("div");
                gutterDiv.setAttribute("id", "code-annotation-line-highlight-gutter");
                gutterDiv.style.position = 'absolute';
                const codeCell = window.document.getElementById(targetCell);
                const gutter = codeCell.querySelector('.code-annotation-gutter');
                gutter.appendChild(gutterDiv);
              }
              gutterDiv.style.top = top - 2 + "px";
              gutterDiv.style.height = height + 4 + "px";
            }
            selectedAnnoteEl = annoteEl;
          }
        };
        const unselectCodeLines = () => {
          const elementsIds = ["code-annotation-line-highlight", "code-annotation-line-highlight-gutter"];
          elementsIds.forEach((elId) => {
            const div = window.document.getElementById(elId);
            if (div) {
              div.remove();
            }
          });
          selectedAnnoteEl = undefined;
        };
          // Handle positioning of the toggle
      window.addEventListener(
        "resize",
        throttle(() => {
          elRect = undefined;
          if (selectedAnnoteEl) {
            selectCodeLines(selectedAnnoteEl);
          }
        }, 10)
      );
      function throttle(fn, ms) {
      let throttle = false;
      let timer;
        return (...args) => {
          if(!throttle) { // first call gets through
              fn.apply(this, args);
              throttle = true;
          } else { // all the others get throttled
              if(timer) clearTimeout(timer); // cancel #2
              timer = setTimeout(() => {
                fn.apply(this, args);
                timer = throttle = false;
              }, ms);
          }
        };
      }
        const annoteTargets = window.document.querySelectorAll('.code-annotation-anchor');
        for (let i=0; i<annoteTargets.length; i++) {
          const annoteTarget = annoteTargets[i];
          const targetCell = annoteTarget.getAttribute("data-target-cell");
          const targetAnnotation = annoteTarget.getAttribute("data-target-annotation");
          const contentFn = () => {
            const content = window.document.querySelector(selectorForAnnotation(targetCell, targetAnnotation));
            if (content) {
              const tipContent = content.cloneNode(true);
              tipContent.classList.add("code-annotation-tip-content");
              return tipContent.outerHTML;
            }
          }
          const config = {
            allowHTML: true,
            content: contentFn,
            onShow: (instance) => {
              selectCodeLines(instance.reference);
              instance.reference.classList.add('code-annotation-active');
              window.tippy.hideAll();
            },
            onHide: (instance) => {
              unselectCodeLines();
              instance.reference.classList.remove('code-annotation-active');
            },
            maxWidth: 300,
            delay: [50, 0],
            duration: [200, 0],
            offset: [5, 10],
            arrow: true,
            appendTo: function(el) {
              return el.parentElement.parentElement.parentElement;
            },
            interactive: true,
            interactiveBorder: 10,
            theme: 'quarto',
            placement: 'right',
            popperOptions: {
              modifiers: [
              {
                name: 'flip',
                options: {
                  flipVariations: false, // true by default
                  allowedAutoPlacements: ['right'],
                  fallbackPlacements: ['right', 'top', 'top-start', 'top-end', 'bottom', 'bottom-start', 'bottom-end', 'left'],
                },
              },
              {
                name: 'preventOverflow',
                options: {
                  mainAxis: false,
                  altAxis: false
                }
              }
              ]        
            }      
          };
          window.tippy(annoteTarget, config); 
        }
    const findCites = (el) => {
      const parentEl = el.parentElement;
      if (parentEl) {
        const cites = parentEl.dataset.cites;
        if (cites) {
          return {
            el,
            cites: cites.split(' ')
          };
        } else {
          return findCites(el.parentElement)
        }
      } else {
        return undefined;
      }
    };
    var bibliorefs = window.document.querySelectorAll('a[role="doc-biblioref"]');
    for (var i=0; i<bibliorefs.length; i++) {
      const ref = bibliorefs[i];
      const citeInfo = findCites(ref);
      if (citeInfo) {
        tippyHover(citeInfo.el, function() {
          var popup = window.document.createElement('div');
          citeInfo.cites.forEach(function(cite) {
            var citeDiv = window.document.createElement('div');
            citeDiv.classList.add('hanging-indent');
            citeDiv.classList.add('csl-entry');
            var biblioDiv = window.document.getElementById('ref-' + cite);
            if (biblioDiv) {
              citeDiv.innerHTML = biblioDiv.innerHTML;
            }
            popup.appendChild(citeDiv);
          });
          return popup.innerHTML;
        });
      }
    }
  });
  </script>
<nav class="page-navigation">
  <div class="nav-page nav-page-previous">
      <a href="./programing-purrr-furrr.html" class="pagination-link" aria-label="Ein `{purrr}` Cookbook">
        <i class="bi bi-arrow-left-short"></i> <span class="nav-page-text"><span class="chapter-number">14</span>&nbsp; <span class="chapter-title">Ein <code>{purrr}</code> Cookbook</span></span>
      </a>          
  </div>
  <div class="nav-page nav-page-next">
      <a href="./programing-quarto-shiny.html" class="pagination-link" aria-label="Quarto und Shiny App">
        <span class="nav-page-text"><span class="chapter-number">16</span>&nbsp; <span class="chapter-title">Quarto und Shiny App</span></span> <i class="bi bi-arrow-right-short"></i>
      </a>
  </div>
</nav><div class="modal fade" id="quarto-embedded-source-code-modal" tabindex="-1" aria-labelledby="quarto-embedded-source-code-modal-label" aria-hidden="true"><div class="modal-dialog modal-dialog-scrollable"><div class="modal-content"><div class="modal-header"><h5 class="modal-title" id="quarto-embedded-source-code-modal-label">Quellcode</h5><button class="btn-close" data-bs-dismiss="modal"></button></div><div class="modal-body"><div class="">
<div class="code-copy-outer-scaffold"><div class="sourceCode" id="cb58" data-shortcodes="false"><pre class="sourceCode markdown code-with-copy"><code class="sourceCode markdown"><span id="cb58-1"><a href="#cb58-1" aria-hidden="true" tabindex="-1"></a><span class="fu"># Ein `{ggplot}` Cookbook {#sec-ggplot-cookbook}</span></span>
<span id="cb58-2"><a href="#cb58-2" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb58-3"><a href="#cb58-3" aria-hidden="true" tabindex="-1"></a>*Letzte Änderung am `r format(fs::file_info("programing-ggplot.qmd")$modification_time, '%d. %B %Y um %H:%M:%S')`*</span>
<span id="cb58-4"><a href="#cb58-4" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb58-7"><a href="#cb58-7" aria-hidden="true" tabindex="-1"></a><span class="in">```{r}</span></span>
<span id="cb58-8"><a href="#cb58-8" aria-hidden="true" tabindex="-1"></a><span class="co">#| warning: false</span></span>
<span id="cb58-9"><a href="#cb58-9" aria-hidden="true" tabindex="-1"></a><span class="co">#| echo: false</span></span>
<span id="cb58-10"><a href="#cb58-10" aria-hidden="true" tabindex="-1"></a>pacman<span class="sc">::</span><span class="fu">p_load</span>(tidyverse, readxl, knitr, kableExtra, conflicted)</span>
<span id="cb58-11"><a href="#cb58-11" aria-hidden="true" tabindex="-1"></a>cb_pal <span class="ot">&lt;-</span> <span class="fu">c</span>(<span class="st">"#000000"</span>, <span class="st">"#E69F00"</span>, <span class="st">"#56B4E9"</span>, <span class="st">"#009E73"</span>, </span>
<span id="cb58-12"><a href="#cb58-12" aria-hidden="true" tabindex="-1"></a>            <span class="st">"#F0E442"</span>, <span class="st">"#F5C710"</span>, <span class="st">"#0072B2"</span>, <span class="st">"#D55E00"</span>, <span class="st">"#CC79A7"</span>)</span>
<span id="cb58-13"><a href="#cb58-13" aria-hidden="true" tabindex="-1"></a><span class="in">```</span></span>
<span id="cb58-14"><a href="#cb58-14" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb58-15"><a href="#cb58-15" aria-hidden="true" tabindex="-1"></a><span class="at">&gt; *"Frei ist, wer missfallen kann." --- Annette Oschmann in [Mädchen stärken](https://www.annette-oschmann.de/maedchen-staerken/)*</span></span>
<span id="cb58-16"><a href="#cb58-16" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb58-17"><a href="#cb58-17" aria-hidden="true" tabindex="-1"></a>Willkommen in einer weiteren wilden Linksammlung und R Code sowie einiges an interessanten R Paketen im Kontext der Visualisierung von Daten. Hier dreht sich dann fast alles um das R Paket <span class="in">`{ggplot}`</span> und wie wir dieses R Paket sinnvoll nutzen können. Daher ist alles hier sehr stückhaft und manchmal einfach nur da. Das hat den Grund, dass ich das Kapitel hier eher als Steinbruch nutze als ein echtes Kapitel zum von oben nach unten Lesen. Sehe das Kapitel also eher als Referenzsammlung als ein Lernkapitel. Es lädt dann zum Stöbern ein. Es sind also eher kleine Rezepte in einem Kochbuch. Am Ende kommst du vermutlich aber nicht um @wickham2016r und <span class="co">[</span><span class="ot">R for Data Science (2e)</span><span class="co">](https://r4ds.hadley.nz/)</span> oder aber dem Buch <span class="co">[</span><span class="ot">ggplot2: Elegant Graphics for Data Analysis (3e)</span><span class="co">](https://ggplot2-book.org/annotations.html)</span> herum. Am Ende kann ich noch das <span class="co">[</span><span class="ot">R Graphics Cookbook</span><span class="co">](https://r-graphics.org/)</span> empfehlen, wenn es um konkrete Probleme geht.</span>
<span id="cb58-18"><a href="#cb58-18" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb58-19"><a href="#cb58-19" aria-hidden="true" tabindex="-1"></a>::: {.callout-caution collapse="true"}</span>
<span id="cb58-20"><a href="#cb58-20" aria-hidden="true" tabindex="-1"></a><span class="fu">## Was soll das hier? Was für ein Kochbuch?</span></span>
<span id="cb58-21"><a href="#cb58-21" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb58-22"><a href="#cb58-22" aria-hidden="true" tabindex="-1"></a><span class="al">![Quelle: &lt;https://www.gocomics.com/garfield/1991/02/24&gt;](images/programing/programming-garfield.png)</span>{#fig-math-cartoon fig-align="center" width="100%"}</span>
<span id="cb58-23"><a href="#cb58-23" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb58-24"><a href="#cb58-24" aria-hidden="true" tabindex="-1"></a>Dieses Kapitel dient dazu Programmierung in <span class="in">`{ggplot}`</span> zu präsentieren. Es ist eine Sammlung von Code und Rezepten, die ich immer mal wieder nutze und immer wieder vergesse. Deshalb hat dieses Kapitel auch den Titel *Cookbook*. Wenn dich also Rumfummeln in <span class="in">`{ggplot}`</span> interessiert, dann kannst du dir hier noch was anschauen. Das Kapitel ist eigentlich nie fertig, da ich sicherlich immer mal wieder was ergänzen werde.</span>
<span id="cb58-25"><a href="#cb58-25" aria-hidden="true" tabindex="-1"></a>:::</span>
<span id="cb58-26"><a href="#cb58-26" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb58-27"><a href="#cb58-27" aria-hidden="true" tabindex="-1"></a><span class="fu">## Allgemeiner Hintergrund</span></span>
<span id="cb58-28"><a href="#cb58-28" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb58-29"><a href="#cb58-29" aria-hidden="true" tabindex="-1"></a>In diesem Kapitel geht es hauptsächlich um das R Paket <span class="in">`{ggplot}`</span>. Korrekterweise müsste ich natürlich eigentlich noch die korrekte Version ergänzen, aber wir schreiben selten <span class="in">`{ggplot2}`</span> da eigentlich niemand mehr die uralte Version nutzt. Warum dieses Kapitel? Weil es eben dann doch so viel zu entdecken gibt, dass ich mir nicht alles merken kann. Daher habe ich einmal hier die Sammlung an nützlichen R Paketen um <span class="in">`{ggplot}`</span> erstellt. Darüber hinaus war dann auch das <span class="co">[</span><span class="ot">Kapitel zur Visualisierung</span><span class="co">](#sec-eda-ggplot)</span> einfach zu voll. Viele wollen dann einfach einen <span class="in">`{ggplot}`</span> erstellen und nicht noch durch zig Pakete scrollen. Daher ist das hier eher für mich oder für Leute, die mal rechts und links gucken wollen was da noch am Straßenrand liegt. Vielleicht findest du was, was dich inspiriert. Daher auch die Einteilung in Abschnitte, wo ich ein Problem löse und dann nochmal Abschnitte mit teilweise den gleichen R Paketen als Vorstellung.</span>
<span id="cb58-30"><a href="#cb58-30" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb58-31"><a href="#cb58-31" aria-hidden="true" tabindex="-1"></a>::: callout-tip</span>
<span id="cb58-32"><a href="#cb58-32" aria-hidden="true" tabindex="-1"></a><span class="fu">## Woher habe ich alle Pakete her?</span></span>
<span id="cb58-33"><a href="#cb58-33" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb58-34"><a href="#cb58-34" aria-hidden="true" tabindex="-1"></a>Wenn es einen Link zu einer Seite gibt, den ich immer mal wieder Besuche, ist es der folgende Link: <span class="co">[</span><span class="ot">ggplot2 extensions</span><span class="co">](https://exts.ggplot2.tidyverse.org/gallery/)</span>. Du erfährst hier eine Menge neues an Paketen und es gibt immer wieder spannendes zu entdecken. Ein Besuch lohnt sich auf jeden Fall.</span>
<span id="cb58-35"><a href="#cb58-35" aria-hidden="true" tabindex="-1"></a>:::</span>
<span id="cb58-36"><a href="#cb58-36" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb58-37"><a href="#cb58-37" aria-hidden="true" tabindex="-1"></a><span class="fu">## Genutzte R Pakete</span></span>
<span id="cb58-38"><a href="#cb58-38" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb58-39"><a href="#cb58-39" aria-hidden="true" tabindex="-1"></a>Wir wollen folgende R Pakete in diesem Kapitel nutzen.</span>
<span id="cb58-40"><a href="#cb58-40" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb58-41"><a href="#cb58-41" aria-hidden="true" tabindex="-1"></a><span class="in">```{r echo = TRUE}</span></span>
<span id="cb58-42"><a href="#cb58-42" aria-hidden="true" tabindex="-1"></a><span class="co">#| message: false</span></span>
<span id="cb58-43"><a href="#cb58-43" aria-hidden="true" tabindex="-1"></a>pacman<span class="sc">::</span><span class="fu">p_load</span>(tidyverse, readxl, latex2exp, see, duke, </span>
<span id="cb58-44"><a href="#cb58-44" aria-hidden="true" tabindex="-1"></a>               wesanderson, ggbreak, patchwork, ggrepel,</span>
<span id="cb58-45"><a href="#cb58-45" aria-hidden="true" tabindex="-1"></a>               tidyplots, ggh4x, ggtext, gganimate, </span>
<span id="cb58-46"><a href="#cb58-46" aria-hidden="true" tabindex="-1"></a>               ggpmisc, broom, ggdist, distributional, conflicted)</span>
<span id="cb58-47"><a href="#cb58-47" aria-hidden="true" tabindex="-1"></a><span class="fu">conflicts_prefer</span>(ggplot2<span class="sc">::</span>annotate)</span>
<span id="cb58-48"><a href="#cb58-48" aria-hidden="true" tabindex="-1"></a><span class="in">```</span></span>
<span id="cb58-49"><a href="#cb58-49" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb58-50"><a href="#cb58-50" aria-hidden="true" tabindex="-1"></a>An der Seite des Kapitels findest du den Link *Quellcode anzeigen*, über den du Zugang zum gesamten R-Code dieses Kapitels erhältst.</span>
<span id="cb58-51"><a href="#cb58-51" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb58-52"><a href="#cb58-52" aria-hidden="true" tabindex="-1"></a><span class="fu">## Daten</span></span>
<span id="cb58-53"><a href="#cb58-53" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb58-54"><a href="#cb58-54" aria-hidden="true" tabindex="-1"></a>Beginnen wir hier nochmal mit einem Datenbeispiel für unsere Flöhe. Wir schauen uns hier einmal an, ob es einen Unterschied in den Ernährungsformen sowie dem Entwicklungsstand gibt. Dabei messen wir dann wieder die Sprungweite. Darüber hinaus nehme ich noch das Gewicht der Flöhe mit in unseren Datensatz. Damit haben wir auch schon genug um mal etwas hier mit <span class="in">`{ggplot}`</span> spielen zu können. Ob hier irgendwas interessantes in den Daten vorliegt interessiert uns eigentlich ja nicht. Hier geht es ums visualisieren.</span>
<span id="cb58-55"><a href="#cb58-55" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb58-58"><a href="#cb58-58" aria-hidden="true" tabindex="-1"></a><span class="in">```{r}</span></span>
<span id="cb58-59"><a href="#cb58-59" aria-hidden="true" tabindex="-1"></a><span class="co">#| message: false</span></span>
<span id="cb58-60"><a href="#cb58-60" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb58-61"><a href="#cb58-61" aria-hidden="true" tabindex="-1"></a>ggplot_tbl <span class="ot">&lt;-</span> <span class="fu">read_xlsx</span>(<span class="st">"data/fleas_model_data.xlsx"</span>) <span class="sc">|&gt;</span> </span>
<span id="cb58-62"><a href="#cb58-62" aria-hidden="true" tabindex="-1"></a>  <span class="fu">mutate</span>(<span class="at">feeding =</span> <span class="fu">as_factor</span>(feeding),</span>
<span id="cb58-63"><a href="#cb58-63" aria-hidden="true" tabindex="-1"></a>         <span class="at">stage =</span> <span class="fu">as_factor</span>(stage)) <span class="sc">|&gt;</span> </span>
<span id="cb58-64"><a href="#cb58-64" aria-hidden="true" tabindex="-1"></a>  <span class="fu">select</span>(feeding, stage, weight, jump_length)</span>
<span id="cb58-65"><a href="#cb58-65" aria-hidden="true" tabindex="-1"></a><span class="in">```</span></span>
<span id="cb58-66"><a href="#cb58-66" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb58-67"><a href="#cb58-67" aria-hidden="true" tabindex="-1"></a>Betrachten wir als erstes einen Auszug aus der Datentabelle. Wir werden hier immer den Messwert auf die y-Achse legen und uns dann je nach Anwendung sowie Algorithmus für eine Einflussvariable entscheiden.</span>
<span id="cb58-68"><a href="#cb58-68" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb58-71"><a href="#cb58-71" aria-hidden="true" tabindex="-1"></a><span class="in">```{r}</span></span>
<span id="cb58-72"><a href="#cb58-72" aria-hidden="true" tabindex="-1"></a><span class="co">#| echo: false</span></span>
<span id="cb58-73"><a href="#cb58-73" aria-hidden="true" tabindex="-1"></a><span class="co">#| message: false</span></span>
<span id="cb58-74"><a href="#cb58-74" aria-hidden="true" tabindex="-1"></a><span class="co">#| warning: false</span></span>
<span id="cb58-75"><a href="#cb58-75" aria-hidden="true" tabindex="-1"></a><span class="co">#| label: tbl-model-table</span></span>
<span id="cb58-76"><a href="#cb58-76" aria-hidden="true" tabindex="-1"></a><span class="co">#| tbl-cap: "Tabelle der vier Variablen für die Darstellung mit `{ggplot}`. Der Messwert ist hier die Sprungweite. Die anderen Variablen dienen als Einflussvariablen."</span></span>
<span id="cb58-77"><a href="#cb58-77" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb58-78"><a href="#cb58-78" aria-hidden="true" tabindex="-1"></a>ggplot_raw_tbl <span class="ot">&lt;-</span> <span class="fu">read_xlsx</span>(<span class="st">"data/fleas_model_data.xlsx"</span>)  <span class="sc">|&gt;</span> </span>
<span id="cb58-79"><a href="#cb58-79" aria-hidden="true" tabindex="-1"></a>  <span class="fu">select</span>(feeding, stage, weight, jump_length)</span>
<span id="cb58-80"><a href="#cb58-80" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb58-81"><a href="#cb58-81" aria-hidden="true" tabindex="-1"></a><span class="fu">rbind</span>(<span class="fu">head</span>(ggplot_raw_tbl, <span class="at">n =</span> <span class="dv">3</span>),</span>
<span id="cb58-82"><a href="#cb58-82" aria-hidden="true" tabindex="-1"></a>      <span class="fu">rep</span>(<span class="st">"..."</span>, <span class="at">times =</span> <span class="fu">ncol</span>(ggplot_raw_tbl)),</span>
<span id="cb58-83"><a href="#cb58-83" aria-hidden="true" tabindex="-1"></a>      <span class="fu">tail</span>(ggplot_raw_tbl, <span class="at">n =</span> <span class="dv">3</span>)) <span class="sc">|&gt;</span> </span>
<span id="cb58-84"><a href="#cb58-84" aria-hidden="true" tabindex="-1"></a>  <span class="fu">kable</span>(<span class="at">align =</span> <span class="st">"c"</span>, <span class="st">"pipe"</span>)</span>
<span id="cb58-85"><a href="#cb58-85" aria-hidden="true" tabindex="-1"></a><span class="in">```</span></span>
<span id="cb58-86"><a href="#cb58-86" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb58-87"><a href="#cb58-87" aria-hidden="true" tabindex="-1"></a>Bitte den Datensatz hier nicht allzu überinterpretieren. Ich brauche einfach nur ein paar Daten um die Funktionen aufrufen zu können. Da ich aber nicht die generischen Daten nutzen will, mache ich hier alles mit meinen Flöhen. Das sind ja meine Tiere hier in der Bio Data Science und deshalb nehmen wir das hier mal auch als Beispiel.</span>
<span id="cb58-88"><a href="#cb58-88" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb58-89"><a href="#cb58-89" aria-hidden="true" tabindex="-1"></a><span class="fu">## Probleme von Interesse</span></span>
<span id="cb58-90"><a href="#cb58-90" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb58-91"><a href="#cb58-91" aria-hidden="true" tabindex="-1"></a>Im Folgenden dann noch eine Sammlung an nützlichen Optionen und Möglichkeiten, die einem das Leben einfacher machen und die Abbildungen dann noch schöner. Nicht alles musst du in <span class="in">`{ggplot}`</span> machen, manchmal geht es dann in PowerPoint dann doch schneller mal eben einen Text zu ergänzen. Sehe das hier deshalb als Ergänzung und meinen privaten Raum, den ich nutze um mir den Code zu merken. Viele der Probleme sind dann auch eher so Sachen, die du mit der Zeit als erstrebenswert empfinden magst.</span>
<span id="cb58-92"><a href="#cb58-92" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb58-93"><a href="#cb58-93" aria-hidden="true" tabindex="-1"></a><span class="fu">### Striche, Punkte und Text</span></span>
<span id="cb58-94"><a href="#cb58-94" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb58-95"><a href="#cb58-95" aria-hidden="true" tabindex="-1"></a>Der folgende Code und die entsprechenden Abbildungen sind einfach nur Copy&amp; Paste von der Vignette <span class="co">[</span><span class="ot">Aesthetic specifications in `{ggplot}`</span><span class="co">](https://ggplot2.tidyverse.org/articles/ggplot2-specs.html)</span> und dienen nur meinem schnellen Zugriff. Dann habe ich hier alles was ich brauche einmal zusammen. Häufig sucht man dann doch nochmal die Form eines Punktes oder die Art der Linie.</span>
<span id="cb58-96"><a href="#cb58-96" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb58-99"><a href="#cb58-99" aria-hidden="true" tabindex="-1"></a><span class="in">```{r}</span></span>
<span id="cb58-100"><a href="#cb58-100" aria-hidden="true" tabindex="-1"></a><span class="co">#| warning: false</span></span>
<span id="cb58-101"><a href="#cb58-101" aria-hidden="true" tabindex="-1"></a><span class="co">#| echo: false</span></span>
<span id="cb58-102"><a href="#cb58-102" aria-hidden="true" tabindex="-1"></a><span class="co">#| message: false</span></span>
<span id="cb58-103"><a href="#cb58-103" aria-hidden="true" tabindex="-1"></a><span class="co">#| label: fig-ggplot-shape</span></span>
<span id="cb58-104"><a href="#cb58-104" aria-hidden="true" tabindex="-1"></a><span class="co">#| fig-align: center</span></span>
<span id="cb58-105"><a href="#cb58-105" aria-hidden="true" tabindex="-1"></a><span class="co">#| fig-height: 2.5</span></span>
<span id="cb58-106"><a href="#cb58-106" aria-hidden="true" tabindex="-1"></a><span class="co">#| fig-width: 7</span></span>
<span id="cb58-107"><a href="#cb58-107" aria-hidden="true" tabindex="-1"></a><span class="co">#| fig-cap: "Verschiedene Formen der Punkte die durch die `shape`-Option geändert werden können. Teilweise lassen sich die Punkte auch mit der Option `fill` entsprechebd einfärben. *[Zum Vergrößern anklicken]*"</span></span>
<span id="cb58-108"><a href="#cb58-108" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb58-109"><a href="#cb58-109" aria-hidden="true" tabindex="-1"></a>shapes <span class="ot">&lt;-</span> <span class="fu">data.frame</span>(</span>
<span id="cb58-110"><a href="#cb58-110" aria-hidden="true" tabindex="-1"></a>  <span class="at">shape =</span> <span class="fu">c</span>(<span class="dv">0</span><span class="sc">:</span><span class="dv">19</span>, <span class="dv">22</span>, <span class="dv">21</span>, <span class="dv">24</span>, <span class="dv">23</span>, <span class="dv">20</span>),</span>
<span id="cb58-111"><a href="#cb58-111" aria-hidden="true" tabindex="-1"></a>  <span class="at">x =</span> <span class="dv">0</span><span class="sc">:</span><span class="dv">24</span> <span class="sc">%/%</span> <span class="dv">5</span>,</span>
<span id="cb58-112"><a href="#cb58-112" aria-hidden="true" tabindex="-1"></a>  <span class="at">y =</span> <span class="sc">-</span>(<span class="dv">0</span><span class="sc">:</span><span class="dv">24</span> <span class="sc">%%</span> <span class="dv">5</span>)</span>
<span id="cb58-113"><a href="#cb58-113" aria-hidden="true" tabindex="-1"></a>)</span>
<span id="cb58-114"><a href="#cb58-114" aria-hidden="true" tabindex="-1"></a><span class="fu">ggplot</span>(shapes, <span class="fu">aes</span>(x, y)) <span class="sc">+</span></span>
<span id="cb58-115"><a href="#cb58-115" aria-hidden="true" tabindex="-1"></a>  <span class="fu">geom_point</span>(<span class="fu">aes</span>(<span class="at">shape =</span> shape), <span class="at">size =</span> <span class="dv">5</span>, <span class="at">fill =</span> <span class="st">"red"</span>) <span class="sc">+</span></span>
<span id="cb58-116"><a href="#cb58-116" aria-hidden="true" tabindex="-1"></a>  <span class="fu">geom_text</span>(<span class="fu">aes</span>(<span class="at">label =</span> shape), <span class="at">hjust =</span> <span class="dv">0</span>, <span class="at">nudge_x =</span> <span class="fl">0.15</span>) <span class="sc">+</span></span>
<span id="cb58-117"><a href="#cb58-117" aria-hidden="true" tabindex="-1"></a>  <span class="fu">scale_shape_identity</span>() <span class="sc">+</span></span>
<span id="cb58-118"><a href="#cb58-118" aria-hidden="true" tabindex="-1"></a>  <span class="fu">expand_limits</span>(<span class="at">x =</span> <span class="fl">4.1</span>) <span class="sc">+</span></span>
<span id="cb58-119"><a href="#cb58-119" aria-hidden="true" tabindex="-1"></a>  <span class="fu">theme_void</span>()</span>
<span id="cb58-120"><a href="#cb58-120" aria-hidden="true" tabindex="-1"></a><span class="in">```</span></span>
<span id="cb58-121"><a href="#cb58-121" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb58-122"><a href="#cb58-122" aria-hidden="true" tabindex="-1"></a>Dann gibt es noch die Möglichkeit sich verschiedene Arten von Linien zeichnen zu lassen. Im Folgenden dann erstmal der Standard, der dann manchmal nicht so richtig passt. Dafür gibt es dann aber gleich nochmal eine Option die Abstände zwischen den Teillinien zu ändern.</span>
<span id="cb58-123"><a href="#cb58-123" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb58-126"><a href="#cb58-126" aria-hidden="true" tabindex="-1"></a><span class="in">```{r}</span></span>
<span id="cb58-127"><a href="#cb58-127" aria-hidden="true" tabindex="-1"></a><span class="co">#| warning: false</span></span>
<span id="cb58-128"><a href="#cb58-128" aria-hidden="true" tabindex="-1"></a><span class="co">#| echo: false</span></span>
<span id="cb58-129"><a href="#cb58-129" aria-hidden="true" tabindex="-1"></a><span class="co">#| message: false</span></span>
<span id="cb58-130"><a href="#cb58-130" aria-hidden="true" tabindex="-1"></a><span class="co">#| label: fig-ggplot-linetype</span></span>
<span id="cb58-131"><a href="#cb58-131" aria-hidden="true" tabindex="-1"></a><span class="co">#| fig-align: center</span></span>
<span id="cb58-132"><a href="#cb58-132" aria-hidden="true" tabindex="-1"></a><span class="co">#| fig-height: 2.5</span></span>
<span id="cb58-133"><a href="#cb58-133" aria-hidden="true" tabindex="-1"></a><span class="co">#| fig-width: 7</span></span>
<span id="cb58-134"><a href="#cb58-134" aria-hidden="true" tabindex="-1"></a><span class="co">#| fig-cap: "Verschiedene Arten der Linien die durch die `linetype`-Option geändert werden können. *[Zum Vergrößern anklicken]*"</span></span>
<span id="cb58-135"><a href="#cb58-135" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb58-136"><a href="#cb58-136" aria-hidden="true" tabindex="-1"></a>lty <span class="ot">&lt;-</span> <span class="fu">c</span>(<span class="st">"solid"</span>, <span class="st">"dashed"</span>, <span class="st">"dotted"</span>, <span class="st">"dotdash"</span>, <span class="st">"longdash"</span>, <span class="st">"twodash"</span>)</span>
<span id="cb58-137"><a href="#cb58-137" aria-hidden="true" tabindex="-1"></a>linetypes <span class="ot">&lt;-</span> <span class="fu">data.frame</span>(</span>
<span id="cb58-138"><a href="#cb58-138" aria-hidden="true" tabindex="-1"></a>  <span class="at">y =</span> <span class="fu">seq_along</span>(lty),</span>
<span id="cb58-139"><a href="#cb58-139" aria-hidden="true" tabindex="-1"></a>  <span class="at">lty =</span> lty</span>
<span id="cb58-140"><a href="#cb58-140" aria-hidden="true" tabindex="-1"></a>)</span>
<span id="cb58-141"><a href="#cb58-141" aria-hidden="true" tabindex="-1"></a><span class="fu">ggplot</span>(linetypes, <span class="fu">aes</span>(<span class="dv">0</span>, y)) <span class="sc">+</span></span>
<span id="cb58-142"><a href="#cb58-142" aria-hidden="true" tabindex="-1"></a>  <span class="fu">theme_void</span>() <span class="sc">+</span></span>
<span id="cb58-143"><a href="#cb58-143" aria-hidden="true" tabindex="-1"></a>  <span class="fu">geom_segment</span>(<span class="fu">aes</span>(<span class="at">xend =</span> <span class="dv">5</span>, <span class="at">yend =</span> y, <span class="at">linetype =</span> lty)) <span class="sc">+</span></span>
<span id="cb58-144"><a href="#cb58-144" aria-hidden="true" tabindex="-1"></a>  <span class="fu">scale_linetype_identity</span>() <span class="sc">+</span></span>
<span id="cb58-145"><a href="#cb58-145" aria-hidden="true" tabindex="-1"></a>  <span class="fu">geom_text</span>(<span class="fu">aes</span>(<span class="at">label =</span> lty), <span class="at">hjust =</span> <span class="dv">0</span>, <span class="at">nudge_y =</span> <span class="fl">0.2</span>) <span class="sc">+</span></span>
<span id="cb58-146"><a href="#cb58-146" aria-hidden="true" tabindex="-1"></a>  <span class="fu">scale_x_continuous</span>(<span class="cn">NULL</span>, <span class="at">breaks =</span> <span class="cn">NULL</span>) <span class="sc">+</span></span>
<span id="cb58-147"><a href="#cb58-147" aria-hidden="true" tabindex="-1"></a>  <span class="fu">scale_y_reverse</span>(<span class="cn">NULL</span>, <span class="at">breaks =</span> <span class="cn">NULL</span>)</span>
<span id="cb58-148"><a href="#cb58-148" aria-hidden="true" tabindex="-1"></a><span class="in">```</span></span>
<span id="cb58-149"><a href="#cb58-149" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb58-150"><a href="#cb58-150" aria-hidden="true" tabindex="-1"></a>Manchmal will ich dann aber nicht so große Abstände haben. Hier können wir dann mit der Option und verschiedenen Buchstaben spielen. Mehr gibt es in der Vignette <span class="co">[</span><span class="ot">Aesthetic specifications in `{ggplot}`</span><span class="co">](https://ggplot2.tidyverse.org/articles/ggplot2-specs.html)</span> dazu. Hier reichen mir die folgenden Beispiele um mal schnell die passende Linie zu finden.</span>
<span id="cb58-151"><a href="#cb58-151" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb58-154"><a href="#cb58-154" aria-hidden="true" tabindex="-1"></a><span class="in">```{r}</span></span>
<span id="cb58-155"><a href="#cb58-155" aria-hidden="true" tabindex="-1"></a><span class="co">#| warning: false</span></span>
<span id="cb58-156"><a href="#cb58-156" aria-hidden="true" tabindex="-1"></a><span class="co">#| echo: false</span></span>
<span id="cb58-157"><a href="#cb58-157" aria-hidden="true" tabindex="-1"></a><span class="co">#| message: false</span></span>
<span id="cb58-158"><a href="#cb58-158" aria-hidden="true" tabindex="-1"></a><span class="co">#| label: fig-ggplot-linetype-2</span></span>
<span id="cb58-159"><a href="#cb58-159" aria-hidden="true" tabindex="-1"></a><span class="co">#| fig-align: center</span></span>
<span id="cb58-160"><a href="#cb58-160" aria-hidden="true" tabindex="-1"></a><span class="co">#| fig-height: 2.5</span></span>
<span id="cb58-161"><a href="#cb58-161" aria-hidden="true" tabindex="-1"></a><span class="co">#| fig-width: 7</span></span>
<span id="cb58-162"><a href="#cb58-162" aria-hidden="true" tabindex="-1"></a><span class="co">#| fig-cap: "Verschiedene Arten der Linien die durch die `linetype`-Option geändert werden können. Hier können dann individuell die Abstände zwischen den Linien angepasst werden. *[Zum Vergrößern anklicken]*"</span></span>
<span id="cb58-163"><a href="#cb58-163" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb58-164"><a href="#cb58-164" aria-hidden="true" tabindex="-1"></a>lty <span class="ot">&lt;-</span> <span class="fu">c</span>(<span class="st">"11"</span>, <span class="st">"18"</span>, <span class="st">"1f"</span>, <span class="st">"81"</span>, <span class="st">"88"</span>, <span class="st">"8f"</span>, <span class="st">"f1"</span>, <span class="st">"f8"</span>, <span class="st">"ff"</span>)</span>
<span id="cb58-165"><a href="#cb58-165" aria-hidden="true" tabindex="-1"></a>linetypes <span class="ot">&lt;-</span> <span class="fu">data.frame</span>(</span>
<span id="cb58-166"><a href="#cb58-166" aria-hidden="true" tabindex="-1"></a>  <span class="at">y =</span> <span class="fu">seq_along</span>(lty),</span>
<span id="cb58-167"><a href="#cb58-167" aria-hidden="true" tabindex="-1"></a>  <span class="at">lty =</span> lty</span>
<span id="cb58-168"><a href="#cb58-168" aria-hidden="true" tabindex="-1"></a>)</span>
<span id="cb58-169"><a href="#cb58-169" aria-hidden="true" tabindex="-1"></a><span class="fu">ggplot</span>(linetypes, <span class="fu">aes</span>(<span class="dv">0</span>, y)) <span class="sc">+</span></span>
<span id="cb58-170"><a href="#cb58-170" aria-hidden="true" tabindex="-1"></a>  <span class="fu">theme_void</span>() <span class="sc">+</span></span>
<span id="cb58-171"><a href="#cb58-171" aria-hidden="true" tabindex="-1"></a>  <span class="fu">geom_segment</span>(<span class="fu">aes</span>(<span class="at">xend =</span> <span class="dv">5</span>, <span class="at">yend =</span> y, <span class="at">linetype =</span> lty)) <span class="sc">+</span></span>
<span id="cb58-172"><a href="#cb58-172" aria-hidden="true" tabindex="-1"></a>  <span class="fu">scale_linetype_identity</span>() <span class="sc">+</span></span>
<span id="cb58-173"><a href="#cb58-173" aria-hidden="true" tabindex="-1"></a>  <span class="fu">geom_text</span>(<span class="fu">aes</span>(<span class="at">label =</span> lty), <span class="at">hjust =</span> <span class="dv">0</span>, <span class="at">nudge_y =</span> <span class="fl">0.2</span>) <span class="sc">+</span></span>
<span id="cb58-174"><a href="#cb58-174" aria-hidden="true" tabindex="-1"></a>  <span class="fu">scale_x_continuous</span>(<span class="cn">NULL</span>, <span class="at">breaks =</span> <span class="cn">NULL</span>) <span class="sc">+</span></span>
<span id="cb58-175"><a href="#cb58-175" aria-hidden="true" tabindex="-1"></a>  <span class="fu">scale_y_reverse</span>(<span class="cn">NULL</span>, <span class="at">breaks =</span> <span class="cn">NULL</span>)</span>
<span id="cb58-176"><a href="#cb58-176" aria-hidden="true" tabindex="-1"></a><span class="in">```</span></span>
<span id="cb58-177"><a href="#cb58-177" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb58-178"><a href="#cb58-178" aria-hidden="true" tabindex="-1"></a>Manchmal wollen wir dann noch den Text positionieren. Das können wir dann entweder durch die Option <span class="in">`hjust`</span> mit den Worten <span class="in">`"left"`</span>, <span class="in">`"center"`</span> oder <span class="in">`"right"`</span> machen oder eben dann mit Zahlen. Das ganz geht dann neben der horizontalen Ebene auch mit <span class="in">`vjust`</span> auf der vertikalen Ebene. Für mich ist es immer etwas Voodoo und ich schaue hier dann immer regelmäßig rein.</span>
<span id="cb58-179"><a href="#cb58-179" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb58-182"><a href="#cb58-182" aria-hidden="true" tabindex="-1"></a><span class="in">```{r}</span></span>
<span id="cb58-183"><a href="#cb58-183" aria-hidden="true" tabindex="-1"></a><span class="co">#| warning: false</span></span>
<span id="cb58-184"><a href="#cb58-184" aria-hidden="true" tabindex="-1"></a><span class="co">#| echo: false</span></span>
<span id="cb58-185"><a href="#cb58-185" aria-hidden="true" tabindex="-1"></a><span class="co">#| message: false</span></span>
<span id="cb58-186"><a href="#cb58-186" aria-hidden="true" tabindex="-1"></a><span class="co">#| label: fig-ggplot-just</span></span>
<span id="cb58-187"><a href="#cb58-187" aria-hidden="true" tabindex="-1"></a><span class="co">#| fig-align: center</span></span>
<span id="cb58-188"><a href="#cb58-188" aria-hidden="true" tabindex="-1"></a><span class="co">#| fig-height: 2</span></span>
<span id="cb58-189"><a href="#cb58-189" aria-hidden="true" tabindex="-1"></a><span class="co">#| fig-width: 7</span></span>
<span id="cb58-190"><a href="#cb58-190" aria-hidden="true" tabindex="-1"></a><span class="co">#| fig-cap: "Positionen von Text durch die Optionen `vjust` und `hjust`. *[Zum Vergrößern anklicken]*"</span></span>
<span id="cb58-191"><a href="#cb58-191" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb58-192"><a href="#cb58-192" aria-hidden="true" tabindex="-1"></a>just <span class="ot">&lt;-</span> <span class="fu">expand.grid</span>(<span class="at">hjust =</span> <span class="fu">c</span>(<span class="dv">0</span>, <span class="fl">0.5</span>, <span class="dv">1</span>), <span class="at">vjust =</span> <span class="fu">c</span>(<span class="dv">0</span>, <span class="fl">0.5</span>, <span class="dv">1</span>))</span>
<span id="cb58-193"><a href="#cb58-193" aria-hidden="true" tabindex="-1"></a>just<span class="sc">$</span>label <span class="ot">&lt;-</span> <span class="fu">paste0</span>(just<span class="sc">$</span>hjust, <span class="st">", "</span>, just<span class="sc">$</span>vjust)</span>
<span id="cb58-194"><a href="#cb58-194" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb58-195"><a href="#cb58-195" aria-hidden="true" tabindex="-1"></a><span class="fu">ggplot</span>(just, <span class="fu">aes</span>(hjust, vjust)) <span class="sc">+</span></span>
<span id="cb58-196"><a href="#cb58-196" aria-hidden="true" tabindex="-1"></a>  <span class="fu">theme_void</span>() <span class="sc">+</span></span>
<span id="cb58-197"><a href="#cb58-197" aria-hidden="true" tabindex="-1"></a>  <span class="fu">geom_point</span>(<span class="at">colour =</span> <span class="st">"grey70"</span>, <span class="at">size =</span> <span class="dv">3</span>) <span class="sc">+</span></span>
<span id="cb58-198"><a href="#cb58-198" aria-hidden="true" tabindex="-1"></a>  <span class="fu">geom_text</span>(<span class="fu">aes</span>(<span class="at">label =</span> label, <span class="at">hjust =</span> hjust, <span class="at">vjust =</span> vjust))</span>
<span id="cb58-199"><a href="#cb58-199" aria-hidden="true" tabindex="-1"></a><span class="in">```</span></span>
<span id="cb58-200"><a href="#cb58-200" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb58-201"><a href="#cb58-201" aria-hidden="true" tabindex="-1"></a>Natürlich geht wie immer auch mehr. Dazu dann aber mehr in der passenden Vignette oder eben auf den entsprechenden Hilfeseiten von <span class="in">`{ggplot}`</span>. Aus meiner Erfahrung habe ich dann meistens nicht mehr gebraucht oder es mir dann situativ zusammengesucht.</span>
<span id="cb58-202"><a href="#cb58-202" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb58-203"><a href="#cb58-203" aria-hidden="true" tabindex="-1"></a><span class="fu">### Überschriften, Achsen und Legenden</span></span>
<span id="cb58-204"><a href="#cb58-204" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb58-205"><a href="#cb58-205" aria-hidden="true" tabindex="-1"></a>Die Abbildungen einfach nur so machen ist eigentlich nur in einer reinen explorativen Datenanalyse sinnvoll. Sobald du die Abbildungen dann irgendwie veröffentlichen willst, dann sind die normalen Beschriftungen der Achsen in <span class="in">`{ggplot}`</span> mit den Variablennamen nicht mehr schön. Wenn du dann mehr machen willst, also die Überschriften anpassen oder aber die Achsenbeschriftung ändern, dann gibt es hier global Hilfe im <span class="co">[</span><span class="ot">`{ggplot}` Manual</span><span class="co">](https://ggplot2.tidyverse.org/reference/index.html)</span>. In den folgenden Abbildungen siehst du einmal einen veränderten Titel und Beschriftungen sowie die Legenden. Die Möglichkeiten sind nahezu unbegrenzt und sprengen auch hier den Rahmen. Die Webseite <span class="co">[</span><span class="ot">R Cookbook</span><span class="co">](https://ggplot2.tidyverse.org/reference/index.html)</span> hat auch spezielle Hilfe für <span class="in">`{ggplot}`</span>.</span>
<span id="cb58-206"><a href="#cb58-206" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb58-207"><a href="#cb58-207" aria-hidden="true" tabindex="-1"></a><span class="fu">#### Überschriften und Achsenbeschriftung {.unnumbered .unlisted}</span></span>
<span id="cb58-208"><a href="#cb58-208" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb58-209"><a href="#cb58-209" aria-hidden="true" tabindex="-1"></a>Die <span class="co">[</span><span class="ot">Überschriften von Abbildungen</span><span class="co">]</span>(http://www.cookbook-r.com/Graphs/Titles_(ggplot2)/) können wir beliebig anpassen. Hier können wir die Funktion <span class="in">`ggtitle()`</span> oder aber die Funktion <span class="in">`labs()`</span> nutzen. Die <span class="co">[</span><span class="ot">Achsenbeschriftung</span><span class="co">]</span>(http://www.cookbook-r.com/Graphs/Axes_(ggplot2)/) können wir in der Funktion <span class="in">`labs()`</span> einfach ändern. Das ist dann am Ende immer eine Geschmacksfrage was dir besser gefällt. Ich nutze hier gerne die Funktion <span class="in">`labs()`</span>, dann habe ich alles zusammen.</span>
<span id="cb58-210"><a href="#cb58-210" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb58-211"><a href="#cb58-211" aria-hidden="true" tabindex="-1"></a><span class="in">```{r }</span></span>
<span id="cb58-212"><a href="#cb58-212" aria-hidden="true" tabindex="-1"></a><span class="co">#| warning: false</span></span>
<span id="cb58-213"><a href="#cb58-213" aria-hidden="true" tabindex="-1"></a><span class="co">#| echo: true</span></span>
<span id="cb58-214"><a href="#cb58-214" aria-hidden="true" tabindex="-1"></a><span class="co">#| message: false</span></span>
<span id="cb58-215"><a href="#cb58-215" aria-hidden="true" tabindex="-1"></a><span class="co">#| label: fig-labels-scale-title-labs</span></span>
<span id="cb58-216"><a href="#cb58-216" aria-hidden="true" tabindex="-1"></a><span class="co">#| fig-align: center</span></span>
<span id="cb58-217"><a href="#cb58-217" aria-hidden="true" tabindex="-1"></a><span class="co">#| fig-height: 4</span></span>
<span id="cb58-218"><a href="#cb58-218" aria-hidden="true" tabindex="-1"></a><span class="co">#| fig-width: 7</span></span>
<span id="cb58-219"><a href="#cb58-219" aria-hidden="true" tabindex="-1"></a><span class="co">#| fig-cap: "Beispielhafte Abbildung mit Titel und geänderter Achsenbeschrittung. *[Zum Vergrößern anklicken]*"</span></span>
<span id="cb58-220"><a href="#cb58-220" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb58-221"><a href="#cb58-221" aria-hidden="true" tabindex="-1"></a><span class="fu">ggplot</span>(<span class="at">data =</span> ggplot_tbl, <span class="fu">aes</span>(<span class="at">x =</span> feeding, <span class="at">y =</span> jump_length,</span>
<span id="cb58-222"><a href="#cb58-222" aria-hidden="true" tabindex="-1"></a>                              <span class="at">fill =</span> feeding)) <span class="sc">+</span></span>
<span id="cb58-223"><a href="#cb58-223" aria-hidden="true" tabindex="-1"></a>  <span class="fu">theme_minimal</span>() <span class="sc">+</span></span>
<span id="cb58-224"><a href="#cb58-224" aria-hidden="true" tabindex="-1"></a>  <span class="fu">geom_boxplot</span>() <span class="sc">+</span></span>
<span id="cb58-225"><a href="#cb58-225" aria-hidden="true" tabindex="-1"></a>  <span class="fu">labs</span>(<span class="at">title =</span> <span class="st">"Ernährungsbedinungen"</span>,</span>
<span id="cb58-226"><a href="#cb58-226" aria-hidden="true" tabindex="-1"></a>       <span class="at">subtitle =</span> <span class="st">"Unterschiedliche Bedingungen für die Sprungweite"</span>,</span>
<span id="cb58-227"><a href="#cb58-227" aria-hidden="true" tabindex="-1"></a>       <span class="at">caption =</span> <span class="st">"Erhoben im Sommer 2022"</span>,</span>
<span id="cb58-228"><a href="#cb58-228" aria-hidden="true" tabindex="-1"></a>       <span class="at">x =</span> <span class="st">"Ernährungsarten"</span>, <span class="at">y =</span> <span class="st">"Sprungweite in [cm]"</span>,</span>
<span id="cb58-229"><a href="#cb58-229" aria-hidden="true" tabindex="-1"></a>       <span class="at">fill =</span> <span class="st">"Ernährung"</span>)</span>
<span id="cb58-230"><a href="#cb58-230" aria-hidden="true" tabindex="-1"></a><span class="in">```</span></span>
<span id="cb58-231"><a href="#cb58-231" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb58-232"><a href="#cb58-232" aria-hidden="true" tabindex="-1"></a><span class="fu">#### Legende anpassen {.unnumbered .unlisted}</span></span>
<span id="cb58-233"><a href="#cb58-233" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb58-234"><a href="#cb58-234" aria-hidden="true" tabindex="-1"></a>Die <span class="co">[</span><span class="ot">Legende</span><span class="co">]</span>(http://www.cookbook-r.com/Graphs/Legends_(ggplot2)/) können wir ebenfalls in <span class="in">`labs()`</span> und dann in den entsprechenden <span class="in">`scales`</span>-Funktionen anpassen. Hier musst du im Zweifel etwas probieren. Faktoren würde ich in den Daten über die Funktion <span class="in">`factor()`</span> anpassen. Du hast dann hier eben auch die Wahl wie du vorgehst. Manchmal macht es dann auch Sinn dir ein eigenes <span class="in">`tibble`</span> für die Erstellung der Abbildungen zu bauen. In den beiden folgenden Tabs zeige ich dir mal beide Wege.</span>
<span id="cb58-235"><a href="#cb58-235" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb58-236"><a href="#cb58-236" aria-hidden="true" tabindex="-1"></a>::: panel-tabset</span>
<span id="cb58-237"><a href="#cb58-237" aria-hidden="true" tabindex="-1"></a><span class="fu">## `factor()`</span></span>
<span id="cb58-238"><a href="#cb58-238" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb58-239"><a href="#cb58-239" aria-hidden="true" tabindex="-1"></a>Wir bauen hier erstmal den Faktor mit der Funktion <span class="in">`factor()`</span> in der wir dann die Sortierung und dann die Labels der Level ändern können. Ich empfehle dir erst die Sortierung zu bestimmen und dann umzubenennen. Sonst kann da schnell was durcheinanderkommen. Hier mag dann auch das <span class="co">[</span><span class="ot">R Paket `{forcats}`</span><span class="co">](https://forcats.tidyverse.org/)</span> helfen.</span>
<span id="cb58-240"><a href="#cb58-240" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb58-243"><a href="#cb58-243" aria-hidden="true" tabindex="-1"></a><span class="in">```{r}</span></span>
<span id="cb58-244"><a href="#cb58-244" aria-hidden="true" tabindex="-1"></a>ggplot_factor_tbl <span class="ot">&lt;-</span> ggplot_tbl <span class="sc">|&gt;</span> </span>
<span id="cb58-245"><a href="#cb58-245" aria-hidden="true" tabindex="-1"></a>  <span class="fu">mutate</span>(<span class="at">feeding =</span> <span class="fu">factor</span>(feeding,</span>
<span id="cb58-246"><a href="#cb58-246" aria-hidden="true" tabindex="-1"></a>                          <span class="at">levels =</span> <span class="fu">c</span>(<span class="st">"sugar_water"</span>, <span class="st">"blood"</span>, <span class="st">"ketchup"</span>),</span>
<span id="cb58-247"><a href="#cb58-247" aria-hidden="true" tabindex="-1"></a>                          <span class="at">labels =</span> <span class="fu">c</span>(<span class="st">"Zuckerwasser"</span>, <span class="st">"Blut"</span>, <span class="st">"Ketchup"</span>)))</span>
<span id="cb58-248"><a href="#cb58-248" aria-hidden="true" tabindex="-1"></a><span class="in">```</span></span>
<span id="cb58-249"><a href="#cb58-249" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb58-250"><a href="#cb58-250" aria-hidden="true" tabindex="-1"></a>Dann können wir uns auch schon einmal die folgende Abbildung bauen in dem wir die Level des Faktors geändert haben.</span>
<span id="cb58-251"><a href="#cb58-251" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb58-252"><a href="#cb58-252" aria-hidden="true" tabindex="-1"></a><span class="in">```{r }</span></span>
<span id="cb58-253"><a href="#cb58-253" aria-hidden="true" tabindex="-1"></a><span class="co">#| warning: false</span></span>
<span id="cb58-254"><a href="#cb58-254" aria-hidden="true" tabindex="-1"></a><span class="co">#| echo: true</span></span>
<span id="cb58-255"><a href="#cb58-255" aria-hidden="true" tabindex="-1"></a><span class="co">#| message: false</span></span>
<span id="cb58-256"><a href="#cb58-256" aria-hidden="true" tabindex="-1"></a><span class="co">#| label: fig-labels-scale-factor</span></span>
<span id="cb58-257"><a href="#cb58-257" aria-hidden="true" tabindex="-1"></a><span class="co">#| fig-align: center</span></span>
<span id="cb58-258"><a href="#cb58-258" aria-hidden="true" tabindex="-1"></a><span class="co">#| fig-height: 3</span></span>
<span id="cb58-259"><a href="#cb58-259" aria-hidden="true" tabindex="-1"></a><span class="co">#| fig-width: 7</span></span>
<span id="cb58-260"><a href="#cb58-260" aria-hidden="true" tabindex="-1"></a><span class="co">#| fig-cap: "Beispielhafte Abbildung mit Titel und geänderter Achsenbeschrittung. *[Zum Vergrößern anklicken]*"</span></span>
<span id="cb58-261"><a href="#cb58-261" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb58-262"><a href="#cb58-262" aria-hidden="true" tabindex="-1"></a><span class="fu">ggplot</span>(<span class="at">data =</span> ggplot_factor_tbl, <span class="fu">aes</span>(<span class="at">x =</span> feeding, <span class="at">y =</span> jump_length,</span>
<span id="cb58-263"><a href="#cb58-263" aria-hidden="true" tabindex="-1"></a>                                     <span class="at">fill =</span> feeding)) <span class="sc">+</span></span>
<span id="cb58-264"><a href="#cb58-264" aria-hidden="true" tabindex="-1"></a>  <span class="fu">theme_minimal</span>() <span class="sc">+</span></span>
<span id="cb58-265"><a href="#cb58-265" aria-hidden="true" tabindex="-1"></a>  <span class="fu">geom_boxplot</span>() </span>
<span id="cb58-266"><a href="#cb58-266" aria-hidden="true" tabindex="-1"></a><span class="in">```</span></span>
<span id="cb58-267"><a href="#cb58-267" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb58-268"><a href="#cb58-268" aria-hidden="true" tabindex="-1"></a><span class="fu">## `scale_*_discrete()`</span></span>
<span id="cb58-269"><a href="#cb58-269" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb58-270"><a href="#cb58-270" aria-hidden="true" tabindex="-1"></a>Es ist auch möglich direkt in <span class="in">`{ggplot}`</span> die Level des Faktors umzubenennen. Das ist genau so gut, wenn wir hier nicht so viel mit der Sortierung ändern wollen. Wie immer würde ich hier empfehlen nur Kosmetik zu machen und den Rest sauber über das <span class="co">[</span><span class="ot">R Paket `{forcats}`</span><span class="co">](https://forcats.tidyverse.org/)</span> oder eben die Funktion <span class="in">`factor()`</span></span>
<span id="cb58-271"><a href="#cb58-271" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb58-272"><a href="#cb58-272" aria-hidden="true" tabindex="-1"></a><span class="in">```{r }</span></span>
<span id="cb58-273"><a href="#cb58-273" aria-hidden="true" tabindex="-1"></a><span class="co">#| warning: false</span></span>
<span id="cb58-274"><a href="#cb58-274" aria-hidden="true" tabindex="-1"></a><span class="co">#| echo: true</span></span>
<span id="cb58-275"><a href="#cb58-275" aria-hidden="true" tabindex="-1"></a><span class="co">#| message: false</span></span>
<span id="cb58-276"><a href="#cb58-276" aria-hidden="true" tabindex="-1"></a><span class="co">#| label: fig-labels-scale-discrete</span></span>
<span id="cb58-277"><a href="#cb58-277" aria-hidden="true" tabindex="-1"></a><span class="co">#| fig-align: center</span></span>
<span id="cb58-278"><a href="#cb58-278" aria-hidden="true" tabindex="-1"></a><span class="co">#| fig-height: 3</span></span>
<span id="cb58-279"><a href="#cb58-279" aria-hidden="true" tabindex="-1"></a><span class="co">#| fig-width: 7</span></span>
<span id="cb58-280"><a href="#cb58-280" aria-hidden="true" tabindex="-1"></a><span class="co">#| fig-cap: "Beispielhafte Abbildung mit Titel und geänderter Achsenbeschrittung. *[Zum Vergrößern anklicken]*"</span></span>
<span id="cb58-281"><a href="#cb58-281" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb58-282"><a href="#cb58-282" aria-hidden="true" tabindex="-1"></a><span class="fu">ggplot</span>(<span class="at">data =</span> ggplot_tbl, <span class="fu">aes</span>(<span class="at">x =</span> feeding, <span class="at">y =</span> jump_length,</span>
<span id="cb58-283"><a href="#cb58-283" aria-hidden="true" tabindex="-1"></a>                              <span class="at">fill =</span> feeding)) <span class="sc">+</span></span>
<span id="cb58-284"><a href="#cb58-284" aria-hidden="true" tabindex="-1"></a>  <span class="fu">theme_minimal</span>() <span class="sc">+</span></span>
<span id="cb58-285"><a href="#cb58-285" aria-hidden="true" tabindex="-1"></a>  <span class="fu">geom_boxplot</span>() <span class="sc">+</span></span>
<span id="cb58-286"><a href="#cb58-286" aria-hidden="true" tabindex="-1"></a>  <span class="fu">scale_x_discrete</span>(<span class="at">labels =</span> <span class="fu">c</span>(<span class="st">"Blut"</span>, <span class="st">"Ketchup"</span>, <span class="st">"Zuckerwasser"</span>)) <span class="sc">+</span></span>
<span id="cb58-287"><a href="#cb58-287" aria-hidden="true" tabindex="-1"></a>  <span class="fu">scale_fill_discrete</span>(<span class="at">name =</span> <span class="st">"Behandlung"</span>, </span>
<span id="cb58-288"><a href="#cb58-288" aria-hidden="true" tabindex="-1"></a>                      <span class="at">labels =</span> <span class="fu">c</span>(<span class="st">"Blut"</span>, <span class="st">"Ketchup"</span>, <span class="st">"Zuckerwasser"</span>))</span>
<span id="cb58-289"><a href="#cb58-289" aria-hidden="true" tabindex="-1"></a><span class="in">```</span></span>
<span id="cb58-290"><a href="#cb58-290" aria-hidden="true" tabindex="-1"></a>:::</span>
<span id="cb58-291"><a href="#cb58-291" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb58-292"><a href="#cb58-292" aria-hidden="true" tabindex="-1"></a><span class="fu">### Schriftarten</span></span>
<span id="cb58-293"><a href="#cb58-293" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb58-294"><a href="#cb58-294" aria-hidden="true" tabindex="-1"></a>Das Thema Schriftarten ist so eine Sache. Am Ende des Abschnitts gebe ich dir nochmal eine Linksammlung für die Hilfe. Es ist nämlich wichtig in welchem Betriebssystem (eng. *operating system*, abk. *OS*) du arbeitest. Je nach Betriebssystem hast du unterschiedliche Schriften installiert und die lassen sich dann nicht so einfach exportieren oder aber in anderen Betriebssystemen darstellen. Fangen wir also erstmal mit einer Abbildung an, an der wir dann mal was ändern wollen. Wir speichern die Abbildung einmal als Objekt <span class="in">`p1`</span> ab und ändern nachträglich die Schriftarten.</span>
<span id="cb58-295"><a href="#cb58-295" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb58-298"><a href="#cb58-298" aria-hidden="true" tabindex="-1"></a><span class="in">```{r}</span></span>
<span id="cb58-299"><a href="#cb58-299" aria-hidden="true" tabindex="-1"></a><span class="co">#| warning: false</span></span>
<span id="cb58-300"><a href="#cb58-300" aria-hidden="true" tabindex="-1"></a><span class="co">#| echo: true</span></span>
<span id="cb58-301"><a href="#cb58-301" aria-hidden="true" tabindex="-1"></a><span class="co">#| message: false</span></span>
<span id="cb58-302"><a href="#cb58-302" aria-hidden="true" tabindex="-1"></a><span class="co">#| label: fig-ggplot-schrift-base</span></span>
<span id="cb58-303"><a href="#cb58-303" aria-hidden="true" tabindex="-1"></a><span class="co">#| fig-align: center</span></span>
<span id="cb58-304"><a href="#cb58-304" aria-hidden="true" tabindex="-1"></a><span class="co">#| fig-height: 3</span></span>
<span id="cb58-305"><a href="#cb58-305" aria-hidden="true" tabindex="-1"></a><span class="co">#| fig-width: 7</span></span>
<span id="cb58-306"><a href="#cb58-306" aria-hidden="true" tabindex="-1"></a><span class="co">#| fig-cap: "Beispielhafte Abbildung mit Titel und geänderter Achsenbeschrittung in der die Schriftarten geändert werden sollen. *[Zum Vergrößern anklicken]*"</span></span>
<span id="cb58-307"><a href="#cb58-307" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb58-308"><a href="#cb58-308" aria-hidden="true" tabindex="-1"></a>p1 <span class="ot">&lt;-</span> <span class="fu">ggplot</span>(<span class="at">data =</span> ggplot_tbl, <span class="fu">aes</span>(<span class="at">x =</span> feeding, <span class="at">y =</span> jump_length,</span>
<span id="cb58-309"><a href="#cb58-309" aria-hidden="true" tabindex="-1"></a>                              <span class="at">fill =</span> feeding)) <span class="sc">+</span></span>
<span id="cb58-310"><a href="#cb58-310" aria-hidden="true" tabindex="-1"></a>  <span class="fu">theme_minimal</span>() <span class="sc">+</span></span>
<span id="cb58-311"><a href="#cb58-311" aria-hidden="true" tabindex="-1"></a>  <span class="fu">geom_boxplot</span>() <span class="sc">+</span></span>
<span id="cb58-312"><a href="#cb58-312" aria-hidden="true" tabindex="-1"></a>  <span class="fu">scale_x_discrete</span>(<span class="at">labels =</span> <span class="fu">c</span>(<span class="st">"Blut"</span>, <span class="st">"Ketchup"</span>, <span class="st">"Zuckerwasser"</span>)) <span class="sc">+</span></span>
<span id="cb58-313"><a href="#cb58-313" aria-hidden="true" tabindex="-1"></a>  <span class="fu">labs</span>(<span class="at">title =</span> <span class="st">"Ernährungsbedinungen"</span>,</span>
<span id="cb58-314"><a href="#cb58-314" aria-hidden="true" tabindex="-1"></a>       <span class="at">subtitle =</span> <span class="st">"Unterschiedliche Bedingungen für die Sprungweite"</span>,</span>
<span id="cb58-315"><a href="#cb58-315" aria-hidden="true" tabindex="-1"></a>       <span class="at">caption =</span> <span class="st">"Erhoben im Sommer 2022"</span>,</span>
<span id="cb58-316"><a href="#cb58-316" aria-hidden="true" tabindex="-1"></a>       <span class="at">x =</span> <span class="st">"Ernährungsarten"</span>, <span class="at">y =</span> <span class="st">"Sprungweite in [cm]"</span>,</span>
<span id="cb58-317"><a href="#cb58-317" aria-hidden="true" tabindex="-1"></a>       <span class="at">fill =</span> <span class="st">"Ernährung"</span>)</span>
<span id="cb58-318"><a href="#cb58-318" aria-hidden="true" tabindex="-1"></a>p1</span>
<span id="cb58-319"><a href="#cb58-319" aria-hidden="true" tabindex="-1"></a><span class="in">```</span></span>
<span id="cb58-320"><a href="#cb58-320" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb58-321"><a href="#cb58-321" aria-hidden="true" tabindex="-1"></a>Wenn wir allgemein die Schriftart in der ganzen Abbildung ändern wollen, dann können wir einfach folgende Option in <span class="in">`theme()`</span> setzen. Hier ändern wir alles an Text einmal auf <span class="in">`"Times New Roman"`</span> um. Welche Möglichkeiten du hast, hängt von deinem Betriebssystem und deinen installierten Schriften ab. Dazu mehr weiter unten.</span>
<span id="cb58-322"><a href="#cb58-322" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb58-325"><a href="#cb58-325" aria-hidden="true" tabindex="-1"></a><span class="in">```{r}</span></span>
<span id="cb58-326"><a href="#cb58-326" aria-hidden="true" tabindex="-1"></a><span class="co">#| fig-align: center</span></span>
<span id="cb58-327"><a href="#cb58-327" aria-hidden="true" tabindex="-1"></a><span class="co">#| fig-height: 3</span></span>
<span id="cb58-328"><a href="#cb58-328" aria-hidden="true" tabindex="-1"></a><span class="co">#| fig-width: 7</span></span>
<span id="cb58-329"><a href="#cb58-329" aria-hidden="true" tabindex="-1"></a>p1 <span class="sc">+</span></span>
<span id="cb58-330"><a href="#cb58-330" aria-hidden="true" tabindex="-1"></a>  <span class="fu">theme</span>(<span class="at">text =</span> <span class="fu">element_text</span>(<span class="at">family =</span> <span class="st">"Times New Roman"</span>))</span>
<span id="cb58-331"><a href="#cb58-331" aria-hidden="true" tabindex="-1"></a><span class="in">```</span></span>
<span id="cb58-332"><a href="#cb58-332" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb58-333"><a href="#cb58-333" aria-hidden="true" tabindex="-1"></a>Wir können auch vollkommen frei drehen und dann alles mögliche ändern. Ich habe hier mal alles verwendet was es so in meinem Schriftordner so gab. Leider ist es dann auch hier wirklich so, dass es keien direkte Übersicht an möglichen Schriften gibt.</span>
<span id="cb58-334"><a href="#cb58-334" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb58-337"><a href="#cb58-337" aria-hidden="true" tabindex="-1"></a><span class="in">```{r}</span></span>
<span id="cb58-338"><a href="#cb58-338" aria-hidden="true" tabindex="-1"></a><span class="co">#| fig-align: center</span></span>
<span id="cb58-339"><a href="#cb58-339" aria-hidden="true" tabindex="-1"></a><span class="co">#| fig-height: 3</span></span>
<span id="cb58-340"><a href="#cb58-340" aria-hidden="true" tabindex="-1"></a><span class="co">#| fig-width: 7</span></span>
<span id="cb58-341"><a href="#cb58-341" aria-hidden="true" tabindex="-1"></a>p1 <span class="sc">+</span></span>
<span id="cb58-342"><a href="#cb58-342" aria-hidden="true" tabindex="-1"></a>  <span class="fu">theme</span>(<span class="at">plot.title =</span> <span class="fu">element_text</span>(<span class="at">family =</span> <span class="st">"mono"</span>),</span>
<span id="cb58-343"><a href="#cb58-343" aria-hidden="true" tabindex="-1"></a>        <span class="at">plot.subtitle =</span> <span class="fu">element_text</span>(<span class="at">family =</span> <span class="st">"sans"</span>),</span>
<span id="cb58-344"><a href="#cb58-344" aria-hidden="true" tabindex="-1"></a>        <span class="at">axis.title.x =</span> <span class="fu">element_text</span>(<span class="at">family =</span> <span class="st">"Comic Sans MS"</span>),</span>
<span id="cb58-345"><a href="#cb58-345" aria-hidden="true" tabindex="-1"></a>        <span class="at">axis.title.y =</span> <span class="fu">element_text</span>(<span class="at">family =</span> <span class="st">"AppleGothic"</span>),</span>
<span id="cb58-346"><a href="#cb58-346" aria-hidden="true" tabindex="-1"></a>        <span class="at">axis.text.x =</span> <span class="fu">element_text</span>(<span class="at">family =</span> <span class="st">"Optima"</span>),</span>
<span id="cb58-347"><a href="#cb58-347" aria-hidden="true" tabindex="-1"></a>        <span class="at">axis.text.y =</span> <span class="fu">element_text</span>(<span class="at">family =</span> <span class="st">"Luminari"</span>))</span>
<span id="cb58-348"><a href="#cb58-348" aria-hidden="true" tabindex="-1"></a><span class="in">```</span></span>
<span id="cb58-349"><a href="#cb58-349" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb58-350"><a href="#cb58-350" aria-hidden="true" tabindex="-1"></a>Am Ende gibt es noch die Möglichkeit eine <span class="in">`mono`</span>, <span class="in">`sans`</span> oder <span class="in">`serif`</span> Schriftfamilie auszuwählen. Dann wird die Standardschrift deines Betriebssystems genommen. Das mag sich dann wiederum unterscheiden, aber dafür hat dann die Schrift die Eigenschaften, die du möchtest.</span>
<span id="cb58-351"><a href="#cb58-351" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb58-352"><a href="#cb58-352" aria-hidden="true" tabindex="-1"></a>::: panel-tabset</span>
<span id="cb58-353"><a href="#cb58-353" aria-hidden="true" tabindex="-1"></a><span class="fu">## `mono`</span></span>
<span id="cb58-354"><a href="#cb58-354" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb58-355"><a href="#cb58-355" aria-hidden="true" tabindex="-1"></a>Mit der Option <span class="in">`"mono"`</span> erhälst du eine nichtproportionale Schrift.</span>
<span id="cb58-356"><a href="#cb58-356" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb58-359"><a href="#cb58-359" aria-hidden="true" tabindex="-1"></a><span class="in">```{r}</span></span>
<span id="cb58-360"><a href="#cb58-360" aria-hidden="true" tabindex="-1"></a><span class="co">#| fig-align: center</span></span>
<span id="cb58-361"><a href="#cb58-361" aria-hidden="true" tabindex="-1"></a><span class="co">#| fig-height: 3</span></span>
<span id="cb58-362"><a href="#cb58-362" aria-hidden="true" tabindex="-1"></a><span class="co">#| fig-width: 7</span></span>
<span id="cb58-363"><a href="#cb58-363" aria-hidden="true" tabindex="-1"></a>p1 <span class="sc">+</span></span>
<span id="cb58-364"><a href="#cb58-364" aria-hidden="true" tabindex="-1"></a>  <span class="fu">theme</span>(<span class="at">text =</span> <span class="fu">element_text</span>(<span class="at">family =</span> <span class="st">"mono"</span>))</span>
<span id="cb58-365"><a href="#cb58-365" aria-hidden="true" tabindex="-1"></a><span class="in">```</span></span>
<span id="cb58-366"><a href="#cb58-366" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb58-367"><a href="#cb58-367" aria-hidden="true" tabindex="-1"></a><span class="fu">## `sans`</span></span>
<span id="cb58-368"><a href="#cb58-368" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb58-369"><a href="#cb58-369" aria-hidden="true" tabindex="-1"></a>Mit der Option <span class="in">`"sans"`</span> erhälst du eine serifenlose Schrift.</span>
<span id="cb58-370"><a href="#cb58-370" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb58-373"><a href="#cb58-373" aria-hidden="true" tabindex="-1"></a><span class="in">```{r}</span></span>
<span id="cb58-374"><a href="#cb58-374" aria-hidden="true" tabindex="-1"></a><span class="co">#| fig-align: center</span></span>
<span id="cb58-375"><a href="#cb58-375" aria-hidden="true" tabindex="-1"></a><span class="co">#| fig-height: 3</span></span>
<span id="cb58-376"><a href="#cb58-376" aria-hidden="true" tabindex="-1"></a><span class="co">#| fig-width: 7</span></span>
<span id="cb58-377"><a href="#cb58-377" aria-hidden="true" tabindex="-1"></a>p1 <span class="sc">+</span></span>
<span id="cb58-378"><a href="#cb58-378" aria-hidden="true" tabindex="-1"></a>  <span class="fu">theme</span>(<span class="at">text =</span> <span class="fu">element_text</span>(<span class="at">family =</span> <span class="st">"sans"</span>))</span>
<span id="cb58-379"><a href="#cb58-379" aria-hidden="true" tabindex="-1"></a><span class="in">```</span></span>
<span id="cb58-380"><a href="#cb58-380" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb58-381"><a href="#cb58-381" aria-hidden="true" tabindex="-1"></a><span class="fu">## `serif`</span></span>
<span id="cb58-382"><a href="#cb58-382" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb58-383"><a href="#cb58-383" aria-hidden="true" tabindex="-1"></a>Mit der Option <span class="in">`"serif"`</span> erhälst du eine Serifenschrift.</span>
<span id="cb58-384"><a href="#cb58-384" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb58-387"><a href="#cb58-387" aria-hidden="true" tabindex="-1"></a><span class="in">```{r}</span></span>
<span id="cb58-388"><a href="#cb58-388" aria-hidden="true" tabindex="-1"></a><span class="co">#| fig-align: center</span></span>
<span id="cb58-389"><a href="#cb58-389" aria-hidden="true" tabindex="-1"></a><span class="co">#| fig-height: 3</span></span>
<span id="cb58-390"><a href="#cb58-390" aria-hidden="true" tabindex="-1"></a><span class="co">#| fig-width: 7</span></span>
<span id="cb58-391"><a href="#cb58-391" aria-hidden="true" tabindex="-1"></a>p1 <span class="sc">+</span></span>
<span id="cb58-392"><a href="#cb58-392" aria-hidden="true" tabindex="-1"></a>  <span class="fu">theme</span>(<span class="at">text =</span> <span class="fu">element_text</span>(<span class="at">family =</span> <span class="st">"serif"</span>))</span>
<span id="cb58-393"><a href="#cb58-393" aria-hidden="true" tabindex="-1"></a><span class="in">```</span></span>
<span id="cb58-394"><a href="#cb58-394" aria-hidden="true" tabindex="-1"></a>:::</span>
<span id="cb58-395"><a href="#cb58-395" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb58-396"><a href="#cb58-396" aria-hidden="true" tabindex="-1"></a>Dann möchte ich hier am Ende nochmal auf ein paar Blogs und Hilfeseiten verlinken, die sich alle mit dem Thema Schriftarten in <span class="in">`{ggplot}`</span> beschäftigen. Vielleicht ist ja einer der Links exakt das, was du jetzt nochmal nachschauen wolltest. Es ist dann eher ein kompliziertes Thema, was dich einiges an Zeit kosten kann. Die Installation und die Suche der Schriften in einem Betriebssystem ist nervig.</span>
<span id="cb58-397"><a href="#cb58-397" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb58-398"><a href="#cb58-398" aria-hidden="true" tabindex="-1"></a><span class="ss">-   </span><span class="co">[</span><span class="ot">Adding Custom Fonts to ggplot in R</span><span class="co">](https://gradientdescending.com/adding-custom-fonts-to-ggplot-in-r/)</span> stellt das <span class="co">[</span><span class="ot">R Paket `{extrafont}`</span><span class="co">](https://github.com/wch/extrafont)</span> vor. Ich habe mich erstmal hier dagegen entschieden nochmal das Paket zu zeigen. Ich stelle es aber weiter unten nochmal vor.</span>
<span id="cb58-399"><a href="#cb58-399" aria-hidden="true" tabindex="-1"></a><span class="ss">-   </span><span class="co">[</span><span class="ot">Changing fonts in ggplot2</span><span class="co">](https://stackoverflow.com/questions/34522732/changing-fonts-in-ggplot2)</span> geht nochmal auf die Probleme mit dem R Paket <span class="in">`{extrafont}`</span> ein.</span>
<span id="cb58-400"><a href="#cb58-400" aria-hidden="true" tabindex="-1"></a><span class="ss">-   </span><span class="co">[</span><span class="ot">Using different fonts with ggplot2</span><span class="co">](https://statisticaloddsandends.wordpress.com/2021/07/08/using-different-fonts-with-ggplot2/)</span> ist die Basis dieses Abschnitts hier. Dort wird nochmal erklärt wie die Schriftarten eingebaut werden können.</span>
<span id="cb58-401"><a href="#cb58-401" aria-hidden="true" tabindex="-1"></a><span class="ss">-   </span><span class="co">[</span><span class="ot">Using systemfonts to handle fonts in R</span><span class="co">](https://systemfonts.r-lib.org/articles/systemfonts.html)</span> ist die Vignette von <span class="in">`{ggplot}`</span> wo es nochmal um die Verwendung von Systemschriften in <span class="in">`{ggplot}`</span> geht.</span>
<span id="cb58-402"><a href="#cb58-402" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb58-403"><a href="#cb58-403" aria-hidden="true" tabindex="-1"></a>Wenn ich noch was tolles finde, dann werde ich es hier ergänzen. Leider ist es mir nicht gegeben alle Betriebssysteme hier einmal vollumfänglich darzustellen. Das macht ja auch so keinen Sinn. Wenn es für mich klappt, dann muss es auch erstmal reichen.</span>
<span id="cb58-404"><a href="#cb58-404" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb58-405"><a href="#cb58-405" aria-hidden="true" tabindex="-1"></a>::: {layout="<span class="co">[</span><span class="ot">15,85</span><span class="co">]</span>" layout-valign="top"}</span>
<span id="cb58-406"><a href="#cb58-406" aria-hidden="true" tabindex="-1"></a><span class="al">![](images/personal_opinion.png)</span>{fig-align="center" width="100%"}</span>
<span id="cb58-407"><a href="#cb58-407" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb58-408"><a href="#cb58-408" aria-hidden="true" tabindex="-1"></a><span class="at">&gt; *"Ich persönlich habe eigentlich nie die Schriftarten in `{ggplot}` geändert. Häufig haben wir dann nur die Abbildungen genommen und dann in PowerPoint nochmal die Legenden angepasst, wenn die Schriftarten nicht gepasst haben. Ich halte es eher für ein vorgeschobenes Problem um nicht R und Co. nutzen zu müssen sondern alles in Excel zu machen." --- Jochen Kruppa-Scheetz, meiner bescheidener Meinung nach.*</span></span>
<span id="cb58-409"><a href="#cb58-409" aria-hidden="true" tabindex="-1"></a><span class="at">:::</span></span>
<span id="cb58-410"><a href="#cb58-410" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb58-411"><a href="#cb58-411" aria-hidden="true" tabindex="-1"></a><span class="fu">### Theme anpassen</span></span>
<span id="cb58-412"><a href="#cb58-412" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb58-413"><a href="#cb58-413" aria-hidden="true" tabindex="-1"></a>Am meisten Spaß macht es dann doch nochmal das Thema der <span class="in">`{ggplot}`</span> Abbildung anzupassen. Da geht so einiges wie wir in der Vignette <span class="co">[</span><span class="ot">Modify components of a theme</span><span class="co">](https://ggplot2.tidyverse.org/reference/theme.html)</span> nachlesen können. Ich zeige hier mal die häufigsten Fragen und dann nochmal mein Thema, welches ich hier im Buch verwende.</span>
<span id="cb58-414"><a href="#cb58-414" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb58-415"><a href="#cb58-415" aria-hidden="true" tabindex="-1"></a><span class="fu">#### Position der Legende {.unnumbered .unlisted}</span></span>
<span id="cb58-416"><a href="#cb58-416" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb58-417"><a href="#cb58-417" aria-hidden="true" tabindex="-1"></a>Wo soll die Legende hin? Vielleicht einmal nach oben?</span>
<span id="cb58-418"><a href="#cb58-418" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb58-421"><a href="#cb58-421" aria-hidden="true" tabindex="-1"></a><span class="in">```{r}</span></span>
<span id="cb58-422"><a href="#cb58-422" aria-hidden="true" tabindex="-1"></a><span class="co">#| eval: false</span></span>
<span id="cb58-423"><a href="#cb58-423" aria-hidden="true" tabindex="-1"></a><span class="fu">theme</span>(<span class="at">legend.position =</span> <span class="st">"top"</span>)</span>
<span id="cb58-424"><a href="#cb58-424" aria-hidden="true" tabindex="-1"></a><span class="in">```</span></span>
<span id="cb58-425"><a href="#cb58-425" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb58-426"><a href="#cb58-426" aria-hidden="true" tabindex="-1"></a>Oder soll die Legende gar nicht angezeigt werden?</span>
<span id="cb58-427"><a href="#cb58-427" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb58-430"><a href="#cb58-430" aria-hidden="true" tabindex="-1"></a><span class="in">```{r}</span></span>
<span id="cb58-431"><a href="#cb58-431" aria-hidden="true" tabindex="-1"></a><span class="co">#| eval: false</span></span>
<span id="cb58-432"><a href="#cb58-432" aria-hidden="true" tabindex="-1"></a><span class="fu">theme</span>(<span class="at">legend.position =</span> <span class="st">"none"</span>)</span>
<span id="cb58-433"><a href="#cb58-433" aria-hidden="true" tabindex="-1"></a><span class="in">```</span></span>
<span id="cb58-434"><a href="#cb58-434" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb58-435"><a href="#cb58-435" aria-hidden="true" tabindex="-1"></a>Wenn ein einzelnes <span class="in">`geom_*`</span> nicht angezeigt werden soll, dann kannst du auch den Eintrag in die Legende ausschalten.</span>
<span id="cb58-436"><a href="#cb58-436" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb58-439"><a href="#cb58-439" aria-hidden="true" tabindex="-1"></a><span class="in">```{r}</span></span>
<span id="cb58-440"><a href="#cb58-440" aria-hidden="true" tabindex="-1"></a><span class="co">#| eval: false</span></span>
<span id="cb58-441"><a href="#cb58-441" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb58-442"><a href="#cb58-442" aria-hidden="true" tabindex="-1"></a><span class="fu">geom_point</span>(<span class="at">show.legend =</span> <span class="cn">FALSE</span>)</span>
<span id="cb58-443"><a href="#cb58-443" aria-hidden="true" tabindex="-1"></a><span class="in">```</span></span>
<span id="cb58-444"><a href="#cb58-444" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb58-445"><a href="#cb58-445" aria-hidden="true" tabindex="-1"></a><span class="fu">#### Eigenes Theme {.unnumbered .unlisted}</span></span>
<span id="cb58-446"><a href="#cb58-446" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb58-447"><a href="#cb58-447" aria-hidden="true" tabindex="-1"></a>Wie du in der Vignette <span class="co">[</span><span class="ot">Modify components of a theme</span><span class="co">](https://ggplot2.tidyverse.org/reference/theme.html)</span> nachlesen kannst, geht immer eine Menge, wenn es um die Änderung der Abbildung geht. Ich nutze dann immer folgendes Template, wenn es dann um meine Abbildungen geht. Daher verwende ich dann statt <span class="in">`theme_minimal()`</span> in meinen Abbildungen immer <span class="in">`theme_modeling()`</span>, wenn es um Modelle geht. Ich habe dann noch andere Themen in anderen Kapiteln definiert, aber das hier ist dann mein Template.</span>
<span id="cb58-448"><a href="#cb58-448" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb58-451"><a href="#cb58-451" aria-hidden="true" tabindex="-1"></a><span class="in">```{r}</span></span>
<span id="cb58-452"><a href="#cb58-452" aria-hidden="true" tabindex="-1"></a>theme_modeling <span class="ot">&lt;-</span> <span class="cf">function</span>() {</span>
<span id="cb58-453"><a href="#cb58-453" aria-hidden="true" tabindex="-1"></a>  <span class="fu">theme_minimal</span>() <span class="sc">+</span></span>
<span id="cb58-454"><a href="#cb58-454" aria-hidden="true" tabindex="-1"></a>    <span class="fu">theme</span>(<span class="at">panel.grid.minor =</span> <span class="fu">element_blank</span>(),</span>
<span id="cb58-455"><a href="#cb58-455" aria-hidden="true" tabindex="-1"></a>          <span class="at">plot.title =</span> <span class="fu">element_text</span>(<span class="at">size =</span> <span class="dv">16</span>, <span class="at">face =</span> <span class="st">"bold"</span>),</span>
<span id="cb58-456"><a href="#cb58-456" aria-hidden="true" tabindex="-1"></a>          <span class="at">plot.subtitle =</span> <span class="fu">element_text</span>(<span class="at">size =</span> <span class="dv">12</span>, <span class="at">face =</span> <span class="st">"italic"</span>),</span>
<span id="cb58-457"><a href="#cb58-457" aria-hidden="true" tabindex="-1"></a>          <span class="at">plot.caption =</span> <span class="fu">element_text</span>(<span class="at">face =</span> <span class="st">"italic"</span>),</span>
<span id="cb58-458"><a href="#cb58-458" aria-hidden="true" tabindex="-1"></a>          <span class="at">axis.title =</span> <span class="fu">element_text</span>(<span class="at">size =</span> <span class="dv">12</span>, <span class="at">face =</span> <span class="st">"bold"</span>),</span>
<span id="cb58-459"><a href="#cb58-459" aria-hidden="true" tabindex="-1"></a>          <span class="at">axis.text =</span> <span class="fu">element_text</span>(<span class="at">size =</span> <span class="dv">12</span>),</span>
<span id="cb58-460"><a href="#cb58-460" aria-hidden="true" tabindex="-1"></a>          <span class="at">strip.text =</span> <span class="fu">element_text</span>(<span class="at">face =</span> <span class="st">"bold"</span>))</span>
<span id="cb58-461"><a href="#cb58-461" aria-hidden="true" tabindex="-1"></a>}</span>
<span id="cb58-462"><a href="#cb58-462" aria-hidden="true" tabindex="-1"></a><span class="in">```</span></span>
<span id="cb58-463"><a href="#cb58-463" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb58-464"><a href="#cb58-464" aria-hidden="true" tabindex="-1"></a>Dann können wir uns auch einmal das Template <span class="in">`theme_modeling()`</span> in der folgenden Abbildung anschauen. Ich habe hier einfach etwas angepasst, so dass ich die Abbildung am Ende schöner fand. Das Farbthema ändere ich dann meistens auch noch, aber das ist dann weiter unten Thema.</span>
<span id="cb58-465"><a href="#cb58-465" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb58-468"><a href="#cb58-468" aria-hidden="true" tabindex="-1"></a><span class="in">```{r}</span></span>
<span id="cb58-469"><a href="#cb58-469" aria-hidden="true" tabindex="-1"></a><span class="co">#| warning: false</span></span>
<span id="cb58-470"><a href="#cb58-470" aria-hidden="true" tabindex="-1"></a><span class="co">#| echo: true</span></span>
<span id="cb58-471"><a href="#cb58-471" aria-hidden="true" tabindex="-1"></a><span class="co">#| message: false</span></span>
<span id="cb58-472"><a href="#cb58-472" aria-hidden="true" tabindex="-1"></a><span class="co">#| label: fig-labels-own-theme</span></span>
<span id="cb58-473"><a href="#cb58-473" aria-hidden="true" tabindex="-1"></a><span class="co">#| fig-align: center</span></span>
<span id="cb58-474"><a href="#cb58-474" aria-hidden="true" tabindex="-1"></a><span class="co">#| fig-height: 4</span></span>
<span id="cb58-475"><a href="#cb58-475" aria-hidden="true" tabindex="-1"></a><span class="co">#| fig-width: 7</span></span>
<span id="cb58-476"><a href="#cb58-476" aria-hidden="true" tabindex="-1"></a><span class="co">#| fig-cap: "Beispielhafte Anwendung des Templates `theme_modeling()`. *[Zum Vergrößern anklicken]*"</span></span>
<span id="cb58-477"><a href="#cb58-477" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb58-478"><a href="#cb58-478" aria-hidden="true" tabindex="-1"></a><span class="fu">ggplot</span>(<span class="at">data =</span> ggplot_tbl, <span class="fu">aes</span>(<span class="at">x =</span> feeding, <span class="at">y =</span> jump_length,</span>
<span id="cb58-479"><a href="#cb58-479" aria-hidden="true" tabindex="-1"></a>                              <span class="at">fill =</span> feeding)) <span class="sc">+</span></span>
<span id="cb58-480"><a href="#cb58-480" aria-hidden="true" tabindex="-1"></a>  <span class="fu">theme_modeling</span>() <span class="sc">+</span></span>
<span id="cb58-481"><a href="#cb58-481" aria-hidden="true" tabindex="-1"></a>  <span class="fu">geom_boxplot</span>() <span class="sc">+</span></span>
<span id="cb58-482"><a href="#cb58-482" aria-hidden="true" tabindex="-1"></a>  <span class="fu">scale_x_discrete</span>(<span class="at">labels =</span> <span class="fu">c</span>(<span class="st">"Blut"</span>, <span class="st">"Ketchup"</span>, <span class="st">"Zuckerwasser"</span>)) <span class="sc">+</span></span>
<span id="cb58-483"><a href="#cb58-483" aria-hidden="true" tabindex="-1"></a>  <span class="fu">labs</span>(<span class="at">title =</span> <span class="st">"Ernährungsbedinungen"</span>,</span>
<span id="cb58-484"><a href="#cb58-484" aria-hidden="true" tabindex="-1"></a>       <span class="at">subtitle =</span> <span class="st">"Unterschiedliche Bedingungen für die Sprungweite"</span>,</span>
<span id="cb58-485"><a href="#cb58-485" aria-hidden="true" tabindex="-1"></a>       <span class="at">caption =</span> <span class="st">"Erhoben im Sommer 2022"</span>,</span>
<span id="cb58-486"><a href="#cb58-486" aria-hidden="true" tabindex="-1"></a>       <span class="at">x =</span> <span class="st">"Ernährungsarten"</span>, <span class="at">y =</span> <span class="st">"Sprungweite in [cm]"</span>,</span>
<span id="cb58-487"><a href="#cb58-487" aria-hidden="true" tabindex="-1"></a>       <span class="at">fill =</span> <span class="st">"Ernährung"</span>)</span>
<span id="cb58-488"><a href="#cb58-488" aria-hidden="true" tabindex="-1"></a><span class="in">```</span></span>
<span id="cb58-489"><a href="#cb58-489" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb58-490"><a href="#cb58-490" aria-hidden="true" tabindex="-1"></a><span class="fu">### Abbildungen beschriften</span></span>
<span id="cb58-491"><a href="#cb58-491" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb58-492"><a href="#cb58-492" aria-hidden="true" tabindex="-1"></a>Manchmal willst du auch Abbildungen beschriften. Ich mache das ja hier die ganze Zeit. Alle meine Abbildungen sind in der zweiten Runde dann auf <span class="in">`{ggplot}`</span> umgestellt worden. Ich haben nur noch in alten Kapiteln meine Handzeichnungen drin. Dennoch ist es immer so eine Sache. Dazu dann ein Wort von mir nochmal zum Ende. Hier einmal die beispielhafte Abbildung mit einem Text aus der Funktion <span class="in">`annotate()`</span>. Die Funktion ist sehr mächtig, den wir können so ziemlich jedes <span class="in">`geom_*`</span> auch annotieren. Mehr zur Beschriftung einer <span class="in">`{ggplot}`</span> Abbildung findest du auch im <span class="co">[</span><span class="ot">R Graphics Cookbook</span><span class="co">](https://r-graphics.org/CHAPTER-ANNOTATE.html)</span>.</span>
<span id="cb58-493"><a href="#cb58-493" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb58-496"><a href="#cb58-496" aria-hidden="true" tabindex="-1"></a><span class="in">```{r}</span></span>
<span id="cb58-497"><a href="#cb58-497" aria-hidden="true" tabindex="-1"></a><span class="co">#| warning: false</span></span>
<span id="cb58-498"><a href="#cb58-498" aria-hidden="true" tabindex="-1"></a><span class="co">#| echo: true</span></span>
<span id="cb58-499"><a href="#cb58-499" aria-hidden="true" tabindex="-1"></a><span class="co">#| message: false</span></span>
<span id="cb58-500"><a href="#cb58-500" aria-hidden="true" tabindex="-1"></a><span class="co">#| label: fig-labels-beschriften</span></span>
<span id="cb58-501"><a href="#cb58-501" aria-hidden="true" tabindex="-1"></a><span class="co">#| fig-align: center</span></span>
<span id="cb58-502"><a href="#cb58-502" aria-hidden="true" tabindex="-1"></a><span class="co">#| fig-height: 3</span></span>
<span id="cb58-503"><a href="#cb58-503" aria-hidden="true" tabindex="-1"></a><span class="co">#| fig-width: 7</span></span>
<span id="cb58-504"><a href="#cb58-504" aria-hidden="true" tabindex="-1"></a><span class="co">#| fig-cap: "Beispielhafte Anwendung der Funktion `annotate()` für einen Text und ein Label. *[Zum Vergrößern anklicken]*"</span></span>
<span id="cb58-505"><a href="#cb58-505" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb58-506"><a href="#cb58-506" aria-hidden="true" tabindex="-1"></a><span class="fu">ggplot</span>(<span class="at">data =</span> ggplot_tbl, <span class="fu">aes</span>(<span class="at">x =</span> weight, <span class="at">y =</span> jump_length,</span>
<span id="cb58-507"><a href="#cb58-507" aria-hidden="true" tabindex="-1"></a>                              <span class="at">color =</span> feeding)) <span class="sc">+</span></span>
<span id="cb58-508"><a href="#cb58-508" aria-hidden="true" tabindex="-1"></a>  <span class="fu">theme_minimal</span>() <span class="sc">+</span>  </span>
<span id="cb58-509"><a href="#cb58-509" aria-hidden="true" tabindex="-1"></a>  <span class="fu">geom_point</span>(<span class="at">alpha =</span> <span class="fl">0.5</span>) <span class="sc">+</span></span>
<span id="cb58-510"><a href="#cb58-510" aria-hidden="true" tabindex="-1"></a>  <span class="fu">annotate</span>(<span class="st">"text"</span>, <span class="at">x =</span> <span class="dv">10</span>, <span class="at">y =</span> <span class="dv">100</span>, <span class="at">label =</span> <span class="st">"text"</span>, <span class="at">size =</span> <span class="dv">5</span>,</span>
<span id="cb58-511"><a href="#cb58-511" aria-hidden="true" tabindex="-1"></a>           <span class="at">fontface =</span> <span class="dv">3</span>) <span class="sc">+</span></span>
<span id="cb58-512"><a href="#cb58-512" aria-hidden="true" tabindex="-1"></a>  <span class="fu">annotate</span>(<span class="st">"label"</span>, <span class="at">x =</span> <span class="dv">10</span>, <span class="at">y =</span> <span class="dv">200</span>, <span class="at">label =</span> <span class="st">"text"</span>, <span class="at">size =</span> <span class="dv">5</span>,</span>
<span id="cb58-513"><a href="#cb58-513" aria-hidden="true" tabindex="-1"></a>           <span class="at">fontface =</span> <span class="dv">2</span>) </span>
<span id="cb58-514"><a href="#cb58-514" aria-hidden="true" tabindex="-1"></a><span class="in">```</span></span>
<span id="cb58-515"><a href="#cb58-515" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb58-516"><a href="#cb58-516" aria-hidden="true" tabindex="-1"></a>Wir haben mit der <span class="in">`fontface`</span>-Option in <span class="in">`element_text()`</span> die Möglichkeit auch die Schriften anzupassen. Dabei ist es dann die folgende Reihenfolge oder eben der Begriff.</span>
<span id="cb58-517"><a href="#cb58-517" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb58-520"><a href="#cb58-520" aria-hidden="true" tabindex="-1"></a><span class="in">```{r}</span></span>
<span id="cb58-521"><a href="#cb58-521" aria-hidden="true" tabindex="-1"></a><span class="co">#| warning: false</span></span>
<span id="cb58-522"><a href="#cb58-522" aria-hidden="true" tabindex="-1"></a><span class="co">#| echo: false</span></span>
<span id="cb58-523"><a href="#cb58-523" aria-hidden="true" tabindex="-1"></a><span class="co">#| message: false</span></span>
<span id="cb58-524"><a href="#cb58-524" aria-hidden="true" tabindex="-1"></a><span class="co">#| label: fig-labels-beschriften-0</span></span>
<span id="cb58-525"><a href="#cb58-525" aria-hidden="true" tabindex="-1"></a><span class="co">#| fig-align: center</span></span>
<span id="cb58-526"><a href="#cb58-526" aria-hidden="true" tabindex="-1"></a><span class="co">#| fig-height: 0.75</span></span>
<span id="cb58-527"><a href="#cb58-527" aria-hidden="true" tabindex="-1"></a><span class="co">#| fig-width: 7</span></span>
<span id="cb58-528"><a href="#cb58-528" aria-hidden="true" tabindex="-1"></a><span class="co">#| fig-cap: "Zuordnung der Zahlen und Begrifflichkeiten in der `fontface`-Option. *[Zum Vergrößern anklicken]*"</span></span>
<span id="cb58-529"><a href="#cb58-529" aria-hidden="true" tabindex="-1"></a>df <span class="ot">&lt;-</span> <span class="fu">data.frame</span>(<span class="at">x =</span> <span class="dv">1</span><span class="sc">:</span><span class="dv">4</span>, <span class="at">fontface =</span> <span class="fu">c</span>(<span class="st">"plain"</span>, <span class="st">"bold"</span>, <span class="st">"italic"</span>, <span class="st">"bold.italic"</span>))</span>
<span id="cb58-530"><a href="#cb58-530" aria-hidden="true" tabindex="-1"></a><span class="fu">ggplot</span>(df, <span class="fu">aes</span>(x, <span class="dv">1</span>)) <span class="sc">+</span></span>
<span id="cb58-531"><a href="#cb58-531" aria-hidden="true" tabindex="-1"></a>  <span class="fu">geom_text</span>(<span class="fu">aes</span>(<span class="at">label =</span> fontface, <span class="at">fontface =</span> fontface),</span>
<span id="cb58-532"><a href="#cb58-532" aria-hidden="true" tabindex="-1"></a>            <span class="at">size =</span> <span class="dv">5</span>) <span class="sc">+</span></span>
<span id="cb58-533"><a href="#cb58-533" aria-hidden="true" tabindex="-1"></a>  <span class="fu">xlim</span>(<span class="fl">0.5</span>, <span class="fl">4.5</span>) <span class="sc">+</span></span>
<span id="cb58-534"><a href="#cb58-534" aria-hidden="true" tabindex="-1"></a>  <span class="fu">theme_minimal</span>() <span class="sc">+</span></span>
<span id="cb58-535"><a href="#cb58-535" aria-hidden="true" tabindex="-1"></a>  <span class="fu">theme</span>(<span class="at">panel.grid =</span> <span class="fu">element_blank</span>(),</span>
<span id="cb58-536"><a href="#cb58-536" aria-hidden="true" tabindex="-1"></a>        <span class="at">axis.text.y =</span> <span class="fu">element_blank</span>(),</span>
<span id="cb58-537"><a href="#cb58-537" aria-hidden="true" tabindex="-1"></a>        <span class="at">axis.title =</span>  <span class="fu">element_blank</span>(),</span>
<span id="cb58-538"><a href="#cb58-538" aria-hidden="true" tabindex="-1"></a>        <span class="at">axis.text.x =</span> <span class="fu">element_text</span>(<span class="at">size =</span> <span class="dv">14</span>))</span>
<span id="cb58-539"><a href="#cb58-539" aria-hidden="true" tabindex="-1"></a><span class="in">```</span></span>
<span id="cb58-540"><a href="#cb58-540" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb58-541"><a href="#cb58-541" aria-hidden="true" tabindex="-1"></a>Manchmal zeichne ich dann auch gerne mal eine Kurve oder eine Linie ein. Dafür haben wir dann die Funktionen <span class="in">`geom_curve()`</span> und <span class="in">`geom_segment()`</span>. Das sind dann aber schon eher die Besonderheiten in <span class="in">`{ggplot}`</span>. Statt der Funktionen mit <span class="in">`geom`</span> können wir dann auch die Funktionen mit <span class="in">`annotate()`</span> anwählen.</span>
<span id="cb58-542"><a href="#cb58-542" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb58-545"><a href="#cb58-545" aria-hidden="true" tabindex="-1"></a><span class="in">```{r}</span></span>
<span id="cb58-546"><a href="#cb58-546" aria-hidden="true" tabindex="-1"></a><span class="co">#| warning: false</span></span>
<span id="cb58-547"><a href="#cb58-547" aria-hidden="true" tabindex="-1"></a><span class="co">#| echo: true</span></span>
<span id="cb58-548"><a href="#cb58-548" aria-hidden="true" tabindex="-1"></a><span class="co">#| message: false</span></span>
<span id="cb58-549"><a href="#cb58-549" aria-hidden="true" tabindex="-1"></a><span class="co">#| label: fig-labels-beschriften-mitpfeil</span></span>
<span id="cb58-550"><a href="#cb58-550" aria-hidden="true" tabindex="-1"></a><span class="co">#| fig-align: center</span></span>
<span id="cb58-551"><a href="#cb58-551" aria-hidden="true" tabindex="-1"></a><span class="co">#| fig-height: 3</span></span>
<span id="cb58-552"><a href="#cb58-552" aria-hidden="true" tabindex="-1"></a><span class="co">#| fig-width: 7</span></span>
<span id="cb58-553"><a href="#cb58-553" aria-hidden="true" tabindex="-1"></a><span class="co">#| fig-cap: "Beispielhafte Darstellung eines Pfeils und einer Linie. *[Zum Vergrößern anklicken]*"</span></span>
<span id="cb58-554"><a href="#cb58-554" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb58-555"><a href="#cb58-555" aria-hidden="true" tabindex="-1"></a><span class="fu">ggplot</span>(<span class="at">data =</span> ggplot_tbl, <span class="fu">aes</span>(<span class="at">x =</span> weight, <span class="at">y =</span> jump_length,</span>
<span id="cb58-556"><a href="#cb58-556" aria-hidden="true" tabindex="-1"></a>                              <span class="at">color =</span> feeding)) <span class="sc">+</span></span>
<span id="cb58-557"><a href="#cb58-557" aria-hidden="true" tabindex="-1"></a>  <span class="fu">theme_minimal</span>() <span class="sc">+</span>  </span>
<span id="cb58-558"><a href="#cb58-558" aria-hidden="true" tabindex="-1"></a>  <span class="fu">geom_point</span>(<span class="at">alpha =</span> <span class="fl">0.5</span>) <span class="sc">+</span></span>
<span id="cb58-559"><a href="#cb58-559" aria-hidden="true" tabindex="-1"></a>  <span class="fu">geom_curve</span>(<span class="fu">aes</span>(<span class="at">x =</span> <span class="dv">12</span>, <span class="at">y =</span> <span class="dv">100</span>, <span class="at">xend =</span> <span class="dv">15</span>, <span class="at">yend =</span> <span class="dv">150</span>),</span>
<span id="cb58-560"><a href="#cb58-560" aria-hidden="true" tabindex="-1"></a>             <span class="at">arrow =</span> <span class="fu">arrow</span>(<span class="at">length =</span> <span class="fu">unit</span>(<span class="fl">0.3</span>, <span class="st">"cm"</span>), <span class="at">type =</span> <span class="st">"closed"</span>),</span>
<span id="cb58-561"><a href="#cb58-561" aria-hidden="true" tabindex="-1"></a>             <span class="at">color =</span> <span class="st">"blue"</span>,</span>
<span id="cb58-562"><a href="#cb58-562" aria-hidden="true" tabindex="-1"></a>             <span class="at">size =</span> <span class="fl">0.75</span>,</span>
<span id="cb58-563"><a href="#cb58-563" aria-hidden="true" tabindex="-1"></a>             <span class="at">curvature =</span> <span class="fl">0.3</span>) <span class="sc">+</span></span>
<span id="cb58-564"><a href="#cb58-564" aria-hidden="true" tabindex="-1"></a>  <span class="fu">geom_segment</span>(<span class="fu">aes</span>(<span class="at">x =</span> <span class="dv">5</span>, <span class="at">xend =</span> <span class="dv">25</span>, <span class="at">y =</span> <span class="dv">50</span>, <span class="at">yend =</span> <span class="dv">100</span>), <span class="at">color =</span> <span class="st">"black"</span>)</span>
<span id="cb58-565"><a href="#cb58-565" aria-hidden="true" tabindex="-1"></a><span class="in">```</span></span>
<span id="cb58-566"><a href="#cb58-566" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb58-567"><a href="#cb58-567" aria-hidden="true" tabindex="-1"></a>Die Beschriftung von Abbildungen ist in dem Buch <span class="co">[</span><span class="ot">ggplot2: Elegant Graphics for Data Analysis (3e)</span><span class="co">](https://ggplot2-book.org/annotations.html)</span> super beschrieben. Aber auch hier muss man dann immer überlegen, ob sich der Aufwand dann lohnt. Das <span class="co">[</span><span class="ot">R Graphics Cookbook</span><span class="co">](https://r-graphics.org/CHAPTER-ANNOTATE.html)</span> liefert hier auch nochmal Inspirationen. Manchmal ist der Zeitaufwand aber sehr hoch und du könntest es auch schneller mit PowerPoint lösen. Das mag in einer Abschlussarbeit mal eine gute Idee sein.</span>
<span id="cb58-568"><a href="#cb58-568" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb58-569"><a href="#cb58-569" aria-hidden="true" tabindex="-1"></a>::: {layout="<span class="co">[</span><span class="ot">15,85</span><span class="co">]</span>" layout-valign="top"}</span>
<span id="cb58-570"><a href="#cb58-570" aria-hidden="true" tabindex="-1"></a><span class="al">![](images/personal_opinion.png)</span>{fig-align="center" width="100%"}</span>
<span id="cb58-571"><a href="#cb58-571" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb58-572"><a href="#cb58-572" aria-hidden="true" tabindex="-1"></a><span class="at">&gt; *"Macht es überhaupt Sinn? Wenn du nur ein paar Abbildungen mit einem Pfeil versehen willst, dann würde ich dir immer den Weg über PowerPoint empfehlen. Dann kannst du dort deine Abbildung exportieren und im Zweifel zuschneiden. Das geht viel schneller als sich hier mit der Annotation in `{ggplot}` zu quälen. Aber ja, es ist sehr befriedigend, wenn es dann geklappt hat..." --- Jochen Kruppa-Scheetz, meiner bescheidener Meinung nach.*</span></span>
<span id="cb58-573"><a href="#cb58-573" aria-hidden="true" tabindex="-1"></a><span class="at">:::</span></span>
<span id="cb58-574"><a href="#cb58-574" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb58-575"><a href="#cb58-575" aria-hidden="true" tabindex="-1"></a><span class="fu">### Keine Lücke auf der y-Achse</span></span>
<span id="cb58-576"><a href="#cb58-576" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb58-577"><a href="#cb58-577" aria-hidden="true" tabindex="-1"></a>Wenn du dir einen Barplot baust, dann hast du das Problem, dass auf der y-Achse eine kliene Lücke zu der x-Achse vorliegt. Das mag unangenehm sein. Deshalb können wir diese Lücke auch entfernen. Zuerst nochmal schnell die Daten zusammengefasst.</span>
<span id="cb58-578"><a href="#cb58-578" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb58-581"><a href="#cb58-581" aria-hidden="true" tabindex="-1"></a><span class="in">```{r}</span></span>
<span id="cb58-582"><a href="#cb58-582" aria-hidden="true" tabindex="-1"></a>stats_tbl <span class="ot">&lt;-</span> ggplot_tbl <span class="sc">|&gt;</span> </span>
<span id="cb58-583"><a href="#cb58-583" aria-hidden="true" tabindex="-1"></a>  <span class="fu">group_by</span>(feeding) <span class="sc">|&gt;</span> </span>
<span id="cb58-584"><a href="#cb58-584" aria-hidden="true" tabindex="-1"></a>  <span class="fu">summarise</span>(<span class="at">mean =</span> <span class="fu">mean</span>(jump_length))</span>
<span id="cb58-585"><a href="#cb58-585" aria-hidden="true" tabindex="-1"></a><span class="in">```</span></span>
<span id="cb58-586"><a href="#cb58-586" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb58-587"><a href="#cb58-587" aria-hidden="true" tabindex="-1"></a>Dann können wir uns auch schon die Abbildung bauen und dabei dann die Option <span class="in">`expand = expansion(0)`</span> setzen. Damit haben wir dann keine Lücke mehr in unserer Abbildung.</span>
<span id="cb58-588"><a href="#cb58-588" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb58-591"><a href="#cb58-591" aria-hidden="true" tabindex="-1"></a><span class="in">```{r}</span></span>
<span id="cb58-592"><a href="#cb58-592" aria-hidden="true" tabindex="-1"></a><span class="co">#| warning: false</span></span>
<span id="cb58-593"><a href="#cb58-593" aria-hidden="true" tabindex="-1"></a><span class="co">#| echo: true</span></span>
<span id="cb58-594"><a href="#cb58-594" aria-hidden="true" tabindex="-1"></a><span class="co">#| message: false</span></span>
<span id="cb58-595"><a href="#cb58-595" aria-hidden="true" tabindex="-1"></a><span class="co">#| label: fig-labels-zero</span></span>
<span id="cb58-596"><a href="#cb58-596" aria-hidden="true" tabindex="-1"></a><span class="co">#| fig-align: center</span></span>
<span id="cb58-597"><a href="#cb58-597" aria-hidden="true" tabindex="-1"></a><span class="co">#| fig-height: 3</span></span>
<span id="cb58-598"><a href="#cb58-598" aria-hidden="true" tabindex="-1"></a><span class="co">#| fig-width: 7</span></span>
<span id="cb58-599"><a href="#cb58-599" aria-hidden="true" tabindex="-1"></a><span class="co">#| fig-cap: "Beispielhafter ohne Lücke auf der y-Achse zu der x-Achse. *[Zum Vergrößern anklicken]*"</span></span>
<span id="cb58-600"><a href="#cb58-600" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb58-601"><a href="#cb58-601" aria-hidden="true" tabindex="-1"></a><span class="fu">ggplot</span>(stats_tbl, <span class="fu">aes</span>(<span class="at">x =</span> feeding, <span class="at">y =</span> mean)) <span class="sc">+</span></span>
<span id="cb58-602"><a href="#cb58-602" aria-hidden="true" tabindex="-1"></a>  <span class="fu">theme_minimal</span>() <span class="sc">+</span></span>
<span id="cb58-603"><a href="#cb58-603" aria-hidden="true" tabindex="-1"></a>  <span class="fu">geom_bar</span>(<span class="at">stat =</span> <span class="st">"identity"</span>) <span class="sc">+</span> </span>
<span id="cb58-604"><a href="#cb58-604" aria-hidden="true" tabindex="-1"></a>  <span class="fu">scale_y_continuous</span>(<span class="at">expand =</span> <span class="fu">expansion</span>(<span class="dv">0</span>)) </span>
<span id="cb58-605"><a href="#cb58-605" aria-hidden="true" tabindex="-1"></a><span class="in">```</span></span>
<span id="cb58-606"><a href="#cb58-606" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb58-607"><a href="#cb58-607" aria-hidden="true" tabindex="-1"></a><span class="fu">### Abbildungen nebeneinander {#sec-abbildung-nebeneinander}</span></span>
<span id="cb58-608"><a href="#cb58-608" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb58-609"><a href="#cb58-609" aria-hidden="true" tabindex="-1"></a>Das <span class="co">[</span><span class="ot">R Paket `{patchwork}`</span><span class="co">](https://patchwork.data-imaginist.com/articles/patchwork.html)</span> erlaubt es mehrere <span class="in">`ggplot`</span> Abbildungen nebeneinander oder in einem beliebigen Layout miteinander zu verbinden. Das tolle ist, dass die Idee sehr intuitiv ist. Wir nutzen wieder das <span class="in">`+`</span> um verschiedene Plots miteinander zu verbinden. Im Folgenden erschaffen wir uns zwei <span class="in">`ggplots`</span> und speichern die Plots in den Objekten <span class="in">`p1`</span> und <span class="in">`p2`</span>. Das ist wie wir es bisher kennen, nur das jetzt keine Abbildung erscheint sondern beide Plots in zwei Objekten gespeichert sind.</span>
<span id="cb58-610"><a href="#cb58-610" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb58-613"><a href="#cb58-613" aria-hidden="true" tabindex="-1"></a><span class="in">```{r}</span></span>
<span id="cb58-614"><a href="#cb58-614" aria-hidden="true" tabindex="-1"></a><span class="co">#| warning: false</span></span>
<span id="cb58-615"><a href="#cb58-615" aria-hidden="true" tabindex="-1"></a><span class="co">#| echo: true</span></span>
<span id="cb58-616"><a href="#cb58-616" aria-hidden="true" tabindex="-1"></a><span class="co">#| message: false</span></span>
<span id="cb58-617"><a href="#cb58-617" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb58-618"><a href="#cb58-618" aria-hidden="true" tabindex="-1"></a>p1 <span class="ot">&lt;-</span> <span class="fu">ggplot</span>(<span class="at">data =</span> ggplot_tbl, </span>
<span id="cb58-619"><a href="#cb58-619" aria-hidden="true" tabindex="-1"></a>             <span class="fu">aes</span>(<span class="at">x =</span> weight, <span class="at">y =</span> jump_length,</span>
<span id="cb58-620"><a href="#cb58-620" aria-hidden="true" tabindex="-1"></a>                 <span class="at">color =</span> feeding)) <span class="sc">+</span></span>
<span id="cb58-621"><a href="#cb58-621" aria-hidden="true" tabindex="-1"></a>  <span class="fu">geom_point</span>() <span class="sc">+</span></span>
<span id="cb58-622"><a href="#cb58-622" aria-hidden="true" tabindex="-1"></a>  <span class="fu">scale_color_okabeito</span>() <span class="sc">+</span></span>
<span id="cb58-623"><a href="#cb58-623" aria-hidden="true" tabindex="-1"></a>  <span class="fu">theme_minimal</span>()</span>
<span id="cb58-624"><a href="#cb58-624" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb58-625"><a href="#cb58-625" aria-hidden="true" tabindex="-1"></a>p2 <span class="ot">&lt;-</span> <span class="fu">ggplot</span>(<span class="at">data =</span> ggplot_tbl, </span>
<span id="cb58-626"><a href="#cb58-626" aria-hidden="true" tabindex="-1"></a>                <span class="fu">aes</span>(<span class="at">x =</span> feeding, <span class="at">y =</span> jump_length,</span>
<span id="cb58-627"><a href="#cb58-627" aria-hidden="true" tabindex="-1"></a>                    <span class="at">color =</span> feeding)) <span class="sc">+</span></span>
<span id="cb58-628"><a href="#cb58-628" aria-hidden="true" tabindex="-1"></a>  <span class="fu">geom_point</span>() <span class="sc">+</span></span>
<span id="cb58-629"><a href="#cb58-629" aria-hidden="true" tabindex="-1"></a>  <span class="fu">scale_color_okabeito</span>() <span class="sc">+</span></span>
<span id="cb58-630"><a href="#cb58-630" aria-hidden="true" tabindex="-1"></a>  <span class="fu">theme_minimal</span>()</span>
<span id="cb58-631"><a href="#cb58-631" aria-hidden="true" tabindex="-1"></a><span class="in">```</span></span>
<span id="cb58-632"><a href="#cb58-632" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb58-633"><a href="#cb58-633" aria-hidden="true" tabindex="-1"></a>Wie können wir nun die beiden Abbildungen nebeneinander zeichnen? Wir nutzen einfach das <span class="in">`+`</span> Symbol.</span>
<span id="cb58-634"><a href="#cb58-634" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb58-637"><a href="#cb58-637" aria-hidden="true" tabindex="-1"></a><span class="in">```{r}</span></span>
<span id="cb58-638"><a href="#cb58-638" aria-hidden="true" tabindex="-1"></a><span class="co">#| warning: false</span></span>
<span id="cb58-639"><a href="#cb58-639" aria-hidden="true" tabindex="-1"></a><span class="co">#| echo: true</span></span>
<span id="cb58-640"><a href="#cb58-640" aria-hidden="true" tabindex="-1"></a><span class="co">#| message: false</span></span>
<span id="cb58-641"><a href="#cb58-641" aria-hidden="true" tabindex="-1"></a><span class="co">#| eval: true</span></span>
<span id="cb58-642"><a href="#cb58-642" aria-hidden="true" tabindex="-1"></a><span class="co">#| label: fig-labels-patchwork-1</span></span>
<span id="cb58-643"><a href="#cb58-643" aria-hidden="true" tabindex="-1"></a><span class="co">#| fig-align: center</span></span>
<span id="cb58-644"><a href="#cb58-644" aria-hidden="true" tabindex="-1"></a><span class="co">#| fig-height: 3</span></span>
<span id="cb58-645"><a href="#cb58-645" aria-hidden="true" tabindex="-1"></a><span class="co">#| fig-width: 9</span></span>
<span id="cb58-646"><a href="#cb58-646" aria-hidden="true" tabindex="-1"></a><span class="co">#| fig-cap: "Beispielhafte Abbildung der zweier Plots nebeneinander für die Sprungweite und zwei Einflussvariablen. **(A)** Zusammenhang zwischen dem Gewicht und der Sprungweite. **(B)** Zusammenhang der Ernährungsart und der Sprungweite. *[Zum Vergrößern anklicken]*"</span></span>
<span id="cb58-647"><a href="#cb58-647" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb58-648"><a href="#cb58-648" aria-hidden="true" tabindex="-1"></a>p1 <span class="sc">+</span> p2 <span class="sc">+</span></span>
<span id="cb58-649"><a href="#cb58-649" aria-hidden="true" tabindex="-1"></a>  <span class="fu">plot_layout</span>(<span class="at">ncol =</span> <span class="dv">2</span>) <span class="sc">+</span></span>
<span id="cb58-650"><a href="#cb58-650" aria-hidden="true" tabindex="-1"></a>  <span class="fu">plot_annotation</span>(<span class="at">tag_levels =</span> <span class="st">'A'</span>, <span class="at">tag_prefix =</span> <span class="st">'('</span>, <span class="at">tag_suffix =</span> <span class="st">')'</span>) <span class="sc">&amp;</span></span>
<span id="cb58-651"><a href="#cb58-651" aria-hidden="true" tabindex="-1"></a>  <span class="fu">theme</span>(<span class="at">plot.tag =</span> <span class="fu">element_text</span>(<span class="at">size =</span> <span class="dv">16</span>, <span class="at">face =</span> <span class="st">"bold"</span>))</span>
<span id="cb58-652"><a href="#cb58-652" aria-hidden="true" tabindex="-1"></a><span class="in">```</span></span>
<span id="cb58-653"><a href="#cb58-653" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb58-654"><a href="#cb58-654" aria-hidden="true" tabindex="-1"></a>Auf der Seite des <span class="co">[</span><span class="ot">R Paket `{patchwork}`</span><span class="co">](https://patchwork.data-imaginist.com/articles/patchwork.html)</span> findest du viel mehr Möglichkeiten das Layout anzupassen und auch die einzelnen <span class="co">[</span><span class="ot">Subplots zu beschriften</span><span class="co">](https://patchwork.data-imaginist.com/articles/guides/annotation.html)</span>.</span>
<span id="cb58-655"><a href="#cb58-655" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb58-656"><a href="#cb58-656" aria-hidden="true" tabindex="-1"></a><span class="fu">### Abbildungen abspeichern</span></span>
<span id="cb58-657"><a href="#cb58-657" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb58-658"><a href="#cb58-658" aria-hidden="true" tabindex="-1"></a>Wenn du eine Abbildung abspeichern willst, dann musst du nur nach dem <span class="in">`ggplot`</span>-Code die Funktion <span class="in">`ggsave()`</span> setzen. Wie du im hier im Folgenden siehst, speichere ich die Abbildung der Boxplots der Hunde- und Katzenflöhe einmal in der Datei <span class="in">`flea_dog_boxplot.png`</span> ab. Dabei wähle ich eine Breite <span class="in">`width`</span> und eine Höhe <span class="in">`height`</span> von jeweils 5. Du musst dann immer etwas spielen, je größer die Zahlen, desto größer die Abbildung und die Auflösung.</span>
<span id="cb58-659"><a href="#cb58-659" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb58-662"><a href="#cb58-662" aria-hidden="true" tabindex="-1"></a><span class="in">```{r}</span></span>
<span id="cb58-663"><a href="#cb58-663" aria-hidden="true" tabindex="-1"></a><span class="co">#| warning: false</span></span>
<span id="cb58-664"><a href="#cb58-664" aria-hidden="true" tabindex="-1"></a><span class="co">#| echo: true</span></span>
<span id="cb58-665"><a href="#cb58-665" aria-hidden="true" tabindex="-1"></a><span class="co">#| eval: false</span></span>
<span id="cb58-666"><a href="#cb58-666" aria-hidden="true" tabindex="-1"></a><span class="co">#| message: false</span></span>
<span id="cb58-667"><a href="#cb58-667" aria-hidden="true" tabindex="-1"></a><span class="co">#| label: fig-save</span></span>
<span id="cb58-668"><a href="#cb58-668" aria-hidden="true" tabindex="-1"></a><span class="co">#| fig-align: center</span></span>
<span id="cb58-669"><a href="#cb58-669" aria-hidden="true" tabindex="-1"></a><span class="co">#| fig-height: 3</span></span>
<span id="cb58-670"><a href="#cb58-670" aria-hidden="true" tabindex="-1"></a><span class="co">#| fig-width: 7</span></span>
<span id="cb58-671"><a href="#cb58-671" aria-hidden="true" tabindex="-1"></a><span class="co">#| fig-cap: "Beispielhafte Abspeicherung einer Abbdilung mit `ggsave()`. *[Zum Vergrößern anklicken]*"</span></span>
<span id="cb58-672"><a href="#cb58-672" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb58-673"><a href="#cb58-673" aria-hidden="true" tabindex="-1"></a><span class="fu">ggplot</span>(<span class="at">data =</span> ggplot_tbl, </span>
<span id="cb58-674"><a href="#cb58-674" aria-hidden="true" tabindex="-1"></a>       <span class="fu">aes</span>(<span class="at">x =</span> feeding, <span class="at">y =</span> jump_length)) <span class="sc">+</span></span>
<span id="cb58-675"><a href="#cb58-675" aria-hidden="true" tabindex="-1"></a>  <span class="fu">geom_boxplot</span>() </span>
<span id="cb58-676"><a href="#cb58-676" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb58-677"><a href="#cb58-677" aria-hidden="true" tabindex="-1"></a><span class="do">## Abspeichern des obigen ggplots  </span></span>
<span id="cb58-678"><a href="#cb58-678" aria-hidden="true" tabindex="-1"></a><span class="fu">ggsave</span>(<span class="st">"feeding_boxplot.png"</span>, <span class="at">width =</span> <span class="dv">5</span>, <span class="at">height =</span> <span class="dv">5</span>)</span>
<span id="cb58-679"><a href="#cb58-679" aria-hidden="true" tabindex="-1"></a><span class="in">```</span></span>
<span id="cb58-680"><a href="#cb58-680" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb58-681"><a href="#cb58-681" aria-hidden="true" tabindex="-1"></a>Wie immer hilft auch die <span class="co">[</span><span class="ot">Hilfeseite von `ggsave()`</span><span class="co">](https://ggplot2.tidyverse.org/reference/ggsave.html)</span> weiter, wenn es um mehr Optionen und Qualität der Abbildungen geht und natürlich das Kapitel im Buch <span class="co">[</span><span class="ot">ggplot2: Elegant Graphics for Data Analysis (3e)</span><span class="co">](https://ggplot2-book.org/themes.html#sec-saving)</span> wo wir nochmal über verschiedene Formate wie PDF und PNG aufgeklärt werden.</span>
<span id="cb58-682"><a href="#cb58-682" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb58-683"><a href="#cb58-683" aria-hidden="true" tabindex="-1"></a><span class="fu">### Mathematische Ausdrücke {#sec-eda-tex}</span></span>
<span id="cb58-684"><a href="#cb58-684" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb58-685"><a href="#cb58-685" aria-hidden="true" tabindex="-1"></a>Häufig wollen wir nicht nur einfache Achsenbeschriftungen haben, sondern auch irgendwie komplexere Einheiten wie Eisendüngergehalt im Boden in $<span class="co">[</span><span class="ot">kg\, ha</span><span class="co">]</span>^{-1}$ darstellen. Jetzt soll die Einheit auch in dieser Form mit in die Achsenbeschriftung. Wir können dafür zwei Wege wählen. Einmal über das R Paket <span class="in">`{latex2exp}`</span> und die Funktion <span class="in">`TeX()`</span> oder aber die Funktion <span class="in">`expression()`</span>, wofür wir dann kein eigenes R Paket brauchen. Beide Wege haben Vor- und Nachteile. Wir gehen aber beide mal durch. Mehr Informationen durch das Tutorium <span class="co">[</span><span class="ot">Using latex2exp</span><span class="co">](https://cran.r-project.org/web/packages/latex2exp/vignettes/using-latex2exp.html)</span> oder aber eben der Klassiker mit <span class="co">[</span><span class="ot">Plot math expression</span><span class="co">](https://stat.ethz.ch/R-manual/R-patched/library/grDevices/html/plotmath.html)</span>.</span>
<span id="cb58-686"><a href="#cb58-686" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb58-687"><a href="#cb58-687" aria-hidden="true" tabindex="-1"></a>Wir können die Funktion <span class="in">`expression()`</span> nutzen um uns mathematische Formeln zu bauen. Leider ist das Ganze etwas frickelig und auch ich brauche immer drei Anläufe, bis die Formel dann passt. Im Folgenden aber einmal zwei Beispiel für mathematische Formeln und Ausdrücke. Beachte, dass du jedes Leerzeichen durch eine Tilde <span class="in">`~`</span> abbilden musst. Ich nutze die Funktion <span class="in">`expression()`</span> sehr selten und nur wenn die Formel wirklich sehr einfach ist. Da wir aber schon mit eckigen Klammern Probleme kriegen und diese so nervig mit <span class="in">`"`</span> einklammern müssen, nutze ich dann das Paket <span class="in">`{latex2exp}`</span> was ich im Folgenden vorstellen werde.</span>
<span id="cb58-688"><a href="#cb58-688" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb58-689"><a href="#cb58-689" aria-hidden="true" tabindex="-1"></a>Hier aber erstmal zwei Beispiele für eine Formel mit der Funktion <span class="in">`expression()`</span>. Wenn du mehr über die Möglichkeiten wissen willst, dann schauen auch einmal auf die Hilfeseite von <span class="co">[</span><span class="ot">Plot math</span><span class="co">](https://stat.ethz.ch/R-manual/R-patched/library/grDevices/html/plotmath.html)</span> oder du googelst dir die Lösung wie ich früher zusammen.</span>
<span id="cb58-690"><a href="#cb58-690" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb58-693"><a href="#cb58-693" aria-hidden="true" tabindex="-1"></a><span class="in">```{r}</span></span>
<span id="cb58-694"><a href="#cb58-694" aria-hidden="true" tabindex="-1"></a><span class="co">#| warning: false</span></span>
<span id="cb58-695"><a href="#cb58-695" aria-hidden="true" tabindex="-1"></a><span class="co">#| echo: true</span></span>
<span id="cb58-696"><a href="#cb58-696" aria-hidden="true" tabindex="-1"></a><span class="co">#| message: false</span></span>
<span id="cb58-697"><a href="#cb58-697" aria-hidden="true" tabindex="-1"></a><span class="co">#| fig-align: center</span></span>
<span id="cb58-698"><a href="#cb58-698" aria-hidden="true" tabindex="-1"></a><span class="co">#| fig-height: 2</span></span>
<span id="cb58-699"><a href="#cb58-699" aria-hidden="true" tabindex="-1"></a><span class="co">#| fig-width: 5</span></span>
<span id="cb58-700"><a href="#cb58-700" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb58-701"><a href="#cb58-701" aria-hidden="true" tabindex="-1"></a><span class="fu">plot</span>(<span class="fu">expression</span>(Eisendüngeform<span class="sc">~</span>und<span class="sc">~-</span>höhe<span class="sc">~</span><span class="st">"[kg ha]"</span><span class="sc">^-</span><span class="dv">1</span>), <span class="at">cex =</span> <span class="fl">1.5</span>, <span class="at">main =</span> <span class="st">""</span>)</span>
<span id="cb58-702"><a href="#cb58-702" aria-hidden="true" tabindex="-1"></a><span class="fu">plot</span>(<span class="fu">expression</span>(Fe<span class="sc">-</span>Gehalt<span class="sc">~</span><span class="st">"["</span><span class="sc">~</span>mg<span class="sc">%.%</span>(kg<span class="sc">~</span>TM)<span class="sc">^-</span><span class="dv">1</span><span class="sc">~</span><span class="st">"]"</span>), <span class="at">cex =</span> <span class="fl">1.5</span>, <span class="at">main =</span> <span class="st">""</span>)</span>
<span id="cb58-703"><a href="#cb58-703" aria-hidden="true" tabindex="-1"></a><span class="in">```</span></span>
<span id="cb58-704"><a href="#cb58-704" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb58-705"><a href="#cb58-705" aria-hidden="true" tabindex="-1"></a>Für mich ausdrücklich einfacher geht es mit dem R Paket <span class="in">`{latex2exp}`</span> und der Funktion <span class="in">`TeX()`</span> sowie die Helferfunktion <span class="in">`r"()"`</span>. Ja, hier muss man dann noch eine andere Programmiersprache kennen, aber wie immer, du wirst nur schlauer. Die Informationen zur Matheumgebung in $\LaTeX$ kommen dann nochmal extra zwischen zwei Dollarzeichen <span class="in">`$`</span>. Ja, das ist etwas wirr für einen Anfänger, aber wir nutzen hier auch zwei Programmiersprachen zusammen. Zum einen $\LaTeX$ um die Mathesymbole sauber darzustellen und dann R um die Abbildungen in <span class="in">`ggplot()`</span> zu bauen. Mehr Informationen zu der Matheumgebung in $\LaTeX$ findest du einmal in der <span class="co">[</span><span class="ot">LaTeX Mathehilfe I</span><span class="co">](https://de.wikipedia.org/wiki/Hilfe:TeX)</span> sowie der <span class="co">[</span><span class="ot">LaTeX Mathehilfe II</span><span class="co">](https://en.wikibooks.org/wiki/LaTeX/Mathematics)</span>.</span>
<span id="cb58-706"><a href="#cb58-706" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb58-707"><a href="#cb58-707" aria-hidden="true" tabindex="-1"></a>Wie bauen wir uns also unseren mathematischen Ausdruck? Als erstes brauchen wir die Funktion <span class="in">`Tex()`</span>, die sagt einfach nur aus, dass jetzt $\LaTeX$-Code kommt. Dann wollen wir noch einen String brauen in dem der $\LaTeX$-Code für unseren mathematischen Ausdruck drin steht. Diesen String bauen wir mit <span class="in">`r"()"`</span>. Achtung, hier ist das Gänsefüßchen oben und unten vor und nach der runden Klammer sehr wichtig. In den Ausdruck können wir dann Text schreiben <span class="in">`Eisengehalt`</span> oder aber einen mathematischen Ausdruck abgrenzt von zwei Dollarzeichen <span class="in">`$`</span> wie <span class="in">`$[kg\, ha]^{-1}$`</span>. $\LaTeX$ kann nämlich nicht nur mathematische Ausdrücke sondern ist eigentlich ein Textverarbeitungsprogramm. Deshalb musst du hier *nochmal* zwischen Text und mathematischen Ausdruck unterscheiden.</span>
<span id="cb58-708"><a href="#cb58-708" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb58-709"><a href="#cb58-709" aria-hidden="true" tabindex="-1"></a>Hier nochmal aufgeschlüsselt wie der Code aussieht. Wir schreiben den Code nachher in einer Zeile, aber zum Verständnis ist es besser, wenn wir den Code einmal aufgeklappt sehen.</span>
<span id="cb58-710"><a href="#cb58-710" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb58-713"><a href="#cb58-713" aria-hidden="true" tabindex="-1"></a><span class="in">```{r}</span></span>
<span id="cb58-714"><a href="#cb58-714" aria-hidden="true" tabindex="-1"></a><span class="co">#| eval: false</span></span>
<span id="cb58-715"><a href="#cb58-715" aria-hidden="true" tabindex="-1"></a><span class="fu">TeX</span>(</span>
<span id="cb58-716"><a href="#cb58-716" aria-hidden="true" tabindex="-1"></a>    r<span class="st">"(</span></span>
<span id="cb58-717"><a href="#cb58-717" aria-hidden="true" tabindex="-1"></a><span class="st">      Eisengehalt $[kg\, ha]^{-1}$</span></span>
<span id="cb58-718"><a href="#cb58-718" aria-hidden="true" tabindex="-1"></a><span class="st">    )"</span></span>
<span id="cb58-719"><a href="#cb58-719" aria-hidden="true" tabindex="-1"></a>   )</span>
<span id="cb58-720"><a href="#cb58-720" aria-hidden="true" tabindex="-1"></a><span class="in">```</span></span>
<span id="cb58-721"><a href="#cb58-721" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb58-722"><a href="#cb58-722" aria-hidden="true" tabindex="-1"></a>Wir wollen uns das Ergebnis einmal in einem simplen <span class="in">`plot()`</span> anschauen. Wir nutzen die Funktionalität natürlich später in <span class="in">`ggplot`</span>, aber hier ist es so einmal einfacher zu sehen.</span>
<span id="cb58-723"><a href="#cb58-723" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb58-726"><a href="#cb58-726" aria-hidden="true" tabindex="-1"></a><span class="in">```{r}</span></span>
<span id="cb58-727"><a href="#cb58-727" aria-hidden="true" tabindex="-1"></a><span class="co">#| warning: false</span></span>
<span id="cb58-728"><a href="#cb58-728" aria-hidden="true" tabindex="-1"></a><span class="co">#| echo: true</span></span>
<span id="cb58-729"><a href="#cb58-729" aria-hidden="true" tabindex="-1"></a><span class="co">#| message: false</span></span>
<span id="cb58-730"><a href="#cb58-730" aria-hidden="true" tabindex="-1"></a><span class="co">#| fig-align: center</span></span>
<span id="cb58-731"><a href="#cb58-731" aria-hidden="true" tabindex="-1"></a><span class="co">#| fig-height: 2.5</span></span>
<span id="cb58-732"><a href="#cb58-732" aria-hidden="true" tabindex="-1"></a><span class="co">#| fig-width: 5</span></span>
<span id="cb58-733"><a href="#cb58-733" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb58-734"><a href="#cb58-734" aria-hidden="true" tabindex="-1"></a><span class="fu">plot</span>(<span class="at">cex =</span> <span class="dv">2</span>, <span class="at">main =</span> <span class="st">""</span>,</span>
<span id="cb58-735"><a href="#cb58-735" aria-hidden="true" tabindex="-1"></a>  <span class="fu">TeX</span>(r<span class="st">"(</span></span>
<span id="cb58-736"><a href="#cb58-736" aria-hidden="true" tabindex="-1"></a><span class="st">         Eisengehalt $[kg\, ha]^{-1}$</span></span>
<span id="cb58-737"><a href="#cb58-737" aria-hidden="true" tabindex="-1"></a><span class="st">      )"</span>)</span>
<span id="cb58-738"><a href="#cb58-738" aria-hidden="true" tabindex="-1"></a>    )</span>
<span id="cb58-739"><a href="#cb58-739" aria-hidden="true" tabindex="-1"></a><span class="in">```</span></span>
<span id="cb58-740"><a href="#cb58-740" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb58-741"><a href="#cb58-741" aria-hidden="true" tabindex="-1"></a>Auch können wir sehr viel komplexere Formeln erstellen. Beachte auch hier, dass wir zwei Matheumgebungen in $\LaTeX$ vorliegen haben.</span>
<span id="cb58-742"><a href="#cb58-742" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb58-745"><a href="#cb58-745" aria-hidden="true" tabindex="-1"></a><span class="in">```{r}</span></span>
<span id="cb58-746"><a href="#cb58-746" aria-hidden="true" tabindex="-1"></a><span class="co">#| warning: false</span></span>
<span id="cb58-747"><a href="#cb58-747" aria-hidden="true" tabindex="-1"></a><span class="co">#| echo: true</span></span>
<span id="cb58-748"><a href="#cb58-748" aria-hidden="true" tabindex="-1"></a><span class="co">#| message: false</span></span>
<span id="cb58-749"><a href="#cb58-749" aria-hidden="true" tabindex="-1"></a><span class="co">#| fig-align: center</span></span>
<span id="cb58-750"><a href="#cb58-750" aria-hidden="true" tabindex="-1"></a><span class="co">#| fig-height: 2.5</span></span>
<span id="cb58-751"><a href="#cb58-751" aria-hidden="true" tabindex="-1"></a><span class="co">#| fig-width: 5</span></span>
<span id="cb58-752"><a href="#cb58-752" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb58-753"><a href="#cb58-753" aria-hidden="true" tabindex="-1"></a><span class="fu">plot</span>(<span class="at">cex =</span> <span class="dv">2</span>, <span class="at">main =</span> <span class="st">""</span>,</span>
<span id="cb58-754"><a href="#cb58-754" aria-hidden="true" tabindex="-1"></a>  <span class="fu">TeX</span>(r<span class="st">"(</span></span>
<span id="cb58-755"><a href="#cb58-755" aria-hidden="true" tabindex="-1"></a><span class="st">         A $\LaTeX$ formula: $</span><span class="sc">\f</span><span class="st">rac{2hc^2}{\lambda^5}</span><span class="sc">\f</span><span class="st">rac{1}{e^{</span><span class="sc">\f</span><span class="st">rac{hc}{\lambda k_B T}} - 1}$</span></span>
<span id="cb58-756"><a href="#cb58-756" aria-hidden="true" tabindex="-1"></a><span class="st">      )"</span>)</span>
<span id="cb58-757"><a href="#cb58-757" aria-hidden="true" tabindex="-1"></a>  )</span>
<span id="cb58-758"><a href="#cb58-758" aria-hidden="true" tabindex="-1"></a><span class="in">```</span></span>
<span id="cb58-759"><a href="#cb58-759" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb58-760"><a href="#cb58-760" aria-hidden="true" tabindex="-1"></a>In der @fig-scatter-flea-1 dann nochmal die Anwendung in einem <span class="in">`ggplot`</span> in dem wir die Achsen entsprechend beschriften und dann auch noch eine ausgedachte Regressionsgeleichung zu der Abbildung ergänzen.</span>
<span id="cb58-761"><a href="#cb58-761" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb58-764"><a href="#cb58-764" aria-hidden="true" tabindex="-1"></a><span class="in">```{r}</span></span>
<span id="cb58-765"><a href="#cb58-765" aria-hidden="true" tabindex="-1"></a><span class="co">#| echo: true</span></span>
<span id="cb58-766"><a href="#cb58-766" aria-hidden="true" tabindex="-1"></a><span class="co">#| warning: false</span></span>
<span id="cb58-767"><a href="#cb58-767" aria-hidden="true" tabindex="-1"></a><span class="co">#| message: false</span></span>
<span id="cb58-768"><a href="#cb58-768" aria-hidden="true" tabindex="-1"></a><span class="co">#| label: fig-scatter-flea-1</span></span>
<span id="cb58-769"><a href="#cb58-769" aria-hidden="true" tabindex="-1"></a><span class="co">#| fig-align: center</span></span>
<span id="cb58-770"><a href="#cb58-770" aria-hidden="true" tabindex="-1"></a><span class="co">#| fig-height: 3</span></span>
<span id="cb58-771"><a href="#cb58-771" aria-hidden="true" tabindex="-1"></a><span class="co">#| fig-width: 7</span></span>
<span id="cb58-772"><a href="#cb58-772" aria-hidden="true" tabindex="-1"></a><span class="co">#| fig-cap: "Zusammenhang zwischen dem Eisengehalt und -höhe im Boden und dem Eisengehalt in Salat. Zusätzlich ergänzt eine Regressiongleichung und ein ausgedachtes Bestimmtheitsmaß. *[Zum Vergrößern anklicken]*"</span></span>
<span id="cb58-773"><a href="#cb58-773" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb58-774"><a href="#cb58-774" aria-hidden="true" tabindex="-1"></a><span class="fu">ggplot</span>(<span class="at">data =</span> ggplot_tbl, <span class="fu">aes</span>(<span class="at">x =</span> weight, <span class="at">y =</span> jump_length)) <span class="sc">+</span></span>
<span id="cb58-775"><a href="#cb58-775" aria-hidden="true" tabindex="-1"></a>  <span class="fu">geom_point</span>() <span class="sc">+</span></span>
<span id="cb58-776"><a href="#cb58-776" aria-hidden="true" tabindex="-1"></a>  <span class="fu">stat_smooth</span>(<span class="at">method =</span> <span class="st">"lm"</span>, <span class="at">se =</span> <span class="cn">FALSE</span>) <span class="sc">+</span></span>
<span id="cb58-777"><a href="#cb58-777" aria-hidden="true" tabindex="-1"></a>  <span class="fu">theme_minimal</span>() <span class="sc">+</span></span>
<span id="cb58-778"><a href="#cb58-778" aria-hidden="true" tabindex="-1"></a>  <span class="fu">labs</span>(<span class="at">x =</span> <span class="fu">TeX</span>(r<span class="st">"(Eisengehalt und -höhe $[kg\, ha]^{-1}$)"</span>), </span>
<span id="cb58-779"><a href="#cb58-779" aria-hidden="true" tabindex="-1"></a>       <span class="at">y =</span> <span class="fu">TeX</span>(r<span class="st">"(Fe-Gehalt $[mg \cdot (kg TM)^{-1}]$)"</span>)) <span class="sc">+</span></span>
<span id="cb58-780"><a href="#cb58-780" aria-hidden="true" tabindex="-1"></a>  <span class="fu">annotate</span>(<span class="st">"text"</span>, <span class="at">x =</span> <span class="dv">10</span>, <span class="at">y =</span> <span class="dv">200</span>,</span>
<span id="cb58-781"><a href="#cb58-781" aria-hidden="true" tabindex="-1"></a>           <span class="at">label =</span> <span class="fu">TeX</span>(r<span class="st">"($y = </span><span class="sc">\b</span><span class="st">eta_0 + </span><span class="sc">\b</span><span class="st">eta_1 \cdot x;\; R^2 = 0.24$)"</span>))</span>
<span id="cb58-782"><a href="#cb58-782" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb58-783"><a href="#cb58-783" aria-hidden="true" tabindex="-1"></a><span class="in">```</span></span>
<span id="cb58-784"><a href="#cb58-784" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb58-785"><a href="#cb58-785" aria-hidden="true" tabindex="-1"></a>Wenn du dann mal die Funktion <span class="in">`Tex()`</span> in <span class="in">`geom_text()`</span> verwenden willst, dann musst du einmal etwas anpassen. Dann klappt es aber auch hier. Das hat mich mal echt Nerven und Zeit gekostet, deshalb lagere ich die Information mal hier für mich.</span>
<span id="cb58-786"><a href="#cb58-786" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb58-789"><a href="#cb58-789" aria-hidden="true" tabindex="-1"></a><span class="in">```{r}</span></span>
<span id="cb58-790"><a href="#cb58-790" aria-hidden="true" tabindex="-1"></a><span class="co">#| warning: false</span></span>
<span id="cb58-791"><a href="#cb58-791" aria-hidden="true" tabindex="-1"></a><span class="co">#| echo: true</span></span>
<span id="cb58-792"><a href="#cb58-792" aria-hidden="true" tabindex="-1"></a><span class="co">#| message: false</span></span>
<span id="cb58-793"><a href="#cb58-793" aria-hidden="true" tabindex="-1"></a><span class="co">#| eval: false</span></span>
<span id="cb58-794"><a href="#cb58-794" aria-hidden="true" tabindex="-1"></a><span class="co">#| fig-align: center</span></span>
<span id="cb58-795"><a href="#cb58-795" aria-hidden="true" tabindex="-1"></a><span class="co">#| fig-height: 1</span></span>
<span id="cb58-796"><a href="#cb58-796" aria-hidden="true" tabindex="-1"></a><span class="co">#| fig-width: 2</span></span>
<span id="cb58-797"><a href="#cb58-797" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb58-798"><a href="#cb58-798" aria-hidden="true" tabindex="-1"></a><span class="fu">ggplot</span>() <span class="sc">+</span></span>
<span id="cb58-799"><a href="#cb58-799" aria-hidden="true" tabindex="-1"></a>  <span class="fu">theme_void</span>() <span class="sc">+</span></span>
<span id="cb58-800"><a href="#cb58-800" aria-hidden="true" tabindex="-1"></a>  <span class="fu">geom_text</span>(<span class="fu">aes</span>(<span class="dv">0</span>, <span class="dv">0</span>, </span>
<span id="cb58-801"><a href="#cb58-801" aria-hidden="true" tabindex="-1"></a>                <span class="at">label =</span> <span class="fu">TeX</span>(r<span class="st">'($</span><span class="sc">\a</span><span class="st">lpha  x^</span><span class="sc">\a</span><span class="st">lpha$, where $</span><span class="sc">\a</span><span class="st">lpha \in 1\ldots 5$)'</span>,</span>
<span id="cb58-802"><a href="#cb58-802" aria-hidden="true" tabindex="-1"></a>                                  <span class="at">output =</span> <span class="st">"character"</span>)), <span class="at">parse =</span> <span class="cn">TRUE</span>) </span>
<span id="cb58-803"><a href="#cb58-803" aria-hidden="true" tabindex="-1"></a><span class="in">```</span></span>
<span id="cb58-804"><a href="#cb58-804" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb58-805"><a href="#cb58-805" aria-hidden="true" tabindex="-1"></a><span class="fu">### Farbpaletten</span></span>
<span id="cb58-806"><a href="#cb58-806" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb58-807"><a href="#cb58-807" aria-hidden="true" tabindex="-1"></a>Die <span class="co">[</span><span class="ot">Farben</span><span class="co">]</span>(http://www.cookbook-r.com/Graphs/Colors_(ggplot2)/) können weitreichend angepasst werden. Weiter unten findest du dann noch verschiedene Farbpaletten. Wenn du deine Farben selber wählst, dann kann es manchmal etwas kunterbund aussehen. Neben den klassischen Farben im R Paket <span class="in">`{ggplot2}`</span> gibt es noch weit, weit mehr Farbpaletten. Wir nutzen in der Folge immer wieder die Okabe-Ito Farbpalette aus dem R Paket <span class="in">`{see}`</span>. Die Okabe-Ito Farbpalette ist speziell so gebaut, dass die Farben sich gut für farbenblinde Personen unterscheiden. Mehr zum R Paket <span class="in">`{see}`</span> auf der <span class="co">[</span><span class="ot">Hilfeseite des Paketes</span><span class="co">](https://easystats.github.io/see/index.html)</span>. Der Kontrast zwischen den Farben ist sehr gut. Wenn du eine andere Farbpalette nutzen willst, findest du hier noch andere <span class="co">[</span><span class="ot">Color Scales</span><span class="co">](https://easystats.github.io/see/articles/seecolorscales.html)</span>.</span>
<span id="cb58-808"><a href="#cb58-808" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb58-811"><a href="#cb58-811" aria-hidden="true" tabindex="-1"></a><span class="in">```{r}</span></span>
<span id="cb58-812"><a href="#cb58-812" aria-hidden="true" tabindex="-1"></a><span class="co">#| warning: false</span></span>
<span id="cb58-813"><a href="#cb58-813" aria-hidden="true" tabindex="-1"></a><span class="co">#| echo: true</span></span>
<span id="cb58-814"><a href="#cb58-814" aria-hidden="true" tabindex="-1"></a><span class="co">#| message: false</span></span>
<span id="cb58-815"><a href="#cb58-815" aria-hidden="true" tabindex="-1"></a><span class="co">#| label: fig-labels-see-0</span></span>
<span id="cb58-816"><a href="#cb58-816" aria-hidden="true" tabindex="-1"></a><span class="co">#| fig-align: center</span></span>
<span id="cb58-817"><a href="#cb58-817" aria-hidden="true" tabindex="-1"></a><span class="co">#| fig-height: 3</span></span>
<span id="cb58-818"><a href="#cb58-818" aria-hidden="true" tabindex="-1"></a><span class="co">#| fig-width: 7</span></span>
<span id="cb58-819"><a href="#cb58-819" aria-hidden="true" tabindex="-1"></a><span class="co">#| fig-cap: "Beispielhafte Abbildung der Okabe-Ito Farbpalette für Boxplots. *[Zum Vergrößern anklicken]*"</span></span>
<span id="cb58-820"><a href="#cb58-820" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb58-821"><a href="#cb58-821" aria-hidden="true" tabindex="-1"></a><span class="fu">ggplot</span>(<span class="at">data =</span> ggplot_tbl, </span>
<span id="cb58-822"><a href="#cb58-822" aria-hidden="true" tabindex="-1"></a>       <span class="fu">aes</span>(<span class="at">x =</span> feeding, <span class="at">y =</span> jump_length,</span>
<span id="cb58-823"><a href="#cb58-823" aria-hidden="true" tabindex="-1"></a>           <span class="at">fill =</span> feeding)) <span class="sc">+</span></span>
<span id="cb58-824"><a href="#cb58-824" aria-hidden="true" tabindex="-1"></a>  <span class="fu">geom_boxplot</span>() <span class="sc">+</span></span>
<span id="cb58-825"><a href="#cb58-825" aria-hidden="true" tabindex="-1"></a>  <span class="fu">scale_fill_okabeito</span>() <span class="sc">+</span></span>
<span id="cb58-826"><a href="#cb58-826" aria-hidden="true" tabindex="-1"></a>  <span class="fu">theme_minimal</span>()</span>
<span id="cb58-827"><a href="#cb58-827" aria-hidden="true" tabindex="-1"></a><span class="in">```</span></span>
<span id="cb58-828"><a href="#cb58-828" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb58-831"><a href="#cb58-831" aria-hidden="true" tabindex="-1"></a><span class="in">```{r}</span></span>
<span id="cb58-832"><a href="#cb58-832" aria-hidden="true" tabindex="-1"></a><span class="co">#| warning: false</span></span>
<span id="cb58-833"><a href="#cb58-833" aria-hidden="true" tabindex="-1"></a><span class="co">#| echo: true</span></span>
<span id="cb58-834"><a href="#cb58-834" aria-hidden="true" tabindex="-1"></a><span class="co">#| message: false</span></span>
<span id="cb58-835"><a href="#cb58-835" aria-hidden="true" tabindex="-1"></a><span class="co">#| label: fig-labels-see-1</span></span>
<span id="cb58-836"><a href="#cb58-836" aria-hidden="true" tabindex="-1"></a><span class="co">#| fig-align: center</span></span>
<span id="cb58-837"><a href="#cb58-837" aria-hidden="true" tabindex="-1"></a><span class="co">#| fig-height: 3</span></span>
<span id="cb58-838"><a href="#cb58-838" aria-hidden="true" tabindex="-1"></a><span class="co">#| fig-width: 7</span></span>
<span id="cb58-839"><a href="#cb58-839" aria-hidden="true" tabindex="-1"></a><span class="co">#| fig-cap: "Beispielhafte Abbildung der Okabe-Ito Farbpalette für Punkte. *[Zum Vergrößern anklicken]*"</span></span>
<span id="cb58-840"><a href="#cb58-840" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb58-841"><a href="#cb58-841" aria-hidden="true" tabindex="-1"></a><span class="fu">ggplot</span>(<span class="at">data =</span> ggplot_tbl, </span>
<span id="cb58-842"><a href="#cb58-842" aria-hidden="true" tabindex="-1"></a>       <span class="fu">aes</span>(<span class="at">x =</span> feeding, <span class="at">y =</span> jump_length,</span>
<span id="cb58-843"><a href="#cb58-843" aria-hidden="true" tabindex="-1"></a>           <span class="at">fill =</span> feeding)) <span class="sc">+</span></span>
<span id="cb58-844"><a href="#cb58-844" aria-hidden="true" tabindex="-1"></a>  <span class="fu">geom_point</span>() <span class="sc">+</span></span>
<span id="cb58-845"><a href="#cb58-845" aria-hidden="true" tabindex="-1"></a>  <span class="fu">scale_color_okabeito</span>() <span class="sc">+</span></span>
<span id="cb58-846"><a href="#cb58-846" aria-hidden="true" tabindex="-1"></a>  <span class="fu">theme_minimal</span>()</span>
<span id="cb58-847"><a href="#cb58-847" aria-hidden="true" tabindex="-1"></a><span class="in">```</span></span>
<span id="cb58-848"><a href="#cb58-848" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb58-849"><a href="#cb58-849" aria-hidden="true" tabindex="-1"></a>Das Ganze geht dann auch händisch mit dem folgenden Code für die <span class="co">[</span><span class="ot">jeweiligen Farben</span><span class="co">]</span>(http://www.cookbook-r.com/Graphs/Colors_(ggplot2)/#a-colorblind-friendly-palette). Anbei einmal die Farbpalette dargestellt.</span>
<span id="cb58-850"><a href="#cb58-850" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb58-853"><a href="#cb58-853" aria-hidden="true" tabindex="-1"></a><span class="in">```{r}</span></span>
<span id="cb58-854"><a href="#cb58-854" aria-hidden="true" tabindex="-1"></a><span class="co">#| warning: false</span></span>
<span id="cb58-855"><a href="#cb58-855" aria-hidden="true" tabindex="-1"></a><span class="co">#| echo: false</span></span>
<span id="cb58-856"><a href="#cb58-856" aria-hidden="true" tabindex="-1"></a><span class="co">#| message: false</span></span>
<span id="cb58-857"><a href="#cb58-857" aria-hidden="true" tabindex="-1"></a><span class="co">#| label: fig-ggplot-okabeito</span></span>
<span id="cb58-858"><a href="#cb58-858" aria-hidden="true" tabindex="-1"></a><span class="co">#| fig-align: center</span></span>
<span id="cb58-859"><a href="#cb58-859" aria-hidden="true" tabindex="-1"></a><span class="co">#| fig-height: 0.75</span></span>
<span id="cb58-860"><a href="#cb58-860" aria-hidden="true" tabindex="-1"></a><span class="co">#| fig-width: 6</span></span>
<span id="cb58-861"><a href="#cb58-861" aria-hidden="true" tabindex="-1"></a><span class="co">#| fig-cap: "Farbpalette nach dem Okabe-Ito-Schema ebenfalls für farbblinde Personen erstellt. *[Zum Vergrößern anklicken]*"</span></span>
<span id="cb58-862"><a href="#cb58-862" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb58-863"><a href="#cb58-863" aria-hidden="true" tabindex="-1"></a>df <span class="ot">&lt;-</span> <span class="fu">data.frame</span>(</span>
<span id="cb58-864"><a href="#cb58-864" aria-hidden="true" tabindex="-1"></a>  <span class="at">x =</span> <span class="dv">1</span><span class="sc">:</span><span class="dv">9</span>,</span>
<span id="cb58-865"><a href="#cb58-865" aria-hidden="true" tabindex="-1"></a>  <span class="at">y =</span> <span class="fl">0.5</span>,</span>
<span id="cb58-866"><a href="#cb58-866" aria-hidden="true" tabindex="-1"></a>  <span class="at">z =</span> <span class="fu">factor</span>(<span class="dv">1</span><span class="sc">:</span><span class="dv">9</span>)</span>
<span id="cb58-867"><a href="#cb58-867" aria-hidden="true" tabindex="-1"></a>)</span>
<span id="cb58-868"><a href="#cb58-868" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb58-869"><a href="#cb58-869" aria-hidden="true" tabindex="-1"></a><span class="fu">ggplot</span>(df, <span class="fu">aes</span>(x, y)) <span class="sc">+</span></span>
<span id="cb58-870"><a href="#cb58-870" aria-hidden="true" tabindex="-1"></a>  <span class="fu">geom_tile</span>(<span class="fu">aes</span>(<span class="at">fill =</span> z), <span class="at">colour =</span> <span class="st">"grey50"</span>) <span class="sc">+</span></span>
<span id="cb58-871"><a href="#cb58-871" aria-hidden="true" tabindex="-1"></a>  <span class="fu">scale_fill_okabeito</span>() <span class="sc">+</span></span>
<span id="cb58-872"><a href="#cb58-872" aria-hidden="true" tabindex="-1"></a>  <span class="fu">theme_void</span>() <span class="sc">+</span></span>
<span id="cb58-873"><a href="#cb58-873" aria-hidden="true" tabindex="-1"></a>  <span class="fu">theme</span>(<span class="at">legend.position =</span> <span class="st">"none"</span>) </span>
<span id="cb58-874"><a href="#cb58-874" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb58-875"><a href="#cb58-875" aria-hidden="true" tabindex="-1"></a><span class="in">```</span></span>
<span id="cb58-876"><a href="#cb58-876" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb58-877"><a href="#cb58-877" aria-hidden="true" tabindex="-1"></a>Die Farben sind dann in der Reihenfolge wie folgt kodiert.</span>
<span id="cb58-878"><a href="#cb58-878" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb58-881"><a href="#cb58-881" aria-hidden="true" tabindex="-1"></a><span class="in">```{r}</span></span>
<span id="cb58-882"><a href="#cb58-882" aria-hidden="true" tabindex="-1"></a><span class="co">#| warning: false</span></span>
<span id="cb58-883"><a href="#cb58-883" aria-hidden="true" tabindex="-1"></a><span class="co">#| echo: true</span></span>
<span id="cb58-884"><a href="#cb58-884" aria-hidden="true" tabindex="-1"></a><span class="co">#| message: false</span></span>
<span id="cb58-885"><a href="#cb58-885" aria-hidden="true" tabindex="-1"></a><span class="co">#| eval: false</span></span>
<span id="cb58-886"><a href="#cb58-886" aria-hidden="true" tabindex="-1"></a>cbbPalette <span class="ot">&lt;-</span> <span class="fu">c</span>(<span class="st">"#E69F00"</span>, <span class="st">"#56B4E9"</span>, <span class="st">"#009E73"</span>, </span>
<span id="cb58-887"><a href="#cb58-887" aria-hidden="true" tabindex="-1"></a>                <span class="st">"#F0E442"</span>, <span class="st">"#0072B2"</span>, <span class="st">"#D55E00"</span>, </span>
<span id="cb58-888"><a href="#cb58-888" aria-hidden="true" tabindex="-1"></a>                <span class="st">"#CC79A7"</span>, <span class="st">"#999999"</span>, <span class="st">"#000000"</span>)</span>
<span id="cb58-889"><a href="#cb58-889" aria-hidden="true" tabindex="-1"></a><span class="in">```</span></span>
<span id="cb58-890"><a href="#cb58-890" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb58-891"><a href="#cb58-891" aria-hidden="true" tabindex="-1"></a>Wenn wir Boxplots einfärben wollen dann nehmen wir den folgenden Code.</span>
<span id="cb58-892"><a href="#cb58-892" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb58-895"><a href="#cb58-895" aria-hidden="true" tabindex="-1"></a><span class="in">```{r}</span></span>
<span id="cb58-896"><a href="#cb58-896" aria-hidden="true" tabindex="-1"></a><span class="co">#| warning: false</span></span>
<span id="cb58-897"><a href="#cb58-897" aria-hidden="true" tabindex="-1"></a><span class="co">#| echo: true</span></span>
<span id="cb58-898"><a href="#cb58-898" aria-hidden="true" tabindex="-1"></a><span class="co">#| message: false</span></span>
<span id="cb58-899"><a href="#cb58-899" aria-hidden="true" tabindex="-1"></a><span class="co">#| eval: false</span></span>
<span id="cb58-900"><a href="#cb58-900" aria-hidden="true" tabindex="-1"></a><span class="fu">scale_fill_manual</span>(<span class="at">values =</span> cbPalette)</span>
<span id="cb58-901"><a href="#cb58-901" aria-hidden="true" tabindex="-1"></a><span class="in">```</span></span>
<span id="cb58-902"><a href="#cb58-902" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb58-903"><a href="#cb58-903" aria-hidden="true" tabindex="-1"></a>Und das hier ist die Ergänzung für Punkte und Linien.</span>
<span id="cb58-904"><a href="#cb58-904" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb58-907"><a href="#cb58-907" aria-hidden="true" tabindex="-1"></a><span class="in">```{r}</span></span>
<span id="cb58-908"><a href="#cb58-908" aria-hidden="true" tabindex="-1"></a><span class="co">#| warning: false</span></span>
<span id="cb58-909"><a href="#cb58-909" aria-hidden="true" tabindex="-1"></a><span class="co">#| echo: true</span></span>
<span id="cb58-910"><a href="#cb58-910" aria-hidden="true" tabindex="-1"></a><span class="co">#| message: false</span></span>
<span id="cb58-911"><a href="#cb58-911" aria-hidden="true" tabindex="-1"></a><span class="co">#| eval: false</span></span>
<span id="cb58-912"><a href="#cb58-912" aria-hidden="true" tabindex="-1"></a><span class="fu">scale_colour_manual</span>(<span class="at">values =</span> cbPalette)</span>
<span id="cb58-913"><a href="#cb58-913" aria-hidden="true" tabindex="-1"></a><span class="in">```</span></span>
<span id="cb58-914"><a href="#cb58-914" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb58-915"><a href="#cb58-915" aria-hidden="true" tabindex="-1"></a>Neben der Okabe-Ito Farbpalette liefert das <span class="co">[</span><span class="ot">R Paket `{duke}`</span><span class="co">](https://cran.r-project.org/web/packages/duke/vignettes/duke.html)</span> noch eine andere Möglichkeit eine Farbpalette für Farbblinde zu generieren.</span>
<span id="cb58-916"><a href="#cb58-916" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb58-919"><a href="#cb58-919" aria-hidden="true" tabindex="-1"></a><span class="in">```{r}</span></span>
<span id="cb58-920"><a href="#cb58-920" aria-hidden="true" tabindex="-1"></a><span class="co">#| warning: false</span></span>
<span id="cb58-921"><a href="#cb58-921" aria-hidden="true" tabindex="-1"></a><span class="co">#| echo: false</span></span>
<span id="cb58-922"><a href="#cb58-922" aria-hidden="true" tabindex="-1"></a><span class="co">#| message: false</span></span>
<span id="cb58-923"><a href="#cb58-923" aria-hidden="true" tabindex="-1"></a><span class="co">#| label: fig-ggplot-duke</span></span>
<span id="cb58-924"><a href="#cb58-924" aria-hidden="true" tabindex="-1"></a><span class="co">#| fig-align: center</span></span>
<span id="cb58-925"><a href="#cb58-925" aria-hidden="true" tabindex="-1"></a><span class="co">#| fig-height: 0.75</span></span>
<span id="cb58-926"><a href="#cb58-926" aria-hidden="true" tabindex="-1"></a><span class="co">#| fig-width: 6</span></span>
<span id="cb58-927"><a href="#cb58-927" aria-hidden="true" tabindex="-1"></a><span class="co">#| fig-cap: "Farbpalette nach dem Duke-Schema ebenfalls für farbblinde Personen erstellt. *[Zum Vergrößern anklicken]*"</span></span>
<span id="cb58-928"><a href="#cb58-928" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb58-929"><a href="#cb58-929" aria-hidden="true" tabindex="-1"></a>df <span class="ot">&lt;-</span> <span class="fu">data.frame</span>(</span>
<span id="cb58-930"><a href="#cb58-930" aria-hidden="true" tabindex="-1"></a>  <span class="at">x =</span> <span class="dv">1</span><span class="sc">:</span><span class="dv">9</span>,</span>
<span id="cb58-931"><a href="#cb58-931" aria-hidden="true" tabindex="-1"></a>  <span class="at">y =</span> <span class="fl">0.5</span>,</span>
<span id="cb58-932"><a href="#cb58-932" aria-hidden="true" tabindex="-1"></a>  <span class="at">z =</span> <span class="fu">factor</span>(<span class="dv">1</span><span class="sc">:</span><span class="dv">9</span>)</span>
<span id="cb58-933"><a href="#cb58-933" aria-hidden="true" tabindex="-1"></a>)</span>
<span id="cb58-934"><a href="#cb58-934" aria-hidden="true" tabindex="-1"></a><span class="fu">ggplot</span>(df, <span class="fu">aes</span>(x, y)) <span class="sc">+</span></span>
<span id="cb58-935"><a href="#cb58-935" aria-hidden="true" tabindex="-1"></a>  <span class="fu">geom_tile</span>(<span class="fu">aes</span>(<span class="at">fill =</span> z), <span class="at">colour =</span> <span class="st">"grey50"</span>) <span class="sc">+</span></span>
<span id="cb58-936"><a href="#cb58-936" aria-hidden="true" tabindex="-1"></a>  <span class="fu">scale_duke_fill_discrete</span>() <span class="sc">+</span></span>
<span id="cb58-937"><a href="#cb58-937" aria-hidden="true" tabindex="-1"></a>  <span class="fu">theme_void</span>() <span class="sc">+</span></span>
<span id="cb58-938"><a href="#cb58-938" aria-hidden="true" tabindex="-1"></a>  <span class="fu">theme</span>(<span class="at">legend.position =</span> <span class="st">"none"</span>) </span>
<span id="cb58-939"><a href="#cb58-939" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb58-940"><a href="#cb58-940" aria-hidden="true" tabindex="-1"></a><span class="in">```</span></span>
<span id="cb58-941"><a href="#cb58-941" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb58-942"><a href="#cb58-942" aria-hidden="true" tabindex="-1"></a>Die Farben sind dann in der Reihenfolge wie folgt kodiert.</span>
<span id="cb58-943"><a href="#cb58-943" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb58-946"><a href="#cb58-946" aria-hidden="true" tabindex="-1"></a><span class="in">```{r}</span></span>
<span id="cb58-947"><a href="#cb58-947" aria-hidden="true" tabindex="-1"></a><span class="co">#| warning: false</span></span>
<span id="cb58-948"><a href="#cb58-948" aria-hidden="true" tabindex="-1"></a><span class="co">#| echo: true</span></span>
<span id="cb58-949"><a href="#cb58-949" aria-hidden="true" tabindex="-1"></a><span class="co">#| message: false</span></span>
<span id="cb58-950"><a href="#cb58-950" aria-hidden="true" tabindex="-1"></a><span class="co">#| eval: false</span></span>
<span id="cb58-951"><a href="#cb58-951" aria-hidden="true" tabindex="-1"></a>dukePalette <span class="ot">&lt;-</span> <span class="fu">c</span>(<span class="st">"#012169"</span>, <span class="st">"#C84E00"</span>, <span class="st">"#00539B"</span>, <span class="st">"#339898"</span>, </span>
<span id="cb58-952"><a href="#cb58-952" aria-hidden="true" tabindex="-1"></a>                 <span class="st">"#A1B70D"</span>, <span class="st">"#E89923"</span>, <span class="st">"#FFD960"</span>, <span class="st">"#262626"</span>)</span>
<span id="cb58-953"><a href="#cb58-953" aria-hidden="true" tabindex="-1"></a><span class="in">```</span></span>
<span id="cb58-954"><a href="#cb58-954" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb58-955"><a href="#cb58-955" aria-hidden="true" tabindex="-1"></a>Die Funktionen hier sind <span class="in">`scale_duke_color_discrete()`</span> sowie <span class="in">`scale_duke_continuous()`</span> und <span class="in">`scale_duke_fill_discrete()`</span>.</span>
<span id="cb58-956"><a href="#cb58-956" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb58-957"><a href="#cb58-957" aria-hidden="true" tabindex="-1"></a>Manchmal benötigen wir auch Farbverläufe. In R heißen diese Farbverläufe dann Farbpaletten. Eine Einführung liefert das Tutorium <span class="co">[</span><span class="ot">Using RColorBrewer palettes</span><span class="co">](http://www.sthda.com/english/wiki/colors-in-r#using-rcolorbrewer-palettes)</span>. Ich selber nutze gerne das R Paket <span class="in">`{wesanderson}`</span> welches sehr schöne Farbverläufe hat. Mehr kannst du auf der GitHub Seite <span class="co">[</span><span class="ot">Wes Anderson Palettes</span><span class="co">](https://github.com/karthik/wesanderson)</span> erfahren. Wir können die Paletten ganz einfach mit der Funktion <span class="in">`wes_palette()`</span> laden.</span>
<span id="cb58-958"><a href="#cb58-958" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb58-961"><a href="#cb58-961" aria-hidden="true" tabindex="-1"></a><span class="in">```{r}</span></span>
<span id="cb58-962"><a href="#cb58-962" aria-hidden="true" tabindex="-1"></a><span class="co">#| fig-height: 0.75</span></span>
<span id="cb58-963"><a href="#cb58-963" aria-hidden="true" tabindex="-1"></a><span class="co">#| fig-width: 6</span></span>
<span id="cb58-964"><a href="#cb58-964" aria-hidden="true" tabindex="-1"></a><span class="fu">wes_palette</span>(<span class="st">"Zissou1"</span>)</span>
<span id="cb58-965"><a href="#cb58-965" aria-hidden="true" tabindex="-1"></a><span class="in">```</span></span>
<span id="cb58-966"><a href="#cb58-966" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb58-967"><a href="#cb58-967" aria-hidden="true" tabindex="-1"></a>Das schöne ist hier, dass wir einfach wie folgt Farbverläufe erstellen können. Wir wollen hier 21 Farbwerte haben und das Ganze dann als kontinuierlichen Verlauf.</span>
<span id="cb58-968"><a href="#cb58-968" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb58-971"><a href="#cb58-971" aria-hidden="true" tabindex="-1"></a><span class="in">```{r}</span></span>
<span id="cb58-972"><a href="#cb58-972" aria-hidden="true" tabindex="-1"></a><span class="co">#| fig-height: 0.75</span></span>
<span id="cb58-973"><a href="#cb58-973" aria-hidden="true" tabindex="-1"></a><span class="co">#| fig-width: 6</span></span>
<span id="cb58-974"><a href="#cb58-974" aria-hidden="true" tabindex="-1"></a><span class="fu">wes_palette</span>(<span class="st">"Zissou1"</span>, <span class="dv">21</span>, <span class="at">type =</span> <span class="st">"continuous"</span>)</span>
<span id="cb58-975"><a href="#cb58-975" aria-hidden="true" tabindex="-1"></a><span class="in">```</span></span>
<span id="cb58-976"><a href="#cb58-976" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb58-977"><a href="#cb58-977" aria-hidden="true" tabindex="-1"></a><span class="fu">### Lange Namen auf der x-Achse</span></span>
<span id="cb58-978"><a href="#cb58-978" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb58-979"><a href="#cb58-979" aria-hidden="true" tabindex="-1"></a>Manchmal haben wir das Problem, dass unsere Namen der Level der Faktoren zu lang werden oder wir zu viele Namen eben abbilden wollen. Der Blogpost <span class="co">[</span><span class="ot">Quick and easy ways to deal with long labels in `{ggplot}`</span><span class="co">](https://www.andrewheiss.com/blog/2022/06/23/long-labels-ggplot/)</span> hilft hier einmal. Ich habe mich dann meistens für die folgende Lösung entschieden.</span>
<span id="cb58-980"><a href="#cb58-980" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb58-981"><a href="#cb58-981" aria-hidden="true" tabindex="-1"></a><span class="in">```{r }</span></span>
<span id="cb58-982"><a href="#cb58-982" aria-hidden="true" tabindex="-1"></a><span class="co">#| warning: false</span></span>
<span id="cb58-983"><a href="#cb58-983" aria-hidden="true" tabindex="-1"></a><span class="co">#| echo: true</span></span>
<span id="cb58-984"><a href="#cb58-984" aria-hidden="true" tabindex="-1"></a><span class="co">#| message: false</span></span>
<span id="cb58-985"><a href="#cb58-985" aria-hidden="true" tabindex="-1"></a><span class="co">#| label: fig-labels-scale-discrete-longnames</span></span>
<span id="cb58-986"><a href="#cb58-986" aria-hidden="true" tabindex="-1"></a><span class="co">#| fig-align: center</span></span>
<span id="cb58-987"><a href="#cb58-987" aria-hidden="true" tabindex="-1"></a><span class="co">#| fig-height: 3</span></span>
<span id="cb58-988"><a href="#cb58-988" aria-hidden="true" tabindex="-1"></a><span class="co">#| fig-width: 7</span></span>
<span id="cb58-989"><a href="#cb58-989" aria-hidden="true" tabindex="-1"></a><span class="co">#| fig-cap: "Beispielhafte Abbildung mit gestapelten Gruppen auf der x-Achse. *[Zum Vergrößern anklicken]*"</span></span>
<span id="cb58-990"><a href="#cb58-990" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb58-991"><a href="#cb58-991" aria-hidden="true" tabindex="-1"></a><span class="fu">ggplot</span>(<span class="at">data =</span> ggplot_tbl, <span class="fu">aes</span>(<span class="at">x =</span> feeding, <span class="at">y =</span> jump_length,</span>
<span id="cb58-992"><a href="#cb58-992" aria-hidden="true" tabindex="-1"></a>                              <span class="at">fill =</span> feeding)) <span class="sc">+</span></span>
<span id="cb58-993"><a href="#cb58-993" aria-hidden="true" tabindex="-1"></a>  <span class="fu">theme_minimal</span>() <span class="sc">+</span></span>
<span id="cb58-994"><a href="#cb58-994" aria-hidden="true" tabindex="-1"></a>  <span class="fu">geom_boxplot</span>() <span class="sc">+</span></span>
<span id="cb58-995"><a href="#cb58-995" aria-hidden="true" tabindex="-1"></a>  <span class="fu">scale_x_discrete</span>(<span class="at">labels =</span> <span class="fu">c</span>(<span class="st">"Blutkonserven aus Rinderblut"</span>, </span>
<span id="cb58-996"><a href="#cb58-996" aria-hidden="true" tabindex="-1"></a>                              <span class="st">"Ketchup aus einer Flasche"</span>, </span>
<span id="cb58-997"><a href="#cb58-997" aria-hidden="true" tabindex="-1"></a>                              <span class="st">"Zuckerwasser mit Fruktose"</span>),</span>
<span id="cb58-998"><a href="#cb58-998" aria-hidden="true" tabindex="-1"></a>                   <span class="at">guide =</span> <span class="fu">guide_axis</span>(<span class="at">n.dodge =</span> <span class="dv">2</span>)) </span>
<span id="cb58-999"><a href="#cb58-999" aria-hidden="true" tabindex="-1"></a><span class="in">```</span></span>
<span id="cb58-1000"><a href="#cb58-1000" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb58-1001"><a href="#cb58-1001" aria-hidden="true" tabindex="-1"></a>Das Rotieren um 45° mag auch eine Lösung sein, aber ich fand es dann immer schwerer zu lesen. Wenn es aber wirklich viele Gruppen sind, dann mag es dann doch eine der besseren Lösungen sein. Du kannst ja dann noch den Winkel entsprechend anpassen. Ich muss immer mit <span class="in">`hjust`</span> spielen, bis es dann gut passt.</span>
<span id="cb58-1002"><a href="#cb58-1002" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb58-1003"><a href="#cb58-1003" aria-hidden="true" tabindex="-1"></a><span class="in">```{r }</span></span>
<span id="cb58-1004"><a href="#cb58-1004" aria-hidden="true" tabindex="-1"></a><span class="co">#| warning: false</span></span>
<span id="cb58-1005"><a href="#cb58-1005" aria-hidden="true" tabindex="-1"></a><span class="co">#| echo: true</span></span>
<span id="cb58-1006"><a href="#cb58-1006" aria-hidden="true" tabindex="-1"></a><span class="co">#| message: false</span></span>
<span id="cb58-1007"><a href="#cb58-1007" aria-hidden="true" tabindex="-1"></a><span class="co">#| label: fig-labels-scale-discrete-longnames-rotate</span></span>
<span id="cb58-1008"><a href="#cb58-1008" aria-hidden="true" tabindex="-1"></a><span class="co">#| fig-align: center</span></span>
<span id="cb58-1009"><a href="#cb58-1009" aria-hidden="true" tabindex="-1"></a><span class="co">#| fig-height: 3</span></span>
<span id="cb58-1010"><a href="#cb58-1010" aria-hidden="true" tabindex="-1"></a><span class="co">#| fig-width: 7</span></span>
<span id="cb58-1011"><a href="#cb58-1011" aria-hidden="true" tabindex="-1"></a><span class="co">#| fig-cap: "Beispielhafte Abbildung mit einer 45° Drehung der Gruppen auf der x-Achse. *[Zum Vergrößern anklicken]*"</span></span>
<span id="cb58-1012"><a href="#cb58-1012" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb58-1013"><a href="#cb58-1013" aria-hidden="true" tabindex="-1"></a><span class="fu">ggplot</span>(<span class="at">data =</span> ggplot_tbl, <span class="fu">aes</span>(<span class="at">x =</span> feeding, <span class="at">y =</span> jump_length,</span>
<span id="cb58-1014"><a href="#cb58-1014" aria-hidden="true" tabindex="-1"></a>                              <span class="at">fill =</span> feeding)) <span class="sc">+</span></span>
<span id="cb58-1015"><a href="#cb58-1015" aria-hidden="true" tabindex="-1"></a>  <span class="fu">theme_minimal</span>() <span class="sc">+</span></span>
<span id="cb58-1016"><a href="#cb58-1016" aria-hidden="true" tabindex="-1"></a>  <span class="fu">geom_boxplot</span>() <span class="sc">+</span></span>
<span id="cb58-1017"><a href="#cb58-1017" aria-hidden="true" tabindex="-1"></a>  <span class="fu">scale_x_discrete</span>(<span class="at">labels =</span> <span class="fu">c</span>(<span class="st">"Blutkonserven aus Rinderblut"</span>, </span>
<span id="cb58-1018"><a href="#cb58-1018" aria-hidden="true" tabindex="-1"></a>                              <span class="st">"Ketchup aus einer Flasche"</span>, </span>
<span id="cb58-1019"><a href="#cb58-1019" aria-hidden="true" tabindex="-1"></a>                              <span class="st">"Zuckerwasser mit Fruktose"</span>)) <span class="sc">+</span></span>
<span id="cb58-1020"><a href="#cb58-1020" aria-hidden="true" tabindex="-1"></a>  <span class="fu">theme</span>(<span class="at">axis.text.x =</span> <span class="fu">element_text</span>(<span class="at">angle =</span> <span class="sc">-</span><span class="dv">45</span>, <span class="at">hjust =</span> <span class="dv">0</span>))</span>
<span id="cb58-1021"><a href="#cb58-1021" aria-hidden="true" tabindex="-1"></a><span class="in">```</span></span>
<span id="cb58-1022"><a href="#cb58-1022" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb58-1023"><a href="#cb58-1023" aria-hidden="true" tabindex="-1"></a>Am Ende sei dann noch auf die Funktion <span class="in">`label_wrap()`</span> aus dem Paket <span class="in">`{scales}`</span> verwiesen, die dir dann einen automatischen Zeilenumbruch mit einbaut. Da musst du dann spielen, ob du wirklich einen Zeilenbruch vertreten kannst oder nicht. Manchmal willst du dann die Namen zusammenhaben und nicht auseinandergerissen.</span>
<span id="cb58-1024"><a href="#cb58-1024" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb58-1025"><a href="#cb58-1025" aria-hidden="true" tabindex="-1"></a><span class="fu">### Zoomen</span></span>
<span id="cb58-1026"><a href="#cb58-1026" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb58-1027"><a href="#cb58-1027" aria-hidden="true" tabindex="-1"></a>Mir ist dann noch vor kurzem über den Weg gelaufen, dass wenn wir <span class="in">`ylim()`</span> nutzen um in eine Abbildung zu zoomen, wir automatisch auch die Abbildungen wie einen Boxplot verändern. Wir entfernen mit <span class="in">`ylim()`</span> wirklich die Werte aus der Berechnung der Abbildung. Wenn wir Zoomen wollen, also wirklich die Abbildungen auf allen Werten aber näher dran, dann müssen wir die Funktion <span class="in">`coord_cartesian()`</span> nutzen. In dem folgenden Beispiel siehst du einmal die Anwendung. Dazu dann noch mein eigenes Theme mit <span class="in">`theme_modeling()`</span> von weiter oben sowie die Anwendung des R Pakets <span class="in">`{patchwork}`</span> um die Abbildungen nebeneinander darzustellen.</span>
<span id="cb58-1028"><a href="#cb58-1028" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb58-1031"><a href="#cb58-1031" aria-hidden="true" tabindex="-1"></a><span class="in">```{r}</span></span>
<span id="cb58-1032"><a href="#cb58-1032" aria-hidden="true" tabindex="-1"></a><span class="co">#| warning: false</span></span>
<span id="cb58-1033"><a href="#cb58-1033" aria-hidden="true" tabindex="-1"></a><span class="co">#| echo: true</span></span>
<span id="cb58-1034"><a href="#cb58-1034" aria-hidden="true" tabindex="-1"></a><span class="co">#| message: false</span></span>
<span id="cb58-1035"><a href="#cb58-1035" aria-hidden="true" tabindex="-1"></a><span class="co">#| label: fig-labels-scale-zoom</span></span>
<span id="cb58-1036"><a href="#cb58-1036" aria-hidden="true" tabindex="-1"></a><span class="co">#| fig-align: center</span></span>
<span id="cb58-1037"><a href="#cb58-1037" aria-hidden="true" tabindex="-1"></a><span class="co">#| fig-height: 3</span></span>
<span id="cb58-1038"><a href="#cb58-1038" aria-hidden="true" tabindex="-1"></a><span class="co">#| fig-width: 9</span></span>
<span id="cb58-1039"><a href="#cb58-1039" aria-hidden="true" tabindex="-1"></a><span class="co">#| fig-cap: "Problematisches Verhalten der Option `ylim()` beim Zoomen in eine Abbildung. Besser hierfür die Funktion `coord_cartesian()` verwenden. *[Zum Vergrößern anklicken]*"</span></span>
<span id="cb58-1040"><a href="#cb58-1040" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb58-1041"><a href="#cb58-1041" aria-hidden="true" tabindex="-1"></a>p1 <span class="ot">&lt;-</span> <span class="fu">ggplot</span>(<span class="at">data =</span> ggplot_tbl, <span class="fu">aes</span>(<span class="at">x =</span> feeding, <span class="at">y =</span> jump_length,</span>
<span id="cb58-1042"><a href="#cb58-1042" aria-hidden="true" tabindex="-1"></a>                                      <span class="at">fill =</span> feeding)) <span class="sc">+</span></span>
<span id="cb58-1043"><a href="#cb58-1043" aria-hidden="true" tabindex="-1"></a>  <span class="fu">theme_modeling</span>() <span class="sc">+</span></span>
<span id="cb58-1044"><a href="#cb58-1044" aria-hidden="true" tabindex="-1"></a>  <span class="fu">geom_hline</span>(<span class="at">yintercept =</span> <span class="dv">93</span>, <span class="at">colour =</span> <span class="st">"red"</span>) <span class="sc">+</span> </span>
<span id="cb58-1045"><a href="#cb58-1045" aria-hidden="true" tabindex="-1"></a>  <span class="fu">geom_boxplot</span>() <span class="sc">+</span></span>
<span id="cb58-1046"><a href="#cb58-1046" aria-hidden="true" tabindex="-1"></a>  <span class="fu">theme</span>(<span class="at">legend.position =</span> <span class="st">"none"</span>)</span>
<span id="cb58-1047"><a href="#cb58-1047" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb58-1048"><a href="#cb58-1048" aria-hidden="true" tabindex="-1"></a>p1 <span class="sc">+</span> <span class="fu">ggtitle</span>(<span class="st">"Original"</span>) <span class="sc">+</span></span>
<span id="cb58-1049"><a href="#cb58-1049" aria-hidden="true" tabindex="-1"></a>p1 <span class="sc">+</span> <span class="fu">coord_cartesian</span>(<span class="at">ylim =</span> <span class="fu">c</span>(<span class="dv">55</span>, <span class="dv">125</span>)) <span class="sc">+</span> </span>
<span id="cb58-1050"><a href="#cb58-1050" aria-hidden="true" tabindex="-1"></a>  <span class="fu">ggtitle</span>(<span class="st">"coord_cartesian()"</span>, <span class="at">subtitle =</span> <span class="st">"Boxplots auf allen Werten"</span>) <span class="sc">+</span></span>
<span id="cb58-1051"><a href="#cb58-1051" aria-hidden="true" tabindex="-1"></a>p1 <span class="sc">+</span> <span class="fu">ylim</span>(<span class="dv">55</span>, <span class="dv">125</span>) <span class="sc">+</span> </span>
<span id="cb58-1052"><a href="#cb58-1052" aria-hidden="true" tabindex="-1"></a>  <span class="fu">ggtitle</span>(<span class="st">"ylim()"</span>, <span class="at">subtitle =</span> <span class="st">"Boxplots auf ylim Werten"</span>) <span class="sc">+</span></span>
<span id="cb58-1053"><a href="#cb58-1053" aria-hidden="true" tabindex="-1"></a>  <span class="fu">plot_layout</span>(<span class="at">ncol =</span> <span class="dv">3</span>) <span class="sc">+</span></span>
<span id="cb58-1054"><a href="#cb58-1054" aria-hidden="true" tabindex="-1"></a>  <span class="fu">plot_annotation</span>(<span class="at">tag_levels =</span> <span class="st">'A'</span>, <span class="at">tag_prefix =</span> <span class="st">'('</span>, <span class="at">tag_suffix =</span> <span class="st">')'</span>) <span class="sc">&amp;</span></span>
<span id="cb58-1055"><a href="#cb58-1055" aria-hidden="true" tabindex="-1"></a>  <span class="fu">theme</span>(<span class="at">plot.tag =</span> <span class="fu">element_text</span>(<span class="at">size =</span> <span class="dv">16</span>, <span class="at">face =</span> <span class="st">"bold"</span>))</span>
<span id="cb58-1056"><a href="#cb58-1056" aria-hidden="true" tabindex="-1"></a><span class="in">```</span></span>
<span id="cb58-1057"><a href="#cb58-1057" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb58-1058"><a href="#cb58-1058" aria-hidden="true" tabindex="-1"></a><span class="fu">### Abbildungen aufteilen</span></span>
<span id="cb58-1059"><a href="#cb58-1059" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb58-1060"><a href="#cb58-1060" aria-hidden="true" tabindex="-1"></a>Die Funktion <span class="in">`facet_wrap()`</span> erlaubt es dir nach einem Faktor die Abbildungen einmal aufzuteilen. Wir werden später noch das R Paket <span class="in">`{ggh4x}`</span> kennenlernen, welches noch besser mit der Aufteilung klarkommt. Hier aber einmal das simpelste Beispiel. Wir wollen die Ernährungsformen einmal getrennt für die beiden Entwicklungsstände darstellen. Wir haben auch hier die Möglichkeit festzulegen, dass die Einheiten auf der x- und y-Achse eben auch frei sein können. Dazu nutzen wir die Option <span class="in">`scales = "free_x"`</span> oder <span class="in">`scales = "free_y"`</span>. Ich persönlich nutze die Option hier nur bei der explorativen Datenanalyse. Wenn ich dann meine Abbildungen habe, würde ich eher über <span class="in">`{patchwork}`</span> mit die einzelnen Abbildungen zusammenkleben als über die Funktion <span class="in">`facet_wrap()`</span>. Aber das ist dann Geschmackssache.</span>
<span id="cb58-1061"><a href="#cb58-1061" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb58-1064"><a href="#cb58-1064" aria-hidden="true" tabindex="-1"></a><span class="in">```{r}</span></span>
<span id="cb58-1065"><a href="#cb58-1065" aria-hidden="true" tabindex="-1"></a><span class="co">#| warning: false</span></span>
<span id="cb58-1066"><a href="#cb58-1066" aria-hidden="true" tabindex="-1"></a><span class="co">#| echo: true</span></span>
<span id="cb58-1067"><a href="#cb58-1067" aria-hidden="true" tabindex="-1"></a><span class="co">#| message: false</span></span>
<span id="cb58-1068"><a href="#cb58-1068" aria-hidden="true" tabindex="-1"></a><span class="co">#| label: fig-labels-facet-wrap</span></span>
<span id="cb58-1069"><a href="#cb58-1069" aria-hidden="true" tabindex="-1"></a><span class="co">#| fig-align: center</span></span>
<span id="cb58-1070"><a href="#cb58-1070" aria-hidden="true" tabindex="-1"></a><span class="co">#| fig-height: 3</span></span>
<span id="cb58-1071"><a href="#cb58-1071" aria-hidden="true" tabindex="-1"></a><span class="co">#| fig-width: 9</span></span>
<span id="cb58-1072"><a href="#cb58-1072" aria-hidden="true" tabindex="-1"></a><span class="co">#| fig-cap: "Aufteilung der Ernährungsformen nach den beiden Entwicklungsständen. *[Zum Vergrößern anklicken]*"</span></span>
<span id="cb58-1073"><a href="#cb58-1073" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb58-1074"><a href="#cb58-1074" aria-hidden="true" tabindex="-1"></a><span class="fu">ggplot</span>(<span class="at">data =</span> ggplot_tbl, <span class="fu">aes</span>(<span class="at">x =</span> feeding, <span class="at">y =</span> jump_length,</span>
<span id="cb58-1075"><a href="#cb58-1075" aria-hidden="true" tabindex="-1"></a>                              <span class="at">fill =</span> feeding)) <span class="sc">+</span></span>
<span id="cb58-1076"><a href="#cb58-1076" aria-hidden="true" tabindex="-1"></a>  <span class="fu">geom_boxplot</span>() <span class="sc">+</span></span>
<span id="cb58-1077"><a href="#cb58-1077" aria-hidden="true" tabindex="-1"></a>  <span class="fu">facet_wrap</span>(<span class="sc">~</span> stage)</span>
<span id="cb58-1078"><a href="#cb58-1078" aria-hidden="true" tabindex="-1"></a><span class="in">```</span></span>
<span id="cb58-1079"><a href="#cb58-1079" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb58-1080"><a href="#cb58-1080" aria-hidden="true" tabindex="-1"></a><span class="fu">### Gebrochene $y$-Achse</span></span>
<span id="cb58-1081"><a href="#cb58-1081" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb58-1082"><a href="#cb58-1082" aria-hidden="true" tabindex="-1"></a>Das <span class="co">[</span><span class="ot">R Paket `{ggbreak}`</span><span class="co">](https://cran.r-project.org/web/packages/ggbreak/vignettes/ggbreak.html)</span> erlaubt es dir in die $x$-Achse oder aber $y$-Achse Lücken einzusetzen oder aber die Achsen eben gebrochen darzustellen. Zur Demonstration bauen wir uns nochmal den <span class="in">`stat_tbl`</span> für die Hunde- und Katzenflöhe. Wir berechnen hier dann die Mittelwerte und nicht mehr die Standardabweichung, da es sonst nicht so gut mit der Darstellung mit der gebrochenen $y$-Achse für dieses Beispiel klappt.</span>
<span id="cb58-1083"><a href="#cb58-1083" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb58-1086"><a href="#cb58-1086" aria-hidden="true" tabindex="-1"></a><span class="in">```{r}</span></span>
<span id="cb58-1087"><a href="#cb58-1087" aria-hidden="true" tabindex="-1"></a>stat_tbl <span class="ot">&lt;-</span> ggplot_tbl <span class="sc">|&gt;</span> </span>
<span id="cb58-1088"><a href="#cb58-1088" aria-hidden="true" tabindex="-1"></a>  <span class="fu">group_by</span>(feeding) <span class="sc">|&gt;</span> </span>
<span id="cb58-1089"><a href="#cb58-1089" aria-hidden="true" tabindex="-1"></a>  <span class="fu">summarise</span>(<span class="at">mean =</span> <span class="fu">mean</span>(jump_length))</span>
<span id="cb58-1090"><a href="#cb58-1090" aria-hidden="true" tabindex="-1"></a><span class="in">```</span></span>
<span id="cb58-1091"><a href="#cb58-1091" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb58-1092"><a href="#cb58-1092" aria-hidden="true" tabindex="-1"></a>In der @fig-labels-ggbreak-1 siehst du einmal die Abbildung der Mittelwerte der Sprungweiten der Hunde- und Katzenflöhe als Barplots dargestellt. Ich habe hier einen Bruch auf der $y$-Achse mit der Funktion <span class="in">`scale_y_break()`</span> bei 1 bis 4 eingefügt und den Abstand über die Option <span class="in">`space`</span> etwas visuell vergrößert. Mit der Option <span class="in">`scales`</span> könntest du dann noch die Skalierung der gebrochenen $y$-Achse anpassen.</span>
<span id="cb58-1093"><a href="#cb58-1093" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb58-1096"><a href="#cb58-1096" aria-hidden="true" tabindex="-1"></a><span class="in">```{r}</span></span>
<span id="cb58-1097"><a href="#cb58-1097" aria-hidden="true" tabindex="-1"></a><span class="co">#| warning: false</span></span>
<span id="cb58-1098"><a href="#cb58-1098" aria-hidden="true" tabindex="-1"></a><span class="co">#| echo: true</span></span>
<span id="cb58-1099"><a href="#cb58-1099" aria-hidden="true" tabindex="-1"></a><span class="co">#| message: false</span></span>
<span id="cb58-1100"><a href="#cb58-1100" aria-hidden="true" tabindex="-1"></a><span class="co">#| eval: true</span></span>
<span id="cb58-1101"><a href="#cb58-1101" aria-hidden="true" tabindex="-1"></a><span class="co">#| label: fig-labels-ggbreak-1</span></span>
<span id="cb58-1102"><a href="#cb58-1102" aria-hidden="true" tabindex="-1"></a><span class="co">#| fig-align: center</span></span>
<span id="cb58-1103"><a href="#cb58-1103" aria-hidden="true" tabindex="-1"></a><span class="co">#| fig-height: 4</span></span>
<span id="cb58-1104"><a href="#cb58-1104" aria-hidden="true" tabindex="-1"></a><span class="co">#| fig-width: 7</span></span>
<span id="cb58-1105"><a href="#cb58-1105" aria-hidden="true" tabindex="-1"></a><span class="co">#| fig-cap: "Beispielhafte Abbildung der Barplots mit gebrochener $y$-Achse. Die Fehlerbalken wurden aus Gründen der besseren Darstellung der zerbrochenen $y$-Achse entfernt. *[Zum Vergrößern anklicken]*"</span></span>
<span id="cb58-1106"><a href="#cb58-1106" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb58-1107"><a href="#cb58-1107" aria-hidden="true" tabindex="-1"></a><span class="fu">ggplot</span>(stat_tbl, <span class="fu">aes</span>(<span class="at">x =</span> feeding, <span class="at">y =</span> mean, <span class="at">fill =</span> feeding)) <span class="sc">+</span> </span>
<span id="cb58-1108"><a href="#cb58-1108" aria-hidden="true" tabindex="-1"></a>  <span class="fu">theme_minimal</span>() <span class="sc">+</span></span>
<span id="cb58-1109"><a href="#cb58-1109" aria-hidden="true" tabindex="-1"></a>  <span class="fu">geom_bar</span>(<span class="at">stat =</span> <span class="st">"identity"</span>) <span class="sc">+</span></span>
<span id="cb58-1110"><a href="#cb58-1110" aria-hidden="true" tabindex="-1"></a>  <span class="fu">scale_y_break</span>(<span class="fu">c</span>(<span class="dv">10</span>, <span class="dv">60</span>), <span class="at">space =</span> <span class="fl">0.5</span>)</span>
<span id="cb58-1111"><a href="#cb58-1111" aria-hidden="true" tabindex="-1"></a><span class="in">```</span></span>
<span id="cb58-1112"><a href="#cb58-1112" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb58-1113"><a href="#cb58-1113" aria-hidden="true" tabindex="-1"></a><span class="fu">## R Pakete von Interesse</span></span>
<span id="cb58-1114"><a href="#cb58-1114" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb58-1115"><a href="#cb58-1115" aria-hidden="true" tabindex="-1"></a>Manchmal braucht es mehr, als nur <span class="in">`{ggplot}`</span> zu bieten hat. Deshalb gibt es eine riesige Auswahl an zusätzlichen R Paketen, die sich nur mit der Erstellung von Abbildungen im Universum von <span class="in">`{ggplot}`</span> beschäftigen. Hier will ich nicht alle vorstellen, dass macht auch überhaupt keinen Sinn. Es gibt aber immer wieder R Pakete, die finde ich so nützlich, dass ich diese Pakete gerne wiederfinden würde. Meistens brauche ich dann die Pakete aber doch nicht jeden Tag oder häufig. Dann vergesse ich eventuell den Namen oder gar das Paket. Daher ist diese Sammlung also auch für mich eine Art Bibliothek wo ich immer mal schauen kann was es so gibt. Wenn ich ein neues R Paket entdecke, dann ergänze ich das Paket mal eben hier.</span>
<span id="cb58-1116"><a href="#cb58-1116" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb58-1117"><a href="#cb58-1117" aria-hidden="true" tabindex="-1"></a>::: callout-tip</span>
<span id="cb58-1118"><a href="#cb58-1118" aria-hidden="true" tabindex="-1"></a><span class="fu">## Woher habe ich alle Pakete her?</span></span>
<span id="cb58-1119"><a href="#cb58-1119" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb58-1120"><a href="#cb58-1120" aria-hidden="true" tabindex="-1"></a>Wenn es einen Link zu einer Seite gibt, den ich immer mal wieder Besuche, ist es der folgende Link: <span class="co">[</span><span class="ot">ggplot2 extensions</span><span class="co">](https://exts.ggplot2.tidyverse.org/gallery/)</span>. Du erfährst hier eine Menge neues an Paketen und es gibt immer wieder spannendes zu entdecken. Ein Besuch lohnt sich auf jeden Fall.</span>
<span id="cb58-1121"><a href="#cb58-1121" aria-hidden="true" tabindex="-1"></a>:::</span>
<span id="cb58-1122"><a href="#cb58-1122" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb58-1123"><a href="#cb58-1123" aria-hidden="true" tabindex="-1"></a>Gehen wir also einmal die sicherlich nie vollständige Liste an R Paketen einmal durch. Die Pakete haben keine richtige Ordnung. Du musst schauen, ob dich was anspricht. Häufig musst du dann auch nochmal die Hilfeseiten hinter den Links besuchen. Hier gebe ich nur einen Einblick für die Anwendungen die ich eben gebraucht habe und glaube wieder zu brauchen.</span>
<span id="cb58-1124"><a href="#cb58-1124" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb58-1125"><a href="#cb58-1125" aria-hidden="true" tabindex="-1"></a><span class="fu">### `{forcats}`</span></span>
<span id="cb58-1126"><a href="#cb58-1126" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb58-1127"><a href="#cb58-1127" aria-hidden="true" tabindex="-1"></a>Das erste Paket hier hat eigentlich gar nicht so richtig was mit <span class="in">`{ggplot}`</span> zu tun. Mit dem <span class="co">[</span><span class="ot">R Paket `{forcats}`</span><span class="co">](https://forcats.tidyverse.org/)</span> haben wir eigentlich nur eine bessere Art mit Faktoren umzugehen. Das brauchen wir dann auch für faktorielle Experimente, aber auch bei <span class="in">`{ggplot}`</span> lohnt sich eine saubere Definition der kategorialen Variablen. Wir können mit der Funktion <span class="in">`fct()`</span> sauber Faktoren erstellen und haben eine weitreichende Anwendungsmöglichkeiten. Hier empfehle ich dann das <span class="co">[</span><span class="ot">Cheat sheet `{forcats}`</span><span class="co">](https://raw.githubusercontent.com/rstudio/cheatsheets/main/factors.pdf)</span> um einemla einen Überblick zu erhalten. Hier einmal alle Funktionen durchzugehen sprengt dann das Kapitel. Ich nutze das R Paket immer mal wieder, aber hier hat es auf jeden Fall auch seine Nützlichkeit.</span>
<span id="cb58-1128"><a href="#cb58-1128" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb58-1129"><a href="#cb58-1129" aria-hidden="true" tabindex="-1"></a><span class="fu">### `{ggrepel}`</span></span>
<span id="cb58-1130"><a href="#cb58-1130" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb58-1131"><a href="#cb58-1131" aria-hidden="true" tabindex="-1"></a>Das <span class="co">[</span><span class="ot">R Paket `{ggrepel}`</span><span class="co">](https://cran.r-project.org/web/packages/ggrepel/vignettes/ggrepel.html)</span> ist die Antwort auf die Frage, ob es nicht irgendwie eine Möglichkeit gibt intelliegent einmal die Labels in einem Plot anzuordnen. Hier dann wiederum nur ein Beispiel, es gibt aber eine Menge <span class="co">[</span><span class="ot">Beispiele für `{ggrepel}`</span><span class="co">](https://ggrepel.slowkow.com/articles/examples.html)</span> zum Nachbauen und sich inspieren lassen. Die Idee ist eben, dass die LAbels so angeordnet werden, dass wir kein Überlappen der Worte haben und wenn dann doch, wird eben ein Pfeil oder Strich gezeichnet. Das ist super praktisch, wenn wir mal wirklich viele Punkte aufeinmal beschriften wollen.</span>
<span id="cb58-1132"><a href="#cb58-1132" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb58-1135"><a href="#cb58-1135" aria-hidden="true" tabindex="-1"></a><span class="in">```{r}</span></span>
<span id="cb58-1136"><a href="#cb58-1136" aria-hidden="true" tabindex="-1"></a><span class="co">#| warning: false</span></span>
<span id="cb58-1137"><a href="#cb58-1137" aria-hidden="true" tabindex="-1"></a><span class="co">#| echo: true</span></span>
<span id="cb58-1138"><a href="#cb58-1138" aria-hidden="true" tabindex="-1"></a><span class="co">#| message: false</span></span>
<span id="cb58-1139"><a href="#cb58-1139" aria-hidden="true" tabindex="-1"></a><span class="co">#| eval: true</span></span>
<span id="cb58-1140"><a href="#cb58-1140" aria-hidden="true" tabindex="-1"></a><span class="co">#| label: fig-labels-ggrepel</span></span>
<span id="cb58-1141"><a href="#cb58-1141" aria-hidden="true" tabindex="-1"></a><span class="co">#| fig-align: center</span></span>
<span id="cb58-1142"><a href="#cb58-1142" aria-hidden="true" tabindex="-1"></a><span class="co">#| fig-height: 3</span></span>
<span id="cb58-1143"><a href="#cb58-1143" aria-hidden="true" tabindex="-1"></a><span class="co">#| fig-width: 7</span></span>
<span id="cb58-1144"><a href="#cb58-1144" aria-hidden="true" tabindex="-1"></a><span class="co">#| fig-cap: "Beispielhafte Anwendung des R Paketes `{ggrepel}` für die Beschriftung aller Punkte mit den entsprechenden Flohgewichten. *[Zum Vergrößern anklicken]*"</span></span>
<span id="cb58-1145"><a href="#cb58-1145" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb58-1146"><a href="#cb58-1146" aria-hidden="true" tabindex="-1"></a><span class="fu">ggplot</span>(ggplot_tbl, <span class="fu">aes</span>(<span class="at">x =</span> weight, <span class="at">y =</span> jump_length,</span>
<span id="cb58-1147"><a href="#cb58-1147" aria-hidden="true" tabindex="-1"></a>                       <span class="at">label =</span> weight)) <span class="sc">+</span> </span>
<span id="cb58-1148"><a href="#cb58-1148" aria-hidden="true" tabindex="-1"></a>  <span class="fu">theme_minimal</span>() <span class="sc">+</span></span>
<span id="cb58-1149"><a href="#cb58-1149" aria-hidden="true" tabindex="-1"></a>  <span class="fu">geom_point</span>() <span class="sc">+</span></span>
<span id="cb58-1150"><a href="#cb58-1150" aria-hidden="true" tabindex="-1"></a>  <span class="fu">geom_text_repel</span>()</span>
<span id="cb58-1151"><a href="#cb58-1151" aria-hidden="true" tabindex="-1"></a><span class="in">```</span></span>
<span id="cb58-1152"><a href="#cb58-1152" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb58-1153"><a href="#cb58-1153" aria-hidden="true" tabindex="-1"></a><span class="fu">### `{ggh4x}`</span></span>
<span id="cb58-1154"><a href="#cb58-1154" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb58-1155"><a href="#cb58-1155" aria-hidden="true" tabindex="-1"></a>Das <span class="co">[</span><span class="ot">R Paket `{ggh4x}`</span><span class="co">](https://teunbrand.github.io/ggh4x/articles/ggh4x.html)</span> liefert nochmal eine Reihe von Funktionen in <span class="in">`{ggplot}`</span> Sachen schöner zu machen. Der zentrale Teil ist aber <span class="in">`facet_wrap2()`</span>. Mit dieser Funktion können wir dann die Aufteilung viel besser kontrollieren und somit auch schöner einen Faktor getrennt über einen anderen Faktor darstellen. Schaue dir dazu gerne einmal die ausführliche Vignette des Paketes an. Hier zeige ich dann nur einmal ein kurzes Beispiel zur Veranschaulichung.</span>
<span id="cb58-1156"><a href="#cb58-1156" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb58-1159"><a href="#cb58-1159" aria-hidden="true" tabindex="-1"></a><span class="in">```{r}</span></span>
<span id="cb58-1160"><a href="#cb58-1160" aria-hidden="true" tabindex="-1"></a><span class="co">#| warning: false</span></span>
<span id="cb58-1161"><a href="#cb58-1161" aria-hidden="true" tabindex="-1"></a><span class="co">#| echo: true</span></span>
<span id="cb58-1162"><a href="#cb58-1162" aria-hidden="true" tabindex="-1"></a><span class="co">#| message: false</span></span>
<span id="cb58-1163"><a href="#cb58-1163" aria-hidden="true" tabindex="-1"></a><span class="co">#| label: fig-labels-facet-wrap-gghx</span></span>
<span id="cb58-1164"><a href="#cb58-1164" aria-hidden="true" tabindex="-1"></a><span class="co">#| fig-align: center</span></span>
<span id="cb58-1165"><a href="#cb58-1165" aria-hidden="true" tabindex="-1"></a><span class="co">#| fig-height: 3</span></span>
<span id="cb58-1166"><a href="#cb58-1166" aria-hidden="true" tabindex="-1"></a><span class="co">#| fig-width: 9</span></span>
<span id="cb58-1167"><a href="#cb58-1167" aria-hidden="true" tabindex="-1"></a><span class="co">#| fig-cap: "Aufteilung der Ernährungsformen nach den beiden Entwicklungsständen. *[Zum Vergrößern anklicken]*"</span></span>
<span id="cb58-1168"><a href="#cb58-1168" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb58-1169"><a href="#cb58-1169" aria-hidden="true" tabindex="-1"></a><span class="fu">ggplot</span>(<span class="at">data =</span> ggplot_tbl, <span class="fu">aes</span>(<span class="at">x =</span> stage, <span class="at">y =</span> jump_length,</span>
<span id="cb58-1170"><a href="#cb58-1170" aria-hidden="true" tabindex="-1"></a>                              <span class="at">fill =</span> stage)) <span class="sc">+</span></span>
<span id="cb58-1171"><a href="#cb58-1171" aria-hidden="true" tabindex="-1"></a>  <span class="fu">theme_minimal</span>() <span class="sc">+</span></span>
<span id="cb58-1172"><a href="#cb58-1172" aria-hidden="true" tabindex="-1"></a>  <span class="fu">geom_boxplot</span>() <span class="sc">+</span></span>
<span id="cb58-1173"><a href="#cb58-1173" aria-hidden="true" tabindex="-1"></a>  <span class="fu">facet_wrap2</span>(<span class="sc">~</span> feeding, <span class="at">axes =</span> <span class="st">"all"</span>)</span>
<span id="cb58-1174"><a href="#cb58-1174" aria-hidden="true" tabindex="-1"></a><span class="in">```</span></span>
<span id="cb58-1175"><a href="#cb58-1175" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb58-1176"><a href="#cb58-1176" aria-hidden="true" tabindex="-1"></a><span class="fu">### `{ggtext}`</span></span>
<span id="cb58-1177"><a href="#cb58-1177" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb58-1178"><a href="#cb58-1178" aria-hidden="true" tabindex="-1"></a>Was super nervt ist immer, wenn wir uns mit der Textformatierung rumschlagen müssen. Ich habe ja schon oben bei den Schriftarten geschrieben, dass es noch Lösungen gibt. Das <span class="co">[</span><span class="ot">R Paket `{ggtext}`</span><span class="co">](https://wilkelab.org/ggtext/)</span> ist mit der Funktion <span class="in">`element_markdown()`</span> und den <span class="co">[</span><span class="ot">Markdown theme elements</span><span class="co">](https://wilkelab.org/ggtext/articles/theme_elements.html)</span> ein Paket davon. Es gibt aber noch weitere Funktionen und Möglichkeiten in dem R Paket, wie du in der Vignette <span class="co">[</span><span class="ot">Plotting with markdown text</span><span class="co">](https://wilkelab.org/ggtext/articles/plotting_text.html)</span> dir anschauen kannst. Im Prinzip ist das R Paket <span class="in">`{ggtext}`</span> nochmal eine Möglichkeit alles was in Text in deiner Abbildung vokommt nochmal schhöner zu gestalten. Es gilt wie immer, das ist einigen zu viel udn auch nicht nötig. Manchmal möchtest du es dann aber wissen, dann geht es hier in den Kaninchenbau der Textformatierung. Du kannst mit den klassischen <span class="co">[</span><span class="ot">Markdownbefehlen</span><span class="co">](https://quarto.org/docs/authoring/markdown-basics.html)</span> deinen text in einer <span class="in">`{ggplot}`</span> Abbildung formatieren. Ganz wichtig, du musst immer über <span class="in">`theme()`</span> dann den entsprechenden Teil in deiner Abbdilung auf <span class="in">`element_markdown()`</span> setzen.</span>
<span id="cb58-1179"><a href="#cb58-1179" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb58-1180"><a href="#cb58-1180" aria-hidden="true" tabindex="-1"></a><span class="in">```{r }</span></span>
<span id="cb58-1181"><a href="#cb58-1181" aria-hidden="true" tabindex="-1"></a><span class="co">#| warning: false</span></span>
<span id="cb58-1182"><a href="#cb58-1182" aria-hidden="true" tabindex="-1"></a><span class="co">#| echo: true</span></span>
<span id="cb58-1183"><a href="#cb58-1183" aria-hidden="true" tabindex="-1"></a><span class="co">#| message: false</span></span>
<span id="cb58-1184"><a href="#cb58-1184" aria-hidden="true" tabindex="-1"></a><span class="co">#| label: fig-labels-scale-title-ggtext-0</span></span>
<span id="cb58-1185"><a href="#cb58-1185" aria-hidden="true" tabindex="-1"></a><span class="co">#| fig-align: center</span></span>
<span id="cb58-1186"><a href="#cb58-1186" aria-hidden="true" tabindex="-1"></a><span class="co">#| fig-height: 3</span></span>
<span id="cb58-1187"><a href="#cb58-1187" aria-hidden="true" tabindex="-1"></a><span class="co">#| fig-width: 7</span></span>
<span id="cb58-1188"><a href="#cb58-1188" aria-hidden="true" tabindex="-1"></a><span class="co">#| fig-cap: "Beispielhafte Abbildung mit Titel und geänderter Achsenbeschrittung mit Markdown. *[Zum Vergrößern anklicken]*"</span></span>
<span id="cb58-1189"><a href="#cb58-1189" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb58-1190"><a href="#cb58-1190" aria-hidden="true" tabindex="-1"></a><span class="fu">ggplot</span>(<span class="at">data =</span> ggplot_tbl, <span class="fu">aes</span>(<span class="at">x =</span> feeding, <span class="at">y =</span> jump_length,</span>
<span id="cb58-1191"><a href="#cb58-1191" aria-hidden="true" tabindex="-1"></a>                              <span class="at">fill =</span> feeding)) <span class="sc">+</span></span>
<span id="cb58-1192"><a href="#cb58-1192" aria-hidden="true" tabindex="-1"></a>  <span class="fu">theme_minimal</span>() <span class="sc">+</span></span>
<span id="cb58-1193"><a href="#cb58-1193" aria-hidden="true" tabindex="-1"></a>  <span class="fu">geom_boxplot</span>() <span class="sc">+</span></span>
<span id="cb58-1194"><a href="#cb58-1194" aria-hidden="true" tabindex="-1"></a>  <span class="fu">labs</span>(<span class="at">x =</span> <span class="st">"**Ernährungsarten**"</span>, <span class="at">y =</span> <span class="st">"*Sprungweite in [cm]*"</span>) <span class="sc">+</span></span>
<span id="cb58-1195"><a href="#cb58-1195" aria-hidden="true" tabindex="-1"></a>  <span class="fu">theme</span>(<span class="at">legend.position =</span> <span class="st">"none"</span>,</span>
<span id="cb58-1196"><a href="#cb58-1196" aria-hidden="true" tabindex="-1"></a>        <span class="at">axis.title =</span> <span class="fu">element_markdown</span>())</span>
<span id="cb58-1197"><a href="#cb58-1197" aria-hidden="true" tabindex="-1"></a><span class="in">```</span></span>
<span id="cb58-1198"><a href="#cb58-1198" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb58-1199"><a href="#cb58-1199" aria-hidden="true" tabindex="-1"></a>Neben klassischen Markdown kannst du auch <span class="co">[</span><span class="ot">HTML Elemente</span><span class="co">](https://wiki.selfhtml.org/wiki/HTML/Elemente)</span> verwenden. Das macht die Abbildiungen dann noch komplexer und noch kleinteiliger. Hier kannst du dann einzelne Worte oder aber Teile deiner Texte in den Abbildungen ändern. In der folgenden Tabelle dann einmal ein paar Beispiele für HTML Elemente, die du in deiner Abbildung nutzen kannst.</span>
<span id="cb58-1200"><a href="#cb58-1200" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb58-1201"><a href="#cb58-1201" aria-hidden="true" tabindex="-1"></a><span class="pp">|</span> HTML Element <span class="pp">|</span> Darstellung <span class="pp">|</span></span>
<span id="cb58-1202"><a href="#cb58-1202" aria-hidden="true" tabindex="-1"></a><span class="pp">|----|----|</span></span>
<span id="cb58-1203"><a href="#cb58-1203" aria-hidden="true" tabindex="-1"></a><span class="pp">|</span> <span class="in">`x&lt;sup&gt;2&lt;/sup&gt;`</span> <span class="pp">|</span> $x^2$ <span class="pp">|</span></span>
<span id="cb58-1204"><a href="#cb58-1204" aria-hidden="true" tabindex="-1"></a><span class="pp">|</span> <span class="in">`x&lt;sub&gt;2&lt;/sub&gt;`</span> <span class="pp">|</span> $x_2$ <span class="pp">|</span></span>
<span id="cb58-1205"><a href="#cb58-1205" aria-hidden="true" tabindex="-1"></a><span class="pp">|</span> <span class="in">`&lt;span style = 'color:#0072B2;'&gt; text &lt;/span&gt;`</span> <span class="pp">|</span> $\textcolor{#0072B2}{text}$ <span class="pp">|</span></span>
<span id="cb58-1206"><a href="#cb58-1206" aria-hidden="true" tabindex="-1"></a><span class="pp">|</span> <span class="in">`&lt;br&gt;`</span> <span class="pp">|</span> Zeilenumbruch <span class="pp">|</span></span>
<span id="cb58-1207"><a href="#cb58-1207" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb58-1208"><a href="#cb58-1208" aria-hidden="true" tabindex="-1"></a>: Ausgewählte HTML Codes und deren Darstellung. {#tbl-html-beispiel}</span>
<span id="cb58-1209"><a href="#cb58-1209" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb58-1210"><a href="#cb58-1210" aria-hidden="true" tabindex="-1"></a>Wenn wir die HTML Elemente dann anwenden wollen, dann müssen wir auch hier daran denken, dass wir die entsprechenden Teile in der Abbildung im <span class="in">`theme()`</span> dann auch auf <span class="in">`element_markdown()`</span> setzen. Wenn du das vergisst, dann ändert sich in den Abbildungen erstma rein gar nichts. Hier siehst du dann auch ganz schön, dass sich so gewisse mathematische Ausdrücke auch in HTML darstellen lassen. Auch hier kommt es dann auf die Komplexität an. Einfache Einheiten lassen sich hier so auf jeden Fall einfacher darstellen.</span>
<span id="cb58-1211"><a href="#cb58-1211" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb58-1212"><a href="#cb58-1212" aria-hidden="true" tabindex="-1"></a><span class="in">```{r }</span></span>
<span id="cb58-1213"><a href="#cb58-1213" aria-hidden="true" tabindex="-1"></a><span class="co">#| warning: false</span></span>
<span id="cb58-1214"><a href="#cb58-1214" aria-hidden="true" tabindex="-1"></a><span class="co">#| echo: true</span></span>
<span id="cb58-1215"><a href="#cb58-1215" aria-hidden="true" tabindex="-1"></a><span class="co">#| message: false</span></span>
<span id="cb58-1216"><a href="#cb58-1216" aria-hidden="true" tabindex="-1"></a><span class="co">#| label: fig-labels-scale-title-ggtext-3</span></span>
<span id="cb58-1217"><a href="#cb58-1217" aria-hidden="true" tabindex="-1"></a><span class="co">#| fig-align: center</span></span>
<span id="cb58-1218"><a href="#cb58-1218" aria-hidden="true" tabindex="-1"></a><span class="co">#| fig-height: 3</span></span>
<span id="cb58-1219"><a href="#cb58-1219" aria-hidden="true" tabindex="-1"></a><span class="co">#| fig-width: 7</span></span>
<span id="cb58-1220"><a href="#cb58-1220" aria-hidden="true" tabindex="-1"></a><span class="co">#| fig-cap: "Beispielhafte Abbildung mit Titel und geänderter Achsenbeschrittung angepasst durch HTML Elemente. *[Zum Vergrößern anklicken]*"</span></span>
<span id="cb58-1221"><a href="#cb58-1221" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb58-1222"><a href="#cb58-1222" aria-hidden="true" tabindex="-1"></a><span class="fu">ggplot</span>(<span class="at">data =</span> ggplot_tbl, <span class="fu">aes</span>(<span class="at">x =</span> feeding, <span class="at">y =</span> jump_length,</span>
<span id="cb58-1223"><a href="#cb58-1223" aria-hidden="true" tabindex="-1"></a>                              <span class="at">fill =</span> feeding)) <span class="sc">+</span></span>
<span id="cb58-1224"><a href="#cb58-1224" aria-hidden="true" tabindex="-1"></a>  <span class="fu">theme_minimal</span>() <span class="sc">+</span></span>
<span id="cb58-1225"><a href="#cb58-1225" aria-hidden="true" tabindex="-1"></a>  <span class="fu">geom_boxplot</span>() <span class="sc">+</span></span>
<span id="cb58-1226"><a href="#cb58-1226" aria-hidden="true" tabindex="-1"></a><span class="fu">labs</span>(</span>
<span id="cb58-1227"><a href="#cb58-1227" aria-hidden="true" tabindex="-1"></a>    <span class="at">x =</span> <span class="st">"Horse power [E&lt;sup&gt;2&lt;/sup&gt;]"</span>,</span>
<span id="cb58-1228"><a href="#cb58-1228" aria-hidden="true" tabindex="-1"></a>    <span class="at">y =</span> <span class="st">"Miles per gallon (MPG)"</span>,</span>
<span id="cb58-1229"><a href="#cb58-1229" aria-hidden="true" tabindex="-1"></a>    <span class="at">title =</span> <span class="st">"&lt;span style = 'font-size:14pt; font-family:Helvetica;'&gt;Transmission type impacts fuel efficiency&lt;/span&gt;&lt;br&gt;</span></span>
<span id="cb58-1230"><a href="#cb58-1230" aria-hidden="true" tabindex="-1"></a><span class="st">MPG is higher for &lt;span style = 'color:#0072B2;'&gt;automatic&lt;/span&gt;</span></span>
<span id="cb58-1231"><a href="#cb58-1231" aria-hidden="true" tabindex="-1"></a><span class="st">than for &lt;span style = 'color:#D55E00;'&gt;manual&lt;/span&gt; transmissions"</span></span>
<span id="cb58-1232"><a href="#cb58-1232" aria-hidden="true" tabindex="-1"></a>  ) <span class="sc">+</span></span>
<span id="cb58-1233"><a href="#cb58-1233" aria-hidden="true" tabindex="-1"></a>  <span class="fu">theme</span>(<span class="at">legend.position =</span> <span class="st">"none"</span>,</span>
<span id="cb58-1234"><a href="#cb58-1234" aria-hidden="true" tabindex="-1"></a>        <span class="at">plot.title =</span> <span class="fu">element_markdown</span>(<span class="at">size =</span> <span class="dv">11</span>, <span class="at">lineheight =</span> <span class="fl">1.2</span>),</span>
<span id="cb58-1235"><a href="#cb58-1235" aria-hidden="true" tabindex="-1"></a>        <span class="at">axis.title =</span> <span class="fu">element_markdown</span>(<span class="at">size =</span> <span class="dv">11</span>))</span>
<span id="cb58-1236"><a href="#cb58-1236" aria-hidden="true" tabindex="-1"></a><span class="in">```</span></span>
<span id="cb58-1237"><a href="#cb58-1237" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb58-1238"><a href="#cb58-1238" aria-hidden="true" tabindex="-1"></a>Dann können wir auch noch die Abbildungen durch ein <span class="in">`facet_wrap()`</span> schöner machen. Hier können wir dann natürlich auch noch das R Paket <span class="in">`{ggh4x}`</span> mit nutzen um dann wirklich alles rauszuholen. Ich finde aber die Möglichkeit einmal die einzelnen Subplots schöner zu beschriften schon super. Am Ende nutze ich diese Option abr eher weniger sondern baue mir dann immer die einzelnen Plots und klebe diese dann über <span class="in">`{patchwork}`</span> zusammen. Das ist dann aber wirklich nur noch eine Geschmacksfrage.</span>
<span id="cb58-1239"><a href="#cb58-1239" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb58-1240"><a href="#cb58-1240" aria-hidden="true" tabindex="-1"></a><span class="in">```{r }</span></span>
<span id="cb58-1241"><a href="#cb58-1241" aria-hidden="true" tabindex="-1"></a><span class="co">#| warning: false</span></span>
<span id="cb58-1242"><a href="#cb58-1242" aria-hidden="true" tabindex="-1"></a><span class="co">#| echo: true</span></span>
<span id="cb58-1243"><a href="#cb58-1243" aria-hidden="true" tabindex="-1"></a><span class="co">#| message: false</span></span>
<span id="cb58-1244"><a href="#cb58-1244" aria-hidden="true" tabindex="-1"></a><span class="co">#| label: fig-labels-scale-title-ggtext-1</span></span>
<span id="cb58-1245"><a href="#cb58-1245" aria-hidden="true" tabindex="-1"></a><span class="co">#| fig-align: center</span></span>
<span id="cb58-1246"><a href="#cb58-1246" aria-hidden="true" tabindex="-1"></a><span class="co">#| fig-height: 3</span></span>
<span id="cb58-1247"><a href="#cb58-1247" aria-hidden="true" tabindex="-1"></a><span class="co">#| fig-width: 7</span></span>
<span id="cb58-1248"><a href="#cb58-1248" aria-hidden="true" tabindex="-1"></a><span class="co">#| fig-cap: "Beispielhafte Abbildung für eine `facet_wrap()` Abbildung mit schöneren Subtiteln. *[Zum Vergrößern anklicken]*"</span></span>
<span id="cb58-1249"><a href="#cb58-1249" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb58-1250"><a href="#cb58-1250" aria-hidden="true" tabindex="-1"></a><span class="fu">ggplot</span>(ggplot_tbl, <span class="fu">aes</span>(<span class="at">x =</span> stage, <span class="at">y =</span> jump_length)) <span class="sc">+</span></span>
<span id="cb58-1251"><a href="#cb58-1251" aria-hidden="true" tabindex="-1"></a>  <span class="fu">theme_minimal</span>() <span class="sc">+</span></span>
<span id="cb58-1252"><a href="#cb58-1252" aria-hidden="true" tabindex="-1"></a>  <span class="fu">geom_boxplot</span>() <span class="sc">+</span></span>
<span id="cb58-1253"><a href="#cb58-1253" aria-hidden="true" tabindex="-1"></a>  <span class="fu">facet_wrap</span>(<span class="sc">~</span> feeding) <span class="sc">+</span></span>
<span id="cb58-1254"><a href="#cb58-1254" aria-hidden="true" tabindex="-1"></a>  <span class="fu">theme</span>(</span>
<span id="cb58-1255"><a href="#cb58-1255" aria-hidden="true" tabindex="-1"></a>    <span class="at">strip.background =</span> <span class="fu">element_blank</span>(),</span>
<span id="cb58-1256"><a href="#cb58-1256" aria-hidden="true" tabindex="-1"></a>    <span class="at">strip.text =</span> <span class="fu">element_textbox</span>(</span>
<span id="cb58-1257"><a href="#cb58-1257" aria-hidden="true" tabindex="-1"></a>      <span class="at">size =</span> <span class="dv">12</span>,</span>
<span id="cb58-1258"><a href="#cb58-1258" aria-hidden="true" tabindex="-1"></a>      <span class="at">color =</span> <span class="st">"white"</span>, <span class="at">fill =</span> <span class="st">"#5D729D"</span>, <span class="at">box.color =</span> <span class="st">"#4A618C"</span>,</span>
<span id="cb58-1259"><a href="#cb58-1259" aria-hidden="true" tabindex="-1"></a>      <span class="at">halign =</span> <span class="fl">0.5</span>, <span class="at">linetype =</span> <span class="dv">1</span>, <span class="at">r =</span> <span class="fu">unit</span>(<span class="dv">5</span>, <span class="st">"pt"</span>), <span class="at">width =</span> <span class="fu">unit</span>(<span class="dv">1</span>, <span class="st">"npc"</span>),</span>
<span id="cb58-1260"><a href="#cb58-1260" aria-hidden="true" tabindex="-1"></a>      <span class="at">padding =</span> <span class="fu">margin</span>(<span class="dv">2</span>, <span class="dv">0</span>, <span class="dv">1</span>, <span class="dv">0</span>), <span class="at">margin =</span> <span class="fu">margin</span>(<span class="dv">3</span>, <span class="dv">3</span>, <span class="dv">3</span>, <span class="dv">3</span>)</span>
<span id="cb58-1261"><a href="#cb58-1261" aria-hidden="true" tabindex="-1"></a>    )</span>
<span id="cb58-1262"><a href="#cb58-1262" aria-hidden="true" tabindex="-1"></a>  )</span>
<span id="cb58-1263"><a href="#cb58-1263" aria-hidden="true" tabindex="-1"></a><span class="in">```</span></span>
<span id="cb58-1264"><a href="#cb58-1264" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb58-1265"><a href="#cb58-1265" aria-hidden="true" tabindex="-1"></a><span class="fu">### `{ggdist}`</span></span>
<span id="cb58-1266"><a href="#cb58-1266" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb58-1267"><a href="#cb58-1267" aria-hidden="true" tabindex="-1"></a>Das <span class="co">[</span><span class="ot">R Paket `{ggdist}`</span><span class="co">](https://mjskay.github.io/ggdist/index.html)</span> ist ein mächtiges Paket, wenn es darum geht Verteilungen darzustellen. Dafür brauchen wir dann aber auf der anderen Seite auch einiges an Beobachtungen pro Gruppe. Ich würde mal sagen, dass wir hier schnell mal von mittleren zweistelligen Zahlen an Beobachtungen sprechen. Wir können hier aber trotzdem mal zeigen, was das R Paket so kann. Im Folgenden einmal die Verteilung der Sprungweiten auf der x-Achse und die Gruppen auf der y-Achse. Ich habe dann noch die einzlenen Beobachtungen nach dem Entwicklungsstand und der Ernährungsform aufgeteilt.</span>
<span id="cb58-1268"><a href="#cb58-1268" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb58-1271"><a href="#cb58-1271" aria-hidden="true" tabindex="-1"></a><span class="in">```{r}</span></span>
<span id="cb58-1272"><a href="#cb58-1272" aria-hidden="true" tabindex="-1"></a><span class="co">#| warning: false</span></span>
<span id="cb58-1273"><a href="#cb58-1273" aria-hidden="true" tabindex="-1"></a><span class="co">#| echo: true</span></span>
<span id="cb58-1274"><a href="#cb58-1274" aria-hidden="true" tabindex="-1"></a><span class="co">#| message: false</span></span>
<span id="cb58-1275"><a href="#cb58-1275" aria-hidden="true" tabindex="-1"></a><span class="co">#| label: fig-ggdist-01</span></span>
<span id="cb58-1276"><a href="#cb58-1276" aria-hidden="true" tabindex="-1"></a><span class="co">#| fig-align: center</span></span>
<span id="cb58-1277"><a href="#cb58-1277" aria-hidden="true" tabindex="-1"></a><span class="co">#| fig-height: 3</span></span>
<span id="cb58-1278"><a href="#cb58-1278" aria-hidden="true" tabindex="-1"></a><span class="co">#| fig-width: 7</span></span>
<span id="cb58-1279"><a href="#cb58-1279" aria-hidden="true" tabindex="-1"></a><span class="co">#| fig-cap: "Darstellung der Sprungweite in Abhängigkeit der Ernährungsform und dem Entwicklungsstand. Hier einmal gedereht für die x- und y-Achse um gleich die Verteilungen etwas besser zeigen zu können. *[Zum Vergrößern anklicken]*"</span></span>
<span id="cb58-1280"><a href="#cb58-1280" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb58-1281"><a href="#cb58-1281" aria-hidden="true" tabindex="-1"></a>ggplot_tbl <span class="sc">|&gt;</span> </span>
<span id="cb58-1282"><a href="#cb58-1282" aria-hidden="true" tabindex="-1"></a>  <span class="fu">ggplot</span>(<span class="fu">aes</span>(<span class="at">x =</span> jump_length, <span class="at">y =</span> feeding, <span class="at">color =</span> stage)) <span class="sc">+</span></span>
<span id="cb58-1283"><a href="#cb58-1283" aria-hidden="true" tabindex="-1"></a>  <span class="fu">theme_minimal</span>() <span class="sc">+</span></span>
<span id="cb58-1284"><a href="#cb58-1284" aria-hidden="true" tabindex="-1"></a>  <span class="fu">geom_point</span>(<span class="at">position =</span> <span class="fu">position_dodge</span>(<span class="fl">0.4</span>)) <span class="sc">+</span></span>
<span id="cb58-1285"><a href="#cb58-1285" aria-hidden="true" tabindex="-1"></a>  <span class="fu">scale_color_okabeito</span>() <span class="sc">+</span></span>
<span id="cb58-1286"><a href="#cb58-1286" aria-hidden="true" tabindex="-1"></a>  <span class="fu">theme</span>(<span class="at">legend.position =</span> <span class="st">"top"</span>)</span>
<span id="cb58-1287"><a href="#cb58-1287" aria-hidden="true" tabindex="-1"></a><span class="in">```</span></span>
<span id="cb58-1288"><a href="#cb58-1288" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb58-1289"><a href="#cb58-1289" aria-hidden="true" tabindex="-1"></a>Dann können wir einmal ein lineares Modell schätzen um uns gleich mal die Koeffizienten mit den entsprechenden Fehlern als Verteilung anzuschauen.</span>
<span id="cb58-1290"><a href="#cb58-1290" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb58-1293"><a href="#cb58-1293" aria-hidden="true" tabindex="-1"></a><span class="in">```{r}</span></span>
<span id="cb58-1294"><a href="#cb58-1294" aria-hidden="true" tabindex="-1"></a>jump_feeding_fit <span class="ot">&lt;-</span> <span class="fu">lm</span>(jump_length <span class="sc">~</span> feeding <span class="sc">*</span> stage, <span class="at">data =</span> ggplot_tbl)</span>
<span id="cb58-1295"><a href="#cb58-1295" aria-hidden="true" tabindex="-1"></a><span class="in">```</span></span>
<span id="cb58-1296"><a href="#cb58-1296" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb58-1297"><a href="#cb58-1297" aria-hidden="true" tabindex="-1"></a>In der folgenden Abbildung siehst du dann einmal die Koeffizienten und deren Fehler als Verteilung einmal dargestellt. Hier siehst du sehr schön, dass die Koeffizienten als Punktschätzer eigentlich aus einer Verteilung stammen, die natürlich auch einen Fehler hat. Der Koeffizient ist eben dann doch nichts anders als der Wert wo die Verteilung ihren Schwerpunkt hat. Wir sehen hier im rinzip die Visualisierung der <span class="in">`summary()`</span> Ausgabe eines linearen Modells.</span>
<span id="cb58-1298"><a href="#cb58-1298" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb58-1301"><a href="#cb58-1301" aria-hidden="true" tabindex="-1"></a><span class="in">```{r}</span></span>
<span id="cb58-1302"><a href="#cb58-1302" aria-hidden="true" tabindex="-1"></a><span class="co">#| warning: false</span></span>
<span id="cb58-1303"><a href="#cb58-1303" aria-hidden="true" tabindex="-1"></a><span class="co">#| echo: true</span></span>
<span id="cb58-1304"><a href="#cb58-1304" aria-hidden="true" tabindex="-1"></a><span class="co">#| message: false</span></span>
<span id="cb58-1305"><a href="#cb58-1305" aria-hidden="true" tabindex="-1"></a><span class="co">#| label: fig-ggdist-02</span></span>
<span id="cb58-1306"><a href="#cb58-1306" aria-hidden="true" tabindex="-1"></a><span class="co">#| fig-align: center</span></span>
<span id="cb58-1307"><a href="#cb58-1307" aria-hidden="true" tabindex="-1"></a><span class="co">#| fig-height: 3</span></span>
<span id="cb58-1308"><a href="#cb58-1308" aria-hidden="true" tabindex="-1"></a><span class="co">#| fig-width: 7</span></span>
<span id="cb58-1309"><a href="#cb58-1309" aria-hidden="true" tabindex="-1"></a><span class="co">#| fig-cap: "Darstellung der Koeffizienten aus einer linearen Regression zusammen mit dem Fehler und der Verteilung aus der der Punktschätzer stammt.. *[Zum Vergrößern anklicken]*"</span></span>
<span id="cb58-1310"><a href="#cb58-1310" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb58-1311"><a href="#cb58-1311" aria-hidden="true" tabindex="-1"></a>jump_feeding_fit <span class="sc">|&gt;</span> </span>
<span id="cb58-1312"><a href="#cb58-1312" aria-hidden="true" tabindex="-1"></a>  <span class="fu">tidy</span>()  <span class="sc">|&gt;</span> </span>
<span id="cb58-1313"><a href="#cb58-1313" aria-hidden="true" tabindex="-1"></a>  <span class="fu">ggplot</span>(<span class="fu">aes</span>(<span class="at">y =</span> term)) <span class="sc">+</span></span>
<span id="cb58-1314"><a href="#cb58-1314" aria-hidden="true" tabindex="-1"></a>  <span class="fu">theme_minimal</span>() <span class="sc">+</span></span>
<span id="cb58-1315"><a href="#cb58-1315" aria-hidden="true" tabindex="-1"></a>  <span class="fu">stat_halfeye</span>(<span class="fu">aes</span>(<span class="at">xdist =</span> <span class="fu">dist_student_t</span>(<span class="at">df =</span> <span class="fu">df.residual</span>(jump_feeding_fit), </span>
<span id="cb58-1316"><a href="#cb58-1316" aria-hidden="true" tabindex="-1"></a>                                          <span class="at">mu =</span> estimate, <span class="at">sigma =</span> std.error)))</span>
<span id="cb58-1317"><a href="#cb58-1317" aria-hidden="true" tabindex="-1"></a><span class="in">```</span></span>
<span id="cb58-1318"><a href="#cb58-1318" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb58-1319"><a href="#cb58-1319" aria-hidden="true" tabindex="-1"></a>Jetzt können wir nochmal richtig ausholen und dann nochmal alles zusammenbringen. Wir schauen uns die Punktschätzer aus der linearen Regression mit den Koeffizienten an. Dann bringen wir noch die einzelnen Beobachtungen mit ein. Damit haben wir dann die Daten mit den theoretischen Koeffizienten zusammen. Da sehen wir dann auch gleich die Effekte der Ernährungsformen auf die Sprungweite und das sich die Effekte bei einer Zuckerernährung und dem Entwicklungsstand umdrehen.</span>
<span id="cb58-1320"><a href="#cb58-1320" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb58-1323"><a href="#cb58-1323" aria-hidden="true" tabindex="-1"></a><span class="in">```{r}</span></span>
<span id="cb58-1324"><a href="#cb58-1324" aria-hidden="true" tabindex="-1"></a><span class="co">#| warning: false</span></span>
<span id="cb58-1325"><a href="#cb58-1325" aria-hidden="true" tabindex="-1"></a><span class="co">#| echo: true</span></span>
<span id="cb58-1326"><a href="#cb58-1326" aria-hidden="true" tabindex="-1"></a><span class="co">#| message: false</span></span>
<span id="cb58-1327"><a href="#cb58-1327" aria-hidden="true" tabindex="-1"></a><span class="co">#| label: fig-ggdist-03</span></span>
<span id="cb58-1328"><a href="#cb58-1328" aria-hidden="true" tabindex="-1"></a><span class="co">#| fig-align: center</span></span>
<span id="cb58-1329"><a href="#cb58-1329" aria-hidden="true" tabindex="-1"></a><span class="co">#| fig-height: 3</span></span>
<span id="cb58-1330"><a href="#cb58-1330" aria-hidden="true" tabindex="-1"></a><span class="co">#| fig-width: 7</span></span>
<span id="cb58-1331"><a href="#cb58-1331" aria-hidden="true" tabindex="-1"></a><span class="co">#| fig-cap: "Darstellung der Sprungweite in Abhängigkeit von der Ernährungsform der Flöhe und dem Entwicklungstand. Die Verteilung der Koeffizienten ist zusammen mit den beobachteten Daten dargestellt. *[Zum Vergrößern anklicken]*"</span></span>
<span id="cb58-1332"><a href="#cb58-1332" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb58-1333"><a href="#cb58-1333" aria-hidden="true" tabindex="-1"></a><span class="fu">expand</span>(ggplot_tbl, feeding, stage) <span class="sc">|&gt;</span> </span>
<span id="cb58-1334"><a href="#cb58-1334" aria-hidden="true" tabindex="-1"></a>  <span class="fu">augment</span>(jump_feeding_fit, <span class="at">newdata =</span> _, <span class="at">se_fit =</span> <span class="cn">TRUE</span>) <span class="sc">|&gt;</span> </span>
<span id="cb58-1335"><a href="#cb58-1335" aria-hidden="true" tabindex="-1"></a>  <span class="fu">ggplot</span>(<span class="fu">aes</span>(<span class="at">y =</span> feeding, <span class="at">color =</span> stage)) <span class="sc">+</span></span>
<span id="cb58-1336"><a href="#cb58-1336" aria-hidden="true" tabindex="-1"></a>  <span class="fu">theme_minimal</span>() <span class="sc">+</span></span>
<span id="cb58-1337"><a href="#cb58-1337" aria-hidden="true" tabindex="-1"></a>  <span class="fu">stat_halfeye</span>(<span class="fu">aes</span>(<span class="at">xdist =</span> <span class="fu">dist_student_t</span>(<span class="at">df =</span> <span class="fu">df.residual</span>(jump_feeding_fit), </span>
<span id="cb58-1338"><a href="#cb58-1338" aria-hidden="true" tabindex="-1"></a>                                          <span class="at">mu =</span> .fitted, <span class="at">sigma =</span> .se.fit),</span>
<span id="cb58-1339"><a href="#cb58-1339" aria-hidden="true" tabindex="-1"></a>                   <span class="at">fill =</span> stage),</span>
<span id="cb58-1340"><a href="#cb58-1340" aria-hidden="true" tabindex="-1"></a>               <span class="at">scale =</span> <span class="fl">0.5</span>, <span class="at">alpha =</span> <span class="fl">0.5</span>) <span class="sc">+</span></span>
<span id="cb58-1341"><a href="#cb58-1341" aria-hidden="true" tabindex="-1"></a>  <span class="fu">geom_point</span>(<span class="at">data =</span> ggplot_tbl, <span class="fu">aes</span>(<span class="at">x =</span> jump_length),</span>
<span id="cb58-1342"><a href="#cb58-1342" aria-hidden="true" tabindex="-1"></a>             <span class="at">pch =</span> <span class="st">"|"</span>, <span class="at">size =</span> <span class="dv">3</span>, <span class="at">position =</span> <span class="fu">position_nudge</span>(<span class="at">y =</span> <span class="sc">-</span>.<span class="dv">15</span>)) <span class="sc">+</span></span>
<span id="cb58-1343"><a href="#cb58-1343" aria-hidden="true" tabindex="-1"></a>  <span class="fu">scale_color_okabeito</span>() <span class="sc">+</span></span>
<span id="cb58-1344"><a href="#cb58-1344" aria-hidden="true" tabindex="-1"></a>  <span class="fu">scale_fill_okabeito</span>() <span class="sc">+</span></span>
<span id="cb58-1345"><a href="#cb58-1345" aria-hidden="true" tabindex="-1"></a>  <span class="fu">theme</span>(<span class="at">legend.position =</span> <span class="st">"top"</span>)</span>
<span id="cb58-1346"><a href="#cb58-1346" aria-hidden="true" tabindex="-1"></a><span class="in">```</span></span>
<span id="cb58-1347"><a href="#cb58-1347" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb58-1348"><a href="#cb58-1348" aria-hidden="true" tabindex="-1"></a>Am Ende möchte ich dann nochmal auf das <span class="co">[</span><span class="ot">R Paket `{distributional}`</span><span class="co">](https://pkg.mitchelloharawild.com/distributional/index.html)</span> verweisen, was erlaubt auch noch andere Verteilungen für die Koeffizienten zu wählen. Häufig reicht hier die t-Verteilung oder Normalverteilung aus, aber es gibt eben dann noch mehr Möglichkeiten. Das Paket ist jedenfalls klasse, wenn es um Verteilungen geht.</span>
<span id="cb58-1349"><a href="#cb58-1349" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb58-1350"><a href="#cb58-1350" aria-hidden="true" tabindex="-1"></a><span class="fu">### `{ggpmisc}`</span></span>
<span id="cb58-1351"><a href="#cb58-1351" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb58-1352"><a href="#cb58-1352" aria-hidden="true" tabindex="-1"></a>Ich nutze das <span class="co">[</span><span class="ot">R Paket `{ggpmisc}`</span><span class="co">](https://cran.r-project.org/web/packages/ggpmisc/vignettes/user-guide.html)</span> im Besonderen, wenn ich eine Grade durch eine Punktewolke legen will. Dafür ist das R Paket richtig super. Wir erhalten realtiv einfach die Gradengleichung und auch das Bestimmtheitsmaß angegeben. Wir haben also die Möglichkeit in einer explorativen Datenanalyse einmal zu spielen und dann gleich die Gradengleichung. Das ist jetzt aber ein sehr spezieller Fall. Deshalb hier nur der Link zu dem Paket. Ich zeige die Anwendung nochmal kurz bei dem Scatterplot in dem <span class="co">[</span><span class="ot">Kapitel zur Visualisierung von Daten</span><span class="co">](#sec-eda-ggplot)</span>. Dort ist es auch besser aufgehoben. Sonst verteilt sich das Paket recht gleichmäßig immer mal wieder bei den Regressionsanalysen. Hier einmal ein Beispiel mit den Sprungweiten aus unseren Daten.</span>
<span id="cb58-1353"><a href="#cb58-1353" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb58-1354"><a href="#cb58-1354" aria-hidden="true" tabindex="-1"></a><span class="in">```{r }</span></span>
<span id="cb58-1355"><a href="#cb58-1355" aria-hidden="true" tabindex="-1"></a><span class="co">#| echo: true</span></span>
<span id="cb58-1356"><a href="#cb58-1356" aria-hidden="true" tabindex="-1"></a><span class="co">#| message: false</span></span>
<span id="cb58-1357"><a href="#cb58-1357" aria-hidden="true" tabindex="-1"></a><span class="co">#| label: fig-cookbook-ppgmisc</span></span>
<span id="cb58-1358"><a href="#cb58-1358" aria-hidden="true" tabindex="-1"></a><span class="co">#| fig-align: center</span></span>
<span id="cb58-1359"><a href="#cb58-1359" aria-hidden="true" tabindex="-1"></a><span class="co">#| fig-height: 4</span></span>
<span id="cb58-1360"><a href="#cb58-1360" aria-hidden="true" tabindex="-1"></a><span class="co">#| fig-width: 6</span></span>
<span id="cb58-1361"><a href="#cb58-1361" aria-hidden="true" tabindex="-1"></a><span class="co">#| fig-cap: "Zusammenhang zwischen der Sprungweite in [cm] und Gewicht. Jeder Punkt stellt eine Beobachtung dar. Die Grade wird durch die Punkte gezeichnet und die Gradengleichung zusammen mit dem Bestimmtheitsmaß $R^2$ angegeben."</span></span>
<span id="cb58-1362"><a href="#cb58-1362" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb58-1363"><a href="#cb58-1363" aria-hidden="true" tabindex="-1"></a><span class="fu">ggplot</span>(ggplot_tbl, <span class="fu">aes</span>(<span class="at">x =</span> weight, <span class="at">y =</span> jump_length)) <span class="sc">+</span></span>
<span id="cb58-1364"><a href="#cb58-1364" aria-hidden="true" tabindex="-1"></a>  <span class="fu">theme_minimal</span>() <span class="sc">+</span></span>
<span id="cb58-1365"><a href="#cb58-1365" aria-hidden="true" tabindex="-1"></a>  <span class="fu">geom_point</span>() <span class="sc">+</span></span>
<span id="cb58-1366"><a href="#cb58-1366" aria-hidden="true" tabindex="-1"></a>  <span class="fu">stat_poly_line</span>(<span class="at">formula =</span> y <span class="sc">~</span> x, <span class="at">se =</span> <span class="cn">FALSE</span>) <span class="sc">+</span></span>
<span id="cb58-1367"><a href="#cb58-1367" aria-hidden="true" tabindex="-1"></a>  <span class="fu">stat_poly_eq</span>(<span class="at">formula =</span> y <span class="sc">~</span> x, <span class="at">mapping =</span> <span class="fu">use_label</span>(<span class="fu">c</span>(<span class="st">"eq"</span>, <span class="st">"r2"</span>))) <span class="sc">+</span></span>
<span id="cb58-1368"><a href="#cb58-1368" aria-hidden="true" tabindex="-1"></a>  <span class="fu">labs</span>(<span class="at">x =</span> <span class="st">"Gewicht der Katzenflöhe [mg]"</span>, <span class="at">y =</span> <span class="st">"Sprungweite in [cm]"</span>) <span class="sc">+</span></span>
<span id="cb58-1369"><a href="#cb58-1369" aria-hidden="true" tabindex="-1"></a>  <span class="fu">ylim</span>(<span class="dv">0</span>, <span class="cn">NA</span>) <span class="sc">+</span> <span class="fu">xlim</span>(<span class="dv">0</span>, <span class="cn">NA</span>)</span>
<span id="cb58-1370"><a href="#cb58-1370" aria-hidden="true" tabindex="-1"></a><span class="in">```</span></span>
<span id="cb58-1371"><a href="#cb58-1371" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb58-1372"><a href="#cb58-1372" aria-hidden="true" tabindex="-1"></a><span class="fu">### `{patchwork}`</span></span>
<span id="cb58-1373"><a href="#cb58-1373" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb58-1374"><a href="#cb58-1374" aria-hidden="true" tabindex="-1"></a>Das <span class="co">[</span><span class="ot">R Paket `{patchwork}`</span><span class="co">](https://patchwork.data-imaginist.com/)</span> bietet die Möglichkeit Abbildungen nebeneinander darzustellen. Hier findest du einmal den Code, den ich hier in diesem Buch nutze. Dafür ist der Abschnitt auch nur da. Damit ich den Code kopieren kann.</span>
<span id="cb58-1375"><a href="#cb58-1375" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb58-1378"><a href="#cb58-1378" aria-hidden="true" tabindex="-1"></a><span class="in">```{r}</span></span>
<span id="cb58-1379"><a href="#cb58-1379" aria-hidden="true" tabindex="-1"></a><span class="co">#| eval: false</span></span>
<span id="cb58-1380"><a href="#cb58-1380" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb58-1381"><a href="#cb58-1381" aria-hidden="true" tabindex="-1"></a>p1 <span class="sc">+</span> p2 <span class="sc">+</span></span>
<span id="cb58-1382"><a href="#cb58-1382" aria-hidden="true" tabindex="-1"></a>  <span class="fu">plot_layout</span>(<span class="at">ncol =</span> <span class="dv">2</span>) <span class="sc">+</span></span>
<span id="cb58-1383"><a href="#cb58-1383" aria-hidden="true" tabindex="-1"></a>  <span class="fu">plot_annotation</span>(<span class="at">tag_levels =</span> <span class="st">'A'</span>, <span class="at">tag_prefix =</span> <span class="st">'('</span>, <span class="at">tag_suffix =</span> <span class="st">')'</span>) <span class="sc">&amp;</span></span>
<span id="cb58-1384"><a href="#cb58-1384" aria-hidden="true" tabindex="-1"></a>  <span class="fu">theme</span>(<span class="at">plot.tag =</span> <span class="fu">element_text</span>(<span class="at">size =</span> <span class="dv">16</span>, <span class="at">face =</span> <span class="st">"bold"</span>))</span>
<span id="cb58-1385"><a href="#cb58-1385" aria-hidden="true" tabindex="-1"></a><span class="in">```</span></span>
<span id="cb58-1386"><a href="#cb58-1386" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb58-1387"><a href="#cb58-1387" aria-hidden="true" tabindex="-1"></a>Hier gibt es dann nicht mehr zu sehen. Ausgeführten Code findest du dann weiter oben in dem <span class="co">[</span><span class="ot">Abschnitt zu den Abbildungen nebeneinander</span><span class="co">](#sec-abbildung-nebeneinander)</span>. Das dient hier nur für mich um dann nochmal schnell auf meine Vorlagen zurückgreifen zu können.</span>
<span id="cb58-1388"><a href="#cb58-1388" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb58-1389"><a href="#cb58-1389" aria-hidden="true" tabindex="-1"></a><span class="fu">### `{gganimate}`</span></span>
<span id="cb58-1390"><a href="#cb58-1390" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb58-1391"><a href="#cb58-1391" aria-hidden="true" tabindex="-1"></a>Das <span class="co">[</span><span class="ot">R Paket `{gganimate}`</span><span class="co">](https://gganimate.com)</span> liefert die Möglichkeit animierte Abbildungen zu erstellen. Es gibt auf der Seite von <span class="co">[</span><span class="ot">Datanovia - How to Create Plots with Beautiful Animation in R</span><span class="co">](https://www.datanovia.com/en/blog/gganimate-how-to-create-plots-with-beautiful-animation-in-r/)</span> nochmal einen Blogpost dazu und auch das <span class="co">[</span><span class="ot">Cheat sheet `{gganimate}`</span><span class="co">](https://rstudio.github.io/cheatsheets/gganimate.pdf)</span> hilft weiter. Ich persönlich finde aber die Anwendung immer etwas sperrig. Oder andersherum, ich habe mich noch nicht so richtig in den Code und die Funktionen reinfuchsen können. Nicht jede Funktion klappt auf Anhieb und dann muss man fummeln bis es geht. Anbei einmal eine mögliche Darstellung. Es geht so viel mehr, aber aktuell fehlt mir die Zeit und der Wille mich tiefer mit <span class="in">`{gganimate}`</span> zu beschäftigen.</span>
<span id="cb58-1392"><a href="#cb58-1392" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb58-1395"><a href="#cb58-1395" aria-hidden="true" tabindex="-1"></a><span class="in">```{r}</span></span>
<span id="cb58-1396"><a href="#cb58-1396" aria-hidden="true" tabindex="-1"></a><span class="co">#| warning: false</span></span>
<span id="cb58-1397"><a href="#cb58-1397" aria-hidden="true" tabindex="-1"></a><span class="co">#| echo: true</span></span>
<span id="cb58-1398"><a href="#cb58-1398" aria-hidden="true" tabindex="-1"></a><span class="co">#| message: false</span></span>
<span id="cb58-1399"><a href="#cb58-1399" aria-hidden="true" tabindex="-1"></a><span class="co">#| eval: true</span></span>
<span id="cb58-1400"><a href="#cb58-1400" aria-hidden="true" tabindex="-1"></a><span class="co">#| label: fig-labels-animate</span></span>
<span id="cb58-1401"><a href="#cb58-1401" aria-hidden="true" tabindex="-1"></a><span class="co">#| fig-align: center</span></span>
<span id="cb58-1402"><a href="#cb58-1402" aria-hidden="true" tabindex="-1"></a><span class="co">#| fig-height: 3</span></span>
<span id="cb58-1403"><a href="#cb58-1403" aria-hidden="true" tabindex="-1"></a><span class="co">#| fig-width: 7</span></span>
<span id="cb58-1404"><a href="#cb58-1404" aria-hidden="true" tabindex="-1"></a><span class="co">#| fig-cap: "Beispielhafte Anwendung der Funktion `transition_reveal()` auf dem Flohgewicht. *[Zum Vergrößern anklicken]*"</span></span>
<span id="cb58-1405"><a href="#cb58-1405" aria-hidden="true" tabindex="-1"></a><span class="co">#| cache: true</span></span>
<span id="cb58-1406"><a href="#cb58-1406" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb58-1407"><a href="#cb58-1407" aria-hidden="true" tabindex="-1"></a><span class="fu">ggplot</span>(ggplot_tbl, <span class="fu">aes</span>(<span class="at">x =</span> weight, <span class="at">y =</span> jump_length,</span>
<span id="cb58-1408"><a href="#cb58-1408" aria-hidden="true" tabindex="-1"></a>                       <span class="at">color =</span> feeding)) <span class="sc">+</span> </span>
<span id="cb58-1409"><a href="#cb58-1409" aria-hidden="true" tabindex="-1"></a>  <span class="fu">theme_minimal</span>() <span class="sc">+</span></span>
<span id="cb58-1410"><a href="#cb58-1410" aria-hidden="true" tabindex="-1"></a>  <span class="fu">geom_point</span>(<span class="fu">aes</span>(<span class="at">group =</span> <span class="fu">seq_along</span>(feeding))) <span class="sc">+</span></span>
<span id="cb58-1411"><a href="#cb58-1411" aria-hidden="true" tabindex="-1"></a>  <span class="fu">theme</span>(<span class="at">legend.position =</span> <span class="st">"top"</span>) <span class="sc">+</span></span>
<span id="cb58-1412"><a href="#cb58-1412" aria-hidden="true" tabindex="-1"></a>  <span class="fu">transition_reveal</span>(weight) </span>
<span id="cb58-1413"><a href="#cb58-1413" aria-hidden="true" tabindex="-1"></a><span class="in">```</span></span>
<span id="cb58-1414"><a href="#cb58-1414" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb58-1415"><a href="#cb58-1415" aria-hidden="true" tabindex="-1"></a>Am Ende bin ich dann gescheitert hier einmal anständig <span class="in">`geom_smooth()`</span> zu ergänzen, was ja auch wirklich mal das Interessanteste wäre. Das geht auch leider nicht mit dem R Paket <span class="in">`{ggpmisc}`</span> einfach so. Damit ist dann hier erst recht erstmal Pause für mich.</span>
<span id="cb58-1416"><a href="#cb58-1416" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb58-1417"><a href="#cb58-1417" aria-hidden="true" tabindex="-1"></a>::: {layout="<span class="co">[</span><span class="ot">15,85</span><span class="co">]</span>" layout-valign="top"}</span>
<span id="cb58-1418"><a href="#cb58-1418" aria-hidden="true" tabindex="-1"></a><span class="al">![](images/personal_opinion.png)</span>{fig-align="center" width="100%"}</span>
<span id="cb58-1419"><a href="#cb58-1419" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb58-1420"><a href="#cb58-1420" aria-hidden="true" tabindex="-1"></a><span class="at">&gt; *"Das R Paket `{gganimate}` klingt super spannend und ich war auch begeistert es zu nutzen. Dann fand ich aber nicht so richtig eine Anwendung. Vielleicht bei Zeitreihen oder aber bei Verläufen. Aber so richtig nutzen tue ich `{gganimate}` nicht, so dass das Paket hier erstmal parkt, bis ich eine bessere Anwendung gefunden habe. Gut zu wissen das es `{gganimate}` gibt." --- Jochen Kruppa-Scheetz, meiner bescheidener Meinung nach.*</span></span>
<span id="cb58-1421"><a href="#cb58-1421" aria-hidden="true" tabindex="-1"></a><span class="at">:::</span></span>
<span id="cb58-1422"><a href="#cb58-1422" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb58-1423"><a href="#cb58-1423" aria-hidden="true" tabindex="-1"></a>::: callout-tip</span>
<span id="cb58-1424"><a href="#cb58-1424" aria-hidden="true" tabindex="-1"></a><span class="fu">## Mehr Pakete von Interesse</span></span>
<span id="cb58-1425"><a href="#cb58-1425" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb58-1426"><a href="#cb58-1426" aria-hidden="true" tabindex="-1"></a>Manchmal finde ich irgendwo ein R Paket und denke, dass könnte von Interesse sein und irgendwie dann doch mit in Visualisierung passen. Daher schreibe ich mir das Paket erstmal hier auf und schaue später mal vorbei. Es sind eben dann auch Daten dabei, die man mal visualisieren könnte. Manchmal passen die Pakete hier auch nicht so richtig zur Visualisierung. Aber erstmal sammeln.</span>
<span id="cb58-1427"><a href="#cb58-1427" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb58-1428"><a href="#cb58-1428" aria-hidden="true" tabindex="-1"></a><span class="pp">|</span> Nr. <span class="pp">|</span> Link <span class="pp">|</span> Beschreibung <span class="pp">|</span></span>
<span id="cb58-1429"><a href="#cb58-1429" aria-hidden="true" tabindex="-1"></a><span class="pp">|----|----|----|</span></span>
<span id="cb58-1430"><a href="#cb58-1430" aria-hidden="true" tabindex="-1"></a><span class="pp">|</span> 1<span class="sc">\.</span> <span class="pp">|</span> <span class="co">[</span><span class="ot">R Paket `{collapse}`</span><span class="co">](https://sebkrantz.github.io/collapse/index.html)</span> <span class="pp">|</span> Das R Paket <span class="in">`{collapse}`</span> ist ein umfangreiches C/C++-basiertes Paket für die Datenumwandlung und statistische Berechnungen in R. Es ist super spannend, aber mir fehlte bis jetzt die Zeit. Wenn deine Daten riesig werden, dann ist das hier deine Lösung. <span class="pp">|</span></span>
<span id="cb58-1431"><a href="#cb58-1431" aria-hidden="true" tabindex="-1"></a><span class="pp">|</span> 2<span class="sc">\.</span> <span class="pp">|</span> <span class="co">[</span><span class="ot">R Paket `{visibly}`</span><span class="co">](https://m-clark.github.io/visibly/articles/intro.html)</span> <span class="pp">|</span> Das Paket erlaubt dir schnell die passenden Farben für deine Analysen zu finden, die maximal verschieden sind. Daneben gibt es noch weitere Funktionen um Farben und Visualisierungen. <span class="pp">|</span></span>
<span id="cb58-1432"><a href="#cb58-1432" aria-hidden="true" tabindex="-1"></a><span class="pp">|</span> 3<span class="sc">\.</span> <span class="pp">|</span> <span class="co">[</span><span class="ot">R Paket `{gapminder}`</span><span class="co">](https://github.com/jennybc/gapminder)</span> <span class="pp">|</span> Hier noch ein Paket mit Daten von <span class="co">[</span><span class="ot">Gapminder</span><span class="co">](https://www.gapminder.org/data/)</span> und damit eine Möglichkeit nochmal auf große soziodemographische Daten zuzugreifen. Es ist eien super Quelle und man kann sich in den Daten verlieren. <span class="pp">|</span></span>
<span id="cb58-1433"><a href="#cb58-1433" aria-hidden="true" tabindex="-1"></a><span class="pp">|</span> 4<span class="sc">\.</span> <span class="pp">|</span> <span class="co">[</span><span class="ot">R Paket`{emojifont}`</span><span class="co">](https://cran.r-project.org/web/packages/emojifont/vignettes/emojifont.html)</span> <span class="pp">|</span> Nochmal etwas zu Emojis und die Möglichkeit diese dann in R darzustellen. Nur alleine in <span class="in">`{ggplot}`</span> ist es eine Sache, das ganze dann aber mit Quarto und HTML eine andere. Ich habe es nicht weiter vertieft. <span class="pp">|</span></span>
<span id="cb58-1434"><a href="#cb58-1434" aria-hidden="true" tabindex="-1"></a><span class="pp">|</span> 5<span class="sc">\.</span> <span class="pp">|</span> <span class="co">[</span><span class="ot">R Paket`{emo}`</span><span class="co">](https://github.com/hadley/emo)</span> <span class="pp">|</span> Eine Möglichkeit nochmal anders Emojis darzustellen. Ich hatte das Paket gefunden aber nicht mehr ausprobiert. <span class="pp">|</span></span>
<span id="cb58-1435"><a href="#cb58-1435" aria-hidden="true" tabindex="-1"></a><span class="pp">|</span> 6<span class="sc">\.</span> <span class="pp">|</span> <span class="co">[</span><span class="ot">R Paket `{ggpp}`</span><span class="co">](https://docs.r4photobiology.info/ggpp/index.html)</span> <span class="pp">|</span> Eine weitere Möglichkeit Tabellen und verschiedene Abbildungen ineinander zu verschränken. Also Tabellen innerhalb eines <span class="in">`{ggplot}`</span>s zu plotten oder aber noch wildere Sachen. Am Ende habe ich es nie angewendet. <span class="pp">|</span></span>
<span id="cb58-1436"><a href="#cb58-1436" aria-hidden="true" tabindex="-1"></a><span class="pp">|</span> 7<span class="sc">\.</span> <span class="pp">|</span> <span class="co">[</span><span class="ot">R Paket `{ggsignif}`</span><span class="co">](https://github.com/const-ae/ggsignif)</span> <span class="pp">|</span> Auch hier hast du nochmal die Möglichkeit einen statistischen Test direkt in deine Abbildung darstellen zu lassen. Fand ich interessant, habe es aber dann auch nie selber verwendet. <span class="pp">|</span></span>
<span id="cb58-1437"><a href="#cb58-1437" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb58-1438"><a href="#cb58-1438" aria-hidden="true" tabindex="-1"></a>: {tbl-colwidths="<span class="sc">\[</span>5,35,60<span class="sc">\]</span>"}</span>
<span id="cb58-1439"><a href="#cb58-1439" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb58-1440"><a href="#cb58-1440" aria-hidden="true" tabindex="-1"></a>Diese Liste kann natürlich beliebig erweitert werden. Für mich ist es dann ein ewiger Arbeitsauftrag mich mal mit dieser Liste zu beschäftigen. Teilweise sind aber die Pakete auch hier für dich. Ich fand es interessant, habe das Paket dann aber doch (noch) nicht genutzt.</span>
<span id="cb58-1441"><a href="#cb58-1441" aria-hidden="true" tabindex="-1"></a>:::</span>
<span id="cb58-1442"><a href="#cb58-1442" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb58-1443"><a href="#cb58-1443" aria-hidden="true" tabindex="-1"></a><span class="fu">## Links von Interesse</span></span>
<span id="cb58-1444"><a href="#cb58-1444" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb58-1445"><a href="#cb58-1445" aria-hidden="true" tabindex="-1"></a>Kennst du das auch? Spannende Links, die man sich mal anschauen möchte? Aber noch nicht richtig weiß, wie und wo die Links mit reinpassen. Zwar haben alle was mit der Visualisierung zu tun, aber eventuell dann doch zu spezielle Themen. Auch diese Liste ist vermutlich nie vollständig und wird dann immer mal wieder von mir erweitert, wenn ich ein nettes Buch oder einen tollen Blogeintrag zu Thema hier finde.</span>
<span id="cb58-1446"><a href="#cb58-1446" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb58-1447"><a href="#cb58-1447" aria-hidden="true" tabindex="-1"></a><span class="pp">|</span> Nr. <span class="pp">|</span> Link <span class="pp">|</span> Beschreibung <span class="pp">|</span></span>
<span id="cb58-1448"><a href="#cb58-1448" aria-hidden="true" tabindex="-1"></a><span class="pp">|----|----|----|</span></span>
<span id="cb58-1449"><a href="#cb58-1449" aria-hidden="true" tabindex="-1"></a><span class="pp">|</span> 1<span class="sc">\.</span> <span class="pp">|</span> <span class="co">[</span><span class="ot">ggplot2: Elegant Graphics for Data Analysis (3e)</span><span class="co">](https://ggplot2-book.org/)</span> <span class="pp">|</span> Das Buch, wenn es um <span class="in">`{ggplot}`</span> geht. Eigentlich ja schon ob mit in der Einleitung, aber dann hier nochmal zur Erinnerung. Hier geht es eher um die Struktur von <span class="in">`{ggplot}`</span> und die Idee dahinter. <span class="pp">|</span></span>
<span id="cb58-1450"><a href="#cb58-1450" aria-hidden="true" tabindex="-1"></a><span class="pp">|</span> 2<span class="sc">\.</span> <span class="pp">|</span> <span class="co">[</span><span class="ot">R Graphics Cookbook</span><span class="co">](https://r-graphics.org/)</span> <span class="pp">|</span> Auch dieses Buch habe ich oben schon mal erwähnt. Es ist super, wenn du nach Rezepten für die Lösung deiner Probleme mit <span class="in">`{ggplot}`</span> suchst. <span class="pp">|</span></span>
<span id="cb58-1451"><a href="#cb58-1451" aria-hidden="true" tabindex="-1"></a><span class="pp">|</span> 3<span class="sc">\.</span> <span class="pp">|</span> <span class="co">[</span><span class="ot">Legend Attributes</span><span class="co">](https://github.com/tidyverse/ggplot2/wiki/Legend-Attributes)</span> <span class="pp">|</span> Zwar wird das <span class="in">`{ggplot}`</span>-Wiki nicht mehr unterstützt, aber dennoch findet sich hier einiges an Informationen zu den Legenden in einem Plot. Sehr schön aufgearbeitet. <span class="pp">|</span></span>
<span id="cb58-1452"><a href="#cb58-1452" aria-hidden="true" tabindex="-1"></a><span class="pp">|</span> 4<span class="sc">\.</span> <span class="pp">|</span> <span class="co">[</span><span class="ot">Legenden in ggplot</span><span class="co">](https://www.tidyverse.org/blog/2024/02/ggplot2-3-5-0-legends/)</span> <span class="pp">|</span> Hier erfahren wir dann nochmal mehr über die Legenden in einem <span class="in">`{ggplot}`</span> und wie wir die Abbildung sauber beschriften. <span class="pp">|</span></span>
<span id="cb58-1453"><a href="#cb58-1453" aria-hidden="true" tabindex="-1"></a><span class="pp">|</span> 5<span class="sc">\.</span> <span class="pp">|</span> <span class="co">[</span><span class="ot">Controlling legend appearance in ggplot2 with `override.aes`</span><span class="co">](https://aosmith.rbind.io/2020/07/09/ggplot2-override-aes/)</span> <span class="pp">|</span> Ein Problem was mir gar nicht so aufgefallen war, wir haben zu viele Informationen auf der Legende oder wollen nicht alles in der Legende darstellen. Hier hilft dieser Blogpost nochmal, wenn du deine Legenden sauberer haben möchtest. <span class="pp">|</span></span>
<span id="cb58-1454"><a href="#cb58-1454" aria-hidden="true" tabindex="-1"></a><span class="pp">|</span> 7<span class="sc">\.</span> <span class="pp">|</span> <span class="co">[</span><span class="ot">Exploratory Data Analysis Checklist</span><span class="co">](https://bookdown.org/rdpeng/exdata/exploratory-data-analysis-checklist.html)</span> <span class="pp">|</span> Manchmal ist es ganz hilfreich sich nochmal klar zu machen wie eine explorative Datenanalyse ablaufen kann. Daher hier nochmal die Checkliste, die du dann abarbeiten kannst. Fand ich als Orientierung ganz hilfreich. <span class="pp">|</span></span>
<span id="cb58-1455"><a href="#cb58-1455" aria-hidden="true" tabindex="-1"></a><span class="pp">|</span> 8<span class="sc">\.</span> <span class="pp">|</span> <span class="co">[</span><span class="ot">Principles of Effective Data Visualization</span><span class="co">]</span>(https://www.cell.com/patterns/fulltext/S2666-3899(20)30189-6) <span class="pp">|</span> Eine wunderbare Arbeit, die nochmal auf die Prinzipien einer guten Abbiuldung im Kontext einer wissenschaftlichen Fragestellung eingeht. Ich nutze die Arbeit auch in meiner Lehre und als Orientierung immer super. Besonders wenn du gerade mit der Thematik anfängst. (Hier auch einmal die PDF-Datei unter <span class="co">[</span><span class="ot">Principles of Effective Data Visualization</span><span class="co">](https://www.cell.com/action/showPdf?pii=S2666-3899%2820%2930189-6)</span>) <span class="pp">|</span></span>
<span id="cb58-1456"><a href="#cb58-1456" aria-hidden="true" tabindex="-1"></a><span class="pp">|</span> 9<span class="sc">\.</span> <span class="pp">|</span> <span class="co">[</span><span class="ot">Emoji Unicode Tables</span><span class="co">](https://apps.timwhitlock.info/emoji/tables/unicode)</span> <span class="pp">|</span> Manchmal wollen wir lustige Emoticons in unsere Abbildung bauen. Dann müssen wir auch wissen, welche es so gibt. Auf dem Handy ist es einfach hier in <span class="in">`{ggplot}`</span> dann manchmal schwerer. Die Tabelle gibt aber erstmal eine Orientierung. <span class="pp">|</span></span>
<span id="cb58-1457"><a href="#cb58-1457" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb58-1458"><a href="#cb58-1458" aria-hidden="true" tabindex="-1"></a>: {tbl-colwidths="<span class="sc">\[</span>5,25,70<span class="sc">\]</span>"}</span>
<span id="cb58-1459"><a href="#cb58-1459" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb58-1460"><a href="#cb58-1460" aria-hidden="true" tabindex="-1"></a><span class="fu">## Referenzen {.unnumbered}</span></span>
</code></pre></div><button title="In die Zwischenablage kopieren" class="code-copy-button" data-in-quarto-modal=""><i class="bi"></i></button></div>
</div></div></div></div></div>
</div> <!-- /content -->
<footer class="footer">
  <div class="nav-footer">
    <div class="nav-footer-left">
<p>Bio Data Science wurde von <a href="https://www.hs-osnabrueck.de/prof-dr-jochen-kruppa/">Jochen Kruppa-Scheetz</a> geschrieben.</p>
</div>   
    <div class="nav-footer-center">
      &nbsp;
    <div class="toc-actions d-sm-block d-md-none"><ul><li><a href="https://github.com/jkruppa/jkruppa.github.io/edit/master/programing-ggplot.qmd" class="toc-action"><i class="bi bi-github"></i>Seite editieren</a></li><li><a href="https://github.com/jkruppa/jkruppa.github.io/issues/new" class="toc-action"><i class="bi empty"></i>Problem melden</a></li><li><a href="https://github.com/jkruppa/jkruppa.github.io/blob/master/programing-ggplot.qmd" class="toc-action"><i class="bi empty"></i>Quellcode anzeigen</a></li></ul></div></div>
    <div class="nav-footer-right">
<p>Dieses Openbook wurde mit <a href="https://quarto.org/">Quarto</a> erstellt.</p>
</div>
  </div>
</footer>
<script>var lightboxQuarto = GLightbox({"closeEffect":"zoom","descPosition":"bottom","loop":false,"openEffect":"zoom","selector":".lightbox"});
(function() {
  let previousOnload = window.onload;
  window.onload = () => {
    if (previousOnload) {
      previousOnload();
    }
    lightboxQuarto.on('slide_before_load', (data) => {
      const { slideIndex, slideNode, slideConfig, player, trigger } = data;
      const href = trigger.getAttribute('href');
      if (href !== null) {
        const imgEl = window.document.querySelector(`a[href="${href}"] img`);
        if (imgEl !== null) {
          const srcAttr = imgEl.getAttribute("src");
          if (srcAttr && srcAttr.startsWith("data:")) {
            slideConfig.href = srcAttr;
          }
        }
      } 
    });
  
    lightboxQuarto.on('slide_after_load', (data) => {
      const { slideIndex, slideNode, slideConfig, player, trigger } = data;
      if (window.Quarto?.typesetMath) {
        window.Quarto.typesetMath(slideNode);
      }
    });
  
  };
  
})();
          </script>




</body></html>