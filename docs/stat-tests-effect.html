<!DOCTYPE html>
<html xmlns="http://www.w3.org/1999/xhtml" lang="de" xml:lang="de"><head>
<meta http-equiv="Content-Type" content="text/html; charset=UTF-8">
<meta charset="utf-8">
<meta name="generator" content="quarto-1.3.353">
<meta name="viewport" content="width=device-width, initial-scale=1.0, user-scalable=yes">
<title>Skript Bio Data Science - 22&nbsp; Der Effektschätzer</title>
<style>
code{white-space: pre-wrap;}
span.smallcaps{font-variant: small-caps;}
div.columns{display: flex; gap: min(4vw, 1.5em);}
div.column{flex: auto; overflow-x: auto;}
div.hanging-indent{margin-left: 1.5em; text-indent: -1.5em;}
ul.task-list{list-style: none;}
ul.task-list li input[type="checkbox"] {
  width: 0.8em;
  margin: 0 0.8em 0.2em -1em; /* quarto-specific, see https://github.com/quarto-dev/quarto-cli/issues/4556 */ 
  vertical-align: middle;
}
/* CSS for syntax highlighting */
pre > code.sourceCode { white-space: pre; position: relative; }
pre > code.sourceCode > span { display: inline-block; line-height: 1.25; }
pre > code.sourceCode > span:empty { height: 1.2em; }
.sourceCode { overflow: visible; }
code.sourceCode > span { color: inherit; text-decoration: inherit; }
div.sourceCode { margin: 1em 0; }
pre.sourceCode { margin: 0; }
@media screen {
div.sourceCode { overflow: auto; }
}
@media print {
pre > code.sourceCode { white-space: pre-wrap; }
pre > code.sourceCode > span { text-indent: -5em; padding-left: 5em; }
}
pre.numberSource code
  { counter-reset: source-line 0; }
pre.numberSource code > span
  { position: relative; left: -4em; counter-increment: source-line; }
pre.numberSource code > span > a:first-child::before
  { content: counter(source-line);
    position: relative; left: -1em; text-align: right; vertical-align: baseline;
    border: none; display: inline-block;
    -webkit-touch-callout: none; -webkit-user-select: none;
    -khtml-user-select: none; -moz-user-select: none;
    -ms-user-select: none; user-select: none;
    padding: 0 4px; width: 4em;
  }
pre.numberSource { margin-left: 3em;  padding-left: 4px; }
div.sourceCode
  {   }
@media screen {
pre > code.sourceCode > span > a:first-child::before { text-decoration: underline; }
}
/* CSS for citations */
div.csl-bib-body { }
div.csl-entry {
  clear: both;
}
.hanging-indent div.csl-entry {
  margin-left:2em;
  text-indent:-2em;
}
div.csl-left-margin {
  min-width:2em;
  float:left;
}
div.csl-right-inline {
  margin-left:2em;
  padding-left:1em;
}
div.csl-indent {
  margin-left: 2em;
}</style>

<script src="site_libs/quarto-nav/quarto-nav.js"></script>
<script src="site_libs/quarto-nav/headroom.min.js"></script>
<script src="site_libs/clipboard/clipboard.min.js"></script>
<script src="site_libs/quarto-search/autocomplete.umd.js"></script>
<script src="site_libs/quarto-search/fuse.min.js"></script>
<script src="site_libs/quarto-search/quarto-search.js"></script>
<meta name="quarto:offset" content="./">
<link href="./stat-tests-ttest.html" rel="next">
<link href="./stat-tests-theorie.html" rel="prev">
<script src="site_libs/quarto-html/quarto.js"></script>
<script src="site_libs/quarto-html/popper.min.js"></script>
<script src="site_libs/quarto-html/tippy.umd.min.js"></script>
<script src="site_libs/quarto-html/anchor.min.js"></script>
<link href="site_libs/quarto-html/tippy.css" rel="stylesheet">
<link href="site_libs/quarto-html/quarto-syntax-highlighting.css" rel="stylesheet" id="quarto-text-highlighting-styles">
<script src="site_libs/bootstrap/bootstrap.min.js"></script>
<link href="site_libs/bootstrap/bootstrap-icons.css" rel="stylesheet">
<link href="site_libs/bootstrap/bootstrap.min.css" rel="stylesheet" id="quarto-bootstrap" data-mode="light"><script id="quarto-search-options" type="application/json">{
  "location": "sidebar",
  "copy-button": false,
  "collapse-after": 3,
  "panel-placement": "start",
  "type": "textbox",
  "limit": 20,
  "language": {
    "search-no-results-text": "Keine Treffer",
    "search-matching-documents-text": "Treffer",
    "search-copy-link-title": "Link in die Suche kopieren",
    "search-hide-matches-text": "Zusätzliche Treffer verbergen",
    "search-more-match-text": "weitere Treffer in diesem Dokument",
    "search-more-matches-text": "weitere Treffer in diesem Dokument",
    "search-clear-button-title": "Zurücksetzen",
    "search-detached-cancel-button-title": "Abbrechen",
    "search-submit-button-title": "Abschicken"
  }
}</script><script src="https://polyfill.io/v3/polyfill.min.js?features=es6"></script><script src="https://cdn.jsdelivr.net/npm/mathjax@3/es5/tex-chtml-full.js" type="text/javascript"></script>
</head>
<body class="nav-sidebar floating slimcontent">

<div id="quarto-search-results"></div>
  <header id="quarto-header" class="headroom fixed-top"><nav class="quarto-secondary-nav"><div class="container-fluid d-flex">
      <button type="button" class="quarto-btn-toggle btn" data-bs-toggle="collapse" data-bs-target="#quarto-sidebar,#quarto-sidebar-glass" aria-controls="quarto-sidebar" aria-expanded="false" aria-label="Seitenleiste umschalten" onclick="if (window.quartoToggleHeadroom) { window.quartoToggleHeadroom(); }">
        <i class="bi bi-layout-text-sidebar-reverse"></i>
      </button>
      <nav class="quarto-page-breadcrumbs" aria-label="breadcrumb"><ol class="breadcrumb"><li class="breadcrumb-item"><a href="./stat-tests-preface.html">Frequentistische Hypothesentests</a></li><li class="breadcrumb-item"><a href="./stat-tests-effect.html"><span class="chapter-number">22</span>&nbsp; <span class="chapter-title">Der Effektschätzer</span></a></li></ol></nav>
      <a class="flex-grow-1" role="button" data-bs-toggle="collapse" data-bs-target="#quarto-sidebar,#quarto-sidebar-glass" aria-controls="quarto-sidebar" aria-expanded="false" aria-label="Seitenleiste umschalten" onclick="if (window.quartoToggleHeadroom) { window.quartoToggleHeadroom(); }">      
      </a>
      <button type="button" class="btn quarto-search-button" aria-label="Suchen" onclick="window.quartoOpenSearch();">
        <i class="bi bi-search"></i>
      </button>
    </div>
  </nav></header><!-- content --><div id="quarto-content" class="quarto-container page-columns page-rows-contents page-layout-article">
<!-- sidebar -->
  <nav id="quarto-sidebar" class="sidebar collapse collapse-horizontal sidebar-navigation floating overflow-auto"><div class="pt-lg-2 mt-2 text-left sidebar-header">
    <div class="sidebar-title mb-0 py-0">
      <a href="./">Skript Bio Data Science</a> 
    </div>
      </div>
        <div class="mt-2 flex-shrink-0 align-items-center">
        <div class="sidebar-search">
        <div id="quarto-search" class="" title="Suchen"></div>
        </div>
        </div>
    <div class="sidebar-menu-container"> 
    <ul class="list-unstyled mt-1">
<li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="./index.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text">Willkommen</span></a>
  </div>
</li>
        <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="./organisation.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text"><span class="chapter-number">1</span>&nbsp; <span class="chapter-title">Organisation</span></span></a>
  </div>
</li>
        <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="./literature.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text"><span class="chapter-number">2</span>&nbsp; <span class="chapter-title">Literatur</span></span></a>
  </div>
</li>
        <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="./preface.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text"><span class="chapter-number">3</span>&nbsp; <span class="chapter-title">Forschungsprozess</span></span></a>
  </div>
</li>
        <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="./abschlussarbeit.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text"><span class="chapter-number">4</span>&nbsp; <span class="chapter-title">Abschlussarbeit</span></span></a>
  </div>
</li>
        <li class="sidebar-item sidebar-item-section">
      <div class="sidebar-item-container"> 
            <a href="./example-preface.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text">Datenbeispiele</span></a>
          <a class="sidebar-item-toggle text-start" data-bs-toggle="collapse" data-bs-target="#quarto-sidebar-section-1" aria-expanded="true" aria-label="Abschnitt umschalten">
            <i class="bi bi-chevron-right ms-2"></i>
          </a> 
      </div>
      <ul id="quarto-sidebar-section-1" class="collapse list-unstyled sidebar-section depth1 show">
<li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="./example-fleas-dogs-cats.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text"><span class="chapter-number">5</span>&nbsp; <span class="chapter-title">Von Flöhen auf Hunden und Katzen</span></span></a>
  </div>
</li>
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="./example-fleas-dogs-cats-foxes.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text"><span class="chapter-number">6</span>&nbsp; <span class="chapter-title">Von Flöhen auf Tieren</span></span></a>
  </div>
</li>
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="./example-fleas-dogs-cats-length-weight.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text"><span class="chapter-number">7</span>&nbsp; <span class="chapter-title">Von vielen Flöhen auf Hunden und Katzen</span></span></a>
  </div>
</li>
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="./example-gummi-bears.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text"><span class="chapter-number">8</span>&nbsp; <span class="chapter-title">Von Gummibärchen</span></span></a>
  </div>
</li>
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="./example-complex.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text"><span class="chapter-number">9</span>&nbsp; <span class="chapter-title">Von komplexeren Daten</span></span></a>
  </div>
</li>
      </ul>
</li>
        <li class="sidebar-item sidebar-item-section">
      <div class="sidebar-item-container"> 
            <a href="./programing-preface.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text">Programmieren in R</span></a>
          <a class="sidebar-item-toggle text-start" data-bs-toggle="collapse" data-bs-target="#quarto-sidebar-section-2" aria-expanded="true" aria-label="Abschnitt umschalten">
            <i class="bi bi-chevron-right ms-2"></i>
          </a> 
      </div>
      <ul id="quarto-sidebar-section-2" class="collapse list-unstyled sidebar-section depth1 show">
<li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="./programing-letters-numbers.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text"><span class="chapter-number">10</span>&nbsp; <span class="chapter-title">Buchstaben und Zahlen</span></span></a>
  </div>
</li>
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="./programing-basics.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text"><span class="chapter-number">11</span>&nbsp; <span class="chapter-title">Operatoren, Funktionen und Pakete</span></span></a>
  </div>
</li>
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="./programing-import.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text"><span class="chapter-number">12</span>&nbsp; <span class="chapter-title">Daten einlesen</span></span></a>
  </div>
</li>
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="./programing-dplyr.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text"><span class="chapter-number">13</span>&nbsp; <span class="chapter-title">Daten bearbeiten</span></span></a>
  </div>
</li>
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="./programing-strings.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text"><span class="chapter-number">14</span>&nbsp; <span class="chapter-title">Reguläre Ausdrücke</span></span></a>
  </div>
</li>
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="./programing-purrr-furrr.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text"><span class="chapter-number">15</span>&nbsp; <span class="chapter-title">Ein <code>purrr</code> Cookbook</span></span></a>
  </div>
</li>
      </ul>
</li>
        <li class="sidebar-item sidebar-item-section">
      <div class="sidebar-item-container"> 
            <a href="./eda-preface.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text">Explorative Datenanalyse</span></a>
          <a class="sidebar-item-toggle text-start" data-bs-toggle="collapse" data-bs-target="#quarto-sidebar-section-3" aria-expanded="true" aria-label="Abschnitt umschalten">
            <i class="bi bi-chevron-right ms-2"></i>
          </a> 
      </div>
      <ul id="quarto-sidebar-section-3" class="collapse list-unstyled sidebar-section depth1 show">
<li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="./eda-descriptive.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text"><span class="chapter-number">16</span>&nbsp; <span class="chapter-title">Deskriptive Statistik</span></span></a>
  </div>
</li>
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="./eda-ggplot.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text"><span class="chapter-number">17</span>&nbsp; <span class="chapter-title">Visualisierung von Daten</span></span></a>
  </div>
</li>
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="./eda-transform.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text"><span class="chapter-number">18</span>&nbsp; <span class="chapter-title">Transformieren von Daten</span></span></a>
  </div>
</li>
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="./eda-distribution.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text"><span class="chapter-number">19</span>&nbsp; <span class="chapter-title">Verteilung von Daten</span></span></a>
  </div>
</li>
      </ul>
</li>
        <li class="sidebar-item sidebar-item-section">
      <div class="sidebar-item-container"> 
            <a href="./stat-tests-preface.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text">Frequentistische Hypothesentests</span></a>
          <a class="sidebar-item-toggle text-start" data-bs-toggle="collapse" data-bs-target="#quarto-sidebar-section-4" aria-expanded="true" aria-label="Abschnitt umschalten">
            <i class="bi bi-chevron-right ms-2"></i>
          </a> 
      </div>
      <ul id="quarto-sidebar-section-4" class="collapse list-unstyled sidebar-section depth1 show">
<li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="./stat-tests-basic.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text"><span class="chapter-number">20</span>&nbsp; <span class="chapter-title">Die Testentscheidung</span></span></a>
  </div>
</li>
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="./stat-tests-theorie.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text"><span class="chapter-number">21</span>&nbsp; <span class="chapter-title">Die Testtheorie</span></span></a>
  </div>
</li>
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="./stat-tests-effect.html" class="sidebar-item-text sidebar-link active">
 <span class="menu-text"><span class="chapter-number">22</span>&nbsp; <span class="chapter-title">Der Effektschätzer</span></span></a>
  </div>
</li>
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="./stat-tests-ttest.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text"><span class="chapter-number">23</span>&nbsp; <span class="chapter-title">Der t-Test</span></span></a>
  </div>
</li>
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="./stat-tests-anova.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text"><span class="chapter-number">24</span>&nbsp; <span class="chapter-title">Die ANOVA</span></span></a>
  </div>
</li>
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="./stat-tests-ancova.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text"><span class="chapter-number">25</span>&nbsp; <span class="chapter-title">Die ANCOVA</span></span></a>
  </div>
</li>
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="./stat-tests-utest.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text"><span class="chapter-number">26</span>&nbsp; <span class="chapter-title">Der Wilcoxon-Mann-Whitney-Test</span></span></a>
  </div>
</li>
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="./stat-tests-kruskal.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text"><span class="chapter-number">27</span>&nbsp; <span class="chapter-title">Der Kruskal-Wallis-Test</span></span></a>
  </div>
</li>
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="./stat-tests-friedman.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text"><span class="chapter-number">28</span>&nbsp; <span class="chapter-title">Friedman Test</span></span></a>
  </div>
</li>
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="./stat-tests-chi-test.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text"><span class="chapter-number">29</span>&nbsp; <span class="chapter-title">Der <span class="math inline">\(\mathcal{X}^2\)</span>-Test</span></span></a>
  </div>
</li>
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="./stat-tests-diagnostic.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text"><span class="chapter-number">30</span>&nbsp; <span class="chapter-title">Der diagnostische Test</span></span></a>
  </div>
</li>
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="./stat-tests-pretest.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text"><span class="chapter-number">31</span>&nbsp; <span class="chapter-title">Pre-Tests oder Vortest</span></span></a>
  </div>
</li>
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="./stat-tests-posthoc.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text"><span class="chapter-number">32</span>&nbsp; <span class="chapter-title">Multiple Vergleiche oder Post-hoc Tests</span></span></a>
  </div>
</li>
      </ul>
</li>
        <li class="sidebar-item sidebar-item-section">
      <div class="sidebar-item-container"> 
            <a href="./stat-linear-reg-preface.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text">Grundlagen der linearen Regression</span></a>
          <a class="sidebar-item-toggle text-start" data-bs-toggle="collapse" data-bs-target="#quarto-sidebar-section-5" aria-expanded="true" aria-label="Abschnitt umschalten">
            <i class="bi bi-chevron-right ms-2"></i>
          </a> 
      </div>
      <ul id="quarto-sidebar-section-5" class="collapse list-unstyled sidebar-section depth1 show">
<li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="./stat-linear-reg-basic.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text"><span class="chapter-number">33</span>&nbsp; <span class="chapter-title">Simple lineare Regression</span></span></a>
  </div>
</li>
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="./stat-linear-reg-quality.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text"><span class="chapter-number">34</span>&nbsp; <span class="chapter-title">Maßzahlen der Modelgüte</span></span></a>
  </div>
</li>
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="./stat-linear-reg-corr.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text"><span class="chapter-number">35</span>&nbsp; <span class="chapter-title">Korrelation</span></span></a>
  </div>
</li>
      </ul>
</li>
        <li class="sidebar-item sidebar-item-section">
      <div class="sidebar-item-container"> 
            <a href="./stat-modeling-preface.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text">Statistisches Modellieren</span></a>
          <a class="sidebar-item-toggle text-start" data-bs-toggle="collapse" data-bs-target="#quarto-sidebar-section-6" aria-expanded="true" aria-label="Abschnitt umschalten">
            <i class="bi bi-chevron-right ms-2"></i>
          </a> 
      </div>
      <ul id="quarto-sidebar-section-6" class="collapse list-unstyled sidebar-section depth1 show">
<li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="./stat-modeling-basic.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text"><span class="chapter-number">36</span>&nbsp; <span class="chapter-title">Multiple lineare Regression</span></span></a>
  </div>
</li>
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="./stat-modeling-variable-selection.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text"><span class="chapter-number">37</span>&nbsp; <span class="chapter-title">Variablenselektion</span></span></a>
  </div>
</li>
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="./stat-modeling-outlier.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text"><span class="chapter-number">38</span>&nbsp; <span class="chapter-title">Ausreißer</span></span></a>
  </div>
</li>
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="./stat-modeling-missing.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text"><span class="chapter-number">39</span>&nbsp; <span class="chapter-title">Imputation fehlender Werte</span></span></a>
  </div>
</li>
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="./stat-modeling-sensitivity.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text"><span class="chapter-number">40</span>&nbsp; <span class="chapter-title">Sensitivitätsanalyse</span></span></a>
  </div>
</li>
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="./stat-modeling-gaussian.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text"><span class="chapter-number">41</span>&nbsp; <span class="chapter-title">Gaussian Regression</span></span></a>
  </div>
</li>
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="./stat-modeling-poisson.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text"><span class="chapter-number">42</span>&nbsp; <span class="chapter-title">Poisson Regression</span></span></a>
  </div>
</li>
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="./stat-modeling-multinom.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text"><span class="chapter-number">43</span>&nbsp; <span class="chapter-title">Multinomiale / Ordinale logistische Regression</span></span></a>
  </div>
</li>
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="./stat-modeling-logistic.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text"><span class="chapter-number">44</span>&nbsp; <span class="chapter-title">Logistische Regression</span></span></a>
  </div>
</li>
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="./stat-modeling-mixed.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text"><span class="chapter-number">45</span>&nbsp; <span class="chapter-title">Lineare gemischte Modelle</span></span></a>
  </div>
</li>
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="./stat-modeling-gee.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text"><span class="chapter-number">46</span>&nbsp; <span class="chapter-title">Generalized Estimating Equations (GEE)</span></span></a>
  </div>
</li>
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="./stat-modeling-non-linear.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text"><span class="chapter-number">47</span>&nbsp; <span class="chapter-title">Nicht lineare Regression</span></span></a>
  </div>
</li>
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="./stat-modeling-robust-quantile.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text"><span class="chapter-number">48</span>&nbsp; <span class="chapter-title">Robuste und Quantilesregression</span></span></a>
  </div>
</li>
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="./stat-modeling-survival.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text"><span class="chapter-number">49</span>&nbsp; <span class="chapter-title">Überlebenszeitanalysen</span></span></a>
  </div>
</li>
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="./stat-modeling-noninferiority.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text"><span class="chapter-number">50</span>&nbsp; <span class="chapter-title">Äquivalenz oder Nichtunterlegenheit</span></span></a>
  </div>
</li>
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="./stat-modeling-meta.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text"><span class="chapter-number">51</span>&nbsp; <span class="chapter-title">Metaanalysen</span></span></a>
  </div>
</li>
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="./stat-modeling-permutationstest.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text"><span class="chapter-number">52</span>&nbsp; <span class="chapter-title">Permutationstest</span></span></a>
  </div>
</li>
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="./stat-modeling-cluster.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text"><span class="chapter-number">53</span>&nbsp; <span class="chapter-title">Clusteranalysen</span></span></a>
  </div>
</li>
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="./stat-modeling-pca.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text"><span class="chapter-number">54</span>&nbsp; <span class="chapter-title">Multivariate Verfahren</span></span></a>
  </div>
</li>
      </ul>
</li>
        <li class="sidebar-item sidebar-item-section">
      <div class="sidebar-item-container"> 
            <a href="./experimental-design-preface.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text">Experimentelles Design</span></a>
          <a class="sidebar-item-toggle text-start" data-bs-toggle="collapse" data-bs-target="#quarto-sidebar-section-7" aria-expanded="true" aria-label="Abschnitt umschalten">
            <i class="bi bi-chevron-right ms-2"></i>
          </a> 
      </div>
      <ul id="quarto-sidebar-section-7" class="collapse list-unstyled sidebar-section depth1 show">
<li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="./experimental-design-r.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text"><span class="chapter-number">55</span>&nbsp; <span class="chapter-title">Versuchsplanung in R</span></span></a>
  </div>
</li>
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="./experimental-design-basic.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text"><span class="chapter-number">56</span>&nbsp; <span class="chapter-title">Einfache Designs</span></span></a>
  </div>
</li>
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="./experimental-design-advanced.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text"><span class="chapter-number">57</span>&nbsp; <span class="chapter-title">Fortgeschrittene Designs</span></span></a>
  </div>
</li>
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="./experimental-design-samplesize.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text"><span class="chapter-number">58</span>&nbsp; <span class="chapter-title">Fallzahlplanung</span></span></a>
  </div>
</li>
      </ul>
</li>
        <li class="sidebar-item sidebar-item-section">
      <div class="sidebar-item-container"> 
            <a href="./classification-preface.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text">Klassifikation oder maschinelles Lernen</span></a>
          <a class="sidebar-item-toggle text-start" data-bs-toggle="collapse" data-bs-target="#quarto-sidebar-section-8" aria-expanded="true" aria-label="Abschnitt umschalten">
            <i class="bi bi-chevron-right ms-2"></i>
          </a> 
      </div>
      <ul id="quarto-sidebar-section-8" class="collapse list-unstyled sidebar-section depth1 show">
<li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="./classification-basic.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text"><span class="chapter-number">59</span>&nbsp; <span class="chapter-title">Grundlagen der Klassifikation</span></span></a>
  </div>
</li>
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="./classification-data.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text"><span class="chapter-number">60</span>&nbsp; <span class="chapter-title">Data splitting</span></span></a>
  </div>
</li>
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="./classification-pre-processing.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text"><span class="chapter-number">61</span>&nbsp; <span class="chapter-title">Data preprocessing</span></span></a>
  </div>
</li>
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="./classification-model-compare.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text"><span class="chapter-number">62</span>&nbsp; <span class="chapter-title">Vergleich von Algorithmen</span></span></a>
  </div>
</li>
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="./classification-knn.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text"><span class="chapter-number">63</span>&nbsp; <span class="chapter-title"><span class="math inline">\(k\)</span> nearest neighbor</span></span></a>
  </div>
</li>
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="./classification-randomforest.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text"><span class="chapter-number">64</span>&nbsp; <span class="chapter-title">Decision trees</span></span></a>
  </div>
</li>
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="./classification-svm.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text"><span class="chapter-number">65</span>&nbsp; <span class="chapter-title">Support vector machines</span></span></a>
  </div>
</li>
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="./classification-neural-networks.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text"><span class="chapter-number">66</span>&nbsp; <span class="chapter-title">Neural networks</span></span></a>
  </div>
</li>
      </ul>
</li>
        <li class="sidebar-item sidebar-item-section">
      <div class="sidebar-item-container"> 
            <a class="sidebar-item-text sidebar-link text-start" data-bs-toggle="collapse" data-bs-target="#quarto-sidebar-section-9" aria-expanded="true">
 <span class="menu-text">Anhang</span></a>
          <a class="sidebar-item-toggle text-start" data-bs-toggle="collapse" data-bs-target="#quarto-sidebar-section-9" aria-expanded="true" aria-label="Abschnitt umschalten">
            <i class="bi bi-chevron-right ms-2"></i>
          </a> 
      </div>
      <ul id="quarto-sidebar-section-9" class="collapse list-unstyled sidebar-section depth1 show">
<li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="./app-spielecke.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text">Spielecke</span></a>
  </div>
</li>
      </ul>
</li>
    </ul>
</div>
</nav><div id="quarto-sidebar-glass" data-bs-toggle="collapse" data-bs-target="#quarto-sidebar,#quarto-sidebar-glass"></div>
<!-- margin-sidebar -->
    <div id="quarto-margin-sidebar" class="sidebar margin-sidebar">
        <nav id="TOC" role="doc-toc" class="toc-active"><h2 id="toc-title">Inhaltsverzeichnis</h2>
   
  <ul>
<li><a href="#genutzte-r-pakete" id="toc-genutzte-r-pakete" class="nav-link active" data-scroll-target="#genutzte-r-pakete"><span class="header-section-number">22.1</span> Genutzte R Pakete</a></li>
  <li>
<a href="#unterschied-zweier-mittelwerte" id="toc-unterschied-zweier-mittelwerte" class="nav-link" data-scroll-target="#unterschied-zweier-mittelwerte"><span class="header-section-number">22.2</span> Unterschied zweier Mittelwerte</a>
  <ul class="collapse">
<li><a href="#cohens-d" id="toc-cohens-d" class="nav-link" data-scroll-target="#cohens-d"><span class="header-section-number">22.2.1</span> Cohen’s d</a></li>
  <li><a href="#hedges-g" id="toc-hedges-g" class="nav-link" data-scroll-target="#hedges-g"><span class="header-section-number">22.2.2</span> Hedges’ g</a></li>
  </ul>
</li>
  <li>
<a href="#unterschied-zweier-anteile" id="toc-unterschied-zweier-anteile" class="nav-link" data-scroll-target="#unterschied-zweier-anteile"><span class="header-section-number">22.3</span> Unterschied zweier Anteile</a>
  <ul class="collapse">
<li><a href="#wahrscheinlichkeitsverh%C3%A4ltnis-oder-risk-ratio-rr" id="toc-wahrscheinlichkeitsverhältnis-oder-risk-ratio-rr" class="nav-link" data-scroll-target="#wahrscheinlichkeitsverh%C3%A4ltnis-oder-risk-ratio-rr"><span class="header-section-number">22.3.1</span> Wahrscheinlichkeitsverhältnis oder Risk Ratio (RR)</a></li>
  <li><a href="#chancenverh%C3%A4ltnis-oder-odds-ratio-or" id="toc-chancenverhältnis-oder-odds-ratio-or" class="nav-link" data-scroll-target="#chancenverh%C3%A4ltnis-oder-odds-ratio-or"><span class="header-section-number">22.3.2</span> Chancenverhältnis oder Odds Ratio (OR)</a></li>
  <li><a href="#odds-ratio-or-zu-risk-ratio-rr" id="toc-odds-ratio-or-zu-risk-ratio-rr" class="nav-link" data-scroll-target="#odds-ratio-or-zu-risk-ratio-rr"><span class="header-section-number">22.3.3</span> Odds Ratio (OR) zu Risk Ratio (RR)</a></li>
  </ul>
</li>
  <li><a href="#sec-effect-wirkung" id="toc-sec-effect-wirkung" class="nav-link" data-scroll-target="#sec-effect-wirkung"><span class="header-section-number">22.4</span> Wirkungsgrad von Pflanzenschutzmitteln</a></li>
  <li><a href="#referenzen" id="toc-referenzen" class="nav-link" data-scroll-target="#referenzen">Referenzen</a></li>
  </ul></nav>
    </div>
<!-- main -->
<main class="content page-columns page-full" id="quarto-document-content"><header id="title-block-header" class="quarto-title-block default"><div class="quarto-title">
<h1 class="title"><span id="sec-effect" class="quarto-section-identifier"><span class="chapter-number">22</span>&nbsp; <span class="chapter-title">Der Effektschätzer</span></span></h1>
</div>



<div class="quarto-title-meta">

    
  
    
  </div>
  

</header><p><em>Version vom August 11, 2023 um 17:37:53</em></p>
<blockquote class="blockquote">
<p><em>“Alles, was wir hören, ist eine Meinung, keine Tatsache. Alles, was wir sehen, ist eine Perspektive, nicht die Wahrheit.” — Marcus Aurelius, Meditationen</em></p>
</blockquote>

<div class="no-row-height column-margin column-container"><div class="">
<p>Eine wunderbare Übersicht über den Begriff <em>Effektschätzer</em> liefert das englische Buch <a href="https://bookdown.org/MathiasHarrer/Doing_Meta_Analysis_in_R/effects.html">Doing Meta-Analysis with R: A Hands-On Guide</a>.</p>
</div></div><p>Der Effektschätzer. Ein seltsames Kapitel, denn ich tue mich sehr schwer, dieses Kapitel irgendwo in die Linearität dieses Buches hier einzuordnen. Deshalb ist dieses Kapitel eigentlich immer an der falschen Stelle. Entweder hast du schon die statistischen Tests gelesen und du wüsstest gerne was die Effektschätzer sind <em>oder</em> du suchst hier nochmal die Beschreibung der Effektschätzer zum Beispiel aus der multiple Regression heraus. Also steht jetzt dieses Kapitel hier im Raum und du musst schauen, was du wirklich brauchst. Oder ob du dieses Kapitel erst überspringst und dann später nochmal hier liest.</p>
<div class="page-columns page-full"><p></p><div class="no-row-height column-margin column-container"><span class="">Der Effektschätzer wird auch gerne Theta <span class="math inline">\(\boldsymbol{\theta}\)</span> genannt. Da wir dann aber später noch mit anderen Konzepten in die Quere kommen, nutze ich das etwas intuitivere Delta <span class="math inline">\(\boldsymbol{\Delta}\)</span>.</span></div></div>
<p>Wenn wir einen der vielen Effektschätzer berechnen wollen, dann nutzen wir dafür die Effektschätzer aus dem <a href="https://easystats.github.io/effectsize/index.html">R Paket effectsize</a>. Das R Paket <code>effectsize</code> liefert Effektschätzer für fast alle statistischen Gelegenheiten. Wir werden hier wie immer nur den groben Überblick abdecken. Vermutlich wird das Kapitel dann noch Anwachsen. Streng genommen gehört das <a href="stat-tests-diagnostic.html"><span>Kapitel&nbsp;30</span></a> zu den diagnostischen Tests auf einer 2x2 Kreuztabelle auch irgendwie zu Effektschätzern. Wenn du Spezifität und Sensitivität suchst bist du in dem Kapitel zu diagnostischen Tests richtig.</p>
<p>Wir unterscheiden hier erstmal grob in drei Arten von Effektschätzern:</p>
<ol type="1">
<li>Effektschätzer, die einen <em>Mittelwertsunterschied</em> beschreiben.</li>
<li>Effektschätzer, die einen <em>Anteilsunterschied</em> beschreiben.</li>
<li>Effektschätzer, die einen <em>Wirkungsgrad</em> beschreiben.</li>
</ol>
<p>Daneben gibt es wie noch die Korrelation wie in <a href="stat-linear-reg-corr.html"><span>Kapitel&nbsp;35</span></a> beschrieben. Die Korrelation wollen wir aber in diesem Kapitel nicht vorgreifen bzw. wiederholen.</p>
<p>Am Ende muss du immer den Effekt im Kontext der Fragestellung bzw. des Outcomes <span class="math inline">\(y\)</span> bewerten. Der numerische Unterschied von <span class="math inline">\(0.1\)</span> cm kann in einem Kontext viel sein. Das Wachstum von Bakterienkolonien kann ein Unterschied von <span class="math inline">\(0.1\)</span> cm viel sein. Oder aber sehr wenig, wenn wir uns das Wachstum von Bambus pro Tag anschauen. Hier bist du gefragt, den Effekt in den Kontext richtig einzuordnen. Ebenso stellt sich die Frage, ob ein Unterschied von 6% viel oder wenig ist.</p>
<div class="callout callout-style-default callout-tip callout-titled">
<div class="callout-header d-flex align-content-center">
<div class="callout-icon-container">
<i class="callout-icon"></i>
</div>
<div class="callout-title-container flex-fill">
Effektschätzer
</div>
</div>
<div class="callout-body-container callout-body">
<p>Wenn wir uns einen Unterschied eines <strong>Mittelwerts</strong> anschauen, dann haben wir <em>keinen</em> Effekt vorliegen, wenn der Mittlwertsunterschied <span class="math inline">\(\Delta\)</span> zwischen der Gruppe <span class="math inline">\(A\)</span> und der Gruppe <span class="math inline">\(B\)</span> gleich 0 ist. Die Nullhypothese gilt. Beide Gruppen <span class="math inline">\(A\)</span> und <span class="math inline">\(B\)</span> haben den gleichen Mittelwert.</p>
<p><span class="math display">\[
\Delta_{A-B} = A - B = 0
\]</span></p>
<p>Wenn wir uns einen Unterschied eines <strong>Anteils</strong> anschauen, dann haben wir <em>keinen</em> Effekt vorliegen, wenn der Anteilsunterschied <span class="math inline">\(\Delta\)</span> zwischen der Gruppe <span class="math inline">\(A\)</span> und der Gruppe <span class="math inline">\(B\)</span> gleich 1 ist. Die Nullhypothese gilt. Beide Gruppen <span class="math inline">\(A\)</span> und <span class="math inline">\(B\)</span> haben den gleichen Anteil.</p>
<p><span class="math display">\[
\Delta_{A/B} = \cfrac{A}{B} = 1
\]</span></p>
<p>Dieses Wissen brauchen wir um die Signifikanzschwelle bei einem 95% Konfidenzintervall richtig zu setzen und interpretieren zu können. Siehe dazu auch nochmal das <a href="stat-tests-basic.html#sec-ki"><span>Kapitel&nbsp;20.2.3</span></a>.</p>
</div>
</div>
<section id="genutzte-r-pakete" class="level2" data-number="22.1"><h2 data-number="22.1" class="anchored" data-anchor-id="genutzte-r-pakete">
<span class="header-section-number">22.1</span> Genutzte R Pakete</h2>
<p>Wir wollen folgende R Pakete in diesem Kapitel nutzen.</p>
<div class="cell">
<div class="sourceCode" id="cb1"><pre class="downlit sourceCode r code-with-copy"><code class="sourceCode R"><span><span class="fu">pacman</span><span class="fu">::</span><span class="fu"><a href="https://rdrr.io/pkg/pacman/man/p_load.html">p_load</a></span><span class="op">(</span><span class="va">tidyverse</span>, <span class="va">magrittr</span>, <span class="va">see</span>, <span class="va">scales</span>,</span>
<span>               <span class="va">effectsize</span>, <span class="va">parameters</span>, <span class="va">broom</span>, <span class="va">readxl</span>,</span>
<span>               <span class="va">emmeans</span>, <span class="va">conflicted</span><span class="op">)</span></span>
<span><span class="fu">conflict_prefer</span><span class="op">(</span><span class="st">"select"</span>, <span class="st">"dplyr"</span><span class="op">)</span></span>
<span><span class="fu">conflict_prefer</span><span class="op">(</span><span class="st">"filter"</span>, <span class="st">"dplyr"</span><span class="op">)</span></span>
<span><span class="fu">conflict_prefer</span><span class="op">(</span><span class="st">"mutate"</span>, <span class="st">"dplyr"</span><span class="op">)</span></span></code><button title="In die Zwischenablage kopieren" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
<p>Am Ende des Kapitels findest du nochmal den gesamten R Code in einem Rutsch zum selber durchführen oder aber kopieren.</p>
</section><section id="unterschied-zweier-mittelwerte" class="level2 page-columns page-full" data-number="22.2"><h2 data-number="22.2" class="anchored" data-anchor-id="unterschied-zweier-mittelwerte">
<span class="header-section-number">22.2</span> Unterschied zweier Mittelwerte</h2>
<p>Wir berechnen zwei Mittelwerte <span class="math inline">\(\bar{y}_1\)</span> und <span class="math inline">\(\bar{y}_2\)</span>. Wenn wir wissen wollen wie groß der Effekt zwischen den beiden Mittelwerten ist, dann bilden wir die Differenz. Wir berechnen das <span class="math inline">\(\Delta_{y_1-y_2}\)</span> für <span class="math inline">\(y_1\)</span> und <span class="math inline">\(y_2\)</span> indem wir die beiden Mittelwerte voneinander abziehen.</p>
<p><span class="math display">\[
\Delta_{y_1-y_2} = \bar{y}_1 - \bar{y}_2
\]</span></p>
<div class="page-columns page-full"><p></p><div class="no-row-height column-margin column-container"><span class="">Warum schreiben wir hier vermutlich? Ein statistischer Test ist eine Funktion von <span class="math inline">\(\Delta\)</span>, <span class="math inline">\(s\)</span> und <span class="math inline">\(n\)</span>. Wir können auch mit kleinem <span class="math inline">\(\Delta\)</span> die Nullhypothese ablehnen, wenn <span class="math inline">\(s\)</span> und <span class="math inline">\(n\)</span> eine passende Teststatistik generieren. Siehe dazu auch das <a href="stat-tests-basic.html#sec-delta-n-s"><span>Kapitel&nbsp;20.3</span></a>.</span></div></div>
<p>Wenn es keinen Unterschied zwischen den beiden Mittelwerten <span class="math inline">\(\bar{y}_1\)</span> und <span class="math inline">\(\bar{y}_2\)</span> gibt, dann ist die Differenz <span class="math inline">\(\Delta_{y_1-y_2} = \bar{y}_1 - \bar{y}_2\)</span> gleich 0. Wir sagen, die Nullhypothese <em>vermutlich</em> gilt, wenn die Differenz klein ist. Was wir besser annehmen können ist, dass die Relevanz klein ist. Effekt mit einem geringen Mittelwertsunterschied sind meistens nicht relevant. Aber diese Einschätzung hängt stark von der Fragestellung ab.</p>
<p><span class="math display">\[
H_0: \Delta_{y_1-y_2} = \bar{y}_1 - \bar{y}_2 = 0
\]</span></p>
<p>In <a href="#tbl-dog-cat-small-delta">Tabelle&nbsp;<span>22.1</span></a> ist nochmal ein sehr simples Datenbeispiel gegeben an dem wir den Zusammenhang nochmal nachvollziehen wollen.</p>
<div class="cell">
<div class="cell-output-display">
<div id="tbl-dog-cat-small-delta" class="anchored">
<table class="table table-sm table-striped small">
<caption>Tabelle&nbsp;22.1— Beispiel für die Berechnung von einem Mittelwertseffekt an der Sprunglänge [cm] von Hunde und Katzenflöhen.</caption>
<thead><tr class="header">
<th style="text-align: center;">animal</th>
<th style="text-align: center;">jump_length</th>
</tr></thead>
<tbody>
<tr class="odd">
<td style="text-align: center;">cat</td>
<td style="text-align: center;">8.0</td>
</tr>
<tr class="even">
<td style="text-align: center;">cat</td>
<td style="text-align: center;">7.9</td>
</tr>
<tr class="odd">
<td style="text-align: center;">cat</td>
<td style="text-align: center;">8.3</td>
</tr>
<tr class="even">
<td style="text-align: center;">cat</td>
<td style="text-align: center;">9.1</td>
</tr>
<tr class="odd">
<td style="text-align: center;">dog</td>
<td style="text-align: center;">8.0</td>
</tr>
<tr class="even">
<td style="text-align: center;">dog</td>
<td style="text-align: center;">7.8</td>
</tr>
<tr class="odd">
<td style="text-align: center;">dog</td>
<td style="text-align: center;">9.2</td>
</tr>
<tr class="even">
<td style="text-align: center;">dog</td>
<td style="text-align: center;">7.7</td>
</tr>
</tbody>
</table>
</div>
</div>
</div>
<p>Nehmen wir an, wir berechnen für die Sprungweite [cm] der Hundeflöhe einen Mittelwert von <span class="math inline">\(\bar{y}_{dog} = 8.2\)</span> und für die Sprungweite [cm] der Katzenflöhe einen Mittelwert von <span class="math inline">\(\bar{y}_{cat} =8.3\)</span>. Wie große ist nun der Effekt? Oder anders gesprochen, welchen Unterschied in der Sprungweite macht es aus ein Hund oder eine Katze zu sein? Was ist also der Effekt von <code>animal</code>? Wir rechnen <span class="math inline">\(\bar{y}_{dog} - \bar{y}_{cat} = 8.2 - 8.3 = -0.1\)</span>. Zum einen wissen wir jetzt “die Richtung”. Da wir ein Minus vor dem Mittelwertsunterschied haben, müssen die Katzenflöhe weiter springen als die Hundeflöhe, nämlich 0.1 cm. Dennoch ist der Effekt sehr klein.</p>
<section id="cohens-d" class="level3 page-columns page-full" data-number="22.2.1"><h3 data-number="22.2.1" class="anchored" data-anchor-id="cohens-d">
<span class="header-section-number">22.2.1</span> Cohen’s d</h3>
<p>Da der Mittlwertsunterschied <em>alleine</em> nnur eine eingeschränkte Aussage über den Effekt erlaubt, gibt es noch Effektschätzer, die den Mittelwertsunterschied <span class="math inline">\(\Delta_{y_1-y_2}\)</span> mit der Streuung <span class="math inline">\(s^2\)</span> sowie der Fallzahl zusammenbringt. Der bekannteste Effektschätzer für einen Mittelwertsunterschied bei großer Fallzahl mit mehr als 20 Beobachtungen ist Cohen’s d.&nbsp;Wir können Cohen’s d wie folgt berechnen.</p>
<p><span class="math display">\[
|d| = \cfrac{\bar{y}_1-\bar{y}_2}{\sqrt{\cfrac{s_1^2+s_2^2}{2}}}
\]</span></p>
<p>Wenn wir die berechneten Mittelwerte und die Varianz der beiden Gruppen in die Formel einsetzten ergibt sich ein absolutes Cohen’s d von 0.24 für den Gruppenvergleich.</p>
<p><span class="math display">\[
|d| = \cfrac{8.2 - 8.3}{\sqrt{(0.5^2+0.3^2) /2}} = \cfrac{-0.1}{0.41} = \lvert-0.24\rvert
\]</span></p>

<div class="no-row-height column-margin column-container"><div class="">
<p>Mehr Informationen zu Cohen’s d gibt es auf der Hilfeseite von <code>effectsize</code>: <a href="https://easystats.github.io/effectsize/reference/interpret_cohens_d.html">Interpret standardized differences</a></p>
</div></div><p>Was denn nun Cohen’s d <em>exakt</em> aussagt, kann niemand sagen. Aber wir haben einen Wust an möglichen Grenzen. Hier soll die Grenzen von Cohen (1988) einmal angegeben werden. Cohen (1988) hat in seiner Arbeit folgende Grenzen in <a href="#tbl-cohen-d">Tabelle&nbsp;<span>22.2</span></a> für die Interpretation von <span class="math inline">\(d\)</span> vorgeschlagen.</p>
<div id="tbl-cohen-d" class="anchored">
<table class="table">
<caption>Tabelle&nbsp;22.2— Interpretation der Effektstärke nach Cohen (1988).</caption>
<thead><tr class="header">
<th style="text-align: center;">Cohen’s d</th>
<th style="text-align: center;">Interpretation des Effekts</th>
</tr></thead>
<tbody>
<tr class="odd">
<td style="text-align: center;"><span class="math inline">\(d &lt; 0.2\)</span></td>
<td style="text-align: center;">Sehr klein</td>
</tr>
<tr class="even">
<td style="text-align: center;"><span class="math inline">\(0.2 \leq d &lt; 0.5\)</span></td>
<td style="text-align: center;">Klein</td>
</tr>
<tr class="odd">
<td style="text-align: center;"><span class="math inline">\(0.5 \leq d &lt; 0.8\)</span></td>
<td style="text-align: center;">Mittel</td>
</tr>
<tr class="even">
<td style="text-align: center;"><span class="math inline">\(d \geq 0.8\)</span></td>
<td style="text-align: center;">Stark</td>
</tr>
</tbody>
</table>
</div>
<p>Wir können auch über die Funktion <code>cohens_d()</code> Cohen’s d einfach in R berechnen. Die Funktion <code>cohens_d()</code> akzeptiert die Formelschreibweise. Die 95% Konfidenzintervalle sind mit Vorsicht zu interpretieren. Denn die Nullhypothese ist hier nicht so klar formuliert. Wir lassen also die 95% Konfidenzintervalle erstmal hier so stehen.</p>
<div class="cell">
<div class="sourceCode" id="cb2"><pre class="downlit sourceCode r code-with-copy"><code class="sourceCode R"><span><span class="fu">cohens_d</span><span class="op">(</span><span class="va">jump_length</span> <span class="op">~</span> <span class="va">animal</span>, data <span class="op">=</span> <span class="va">data_tbl</span>, pooled_sd <span class="op">=</span> <span class="cn">TRUE</span><span class="op">)</span></span></code><button title="In die Zwischenablage kopieren" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>Cohen's d |        95% CI
-------------------------
0.24      | [-1.16, 1.62]

- Estimated using pooled SD.</code></pre>
</div>
</div>
<p>Dankenswerterweise gibt es noch die Funktion <code>interpret_cohens_d</code>, die es uns erlaubt auszusuchen nach welche Literturquelle wir den Wert von Cohen’s d interpretieren wollen. Ob dieser Effekt relevant zur Fragestellung ist musst du selber entscheiden.</p>
<div class="cell">
<div class="sourceCode" id="cb4"><pre class="downlit sourceCode r code-with-copy"><code class="sourceCode R"><span><span class="fu">interpret_cohens_d</span><span class="op">(</span><span class="fl">0.24</span>, rules <span class="op">=</span> <span class="st">"cohen1988"</span><span class="op">)</span></span></code><button title="In die Zwischenablage kopieren" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>[1] "small"
(Rules: cohen1988)</code></pre>
</div>
</div>
</section><section id="hedges-g" class="level3" data-number="22.2.2"><h3 data-number="22.2.2" class="anchored" data-anchor-id="hedges-g">
<span class="header-section-number">22.2.2</span> Hedges’ g</h3>
<p>Soweit haben wir uns mit sehr großen Fallzahlen beschäftigt. Cohen’s d ist dafür auch sehr gut geeigent und wenn wir mehr als 20 Beobachtungen haben, können wir Cohen’s d auch gut anwenden. Wenn wir weniger Fallzahl vorliegen haben, dann können wir Hedges’ g nutzen. Hedges’ g bietet eine Verzerrungskorrektur für kleine Stichprobengrößen (<span class="math inline">\(N &lt; 20\)</span>) sowie die Möglichkeit auch für <em>unbalanzierte</em> Gruppengrößen einen Effektschätzeer zu berechnen. Die Formel sieht mit dem Korrekturterm recht mächtig aus.</p>
<p><span class="math display">\[
g = \cfrac{\bar{y}_1 - \bar{y}_2}{s^*} \cdot \left(\cfrac{N-3}{N-2.25}\right) \cdot \sqrt{\cfrac{N-2}{N}}
\]</span></p>
<p>mit</p>
<p><span class="math display">\[
s^* = \sqrt{\cfrac{(n_1-1)s_1^2 + (n_2-1)s_2^2}{n_1+n_2-2}}
\]</span></p>
<p>Wir können aber einfach die Mittelwerte und die Varianzen aus unserem beispiel einsetzen. Da unsere beiden Gruppen gleich groß sind <span class="math inline">\(n_1 = n_2\)</span> und damit ein balanziertes Design vorliegt, sind Cohen’s d und Hedges’ g numerisch gleich. Wir können dann noch für die geringe Fallzahl korrigieren und erhalten ein händisches <span class="math inline">\(g = 0.18\)</span>.</p>
<p><span class="math display">\[
g = \cfrac{8.2 - 8.3}{0.41} \cdot \left(\cfrac{8-3}{8-2.25}\right) \cdot \sqrt{\cfrac{8-2}{8}} = \lvert-0.24\rvert \cdot 0.87 \cdot 0.87 \approx 0.18
\]</span></p>
<p>mit</p>
<p><span class="math display">\[
s^* = \sqrt{\cfrac{(4-1)\cdot0.5^2 + (4-1)\cdot0.3^2}{4+4-2}} = \sqrt{\cfrac{0.75 + 0.27}{6}} = 0.41
\]</span></p>
<p>In R gibt es die Funktion <code>hedges_g()</code> die uns erlaubt in der Formelschreibweise direkt Hedges’ g zu berechnen. Wir sehen hier eine Abweichung von unserer händischen Rechnung. Das ist aber in soweit nicht ungewöhnlich, da es noch eine Menge Varianten der Anpassung für die geringe Fallzahl gibt. In der Anwendung nutzen wir die Funktion aus dem Paket <code>effectsize</code> wie hier durchgeführt.</p>
<p>Wir ignorieren wie auch bei Cohen’s d das 95% Konfidenzintervall, da die Interpretation ohne die Nullhypothese nicht möglich ist. Die Nullhypothese ist in diesem Fall komplexer. Wir lassen daher das 95% Konfidenzintervall erstmal einfach hier so stehen.</p>
<div class="cell">
<div class="sourceCode" id="cb6"><pre class="downlit sourceCode r code-with-copy"><code class="sourceCode R"><span><span class="fu">hedges_g</span><span class="op">(</span><span class="va">jump_length</span> <span class="op">~</span> <span class="va">animal</span>, data <span class="op">=</span> <span class="va">data_tbl</span>, pooled_sd <span class="op">=</span> <span class="cn">TRUE</span><span class="op">)</span></span></code><button title="In die Zwischenablage kopieren" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>Hedges' g |        95% CI
-------------------------
0.21      | [-1.01, 1.41]

- Estimated using pooled SD.</code></pre>
</div>
</div>
<p>Auch für Hedges’ g gibt es die Möglichkeit sich über die Funktion <code>interpret_hedges_g()</code> den Wert von <span class="math inline">\(g=0.21\)</span> interpretieren zu lassen. Nach Sawilowsky (2009) haben wir hier einen kleinen Effekt vorliegen. Ob dieser Effekt relevant zur Fragestellung ist musst du selber entscheiden.</p>
<div class="cell">
<div class="sourceCode" id="cb8"><pre class="downlit sourceCode r code-with-copy"><code class="sourceCode R"><span><span class="fu">interpret_hedges_g</span><span class="op">(</span><span class="fl">0.21</span>, rules <span class="op">=</span> <span class="st">"sawilowsky2009"</span><span class="op">)</span></span></code><button title="In die Zwischenablage kopieren" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>[1] "small"
(Rules: sawilowsky2009)</code></pre>
</div>
</div>
<p><a href="https://easystats.github.io/effectsize/reference/interpret_cohens_d.html">Die Hilfeseite zu dem Paket <code>effectsize</code></a> bietet eine Liste an möglichen Referenzen für die Wahl der Interpretation der Effektstärke. Du musst dann im Zweifel schauen, welche der Quellen und damit Grenzen du nutzen willst.</p>
</section></section><section id="unterschied-zweier-anteile" class="level2 page-columns page-full" data-number="22.3"><h2 data-number="22.3" class="anchored" data-anchor-id="unterschied-zweier-anteile">
<span class="header-section-number">22.3</span> Unterschied zweier Anteile</h2>
<div class="page-columns page-full"><p></p><div class="no-row-height column-margin column-container"><span class="">Eine Wahrscheinlichkeit und eine Chance sind nicht das Gleiche. Mehr in diesem Abschnitt.</span></div></div>
<p>Neben den Unterschied zweier Mittelwerte ist auch häufig das Interesse an dem Unterschied zwischen zwei Anteilen. Nun unterscheiden wir zwischen Wahrscheinlichkeiten und Chancen. Beide Maßzahlen, die Wahrscheinlichkeit wie auch die Chance, beschreiben einen Anteil. Hier tritt häufig Verwirrung auf, daher hier zuerst ein Beispiel.</p>
<p>Wir behandelt <span class="math inline">\(n = 65\)</span> Hunde mit dem Antiflohmittel <em>FleaEx</em>. Um die Wirkung von <em>FleaEx</em> auch bestimmen zu können haben wir uns zwei Gruppen von Hunden ausgesucht. Wir haben Hunde, die mit Flöhe infiziert sind und Hunde, die nicht mit Flöhen infiziert sind. Wir schauen nun in wie weit <em>FleaEx</em> gegen Flöhe hilft im Vergleich zu einer Kontrolle.</p>
<div id="tbl-2x2-ratio-delta" class="anchored">
<table class="table">
<caption>Tabelle&nbsp;22.3— Eine 2x2 Tabelle als Beispiel für unterschiedliche Flohinfektionen bei nach einer Behandlung mit <em>FleaEx</em> für die Berechnung von Effektschätzern eines Anteils.</caption>
<tbody>
<tr class="odd">
<td style="text-align: center;"></td>
<td style="text-align: center;"></td>
<td style="text-align: center;"><strong>Group</strong></td>
<td style="text-align: center;"></td>
</tr>
<tr class="even">
<td style="text-align: center;"></td>
<td style="text-align: center;"></td>
<td style="text-align: center;"><em>FleaEx</em></td>
<td style="text-align: center;"><em>Control</em></td>
</tr>
<tr class="odd">
<td style="text-align: center;"><strong>Infected</strong></td>
<td style="text-align: center;"><em>Yes (1)</em></td>
<td style="text-align: center;"><span class="math inline">\(18_{\;\Large a}\)</span></td>
<td style="text-align: center;"><span class="math inline">\(23_{\;\Large b}\)</span></td>
</tr>
<tr class="even">
<td style="text-align: center;"></td>
<td style="text-align: center;"><em>No (0)</em></td>
<td style="text-align: center;"><span class="math inline">\(14_{\;\Large c}\)</span></td>
<td style="text-align: center;"><span class="math inline">\(10_{\;\Large d}\)</span></td>
</tr>
</tbody>
</table>
</div>
<p>Aus der <a href="#tbl-2x2-ratio-delta">Tabelle&nbsp;<span>22.3</span></a> können wir entnehmen, dass 18 behandelte Hunde mit Flöhen infiziert sind und 14 Hunde keine Infektion aufweisen. Bei den Hunden aus der Kontrolle haben wir 23 infizierte und 10 gesunde Tiere beobachtet.</p>
<div class="page-columns page-full"><p></p><div class="no-row-height column-margin column-container"><span class="">Es gibt verschiedene Typen von klinischen Studien, also Untersuchungen an Menschen. Einige Studien liefern nur <span class="math inline">\(OR\)</span> wieder andere Studientypen liefern <span class="math inline">\(RR\)</span>.</span></div></div>
<p>Wir können nun zwei Arten von Anteilen berechnen um zu beschreiben, wie sich der Anteil an infizierten Hunden verhält. Das bekanntere ist die Frequenz oder Wahrscheinlichkeit oder Risk Ratio (<span class="math inline">\(RR\)</span>). Das andere ist das Chancenverhältnis oder Odds Ratio (<span class="math inline">\(OR\)</span>). Beide kommen in der Statistik vor und sind unterschiedlich zu interpretieren.</p>
<p>Um die die Odds Ratio und die Risk Ratios auch in R berechnen zu können müssen wir einmal die 2x2 Kreuzabelle in R nachbauen. Wir nutzen dafür die Funktion <code><a href="https://rdrr.io/r/base/matrix.html">matrix()</a></code> und müssen schauen, dass die Zahlen in der 2x2 Kreuztabelle in R dann auch so sind, wie in der Datentabelle. Das ist jetzt ein schöner Codeblock, ist aber dafür da um sicherzustellen, dass wir die Zahlen richtig eintragen.</p>
<div class="cell">
<div class="sourceCode" id="cb10"><pre class="downlit sourceCode r code-with-copy"><code class="sourceCode R"><span><span class="va">cross_mat</span> <span class="op">&lt;-</span> <span class="fu"><a href="https://rdrr.io/r/base/matrix.html">matrix</a></span><span class="op">(</span><span class="fu"><a href="https://rdrr.io/r/base/c.html">c</a></span><span class="op">(</span><span class="fl">18</span>, <span class="fl">23</span>, <span class="fl">14</span>, <span class="fl">10</span><span class="op">)</span>,</span>
<span>  nrow <span class="op">=</span> <span class="fl">2</span>, byrow <span class="op">=</span> <span class="cn">TRUE</span>,</span>
<span>  dimnames <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/list.html">list</a></span><span class="op">(</span></span>
<span>    Infected <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/c.html">c</a></span><span class="op">(</span><span class="st">"Yes"</span>, <span class="st">"No"</span><span class="op">)</span>,</span>
<span>    Group <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/c.html">c</a></span><span class="op">(</span><span class="st">"FleaEx"</span>, <span class="st">"Control"</span><span class="op">)</span></span>
<span>  <span class="op">)</span></span>
<span><span class="op">)</span></span>
<span></span>
<span><span class="va">cross_mat</span></span></code><button title="In die Zwischenablage kopieren" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>        Group
Infected FleaEx Control
     Yes     18      23
     No      14      10</code></pre>
</div>
</div>

<div class="no-row-height column-margin column-container"><div class="">
<p><span class="citation" data-cites="george2020s">George, Stead, und Ganti (<a href="#ref-george2020s" role="doc-biblioref">2020</a>)</span> liefert eine gute Übersicht über <em>What’s the risk: differentiating risk ratios, odds ratios, and hazard ratios?</em></p>
</div></div><p>Später werden wir das <span class="math inline">\(OR\)</span> und <span class="math inline">\(RR\)</span> wieder treffen. Das <span class="math inline">\(OR\)</span> kommt in der logistsichen Regression als Effektschätzer vor. Wir nutzen das <span class="math inline">\(RR\)</span> als Effektschätzer in der Poissonregression.</p>
<section id="wahrscheinlichkeitsverhältnis-oder-risk-ratio-rr" class="level3 page-columns page-full" data-number="22.3.1"><h3 data-number="22.3.1" class="anchored" data-anchor-id="wahrscheinlichkeitsverhältnis-oder-risk-ratio-rr">
<span class="header-section-number">22.3.1</span> Wahrscheinlichkeitsverhältnis oder Risk Ratio (RR)</h3>
<p>Wir berechnen wir nun das Wahrscheinlichkeitsverhältnis oder Risk Ratio (RR)? Das Risk Ratio ist das Verhältnis von den infizierten Hunden in der Behandlung (<span class="math inline">\(a\)</span>) zu allen infizierten Hunden (<span class="math inline">\(a+c\)</span>) zu dem Verhältnis der gesunden Hunde in der Behandlung (<span class="math inline">\(b\)</span>) zu allen gesunden Hunden (<span class="math inline">\(b+d\)</span>). Das klingt jetzt etwas wirr, deshlab helfen manchaml wirklich Formeln, den Zusammenhang besser zu verstehen.</p>
<div class="page-columns page-full"><p></p><div class="no-row-height column-margin column-container"><span class=""><span class="math inline">\(Pr(\mbox{FleaEx}|\mbox{infected})\)</span> ist die Wahrscheinlichkeit infiziert zu sein, wenn der Hund mit <em>FleaEx</em> behandelt wurde.</span></div></div>
<p><span class="math display">\[
Pr(\mbox{FleaEx}|\mbox{infected}) = \cfrac{a}{a+c} = \cfrac{18}{18+14} \approx 0.56
\]</span></p>
<div class="page-columns page-full"><p></p><div class="no-row-height column-margin column-container"><span class=""><span class="math inline">\(Pr(\mbox{Control}|\mbox{infected})\)</span> ist die Wahrscheinlichkeit infiziert zu sein, wenn der Hund mit in der Kontrolle war.</span></div></div>
<p><span class="math display">\[
Pr(\mbox{Control}|\mbox{infected}) = \cfrac{b}{b+d} = \cfrac{23}{23 + 10} \approx 0.70
\]</span></p>
<p>Das Risk Ratio ist mehr oder minder das Verhältnis von der beiden Spalten der <a href="#tbl-2x2-ratio-delta">Tabelle&nbsp;<span>22.3</span></a> für die Behandlung. Wir erhalten also ein <span class="math inline">\(RR\)</span> von <span class="math inline">\(0.76\)</span>. Damit mindert die Gabe von <em>FleaEx</em> die Wahrscheinlichkeit sich mit Flöhen zu infizieren.</p>
<p><span class="math display">\[
\Delta_{y_1/y_2} = RR = \cfrac{Pr(\mbox{FleaEx}|\mbox{infected})}{Pr(\mbox{Control}|\mbox{infected})} =  \cfrac{0.56}{0.70} \approx 0.80
\]</span></p>
<p>Wir überprüfen kurz mit der Funktion <code>riskratio()</code> ob wir richtig gerechnet haben. Das 95% Konfidenzintervall können wir interpretieren, dafür brauchen wir aber noch einmal eine Idee was “kein Effekt” bei einem Risk Ratio heist.</p>
<div class="cell">
<div class="sourceCode" id="cb12"><pre class="downlit sourceCode r code-with-copy"><code class="sourceCode R"><span><span class="fu">riskratio</span><span class="op">(</span><span class="va">cross_mat</span><span class="op">)</span></span></code><button title="In die Zwischenablage kopieren" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>Risk ratio |       95% CI
-------------------------
0.81       | [0.32, 2.01]</code></pre>
</div>
</div>
<p>Wann liegt nun kein Effekt bei einem Anteil wie dem RR vor? Wenn der Anteil in der einen Gruppe genauso groß ist wie der Anteil der anderen Gruppe.</p>
<p><span class="math display">\[
H_0: RR = \cfrac{Pr(\mbox{dog}|\mbox{infected})}{Pr(\mbox{cat}|\mbox{infected})} = 1
\]</span></p>
<p>Wir interpretieren das <span class="math inline">\(RR\)</span> nun wie folgt. Unter der Annahme, dass ein kausaler Effekt zwischen der Behandlung und dem Outcome besteht, können die Werte des relativen Risikos auf folgende Art und Weise interpretiert werden:</p>
<ul>
<li>
<span class="math inline">\(RR = 1\)</span> bedeutet, dass die Behandlung keinen Einfluss auf das Outcome hat</li>
<li>
<span class="math inline">\(RR &lt; 1\)</span> bedeutet, dass das Risiko für das Outcome durch die Behandlung verringert wird, was ein “Schutzfaktor” ist</li>
<li>
<span class="math inline">\(RR &gt; 1\)</span> bedeutet, dass das Risiko für das Outcome durch die Behandlung erhöht wird, was ein “Risikofaktor” ist.</li>
</ul>
<p>Das heist in unserem Fall, dass wir mit einem RR von <span class="math inline">\(0.80\)</span> eine protektive Behandlung vorliegen haben. Die Gabe von <em>FleaEx</em> reduziert das Risiko mit Flöhen infiziert zu werden. Durch das 95% Konfidenzintervall wissen wir auch, dass das <span class="math inline">\(RR\)</span> nicht signifikant ist, da die 1 im 95% Konfidenzintervall enthalten ist.</p>
</section><section id="chancenverhältnis-oder-odds-ratio-or" class="level3" data-number="22.3.2"><h3 data-number="22.3.2" class="anchored" data-anchor-id="chancenverhältnis-oder-odds-ratio-or">
<span class="header-section-number">22.3.2</span> Chancenverhältnis oder Odds Ratio (OR)</h3>
<p>Neben dem Risk Ratio gibt es noch das Odds Ratio. Das Odds Ratio ist ein Chancenverhältnis. Wenn der Mensch an sich schon Probleme hat für sich Wahrscheinlichkeiten richtig einzuordnen, scheitert man allgemein an der Chance vollkommen. Dennoch ist das Odds Ratio eine gute Maßzahl um abzuschätzen wie die Chancen stehen, einen infizierten Hund vorzufinden, wenn der Hund behandelt wurde.</p>
<p>Scaheun wir uns einmal die Formeln an. Im Gegensatz zum Risk Ratio, welches die Spalten miteinander vergleicht, vergleicht das Odds Ratio die Zeilen. Als erstes berechnen wir die Chance unter der Gabe von <em>FleaEx</em> infiziert zu sein wie folgt.</p>
<p><span class="math display">\[
Odds(\mbox{FleaEx}|\mbox{infected}) = a:b = 18:23 = \cfrac{18}{23} = 0.78
\]</span> Dann berechnen wir die Chance in der Kontrollgruppe infiziert zu sein wie folgt.</p>
<p><span class="math display">\[
Odds(\mbox{Control}|\mbox{infected}) = c:d = 14:10 = \cfrac{14}{10} \approx 1.40
\]</span> Abschließend bilden wir das Chancenverhältnis der Chance unter der Gabe von <em>FleaEx</em> infiziert zu sein zu der Chance in der Kontrollgruppe infiziert zu sein. Es ergbit sich das Odds Ratio wie folgt.</p>
<p><span class="math display">\[
\Delta_{y_1/y_2} = OR =  \cfrac{Odds(\mbox{Flea}|\mbox{infected})}{Odds(\mbox{Control}|\mbox{infected})} = \cfrac{a \cdot d}{b \cdot c} = \cfrac{0.78}{1.40} \approx 0.56
\]</span></p>
<p>Wir überprüfen kurz mit der Funktion <code>oddsratio()</code> ob wir richtig gerechnet haben. Das 95% Konfidenzintervall können wir interpretieren, dafür brauchen wir aber noch einmal eine Idee was “kein Effekt” bei einem Odds Ratio heist.</p>
<div class="cell">
<div class="sourceCode" id="cb14"><pre class="downlit sourceCode r code-with-copy"><code class="sourceCode R"><span><span class="fu">oddsratio</span><span class="op">(</span><span class="va">cross_mat</span><span class="op">)</span></span></code><button title="In die Zwischenablage kopieren" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>Odds ratio |       95% CI
-------------------------
0.56       | [0.20, 1.55]</code></pre>
</div>
</div>
<p>Wann liegt nun kein Effekt bei einem Anteil wie dem OR vor? Wenn der Anteil in der einen Gruppe genauso groß ist wie der Anteil der anderen Gruppe.</p>
<p><span class="math display">\[
H_0: OR =  \cfrac{Odds(\mbox{dog}|\mbox{infected})}{Odds(\mbox{cat}|\mbox{infected})} = 1
\]</span></p>
<p>Wir interpretieren das <span class="math inline">\(OR\)</span> nun wie folgt. Unter der Annahme, dass ein kausaler Effekt zwischen der Behandlung und dem Outcome besteht, können die Werte des Odds Ratio auf folgende Art und Weise interpretiert werden:</p>
<ul>
<li>
<span class="math inline">\(OR = 1\)</span> bedeutet, dass die Behandlung keinen Einfluss auf das Outcome hat</li>
<li>
<span class="math inline">\(OR &lt; 1\)</span> bedeutet, dass sich die Chance das Outcome zu bekommen durch die Behandlung verringert wird, was ein “Schutzfaktor” ist</li>
<li>
<span class="math inline">\(OR &gt; 1\)</span> bedeutet, dass sich die Chance das Outcome zu bekommen durch die Behandlung erhöht wird, was ein “Risikofaktor” ist.</li>
</ul>
<p>Das heist in unserem Fall, dass wir mit einem OR von <span class="math inline">\(0.56\)</span> eine protektive Behandlung vorliegen haben. Die Gabe von <em>FleaEx</em> reduziert die Chance mit Flöhen infiziert zu werden. Durch das 95% Konfidenzintervall wissen wir auch, dass das <span class="math inline">\(OR\)</span> nicht signifikant ist, da die 1 im 95% Konfidenzintervall enthalten ist.</p>
</section><section id="odds-ratio-or-zu-risk-ratio-rr" class="level3 page-columns page-full" data-number="22.3.3"><h3 data-number="22.3.3" class="anchored" data-anchor-id="odds-ratio-or-zu-risk-ratio-rr">
<span class="header-section-number">22.3.3</span> Odds Ratio (OR) zu Risk Ratio (RR)</h3>

<div class="no-row-height column-margin column-container"><div class="">
<p><span class="citation" data-cites="grant2014converting">Grant (<a href="#ref-grant2014converting" role="doc-biblioref">2014</a>)</span> gibt nochmal eine wissenschaftliche Diskussion des Themas zur Konvertierung von OR zu RR.</p>
</div></div><p>Wenn wir das OR berechnet haben, wollen wir eventuell das <span class="math inline">\(OR\)</span> in dem Sinne eines Riskoverhältnisses berichten. Leider ist es nun so, dass wir das nicht einfach mit einem <span class="math inline">\(OR\)</span> machen können. Ein <span class="math inline">\(OR\)</span> von 3.5 ist ein großes Chancenverhältnis. Aber ist es auch 3.5-mal so wahrscheinlich? Nein so einfach können wir das OR nicht interpretieren. Wir können aber das <span class="math inline">\(OR\)</span> in das <span class="math inline">\(RR\)</span> umrechnen. Dafür brauchen wir aber das <span class="math inline">\(p_0\)</span>. Dabei ist das <span class="math inline">\(p_0\)</span> das Basisrisiko also die Wahrscheinlichkeit des Ereignisses ohne die Intervention. Wenn wir nichts tun würden, wie wahrscheinlich wäre dann das Auftreten des Ereignisses? Es ergibt sich dann die folgende Formel für die Umrechnung des <span class="math inline">\(OR\)</span> in das <span class="math inline">\(RR\)</span>.</p>
<p><span class="math display">\[
RR = \cfrac{OR}{(1 - p_0 + (p_0 \cdot OR))}
\]</span></p>
<p>Schauen wir uns das einmal in einem Beispiel an. Wir nutzen für die Umrechnung die Funktion <code>oddsratio_to_riskratio()</code> aus dem R Paket <code>effectsize</code>. Wenn wir ein <span class="math inline">\(OR\)</span> von 3.5 haben, so hängt das <span class="math inline">\(RR\)</span> von dem Basisriskio ab. Wenn das Basisirisko für die Erkrankung ohne die Behandlung sehr hoch ist mit <span class="math inline">\(p_0 = 0.85\)</span>, dann ist das <span class="math inline">\(RR\)</span> sehr klein.</p>
<div class="cell">
<div class="sourceCode" id="cb16"><pre class="downlit sourceCode r code-with-copy"><code class="sourceCode R"><span><span class="va">OR</span> <span class="op">&lt;-</span> <span class="fl">3.5</span></span>
<span><span class="va">baserate</span> <span class="op">&lt;-</span> <span class="fl">0.85</span></span>
<span></span>
<span><span class="fu">oddsratio_to_riskratio</span><span class="op">(</span><span class="va">OR</span>, <span class="va">baserate</span><span class="op">)</span> <span class="op">%&gt;%</span> <span class="fu"><a href="https://rdrr.io/r/base/Round.html">round</a></span><span class="op">(</span><span class="fl">2</span><span class="op">)</span></span></code><button title="In die Zwischenablage kopieren" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>[1] 1.12</code></pre>
</div>
</div>
<p>Auf der anderen Seite nähert sich das <span class="math inline">\(OR\)</span> dem <span class="math inline">\(RR\)</span> an, wenn das Basisriskio für die Erkrankung mit <span class="math inline">\(p_0 = 0.04\)</span> sehr klein ist.</p>
<div class="cell">
<div class="sourceCode" id="cb18"><pre class="downlit sourceCode r code-with-copy"><code class="sourceCode R"><span><span class="va">OR</span> <span class="op">&lt;-</span> <span class="fl">3.5</span></span>
<span><span class="va">baserate</span> <span class="op">&lt;-</span> <span class="fl">0.04</span></span>
<span></span>
<span><span class="fu">oddsratio_to_riskratio</span><span class="op">(</span><span class="va">OR</span>, <span class="va">baserate</span><span class="op">)</span> <span class="op">%&gt;%</span> <span class="fu"><a href="https://rdrr.io/r/base/Round.html">round</a></span><span class="op">(</span><span class="fl">2</span><span class="op">)</span></span></code><button title="In die Zwischenablage kopieren" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>[1] 3.18</code></pre>
</div>
</div>
<p>Weil wir natürlich das Basisrisiko nur abschätzen können, verbleibt hier eine gewisse Unsicherheit, wie das <span class="math inline">\(RR\)</span> zu einem gegebenen <span class="math inline">\(OR\)</span> aussieht.</p>
</section></section><section id="sec-effect-wirkung" class="level2 page-columns page-full" data-number="22.4"><h2 data-number="22.4" class="anchored" data-anchor-id="sec-effect-wirkung">
<span class="header-section-number">22.4</span> Wirkungsgrad von Pflanzenschutzmitteln</h2>
<p>Neben den klassischen Effektmaßzahlen, die sich aus einem Mittelwert oder einem Anteil direkt berechnen, gibt es noch andere Effektmaße. Einer dieser Effektmaße ist der Wirkungsgrad für zum Beispiel ein Pflanzenschutzmittel. Wir können hier aber auch weiter denken und uns überlegen in wie weit wir eine Population von Schaderregern durch eine Behandlung reduzieren können. Unabdingbar ist in diesem Fall eine positive Kontrolle in der nichts gemacht wird sondern nur der normale Befall gemessen wird. Wir berechnen hier den Wirkungsgrad nach <span class="citation" data-cites="abbott1925method">Abbott u.&nbsp;a. (<a href="#ref-abbott1925method" role="doc-biblioref">1925</a>)</span> mit der Anpassung von <span class="citation" data-cites="finner1989berechnung">Finner, Kunert, und Sonnemann (<a href="#ref-finner1989berechnung" role="doc-biblioref">1989</a>)</span>. Der Wirkungsgrad <span class="math inline">\(WG\)</span> eines Schutzmittels im Vergleich zur Kontrolle berechnet sich wie folgt.</p>
<p><span class="math display">\[
WG = \left(\cfrac{X_n - Y_n}{X_n}\right)
\]</span></p>
<p>mit</p>
<ul>
<li>
<span class="math inline">\(Y_n\)</span> Anzahl lebend in der Behandlung</li>
<li>
<span class="math inline">\(X_n\)</span> Anzahl lebend in der Kontrolle</li>
</ul>
<p>Natürlich ist die Formel wieder sehr abstrakt, deshalb haben wir zwei Beispieldaten. Zuerst schauen wir uns einen Datensatz zu dem Befall mit Trespe an. Wir haben also Parzellen in denen sich die Trespe ausbreitet und haben verschiedene Behandlungen durchgeführt. Wichtig hierbei, wir haben auch Parzellen wo wir nichts gemacht haben, das ist dann unsere positive Kontrolle (<em>ctrl</em>). Da unsere Daten nicht im Long-Format vorliegen müssen wir die Daten erst noch anpassen und dann die Spalte <code>block</code> in einen Faktor umwandeln.</p>
<div class="cell">
<div class="cell-output-display">
<div id="tbl-effect-trespe" class="anchored">
<table class="table table-sm table-striped small">
<caption>Tabelle&nbsp;22.4— Trespebefall in einem randomisierten Blockdesign mit vier Behandlungsvarianten.</caption>
<thead><tr class="header">
<th style="text-align: center;">variante</th>
<th style="text-align: center;">block_1</th>
<th style="text-align: center;">block_2</th>
<th style="text-align: center;">block_3</th>
<th style="text-align: center;">block_4</th>
</tr></thead>
<tbody>
<tr class="odd">
<td style="text-align: center;">crtl</td>
<td style="text-align: center;">16.0</td>
<td style="text-align: center;">16.0</td>
<td style="text-align: center;">4.8</td>
<td style="text-align: center;">11.2</td>
</tr>
<tr class="even">
<td style="text-align: center;">2</td>
<td style="text-align: center;">4.8</td>
<td style="text-align: center;">4.0</td>
<td style="text-align: center;">0.0</td>
<td style="text-align: center;">2.4</td>
</tr>
<tr class="odd">
<td style="text-align: center;">3</td>
<td style="text-align: center;">10.4</td>
<td style="text-align: center;">2.4</td>
<td style="text-align: center;">0.0</td>
<td style="text-align: center;">0.0</td>
</tr>
<tr class="even">
<td style="text-align: center;">4</td>
<td style="text-align: center;">8.0</td>
<td style="text-align: center;">8.8</td>
<td style="text-align: center;">7.2</td>
<td style="text-align: center;">4.0</td>
</tr>
</tbody>
</table>
</div>
</div>
</div>
<p>Laden wir einmal den Datensatz in R und verwandeln das Wide-Format in das Long-Format. Dann natürlich wie immer alle Faktoren als Faktoren mutieren.</p>
<div class="cell">
<div class="sourceCode" id="cb20"><pre class="downlit sourceCode r code-with-copy"><code class="sourceCode R"><span><span class="va">trespe_tbl</span> <span class="op">&lt;-</span> <span class="fu">read_excel</span><span class="op">(</span><span class="st">"data/raubmilben_data.xlsx"</span>, sheet <span class="op">=</span> <span class="st">"trespe"</span><span class="op">)</span> <span class="op">%&gt;%</span> </span>
<span>  <span class="fu">pivot_longer</span><span class="op">(</span><span class="va">block_1</span><span class="op">:</span><span class="va">block_4</span>,</span>
<span>               names_to <span class="op">=</span> <span class="st">"block"</span>,</span>
<span>               values_to <span class="op">=</span> <span class="st">"count"</span><span class="op">)</span> <span class="op">%&gt;%</span> </span>
<span>  <span class="fu">mutate</span><span class="op">(</span>block <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/factor.html">factor</a></span><span class="op">(</span><span class="va">block</span>, labels <span class="op">=</span> <span class="fl">1</span><span class="op">:</span><span class="fl">4</span><span class="op">)</span>,</span>
<span>         variante <span class="op">=</span> <span class="fu">as_factor</span><span class="op">(</span><span class="va">variante</span><span class="op">)</span><span class="op">)</span></span></code><button title="In die Zwischenablage kopieren" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
<p>In der <a href="#fig-effect-1">Abbildung&nbsp;<span>22.1</span></a> sehen wir nochmal die orginalen, untransformierten Daten sowie die <span class="math inline">\(log\)</span>-transformierten Daten. Wir nutzen die Funkrion <code><a href="https://rdrr.io/r/base/Log.html">log1p()</a></code> um die Anzahl künstlich um 1 zu erhöhen, damit wir Nullen in den Zähldaten zum Logarithmieren vermeiden.</p>
<div class="page-columns page-full">
<div class="sourceCode" id="cb21"><pre class="downlit sourceCode r code-with-copy"><code class="sourceCode R"><span><span class="fu">ggplot</span><span class="op">(</span><span class="va">trespe_tbl</span>, <span class="fu">aes</span><span class="op">(</span><span class="va">variante</span>, <span class="va">count</span>, fill <span class="op">=</span> <span class="va">block</span><span class="op">)</span><span class="op">)</span> <span class="op">+</span></span>
<span>  <span class="fu">theme_bw</span><span class="op">(</span><span class="op">)</span> <span class="op">+</span></span>
<span>  <span class="fu">geom_dotplot</span><span class="op">(</span>binaxis <span class="op">=</span> <span class="st">"y"</span>, stackdir <span class="op">=</span> <span class="st">"center"</span><span class="op">)</span> <span class="op">+</span></span>
<span>  <span class="fu">labs</span><span class="op">(</span>x <span class="op">=</span> <span class="st">"Behandlungsvariante"</span>, y <span class="op">=</span> <span class="st">"Anzahl"</span>, fill <span class="op">=</span> <span class="st">"Block"</span><span class="op">)</span> <span class="op">+</span></span>
<span>  <span class="fu">scale_fill_okabeito</span><span class="op">(</span><span class="op">)</span></span>
<span>  </span>
<span><span class="fu">ggplot</span><span class="op">(</span><span class="va">trespe_tbl</span>, <span class="fu">aes</span><span class="op">(</span><span class="va">variante</span>, <span class="fu"><a href="https://rdrr.io/r/base/Log.html">log1p</a></span><span class="op">(</span><span class="va">count</span><span class="op">)</span>, fill <span class="op">=</span> <span class="va">block</span><span class="op">)</span><span class="op">)</span> <span class="op">+</span></span>
<span>  <span class="fu">theme_bw</span><span class="op">(</span><span class="op">)</span> <span class="op">+</span></span>
<span>  <span class="fu">geom_dotplot</span><span class="op">(</span>binaxis <span class="op">=</span> <span class="st">"y"</span>, stackdir <span class="op">=</span> <span class="st">"center"</span><span class="op">)</span> <span class="op">+</span></span>
<span>  <span class="fu">labs</span><span class="op">(</span>x <span class="op">=</span> <span class="st">"Behandlungsvariante"</span>, y <span class="op">=</span> <span class="st">"log(Anzahl)"</span>, fill <span class="op">=</span> <span class="st">"Block"</span><span class="op">)</span> <span class="op">+</span></span>
<span>  <span class="fu">scale_fill_okabeito</span><span class="op">(</span><span class="op">)</span></span></code><button title="In die Zwischenablage kopieren" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div id="fig-effect-1" class="cell column-page quarto-layout-panel">
<figure class="figure"><div class="quarto-layout-row quarto-layout-valign-top">
<div class="cell-output-display quarto-layout-cell quarto-layout-cell-subref" style="flex-basis: 50.0%;justify-content: center;">
<div id="fig-effect-1-1" class="quarto-figure quarto-figure-center anchored">
<figure class="figure"><p><img src="stat-tests-effect_files/figure-html/fig-effect-1-1.png" class="img-fluid figure-img" data-ref-parent="fig-effect-1" width="480"></p>
<figcaption class="figure-caption">(a) Verteilung der Werte auf der originalen Skala.</figcaption></figure>
</div>
</div>
<div class="cell-output-display quarto-layout-cell quarto-layout-cell-subref" style="flex-basis: 50.0%;justify-content: center;">
<div id="fig-effect-1-2" class="quarto-figure quarto-figure-center anchored">
<figure class="figure"><p><img src="stat-tests-effect_files/figure-html/fig-effect-1-2.png" class="img-fluid figure-img" data-ref-parent="fig-effect-1" width="480"></p>
<figcaption class="figure-caption">(b) Verteilung der Werte auf der logarithmischen Skala. Beobachtungen mit einer 0 Zählung wurden auf 1 gesetzt.</figcaption></figure>
</div>
</div>
</div>
<p></p><figcaption class="figure-caption">Abbildung&nbsp;22.1— Dotplot der Anzahl an Trespen je Sorte und Block.</figcaption><p></p>
</figure>
</div>
</div>
<p>Nun geht es eigentlich ganz fix den Wirkungsgrad nach Abbott zu berechnen. Erstmal schätzen wir eine Poissonregression mit der Anzahl der Trespen als Outcome. Es ist wichtig in der Funktion <code><a href="https://rdrr.io/r/stats/glm.html">glm()</a></code> die Option <code>family = poisson</code> zu setzen. Sonst rechnen wir auch keine Poissonregression.</p>
<div class="cell">
<div class="sourceCode" id="cb22"><pre class="downlit sourceCode r code-with-copy"><code class="sourceCode R"><span><span class="va">fit</span> <span class="op">&lt;-</span> <span class="fu"><a href="https://rdrr.io/r/stats/glm.html">glm</a></span><span class="op">(</span><span class="va">count</span> <span class="op">~</span> <span class="va">variante</span> <span class="op">+</span> <span class="va">block</span>, data <span class="op">=</span> <span class="va">trespe_tbl</span>, family <span class="op">=</span> <span class="va">poisson</span><span class="op">)</span></span></code><button title="In die Zwischenablage kopieren" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
<p>Wir nutzen die Schätzer aus dem Modell um mit der Funktion <code>emmeans()</code> die Raten in jeder Variante gemittelt über alle Blöcke zu berechnen. Dann müssen wir nur noch die Formel nach Abbott nutzen um jede Rate in das Verhältnis zur Rate der Kontrolle <code>rate[1]</code> zu setzen. Wir erhalten dann den Wirkungsgrad nach Abbott für unsere drei Varianten.</p>
<div class="cell">
<div class="sourceCode" id="cb23"><pre class="downlit sourceCode r code-with-copy"><code class="sourceCode R"><span><span class="va">res_trespe_tbl</span> <span class="op">&lt;-</span> <span class="va">fit</span> <span class="op">%&gt;%</span> </span>
<span>  <span class="fu">emmeans</span><span class="op">(</span><span class="op">~</span><span class="va">variante</span>, type <span class="op">=</span> <span class="st">"response"</span><span class="op">)</span> <span class="op">%&gt;%</span> </span>
<span>  <span class="fu">tidy</span><span class="op">(</span><span class="op">)</span> <span class="op">%&gt;%</span> </span>
<span>  <span class="fu">mutate</span><span class="op">(</span>WG_abbott <span class="op">=</span> <span class="op">(</span><span class="va">rate</span><span class="op">[</span><span class="fl">1</span><span class="op">]</span> <span class="op">-</span> <span class="va">rate</span><span class="op">)</span><span class="op">/</span><span class="va">rate</span><span class="op">[</span><span class="fl">1</span><span class="op">]</span>,</span>
<span>         WG_abbott_per <span class="op">=</span> <span class="fu">percent</span><span class="op">(</span><span class="va">WG_abbott</span><span class="op">)</span><span class="op">)</span> <span class="op">%&gt;%</span> </span>
<span>  <span class="fu">select</span><span class="op">(</span><span class="va">variante</span>, <span class="va">rate</span>, <span class="va">WG_abbott</span>, <span class="va">WG_abbott_per</span><span class="op">)</span></span>
<span><span class="va">res_trespe_tbl</span></span></code><button title="In die Zwischenablage kopieren" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code># A tibble: 4 × 4
  variante  rate WG_abbott WG_abbott_per
  &lt;chr&gt;    &lt;dbl&gt;     &lt;dbl&gt; &lt;chr&gt;        
1 crtl     10.8      0     0.0%         
2 2         2.52     0.767 76.7%        
3 3         2.89     0.733 73.3%        
4 4         6.31     0.417 41.7%        </code></pre>
</div>
</div>
<p>Damit haben wir den Wirkungsgard <span class="math inline">\(WG_{abbott}\)</span> für unser Trepsenbeispiel einmal berechnet. Die Interpretation ist dann eigentlich sehr intuitiv. Wir haben zum Beispiel bei Variante 2 einen Wirkungsgard von 76.7% der Kontrolle und somit auch nur 76.7% der Trepsen auf unseren Parzellen im Vergleich zur Kontrolle.</p>
<p>Wir können auch einfach testen, ob sich die Kontrolle von den anderen Varianten sich unterscheidet. Wir nutzen dafür wieder die Funktion <code>emmeans()</code> und vergleichen alle Varianten zu der Kontrolle. Da die Kontrolle in der ersten Zeile steht bzw. das erste Level des Faktors <code>variante</code> ist, müssen wir noch die Referenz mit <code>ref = 1</code> setzen.</p>
<div class="cell">
<div class="sourceCode" id="cb25"><pre class="downlit sourceCode r code-with-copy"><code class="sourceCode R"><span><span class="va">fit</span> <span class="op">%&gt;%</span> </span>
<span>  <span class="fu">emmeans</span><span class="op">(</span><span class="va">trt.vs.ctrlk</span> <span class="op">~</span> <span class="va">variante</span>, type <span class="op">=</span> <span class="st">"response"</span>, ref <span class="op">=</span> <span class="fl">1</span><span class="op">)</span> <span class="op">%&gt;%</span> </span>
<span>  <span class="fu">pluck</span><span class="op">(</span><span class="st">"contrasts"</span><span class="op">)</span></span></code><button title="In die Zwischenablage kopieren" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code> contrast ratio     SE  df null z.ratio p.value
 2 / crtl 0.233 0.0774 Inf    1  -4.385  &lt;.0001
 3 / crtl 0.267 0.0839 Inf    1  -4.202  0.0001
 4 / crtl 0.583 0.1387 Inf    1  -2.267  0.0633

Results are averaged over the levels of: block 
P value adjustment: dunnettx method for 3 tests 
Tests are performed on the log scale </code></pre>
</div>
</div>
<p>Wir wir sehen, sind alle Varianten, bis auf die Variante 4, signifikant unterschiedlich zu der Kontrolle. Nun könnten wir uns auch Fragen in wie weit sich die Wirkungsgrade untereinander unterscheiden. Dafür müssen wir dann die Anteile mit der Funktion <code><a href="https://rdrr.io/r/stats/pairwise.prop.test.html">pairwise.prop.test()</a></code> paarweise Vergleichen. Da wir natürlich auf die Kontrolle standardisieren hat der Vergleich mit der Kontrolle nur so halbwegs Sinn, mag aber von Interesse sein.</p>
<div class="cell">
<div class="sourceCode" id="cb27"><pre class="downlit sourceCode r code-with-copy"><code class="sourceCode R"><span><span class="fu"><a href="https://rdrr.io/r/stats/pairwise.prop.test.html">pairwise.prop.test</a></span><span class="op">(</span>x <span class="op">=</span> <span class="va">res_trespe_tbl</span><span class="op">$</span><span class="va">WG_abbott</span> <span class="op">*</span> <span class="fl">100</span>, </span>
<span>                   n <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/c.html">c</a></span><span class="op">(</span><span class="fl">100</span>, <span class="fl">100</span>, <span class="fl">100</span>, <span class="fl">100</span><span class="op">)</span>,</span>
<span>                   p.adjust.method <span class="op">=</span> <span class="st">"none"</span><span class="op">)</span> </span></code><button title="In die Zwischenablage kopieren" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>
    Pairwise comparisons using Pairwise comparison of proportions 

data:  res_trespe_tbl$WG_abbott * 100 out of c(100, 100, 100, 100) 

  1       2       3      
2 &lt; 2e-16 -       -      
3 &lt; 2e-16 0.7     -      
4 1.4e-12 1.0e-06 1.2e-05

P value adjustment method: none </code></pre>
</div>
</div>
<p>Wir sehen, dass sich alle Varianten in ihrem Wirkungsgrad von der Kontrolle unterscheiden, die Kontrolle hat hier die ID 1. Die Variante 4 unterscheidet sich von allen anderen Varianten in ihrem Wirkungsgrad.</p>
<p>Im zweiten Beispiel wollen wir uns mit dem geometrischen Mittel <span class="math inline">\(WG_{geometric}\)</span> als Schätzer für den Wirkungsgrad beschäftigen. Hier kochen wir dann einmal die Veröffentlichung von <span class="citation" data-cites="finner1989berechnung">Finner, Kunert, und Sonnemann (<a href="#ref-finner1989berechnung" role="doc-biblioref">1989</a>)</span> nach. Dafür brauchen wir einmal die Daten zu den Raubmilben, die ich schon als Exceldatei aufbereitet habe. Wie immer sind die Rohdaten im Wide-Format, wir müssen aber im Long-Format rechnen. Da bauen wir uns also einmal schnell die Daten um. Dann wollen wir noch die Anzahlen der Raubmilben logarithmieren, so dass wir jede Anzahl um 1 erhöhen um logarithmierte Nullen zu vermeiden. Das ganze machen wir dann in einem Rutsch mit der Funktion <code><a href="https://rdrr.io/r/base/Log.html">log1p()</a></code>.</p>
<div class="cell">
<div class="cell-output-display">
<div id="tbl-effect-mite" class="anchored">
<table class="table table-sm table-striped small">
<caption>Tabelle&nbsp;22.5— Raubmilbenbefall auf acht Sorten und einer Kontrolle.</caption>
<thead><tr class="header">
<th style="text-align: center;">sorte</th>
<th style="text-align: center;">block_1</th>
<th style="text-align: center;">block_2</th>
<th style="text-align: center;">block_3</th>
<th style="text-align: center;">block_4</th>
<th style="text-align: center;">block_5</th>
</tr></thead>
<tbody>
<tr class="odd">
<td style="text-align: center;">1</td>
<td style="text-align: center;">0</td>
<td style="text-align: center;">2</td>
<td style="text-align: center;">2</td>
<td style="text-align: center;">21</td>
<td style="text-align: center;">0</td>
</tr>
<tr class="even">
<td style="text-align: center;">2</td>
<td style="text-align: center;">302</td>
<td style="text-align: center;">108</td>
<td style="text-align: center;">64</td>
<td style="text-align: center;">23</td>
<td style="text-align: center;">49</td>
</tr>
<tr class="odd">
<td style="text-align: center;">3</td>
<td style="text-align: center;">59</td>
<td style="text-align: center;">51</td>
<td style="text-align: center;">59</td>
<td style="text-align: center;">1</td>
<td style="text-align: center;">26</td>
</tr>
<tr class="even">
<td style="text-align: center;">4</td>
<td style="text-align: center;">64</td>
<td style="text-align: center;">154</td>
<td style="text-align: center;">41</td>
<td style="text-align: center;">27</td>
<td style="text-align: center;">41</td>
</tr>
<tr class="odd">
<td style="text-align: center;">5</td>
<td style="text-align: center;">45</td>
<td style="text-align: center;">141</td>
<td style="text-align: center;">51</td>
<td style="text-align: center;">70</td>
<td style="text-align: center;">37</td>
</tr>
<tr class="even">
<td style="text-align: center;">6</td>
<td style="text-align: center;">58</td>
<td style="text-align: center;">240</td>
<td style="text-align: center;">140</td>
<td style="text-align: center;">27</td>
<td style="text-align: center;">11</td>
</tr>
<tr class="odd">
<td style="text-align: center;">7</td>
<td style="text-align: center;">1</td>
<td style="text-align: center;">2</td>
<td style="text-align: center;">3</td>
<td style="text-align: center;">8</td>
<td style="text-align: center;">16</td>
</tr>
<tr class="even">
<td style="text-align: center;">8</td>
<td style="text-align: center;">4</td>
<td style="text-align: center;">1</td>
<td style="text-align: center;">0</td>
<td style="text-align: center;">0</td>
<td style="text-align: center;">1</td>
</tr>
<tr class="odd">
<td style="text-align: center;">ctrl</td>
<td style="text-align: center;">46</td>
<td style="text-align: center;">32</td>
<td style="text-align: center;">62</td>
<td style="text-align: center;">90</td>
<td style="text-align: center;">20</td>
</tr>
</tbody>
</table>
</div>
</div>
</div>
<div class="cell">
<div class="sourceCode" id="cb29"><pre class="downlit sourceCode r code-with-copy"><code class="sourceCode R"><span><span class="va">mite_tbl</span> <span class="op">&lt;-</span> <span class="fu">read_excel</span><span class="op">(</span><span class="st">"data/raubmilben_data.xlsx"</span>, sheet <span class="op">=</span> <span class="st">"mite"</span><span class="op">)</span> <span class="op">%&gt;%</span> </span>
<span>  <span class="fu">pivot_longer</span><span class="op">(</span><span class="va">block_1</span><span class="op">:</span><span class="va">block_5</span>,</span>
<span>               names_to <span class="op">=</span> <span class="st">"block"</span>,</span>
<span>               values_to <span class="op">=</span> <span class="st">"count"</span><span class="op">)</span> <span class="op">%&gt;%</span> </span>
<span>  <span class="fu">mutate</span><span class="op">(</span>block <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/factor.html">factor</a></span><span class="op">(</span><span class="va">block</span>, labels <span class="op">=</span> <span class="fl">1</span><span class="op">:</span><span class="fl">5</span><span class="op">)</span>,</span>
<span>         sorte <span class="op">=</span> <span class="fu">as_factor</span><span class="op">(</span><span class="va">sorte</span><span class="op">)</span>,</span>
<span>         log_count <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/Log.html">log1p</a></span><span class="op">(</span><span class="va">count</span><span class="op">)</span><span class="op">)</span></span></code><button title="In die Zwischenablage kopieren" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
<p>Schauen wir uns einmal die Daten in der <a href="#fig-effect-2">Abbildung&nbsp;<span>22.2</span></a> an.</p>
<div class="page-columns page-full">
<div class="sourceCode" id="cb30"><pre class="downlit sourceCode r code-with-copy"><code class="sourceCode R"><span><span class="fu">ggplot</span><span class="op">(</span><span class="va">mite_tbl</span>, <span class="fu">aes</span><span class="op">(</span><span class="va">sorte</span>, <span class="va">count</span>, fill <span class="op">=</span> <span class="va">block</span><span class="op">)</span><span class="op">)</span> <span class="op">+</span></span>
<span>  <span class="fu">theme_bw</span><span class="op">(</span><span class="op">)</span> <span class="op">+</span></span>
<span>  <span class="fu">geom_dotplot</span><span class="op">(</span>binaxis <span class="op">=</span> <span class="st">"y"</span>, stackdir <span class="op">=</span> <span class="st">"center"</span><span class="op">)</span> <span class="op">+</span></span>
<span>  <span class="fu">labs</span><span class="op">(</span>x <span class="op">=</span> <span class="st">"Sorten"</span>, y <span class="op">=</span> <span class="st">"Anzahl"</span>, fill <span class="op">=</span> <span class="st">"Block"</span><span class="op">)</span> <span class="op">+</span></span>
<span>  <span class="fu">scale_fill_okabeito</span><span class="op">(</span><span class="op">)</span></span>
<span>  </span>
<span><span class="fu">ggplot</span><span class="op">(</span><span class="va">mite_tbl</span>, <span class="fu">aes</span><span class="op">(</span><span class="va">sorte</span>, <span class="fu"><a href="https://rdrr.io/r/base/Log.html">log1p</a></span><span class="op">(</span><span class="va">count</span><span class="op">)</span>, fill <span class="op">=</span> <span class="va">block</span><span class="op">)</span><span class="op">)</span> <span class="op">+</span></span>
<span>  <span class="fu">theme_bw</span><span class="op">(</span><span class="op">)</span> <span class="op">+</span></span>
<span>  <span class="fu">geom_dotplot</span><span class="op">(</span>binaxis <span class="op">=</span> <span class="st">"y"</span>, stackdir <span class="op">=</span> <span class="st">"center"</span><span class="op">)</span> <span class="op">+</span></span>
<span>  <span class="fu">labs</span><span class="op">(</span>x <span class="op">=</span> <span class="st">"Sorten"</span>, y <span class="op">=</span> <span class="st">"log(Anzahl)"</span>, fill <span class="op">=</span> <span class="st">"Block"</span><span class="op">)</span> <span class="op">+</span></span>
<span>  <span class="fu">scale_fill_okabeito</span><span class="op">(</span><span class="op">)</span></span></code><button title="In die Zwischenablage kopieren" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div id="fig-effect-2" class="cell column-page quarto-layout-panel">
<figure class="figure"><div class="quarto-layout-row quarto-layout-valign-top">
<div class="cell-output-display quarto-layout-cell quarto-layout-cell-subref" style="flex-basis: 50.0%;justify-content: center;">
<div id="fig-effect-2-1" class="quarto-figure quarto-figure-center anchored">
<figure class="figure"><p><img src="stat-tests-effect_files/figure-html/fig-effect-2-1.png" class="img-fluid figure-img" data-ref-parent="fig-effect-2" width="480"></p>
<figcaption class="figure-caption">(a) Verteilung der Werte auf der originalen Skala.</figcaption></figure>
</div>
</div>
<div class="cell-output-display quarto-layout-cell quarto-layout-cell-subref" style="flex-basis: 50.0%;justify-content: center;">
<div id="fig-effect-2-2" class="quarto-figure quarto-figure-center anchored">
<figure class="figure"><p><img src="stat-tests-effect_files/figure-html/fig-effect-2-2.png" class="img-fluid figure-img" data-ref-parent="fig-effect-2" width="480"></p>
<figcaption class="figure-caption">(b) Verteilung der Werte auf der logarithmischen Skala. Beobachtungen mit einer 0 Zählung wurden auf 1 gesetzt.</figcaption></figure>
</div>
</div>
</div>
<p></p><figcaption class="figure-caption">Abbildung&nbsp;22.2— Dotplot der Anzahl an Raubmilden je Sorte und Block.</figcaption><p></p>
</figure>
</div>
</div>
<p>Wir brauchen jetzt eine Helferfunktion, die uns aus <span class="math inline">\(Pr\)</span> die Gegenwahrscheinlichkeit <span class="math inline">\(1 - Pr\)</span> berechnet. Auch wollen wir dann die Prozentangabe der Gegenwahrscheinlichkeit, also die Gegenwahrscheinlichkeit <span class="math inline">\(1 - Pr\)</span> multipliziert mit Einhundert. Dann brauchen wir als Variable noch die Gruppengröße <span class="math inline">\(n_g\)</span>, die bei uns ja bei 5 liegt. Wir haben pro Sorte fünf Beobachtungen je Block.</p>
<div class="cell">
<div class="sourceCode" id="cb31"><pre class="downlit sourceCode r code-with-copy"><code class="sourceCode R"><span><span class="va">get_q</span> <span class="op">&lt;-</span> <span class="kw">function</span><span class="op">(</span><span class="va">x</span><span class="op">)</span><span class="op">{</span><span class="fl">100</span> <span class="op">*</span> <span class="op">(</span><span class="fl">1</span> <span class="op">-</span> <span class="va">x</span><span class="op">)</span><span class="op">}</span></span>
<span><span class="va">n_group</span> <span class="op">&lt;-</span> <span class="fl">5</span></span></code><button title="In die Zwischenablage kopieren" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
<p>Wir nutezn jetzt das <a href="eda-descriptive.html#sec-desc-stat-geometric">geometrisches Mittel</a> um den Effekt der Behandlung bzw. Sorte im Verhältnis zur Kontrolle zu berechnen. Hierbei ist es wichtig sich zu erinnern, dass wir nicht alle paarweisen Vergleiche rechnen, sondern nur jede Sorte <span class="math inline">\(j\)</span> zu der Kontrolle <span class="math inline">\(ctrl\)</span> vergleichen. Dabei nutzen wir dann das Verhältnis der geometrisches Mittel um zu Beschreiben um wie viel weniger Befall mit Raubmilden wir in den Sorten <span class="math inline">\(y_j\)</span> im Verhältnis zur Kontrolle <span class="math inline">\(y_{ctrl}\)</span> vorliegen haben.</p>
<p><span class="math display">\[
\Delta_{geometric} = \left(\cfrac{\prod_{i=1}^n y_j}{\prod_{i=1}^n y_{ctrl}}\right)^{1/n_j} \mbox{ für Sorte } j
\]</span></p>
<p>Berechnen wir also als erstes einmal das Produkt aller gezählten Raubmilden pro Sorte und speichern das Ergebnis in der Spalte <code>prod</code>.</p>
<div class="cell">
<div class="sourceCode" id="cb32"><pre class="downlit sourceCode r code-with-copy"><code class="sourceCode R"><span><span class="va">mite_wg_gemetric_tbl</span> <span class="op">&lt;-</span> <span class="va">mite_tbl</span> <span class="op">%&gt;%</span> </span>
<span>  <span class="fu">mutate</span><span class="op">(</span>count <span class="op">=</span> <span class="va">count</span> <span class="op">+</span> <span class="fl">1</span><span class="op">)</span> <span class="op">%&gt;%</span> </span>
<span>  <span class="fu">group_by</span><span class="op">(</span><span class="va">sorte</span><span class="op">)</span> <span class="op">%&gt;%</span> </span>
<span>  <span class="fu">summarise</span><span class="op">(</span>prod <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/prod.html">prod</a></span><span class="op">(</span><span class="va">count</span><span class="op">)</span><span class="op">)</span> </span>
<span><span class="va">mite_wg_gemetric_tbl</span></span></code><button title="In die Zwischenablage kopieren" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code># A tibble: 9 × 2
  sorte       prod
  &lt;fct&gt;      &lt;dbl&gt;
1 1            198
2 2     2576106000
3 3       10108800
4 4      497624400
5 5      916413472
6 6      673639344
7 7           3672
8 8             20
9 ctrl   186729543</code></pre>
</div>
</div>
<p>Jetzt können wir im nächsten Schritt einmal das <span class="math inline">\(\Delta_{geometric}\)</span> berechnen und dann den Wirkungsgrad über die Gegenwahrscheinlichkeit. Wichtig ist hier, dass die Kontrolle in der neunten Zeile ist. Daher teilen wir immer durch das Produkt an neunter Position mit <code>prod[9]</code>. Wir sehen ganz klar, das wir ein Delta von 1 für die Kontrolle erhalten, da wir ja die Kontrolle ins Verhältnis zur Kontrolle setzen. Damit sollte der Rest auch geklappt haben. Den Wirkungsgrad der Sorten in Prozent gegen Raubmilbenbefall im Verhältnis zur Kontrolle können wir dann direkt ablesen. Die Funktion <code>percent()</code> berechnet uns aus den Gegenwahrscheinlichkeiten dann gleich die Prozent. Wir brauchen daher hier noch nicht unsere Funktion <code>get_q()</code>.</p>
<div class="cell">
<div class="sourceCode" id="cb34"><pre class="downlit sourceCode r code-with-copy"><code class="sourceCode R"><span><span class="va">mite_wg_gemetric_tbl</span> <span class="op">%&gt;%</span> </span>
<span>  <span class="fu">mutate</span><span class="op">(</span>delta_geometric <span class="op">=</span> <span class="op">(</span><span class="va">prod</span><span class="op">/</span><span class="va">prod</span><span class="op">[</span><span class="fl">9</span><span class="op">]</span><span class="op">)</span><span class="op">^</span><span class="op">(</span><span class="fl">1</span><span class="op">/</span><span class="va">n_group</span><span class="op">)</span>,</span>
<span>         WG_geometric <span class="op">=</span> <span class="fu">percent</span><span class="op">(</span><span class="fl">1</span> <span class="op">-</span> <span class="va">delta_geometric</span><span class="op">)</span><span class="op">)</span></span></code><button title="In die Zwischenablage kopieren" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code># A tibble: 9 × 4
  sorte       prod delta_geometric WG_geometric
  &lt;fct&gt;      &lt;dbl&gt;           &lt;dbl&gt; &lt;chr&gt;       
1 1            198          0.0638 93.6%       
2 2     2576106000          1.69   -69.0%      
3 3       10108800          0.558  44.2%       
4 4      497624400          1.22   -21.7%      
5 5      916413472          1.37   -37.5%      
6 6      673639344          1.29   -29.3%      
7 7           3672          0.114  88.6%       
8 8             20          0.0404 96.0%       
9 ctrl   186729543          1      0.0%        </code></pre>
</div>
</div>
<p>Soweit haben wir erstmal nur eine andere Variante des Wirkungsgrades berechnet. Im Gegensatz zu der Berechnung nach <span class="citation" data-cites="abbott1925method">Abbott u.&nbsp;a. (<a href="#ref-abbott1925method" role="doc-biblioref">1925</a>)</span> können wir aber bei den geometrischen Wirkungsgrad auch ein einseitiges 95% Konfidenzintervall <span class="math inline">\([-\infty; upper]\)</span> angeben. Dafür müssen wir erstmal den Exponenten <span class="math inline">\(a\)</span> berechnen und mit diesem dann die obere Konfidenzschranke <span class="math inline">\(upper\)</span>. Dafür brauchen wir dann doch ein paar statistische Maßzahlen.</p>
<p><span class="math display">\[
\begin{align}
a &amp;= \sqrt{2/n} \cdot s \cdot t_{\alpha=5\%} + \ln(1 - \Delta_{geometric})\\
upper &amp;= 1 - e^a
\end{align}
\]</span></p>
<p>Wir brauchen zum einen die Freiheitsgrade der Residuen <code>df.residual</code> sowie den Standardfehler der Residuen <code>sigma</code> oder <span class="math inline">\(s\)</span>. Beides erhalten wir aus einem linearen Modell auf den logarithmierten Anzahlen der Raubmilben.</p>
<div class="cell">
<div class="sourceCode" id="cb36"><pre class="downlit sourceCode r code-with-copy"><code class="sourceCode R"><span><span class="va">residual_tbl</span> <span class="op">&lt;-</span> <span class="fu"><a href="https://rdrr.io/r/stats/lm.html">lm</a></span><span class="op">(</span><span class="va">log_count</span> <span class="op">~</span> <span class="va">sorte</span> <span class="op">+</span> <span class="va">block</span>, data <span class="op">=</span> <span class="va">mite_tbl</span><span class="op">)</span> <span class="op">%&gt;%</span> </span>
<span>  <span class="fu">glance</span><span class="op">(</span><span class="op">)</span> <span class="op">%&gt;%</span> </span>
<span>  <span class="fu">select</span><span class="op">(</span><span class="va">df.residual</span>, <span class="va">sigma</span><span class="op">)</span></span>
<span><span class="va">residual_tbl</span></span></code><button title="In die Zwischenablage kopieren" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code># A tibble: 1 × 2
  df.residual sigma
        &lt;int&gt; &lt;dbl&gt;
1          32 0.962</code></pre>
</div>
</div>
<p>Mit den Freiheitsgraden der Residuen können wir jetzt den kritischen Wert <span class="math inline">\(t_{\alpha = 5\%}\)</span> aus der <span class="math inline">\(t\)</span>-Verteilung berechnen.</p>
<div class="cell">
<div class="sourceCode" id="cb38"><pre class="downlit sourceCode r code-with-copy"><code class="sourceCode R"><span><span class="va">t_quantile</span> <span class="op">&lt;-</span> <span class="fu"><a href="https://rdrr.io/r/stats/TDist.html">qt</a></span><span class="op">(</span>p <span class="op">=</span> <span class="fl">0.05</span>, df <span class="op">=</span> <span class="va">residual_tbl</span><span class="op">$</span><span class="va">df.residual</span>, lower.tail <span class="op">=</span> <span class="cn">FALSE</span><span class="op">)</span></span>
<span><span class="va">t_quantile</span></span></code><button title="In die Zwischenablage kopieren" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>[1] 1.693889</code></pre>
</div>
</div>
<p>Wir können jetzt unseren Datensatz <code>mite_wg_gemetric_tbl</code> um die Spalte mit den Werten des Exponenten <span class="math inline">\(a\)</span> ergänzen und aus diesem dann die obere Schranke des einseitigen 95% Konfidenzintervall berechnen. Die Werte für die Kontrolle ergeben keinen biologischen Sinn und sind ein mathematisches Artefakt. Wir kriegen halt immer irgendwelche Zahlen raus.</p>
<div class="cell">
<div class="sourceCode" id="cb40"><pre class="downlit sourceCode r code-with-copy"><code class="sourceCode R"><span><span class="va">mite_res_tbl</span> <span class="op">&lt;-</span> <span class="va">mite_wg_gemetric_tbl</span> <span class="op">%&gt;%</span> </span>
<span>  <span class="fu">mutate</span><span class="op">(</span>delta_geometric <span class="op">=</span> <span class="op">(</span><span class="va">prod</span><span class="op">/</span><span class="va">prod</span><span class="op">[</span><span class="fl">9</span><span class="op">]</span><span class="op">)</span><span class="op">^</span><span class="op">(</span><span class="fl">1</span><span class="op">/</span><span class="va">n_group</span><span class="op">)</span>,</span>
<span>         WG_geometric <span class="op">=</span> <span class="fu">get_q</span><span class="op">(</span><span class="va">delta_geometric</span><span class="op">)</span>,</span>
<span>         a <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/MathFun.html">sqrt</a></span><span class="op">(</span><span class="fl">2</span><span class="op">/</span><span class="va">n_group</span><span class="op">)</span> <span class="op">*</span> <span class="va">residual_tbl</span><span class="op">$</span><span class="va">sigma</span> <span class="op">*</span> <span class="va">t_quantile</span> <span class="op">+</span> <span class="fu"><a href="https://rdrr.io/r/base/Log.html">log</a></span><span class="op">(</span><span class="va">delta_geometric</span><span class="op">)</span>,</span>
<span>         upper <span class="op">=</span> <span class="fu">get_q</span><span class="op">(</span><span class="fu"><a href="https://rdrr.io/r/base/Log.html">exp</a></span><span class="op">(</span><span class="va">a</span><span class="op">)</span><span class="op">)</span><span class="op">)</span></span>
<span><span class="va">mite_res_tbl</span></span></code><button title="In die Zwischenablage kopieren" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code># A tibble: 9 × 6
  sorte       prod delta_geometric WG_geometric      a  upper
  &lt;fct&gt;      &lt;dbl&gt;           &lt;dbl&gt;        &lt;dbl&gt;  &lt;dbl&gt;  &lt;dbl&gt;
1 1            198          0.0638         93.6 -1.72    82.1
2 2     2576106000          1.69          -69.0  1.56  -374. 
3 3       10108800          0.558          44.2  0.447  -56.4
4 4      497624400          1.22          -21.7  1.23  -241. 
5 5      916413472          1.37          -37.5  1.35  -285. 
6 6      673639344          1.29          -29.3  1.29  -262. 
7 7           3672          0.114          88.6 -1.14    67.9
8 8             20          0.0404         96.0 -2.18    88.7
9 ctrl   186729543          1               0    1.03  -180. </code></pre>
</div>
</div>
<p>Wir räumen nochmal die Ausgabe auf und konzentrieren uns auf die Spalten und runden einmal die Ergebnisse.</p>
<div class="cell">
<div class="sourceCode" id="cb42"><pre class="downlit sourceCode r code-with-copy"><code class="sourceCode R"><span><span class="va">mite_res_tbl</span> <span class="op">%&gt;%</span> </span>
<span>  <span class="fu">select</span><span class="op">(</span><span class="va">sorte</span>, <span class="va">WG_geometric</span>, <span class="va">upper</span><span class="op">)</span> <span class="op">%&gt;%</span> </span>
<span>  <span class="fu">mutate</span><span class="op">(</span><span class="fu">across</span><span class="op">(</span><span class="fu">where</span><span class="op">(</span><span class="va">is.numeric</span><span class="op">)</span>, <span class="op">~</span><span class="fu"><a href="https://rdrr.io/r/base/Round.html">round</a></span><span class="op">(</span><span class="va">.x</span>, <span class="fl">2</span><span class="op">)</span><span class="op">)</span><span class="op">)</span> </span></code><button title="In die Zwischenablage kopieren" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code># A tibble: 9 × 3
  sorte WG_geometric  upper
  &lt;fct&gt;        &lt;dbl&gt;  &lt;dbl&gt;
1 1             93.6   82.1
2 2            -69.0 -374. 
3 3             44.2  -56.4
4 4            -21.7 -241. 
5 5            -37.5 -285. 
6 6            -29.2 -262. 
7 7             88.6   67.9
8 8             96.0   88.7
9 ctrl           0   -180. </code></pre>
</div>
</div>
<p>Wir können wir jetzt das einseitige 95% Konfidenzintervall interpretieren? In der Sorte 1 erhalten wir einen Wirkungsgrad von 93.6% und mit 95% Sicherheit mindestens einen Wirkungsgrad von 82.1%. Damit haben wir auch eine untere Schranke für unseren Wirkungsgradschätzer. Wir berichten für die Sorte 1 einen Wirkungsgrad von 93.6% [<span class="math inline">\(-\infty\)</span>; 82.1%].</p>
<p>Genauso können wir aber auch den Wirkungsgrad nach <span class="citation" data-cites="abbott1925method">Abbott u.&nbsp;a. (<a href="#ref-abbott1925method" role="doc-biblioref">1925</a>)</span> nochmal auf den Daten berechnen. Dafür müssen wir nur eine Poissonregression auf der Anzahl der Raubmilben rechnen. Die angepassten Werte können wir dann verwenden um den <span class="math inline">\(WG_{abbott}\)</span> zu schätzen.</p>
<div class="cell">
<div class="sourceCode" id="cb44"><pre class="downlit sourceCode r code-with-copy"><code class="sourceCode R"><span><span class="va">fit</span> <span class="op">&lt;-</span> <span class="fu"><a href="https://rdrr.io/r/stats/glm.html">glm</a></span><span class="op">(</span><span class="va">count</span> <span class="op">~</span> <span class="va">sorte</span> <span class="op">+</span> <span class="va">block</span>, data <span class="op">=</span> <span class="va">mite_tbl</span>, family <span class="op">=</span> <span class="va">poisson</span><span class="op">)</span></span></code><button title="In die Zwischenablage kopieren" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
<p>Wir nutzen hier dann die Funktion <code>emmeans()</code> um die mittlere Anzahl an Raubmilben über alle Blöcke zu ermitteln. Dann können wir auch schon den <span class="math inline">\(WG_{abbott}\)</span> berechnen. Wichtig ist hier, dass die Referenzkategorie mit der Kontrolle an der neunten Stelle bzw. Zeile steht. Deshalb müssen wir auch hier durch <code>prod[9]</code> teilen. Achtung, die <span class="math inline">\(p\)</span>-Werte haben hier keine tiefere Bedeutung im Bezug auf den Wirkungsgrad und deshalb schauen wir uns diese Werte auch gar nicht tiefer an.</p>
<div class="cell">
<div class="sourceCode" id="cb45"><pre class="downlit sourceCode r code-with-copy"><code class="sourceCode R"><span><span class="va">res_mite_tbl</span> <span class="op">&lt;-</span> <span class="va">fit</span> <span class="op">%&gt;%</span> </span>
<span>  <span class="fu">emmeans</span><span class="op">(</span><span class="op">~</span><span class="va">sorte</span>, type <span class="op">=</span> <span class="st">"response"</span><span class="op">)</span> <span class="op">%&gt;%</span> </span>
<span>  <span class="fu">tidy</span><span class="op">(</span><span class="op">)</span> <span class="op">%&gt;%</span> </span>
<span>  <span class="fu">mutate</span><span class="op">(</span>WG_abbott <span class="op">=</span> <span class="op">(</span><span class="va">rate</span><span class="op">[</span><span class="fl">9</span><span class="op">]</span> <span class="op">-</span> <span class="va">rate</span><span class="op">)</span><span class="op">/</span><span class="va">rate</span><span class="op">[</span><span class="fl">9</span><span class="op">]</span>,</span>
<span>         WG_abbott_per <span class="op">=</span> <span class="fu">percent</span><span class="op">(</span><span class="va">WG_abbott</span><span class="op">)</span><span class="op">)</span> <span class="op">%&gt;%</span> </span>
<span>  <span class="fu">select</span><span class="op">(</span><span class="va">sorte</span>, <span class="va">WG_abbott</span>, <span class="va">WG_abbott_per</span>, <span class="va">rate</span><span class="op">)</span></span>
<span><span class="va">res_mite_tbl</span></span></code><button title="In die Zwischenablage kopieren" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code># A tibble: 9 × 4
  sorte WG_abbott WG_abbott_per  rate
  &lt;chr&gt;     &lt;dbl&gt; &lt;chr&gt;         &lt;dbl&gt;
1 1         0.900 90.0%          4.49
2 2        -1.18  -118.4%       98.0 
3 3         0.216 21.6%         35.2 
4 4        -0.308 -30.8%        58.7 
5 5        -0.376 -37.6%        61.7 
6 6        -0.904 -90.4%        85.4 
7 7         0.880 88.0%          5.38
8 8         0.976 97.6%          1.08
9 ctrl      0     0.0%          44.9 </code></pre>
</div>
</div>
<p>Wenn du verwirrt bist über die negativen Wirkungsgrade, dann musst du dir klar werden, dass wir immer den Wirkungsgrad im Verhältnis zur Kontrolle berechnen. Wenn du also negative Wirkungsgrade siehst, dann sind die Anzahlen in den Sorten <em>höher</em> als in der Kontrolle. Je nach Fragestellung macht dieses Ergebnis mehr oder weniger Sinn.</p>
<p>Auch hier können wir noch schnell einen statistischen Test rechnen und die Sorten zu der Kontrolle <code>ref = 9</code> vergleichen.</p>
<div class="cell">
<div class="sourceCode" id="cb47"><pre class="downlit sourceCode r code-with-copy"><code class="sourceCode R"><span><span class="va">fit</span> <span class="op">%&gt;%</span> </span>
<span>  <span class="fu">emmeans</span><span class="op">(</span><span class="va">trt.vs.ctrlk</span> <span class="op">~</span> <span class="va">sorte</span>, type <span class="op">=</span> <span class="st">"response"</span>, ref <span class="op">=</span> <span class="fl">9</span><span class="op">)</span> <span class="op">%&gt;%</span> </span>
<span>  <span class="fu">pluck</span><span class="op">(</span><span class="st">"contrasts"</span><span class="op">)</span></span></code><button title="In die Zwischenablage kopieren" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code> contrast ratio      SE  df null z.ratio p.value
 1 / ctrl 0.100 0.02098 Inf    1 -10.977  &lt;.0001
 2 / ctrl 2.184 0.16678 Inf    1  10.229  &lt;.0001
 3 / ctrl 0.784 0.07480 Inf    1  -2.551  0.0686
 4 / ctrl 1.308 0.10989 Inf    1   3.196  0.0101
 5 / ctrl 1.376 0.11436 Inf    1   3.841  0.0009
 6 / ctrl 1.904 0.14872 Inf    1   8.244  &lt;.0001
 7 / ctrl 0.120 0.02319 Inf    1 -10.973  &lt;.0001
 8 / ctrl 0.024 0.00991 Inf    1  -9.028  &lt;.0001

Results are averaged over the levels of: block 
P value adjustment: dunnettx method for 8 tests 
Tests are performed on the log scale </code></pre>
</div>
</div>
<p>Wir wir sehen, sind alle Varianten signifikant unterschiedlich zu der Kontrolle bis auf die Sorte 3.</p>
<p>Auch hier können wir die Wirkungsgrade miteinander vergleichen. Aber Achtung, wir können nur Wirkungsgrade zwischen 0 und 1 miteinander sinnvoll vergleichen. Deshalb fliegen bei uns einige an Sorten raus. Darüber hinaus musst du jetzt auch einmal schauen, welche Sorte sich hinter der numerischen ID aus dem <code><a href="https://rdrr.io/r/stats/pairwise.prop.test.html">pairwise.prop.test()</a></code> verbirgt.</p>
<div class="cell">
<div class="sourceCode" id="cb49"><pre class="downlit sourceCode r code-with-copy"><code class="sourceCode R"><span><span class="va">res_mite_tbl</span> <span class="op">%&gt;%</span> </span>
<span>  <span class="fu"><a href="https://rdrr.io/r/stats/filter.html">filter</a></span><span class="op">(</span><span class="va">WG_abbott</span> <span class="op">&lt;</span> <span class="fl">1</span> <span class="op">&amp;</span> <span class="va">WG_abbott</span> <span class="op">&gt;=</span> <span class="fl">0</span><span class="op">)</span> <span class="op">%$%</span> </span>
<span>  <span class="fu"><a href="https://rdrr.io/r/stats/pairwise.prop.test.html">pairwise.prop.test</a></span><span class="op">(</span>x <span class="op">=</span> <span class="va">WG_abbott</span> <span class="op">*</span> <span class="fl">100</span>, </span>
<span>                   n <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/rep.html">rep</a></span><span class="op">(</span><span class="fl">100</span>, <span class="fl">5</span><span class="op">)</span>,</span>
<span>                   p.adjust.method <span class="op">=</span> <span class="st">"none"</span><span class="op">)</span> </span></code><button title="In die Zwischenablage kopieren" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>
    Pairwise comparisons using Pairwise comparison of proportions 

data:  WG_abbott * 100 out of rep(100, 5) 

  1       2       3       4      
2 &lt; 2e-16 -       -       -      
3 0.821   &lt; 2e-16 -       -      
4 0.053   &lt; 2e-16 0.019   -      
5 &lt; 2e-16 2.7e-06 &lt; 2e-16 &lt; 2e-16

P value adjustment method: none </code></pre>
</div>
</div>
<p>Das letzte Beispiel zeigt nochmal schön, dass wir uns immer überlegen müssen, was wir mit den Wirkungsgraden eigentlich zeigen wollen und welche Wirkungsgrade noch eine biologisch sinnvolle Bedeutung haben.</p>
</section><section id="referenzen" class="level2 unnumbered"><h2 class="unnumbered anchored" data-anchor-id="referenzen">Referenzen</h2>


<div id="refs" class="references csl-bib-body hanging-indent" role="list">
<div id="ref-abbott1925method" class="csl-entry" role="listitem">
Abbott, Walter S u.&nbsp;a. 1925. <span>„A method of computing the effectiveness of an insecticide“</span>. <em>J. econ. Entomol</em> 18 (2): 265–67.
</div>
<div id="ref-finner1989berechnung" class="csl-entry" role="listitem">
Finner, H, J Kunert, und E Sonnemann. 1989. <span>„<span>Ü</span>ber die Berechnung des Wirkungsgrades von Pflanzenschutzmitteln“</span>. <em>Nachrichtenblatt des Deutschen Pflanzenschutzdienstes (Braunschweig)</em> 41 (8-9): 145–49.
</div>
<div id="ref-george2020s" class="csl-entry" role="listitem">
George, Andrew, Thor S Stead, und Latha Ganti. 2020. <span>„What’s the risk: differentiating risk ratios, odds ratios, and hazard ratios?“</span> <em>Cureus</em> 12 (8).
</div>
<div id="ref-grant2014converting" class="csl-entry" role="listitem">
Grant, Robert L. 2014. <span>„Converting an odds ratio to a range of plausible relative risks for better communication of research findings“</span>. <em>Bmj</em> 348.
</div>
</div>
</section></main><!-- /main --><script id="quarto-html-after-body" type="application/javascript">
window.document.addEventListener("DOMContentLoaded", function (event) {
  const toggleBodyColorMode = (bsSheetEl) => {
    const mode = bsSheetEl.getAttribute("data-mode");
    const bodyEl = window.document.querySelector("body");
    if (mode === "dark") {
      bodyEl.classList.add("quarto-dark");
      bodyEl.classList.remove("quarto-light");
    } else {
      bodyEl.classList.add("quarto-light");
      bodyEl.classList.remove("quarto-dark");
    }
  }
  const toggleBodyColorPrimary = () => {
    const bsSheetEl = window.document.querySelector("link#quarto-bootstrap");
    if (bsSheetEl) {
      toggleBodyColorMode(bsSheetEl);
    }
  }
  toggleBodyColorPrimary();  
  const icon = "";
  const anchorJS = new window.AnchorJS();
  anchorJS.options = {
    placement: 'right',
    icon: icon
  };
  anchorJS.add('.anchored');
  const isCodeAnnotation = (el) => {
    for (const clz of el.classList) {
      if (clz.startsWith('code-annotation-')) {                     
        return true;
      }
    }
    return false;
  }
  const clipboard = new window.ClipboardJS('.code-copy-button', {
    text: function(trigger) {
      const codeEl = trigger.previousElementSibling.cloneNode(true);
      for (const childEl of codeEl.children) {
        if (isCodeAnnotation(childEl)) {
          childEl.remove();
        }
      }
      return codeEl.innerText;
    }
  });
  clipboard.on('success', function(e) {
    // button target
    const button = e.trigger;
    // don't keep focus
    button.blur();
    // flash "checked"
    button.classList.add('code-copy-button-checked');
    var currentTitle = button.getAttribute("title");
    button.setAttribute("title", "Kopiert");
    let tooltip;
    if (window.bootstrap) {
      button.setAttribute("data-bs-toggle", "tooltip");
      button.setAttribute("data-bs-placement", "left");
      button.setAttribute("data-bs-title", "Kopiert");
      tooltip = new bootstrap.Tooltip(button, 
        { trigger: "manual", 
          customClass: "code-copy-button-tooltip",
          offset: [0, -8]});
      tooltip.show();    
    }
    setTimeout(function() {
      if (tooltip) {
        tooltip.hide();
        button.removeAttribute("data-bs-title");
        button.removeAttribute("data-bs-toggle");
        button.removeAttribute("data-bs-placement");
      }
      button.setAttribute("title", currentTitle);
      button.classList.remove('code-copy-button-checked');
    }, 1000);
    // clear code selection
    e.clearSelection();
  });
  function tippyHover(el, contentFn) {
    const config = {
      allowHTML: true,
      content: contentFn,
      maxWidth: 500,
      delay: 100,
      arrow: false,
      appendTo: function(el) {
          return el.parentElement;
      },
      interactive: true,
      interactiveBorder: 10,
      theme: 'quarto',
      placement: 'bottom-start'
    };
    window.tippy(el, config); 
  }
  const noterefs = window.document.querySelectorAll('a[role="doc-noteref"]');
  for (var i=0; i<noterefs.length; i++) {
    const ref = noterefs[i];
    tippyHover(ref, function() {
      // use id or data attribute instead here
      let href = ref.getAttribute('data-footnote-href') || ref.getAttribute('href');
      try { href = new URL(href).hash; } catch {}
      const id = href.replace(/^#\/?/, "");
      const note = window.document.getElementById(id);
      return note.innerHTML;
    });
  }
      let selectedAnnoteEl;
      const selectorForAnnotation = ( cell, annotation) => {
        let cellAttr = 'data-code-cell="' + cell + '"';
        let lineAttr = 'data-code-annotation="' +  annotation + '"';
        const selector = 'span[' + cellAttr + '][' + lineAttr + ']';
        return selector;
      }
      const selectCodeLines = (annoteEl) => {
        const doc = window.document;
        const targetCell = annoteEl.getAttribute("data-target-cell");
        const targetAnnotation = annoteEl.getAttribute("data-target-annotation");
        const annoteSpan = window.document.querySelector(selectorForAnnotation(targetCell, targetAnnotation));
        const lines = annoteSpan.getAttribute("data-code-lines").split(",");
        const lineIds = lines.map((line) => {
          return targetCell + "-" + line;
        })
        let top = null;
        let height = null;
        let parent = null;
        if (lineIds.length > 0) {
            //compute the position of the single el (top and bottom and make a div)
            const el = window.document.getElementById(lineIds[0]);
            top = el.offsetTop;
            height = el.offsetHeight;
            parent = el.parentElement.parentElement;
          if (lineIds.length > 1) {
            const lastEl = window.document.getElementById(lineIds[lineIds.length - 1]);
            const bottom = lastEl.offsetTop + lastEl.offsetHeight;
            height = bottom - top;
          }
          if (top !== null && height !== null && parent !== null) {
            // cook up a div (if necessary) and position it 
            let div = window.document.getElementById("code-annotation-line-highlight");
            if (div === null) {
              div = window.document.createElement("div");
              div.setAttribute("id", "code-annotation-line-highlight");
              div.style.position = 'absolute';
              parent.appendChild(div);
            }
            div.style.top = top - 2 + "px";
            div.style.height = height + 4 + "px";
            let gutterDiv = window.document.getElementById("code-annotation-line-highlight-gutter");
            if (gutterDiv === null) {
              gutterDiv = window.document.createElement("div");
              gutterDiv.setAttribute("id", "code-annotation-line-highlight-gutter");
              gutterDiv.style.position = 'absolute';
              const codeCell = window.document.getElementById(targetCell);
              const gutter = codeCell.querySelector('.code-annotation-gutter');
              gutter.appendChild(gutterDiv);
            }
            gutterDiv.style.top = top - 2 + "px";
            gutterDiv.style.height = height + 4 + "px";
          }
          selectedAnnoteEl = annoteEl;
        }
      };
      const unselectCodeLines = () => {
        const elementsIds = ["code-annotation-line-highlight", "code-annotation-line-highlight-gutter"];
        elementsIds.forEach((elId) => {
          const div = window.document.getElementById(elId);
          if (div) {
            div.remove();
          }
        });
        selectedAnnoteEl = undefined;
      };
      // Attach click handler to the DT
      const annoteDls = window.document.querySelectorAll('dt[data-target-cell]');
      for (const annoteDlNode of annoteDls) {
        annoteDlNode.addEventListener('click', (event) => {
          const clickedEl = event.target;
          if (clickedEl !== selectedAnnoteEl) {
            unselectCodeLines();
            const activeEl = window.document.querySelector('dt[data-target-cell].code-annotation-active');
            if (activeEl) {
              activeEl.classList.remove('code-annotation-active');
            }
            selectCodeLines(clickedEl);
            clickedEl.classList.add('code-annotation-active');
          } else {
            // Unselect the line
            unselectCodeLines();
            clickedEl.classList.remove('code-annotation-active');
          }
        });
      }
  const findCites = (el) => {
    const parentEl = el.parentElement;
    if (parentEl) {
      const cites = parentEl.dataset.cites;
      if (cites) {
        return {
          el,
          cites: cites.split(' ')
        };
      } else {
        return findCites(el.parentElement)
      }
    } else {
      return undefined;
    }
  };
  var bibliorefs = window.document.querySelectorAll('a[role="doc-biblioref"]');
  for (var i=0; i<bibliorefs.length; i++) {
    const ref = bibliorefs[i];
    const citeInfo = findCites(ref);
    if (citeInfo) {
      tippyHover(citeInfo.el, function() {
        var popup = window.document.createElement('div');
        citeInfo.cites.forEach(function(cite) {
          var citeDiv = window.document.createElement('div');
          citeDiv.classList.add('hanging-indent');
          citeDiv.classList.add('csl-entry');
          var biblioDiv = window.document.getElementById('ref-' + cite);
          if (biblioDiv) {
            citeDiv.innerHTML = biblioDiv.innerHTML;
          }
          popup.appendChild(citeDiv);
        });
        return popup.innerHTML;
      });
    }
  }
});
</script><nav class="page-navigation"><div class="nav-page nav-page-previous">
      <a href="./stat-tests-theorie.html" class="pagination-link">
        <i class="bi bi-arrow-left-short"></i> <span class="nav-page-text"><span class="chapter-number">21</span>&nbsp; <span class="chapter-title">Die Testtheorie</span></span>
      </a>          
  </div>
  <div class="nav-page nav-page-next">
      <a href="./stat-tests-ttest.html" class="pagination-link">
        <span class="nav-page-text"><span class="chapter-number">23</span>&nbsp; <span class="chapter-title">Der t-Test</span></span> <i class="bi bi-arrow-right-short"></i>
      </a>
  </div>
</nav>
</div> <!-- /content -->



</body></html>