<!DOCTYPE html>
<html xmlns="http://www.w3.org/1999/xhtml" lang="de" xml:lang="de"><head>

<meta charset="utf-8">
<meta name="generator" content="quarto-1.6.39">

<meta name="viewport" content="width=device-width, initial-scale=1.0, user-scalable=yes">

<meta name="description" content="Ein Kochbuch mit Rezepten aus der Bio Data Science, Biostatistik, Biometrie und Statistik zum selber nachkochen!">

<title>23&nbsp; Der Effektschätzer – Bio Data Science</title>
<style>
code{white-space: pre-wrap;}
span.smallcaps{font-variant: small-caps;}
div.columns{display: flex; gap: min(4vw, 1.5em);}
div.column{flex: auto; overflow-x: auto;}
div.hanging-indent{margin-left: 1.5em; text-indent: -1.5em;}
ul.task-list{list-style: none;}
ul.task-list li input[type="checkbox"] {
  width: 0.8em;
  margin: 0 0.8em 0.2em -1em; /* quarto-specific, see https://github.com/quarto-dev/quarto-cli/issues/4556 */ 
  vertical-align: middle;
}
/* CSS for syntax highlighting */
pre > code.sourceCode { white-space: pre; position: relative; }
pre > code.sourceCode > span { line-height: 1.25; }
pre > code.sourceCode > span:empty { height: 1.2em; }
.sourceCode { overflow: visible; }
code.sourceCode > span { color: inherit; text-decoration: inherit; }
div.sourceCode { margin: 1em 0; }
pre.sourceCode { margin: 0; }
@media screen {
div.sourceCode { overflow: auto; }
}
@media print {
pre > code.sourceCode { white-space: pre-wrap; }
pre > code.sourceCode > span { display: inline-block; text-indent: -5em; padding-left: 5em; }
}
pre.numberSource code
  { counter-reset: source-line 0; }
pre.numberSource code > span
  { position: relative; left: -4em; counter-increment: source-line; }
pre.numberSource code > span > a:first-child::before
  { content: counter(source-line);
    position: relative; left: -1em; text-align: right; vertical-align: baseline;
    border: none; display: inline-block;
    -webkit-touch-callout: none; -webkit-user-select: none;
    -khtml-user-select: none; -moz-user-select: none;
    -ms-user-select: none; user-select: none;
    padding: 0 4px; width: 4em;
  }
pre.numberSource { margin-left: 3em;  padding-left: 4px; }
div.sourceCode
  {   }
@media screen {
pre > code.sourceCode > span > a:first-child::before { text-decoration: underline; }
}
/* CSS for citations */
div.csl-bib-body { }
div.csl-entry {
  clear: both;
  margin-bottom: 0em;
}
.hanging-indent div.csl-entry {
  margin-left:2em;
  text-indent:-2em;
}
div.csl-left-margin {
  min-width:2em;
  float:left;
}
div.csl-right-inline {
  margin-left:2em;
  padding-left:1em;
}
div.csl-indent {
  margin-left: 2em;
}</style>


<script src="site_libs/quarto-nav/quarto-nav.js"></script>
<script src="site_libs/quarto-nav/headroom.min.js"></script>
<script src="site_libs/clipboard/clipboard.min.js"></script>
<script src="site_libs/quarto-search/autocomplete.umd.js"></script>
<script src="site_libs/quarto-search/fuse.min.js"></script>
<script src="site_libs/quarto-search/quarto-search.js"></script>
<meta name="quarto:offset" content="./">
<link href="./stat-tests-pretest2.html" rel="next">
<link href="./stat-tests-theorie.html" rel="prev">
<link href="./cover2026_favi.png" rel="icon" type="image/png">
<script src="site_libs/quarto-html/quarto.js"></script>
<script src="site_libs/quarto-html/popper.min.js"></script>
<script src="site_libs/quarto-html/tippy.umd.min.js"></script>
<script src="site_libs/quarto-html/anchor.min.js"></script>
<link href="site_libs/quarto-html/tippy.css" rel="stylesheet">
<link href="site_libs/quarto-html/quarto-syntax-highlighting-05fe91a66cf75bbbb8c9664867fe5124.css" rel="stylesheet" id="quarto-text-highlighting-styles">
<script src="site_libs/bootstrap/bootstrap.min.js"></script>
<link href="site_libs/bootstrap/bootstrap-icons.css" rel="stylesheet">
<link href="site_libs/bootstrap/bootstrap-05a8b96638736df272eeeeef67138371.min.css" rel="stylesheet" append-hash="true" id="quarto-bootstrap" data-mode="light">
<script src="site_libs/quarto-contrib/glightbox/glightbox.min.js"></script>
<link href="site_libs/quarto-contrib/glightbox/glightbox.min.css" rel="stylesheet">
<link href="site_libs/quarto-contrib/glightbox/lightbox.css" rel="stylesheet">
<script id="quarto-search-options" type="application/json">{
  "location": "sidebar",
  "copy-button": false,
  "collapse-after": 3,
  "panel-placement": "start",
  "type": "textbox",
  "limit": 50,
  "keyboard-shortcut": [
    "f",
    "/",
    "s"
  ],
  "show-item-context": false,
  "language": {
    "search-no-results-text": "Keine Treffer",
    "search-matching-documents-text": "Treffer",
    "search-copy-link-title": "Link in die Suche kopieren",
    "search-hide-matches-text": "Zusätzliche Treffer verbergen",
    "search-more-match-text": "weitere Treffer in diesem Dokument",
    "search-more-matches-text": "weitere Treffer in diesem Dokument",
    "search-clear-button-title": "Zurücksetzen",
    "search-text-placeholder": "",
    "search-detached-cancel-button-title": "Abbrechen",
    "search-submit-button-title": "Abschicken",
    "search-label": "Suchen"
  }
}</script>

  <script src="https://cdnjs.cloudflare.com/polyfill/v3/polyfill.min.js?features=es6"></script>
  <script src="https://cdn.jsdelivr.net/npm/mathjax@3/es5/tex-chtml-full.js" type="text/javascript"></script>

<script type="text/javascript">
const typesetMath = (el) => {
  if (window.MathJax) {
    // MathJax Typeset
    window.MathJax.typeset([el]);
  } else if (window.katex) {
    // KaTeX Render
    var mathElements = el.getElementsByClassName("math");
    var macros = [];
    for (var i = 0; i < mathElements.length; i++) {
      var texText = mathElements[i].firstChild;
      if (mathElements[i].tagName == "SPAN") {
        window.katex.render(texText.data, mathElements[i], {
          displayMode: mathElements[i].classList.contains('display'),
          throwOnError: false,
          macros: macros,
          fleqn: false
        });
      }
    }
  }
}
window.Quarto = {
  typesetMath
};
</script>

<meta property="og:title" content="23&nbsp; Der Effektschätzer – Bio Data Science">
<meta property="og:description" content="Ein Kochbuch mit Rezepten der Bio Data Science, Biostatistik, Biometrie und Statistik">
<meta property="og:image" content="https://github.com/jkruppa/jkruppa.github.io/raw/master/cover2026.png">
<meta property="og:site_name" content="Bio Data Science">
</head>

<body class="nav-sidebar floating">

<div id="quarto-search-results"></div>
  <header id="quarto-header" class="headroom fixed-top">
  <nav class="quarto-secondary-nav">
    <div class="container-fluid d-flex">
      <button type="button" class="quarto-btn-toggle btn" data-bs-toggle="collapse" role="button" data-bs-target=".quarto-sidebar-collapse-item" aria-controls="quarto-sidebar" aria-expanded="false" aria-label="Seitenleiste umschalten" onclick="if (window.quartoToggleHeadroom) { window.quartoToggleHeadroom(); }">
        <i class="bi bi-layout-text-sidebar-reverse"></i>
      </button>
        <nav class="quarto-page-breadcrumbs" aria-label="breadcrumb"><ol class="breadcrumb"><li class="breadcrumb-item"><a href="./stat-tests-preface-theory.html">Testen von Hypothesen</a></li><li class="breadcrumb-item"><a href="./stat-tests-effect.html"><span class="chapter-number">23</span>&nbsp; <span class="chapter-title">Der Effektschätzer</span></a></li></ol></nav>
        <a class="flex-grow-1" role="navigation" data-bs-toggle="collapse" data-bs-target=".quarto-sidebar-collapse-item" aria-controls="quarto-sidebar" aria-expanded="false" aria-label="Seitenleiste umschalten" onclick="if (window.quartoToggleHeadroom) { window.quartoToggleHeadroom(); }">      
        </a>
      <button type="button" class="btn quarto-search-button" aria-label="Suchen" onclick="window.quartoOpenSearch();">
        <i class="bi bi-search"></i>
      </button>
    </div>
  </nav>
</header>
<!-- content -->
<div id="quarto-content" class="quarto-container page-columns page-rows-contents page-layout-article">
<!-- sidebar -->
  <nav id="quarto-sidebar" class="sidebar collapse collapse-horizontal quarto-sidebar-collapse-item sidebar-navigation floating overflow-auto">
    <div class="pt-lg-2 mt-2 text-left sidebar-header">
    <div class="sidebar-title mb-0 py-0">
      <a href="./">Bio Data Science</a> 
        <div class="sidebar-tools-main">
    <a href="https://github.com/jkruppa/jkruppa.github.io/" title="Quellcode" class="quarto-navigation-tool px-1" aria-label="Quellcode"><i class="bi bi-github"></i></a>
    <div class="dropdown">
      <a href="" title="Share" id="quarto-navigation-tool-dropdown-0" class="quarto-navigation-tool dropdown-toggle px-1" data-bs-toggle="dropdown" aria-expanded="false" role="link" aria-label="Share"><i class="bi bi-share"></i></a>
      <ul class="dropdown-menu" aria-labelledby="quarto-navigation-tool-dropdown-0">
          <li>
            <a class="dropdown-item sidebar-tools-main-item" href="https://twitter.com/intent/tweet?url=|url|">
              <i class="bi bi-twitter pe-1"></i>
            Twitter
            </a>
          </li>
          <li>
            <a class="dropdown-item sidebar-tools-main-item" href="https://www.facebook.com/sharer/sharer.php?u=|url|">
              <i class="bi bi-facebook pe-1"></i>
            Facebook
            </a>
          </li>
          <li>
            <a class="dropdown-item sidebar-tools-main-item" href="https://www.linkedin.com/sharing/share-offsite/?url=|url|">
              <i class="bi bi-linkedin pe-1"></i>
            LinkedIn
            </a>
          </li>
      </ul>
    </div>
</div>
    </div>
      </div>
        <div class="mt-2 flex-shrink-0 align-items-center">
        <div class="sidebar-search">
        <div id="quarto-search" class="" title="Suchen"></div>
        </div>
        </div>
    <div class="sidebar-menu-container"> 
    <ul class="list-unstyled mt-1">
        <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="./index.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text">Willkommen</span></a>
  </div>
</li>
        <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="./organisation.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text"><span class="chapter-number">1</span>&nbsp; <span class="chapter-title">Organisation</span></span></a>
  </div>
</li>
        <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="./literature.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text"><span class="chapter-number">2</span>&nbsp; <span class="chapter-title">Bibliothek</span></span></a>
  </div>
</li>
        <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="./forschungsprozess.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text"><span class="chapter-number">3</span>&nbsp; <span class="chapter-title">Forschungsprozess</span></span></a>
  </div>
</li>
        <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="./abschlussarbeit.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text"><span class="chapter-number">4</span>&nbsp; <span class="chapter-title">Abschlussarbeit</span></span></a>
  </div>
</li>
        <li class="sidebar-item sidebar-item-section">
      <div class="sidebar-item-container"> 
            <a href="./example-preface.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text">Datenbeispiele</span></a>
          <a class="sidebar-item-toggle text-start" data-bs-toggle="collapse" data-bs-target="#quarto-sidebar-section-1" role="navigation" aria-expanded="true" aria-label="Abschnitt umschalten">
            <i class="bi bi-chevron-right ms-2"></i>
          </a> 
      </div>
      <ul id="quarto-sidebar-section-1" class="collapse list-unstyled sidebar-section depth1 show">  
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="./example-fleas-dogs-cats.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text"><span class="chapter-number">5</span>&nbsp; <span class="chapter-title">Von Flöhen auf Tieren</span></span></a>
  </div>
</li>
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="./example-gummi-bears.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text"><span class="chapter-number">6</span>&nbsp; <span class="chapter-title">Von Gummibärchen</span></span></a>
  </div>
</li>
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="./example-complex.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text"><span class="chapter-number">7</span>&nbsp; <span class="chapter-title">Von komplexeren Daten</span></span></a>
  </div>
</li>
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="./example-database.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text"><span class="chapter-number">8</span>&nbsp; <span class="chapter-title">Von Datenbanken</span></span></a>
  </div>
</li>
      </ul>
  </li>
        <li class="sidebar-item sidebar-item-section">
      <div class="sidebar-item-container"> 
            <a href="./programing-preface.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text">Programmieren in R</span></a>
          <a class="sidebar-item-toggle text-start" data-bs-toggle="collapse" data-bs-target="#quarto-sidebar-section-2" role="navigation" aria-expanded="true" aria-label="Abschnitt umschalten">
            <i class="bi bi-chevron-right ms-2"></i>
          </a> 
      </div>
      <ul id="quarto-sidebar-section-2" class="collapse list-unstyled sidebar-section depth1 show">  
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="./programing-letters-numbers.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text"><span class="chapter-number">9</span>&nbsp; <span class="chapter-title">Daten in R</span></span></a>
  </div>
</li>
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="./programing-basics.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text"><span class="chapter-number">10</span>&nbsp; <span class="chapter-title">Operatoren, Funktionen und Pakete</span></span></a>
  </div>
</li>
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="./programing-import.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text"><span class="chapter-number">11</span>&nbsp; <span class="chapter-title">Daten einlesen</span></span></a>
  </div>
</li>
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="./programing-dplyr.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text"><span class="chapter-number">12</span>&nbsp; <span class="chapter-title">Daten bearbeiten</span></span></a>
  </div>
</li>
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="./programing-strings.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text"><span class="chapter-number">13</span>&nbsp; <span class="chapter-title">Reguläre Ausdrücke</span></span></a>
  </div>
</li>
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="./programing-purrr-furrr.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text"><span class="chapter-number">14</span>&nbsp; <span class="chapter-title">Ein <code>{purrr}</code> Cookbook</span></span></a>
  </div>
</li>
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="./programing-ggplot.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text"><span class="chapter-number">15</span>&nbsp; <span class="chapter-title">Ein <code>{ggplot}</code> Cookbook</span></span></a>
  </div>
</li>
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="./programing-quarto-shiny.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text"><span class="chapter-number">16</span>&nbsp; <span class="chapter-title">Quarto und Shiny App</span></span></a>
  </div>
</li>
      </ul>
  </li>
        <li class="sidebar-item sidebar-item-section">
      <div class="sidebar-item-container"> 
            <a href="./eda-preface.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text">Explorative Datenanalyse</span></a>
          <a class="sidebar-item-toggle text-start" data-bs-toggle="collapse" data-bs-target="#quarto-sidebar-section-3" role="navigation" aria-expanded="true" aria-label="Abschnitt umschalten">
            <i class="bi bi-chevron-right ms-2"></i>
          </a> 
      </div>
      <ul id="quarto-sidebar-section-3" class="collapse list-unstyled sidebar-section depth1 show">  
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="./eda-descriptive.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text"><span class="chapter-number">17</span>&nbsp; <span class="chapter-title">Deskriptive Statistik</span></span></a>
  </div>
</li>
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="./eda-ggplot.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text"><span class="chapter-number">18</span>&nbsp; <span class="chapter-title">Visualisierung von Daten</span></span></a>
  </div>
</li>
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="./eda-distribution.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text"><span class="chapter-number">19</span>&nbsp; <span class="chapter-title">Verteilung von Daten</span></span></a>
  </div>
</li>
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="./eda-transform.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text"><span class="chapter-number">20</span>&nbsp; <span class="chapter-title">Transformieren von Daten</span></span></a>
  </div>
</li>
      </ul>
  </li>
        <li class="sidebar-item sidebar-item-section">
      <div class="sidebar-item-container"> 
            <a href="./stat-tests-preface-theory.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text">Testen von Hypothesen</span></a>
          <a class="sidebar-item-toggle text-start" data-bs-toggle="collapse" data-bs-target="#quarto-sidebar-section-4" role="navigation" aria-expanded="true" aria-label="Abschnitt umschalten">
            <i class="bi bi-chevron-right ms-2"></i>
          </a> 
      </div>
      <ul id="quarto-sidebar-section-4" class="collapse list-unstyled sidebar-section depth1 show">  
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="./stat-tests-basic.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text"><span class="chapter-number">21</span>&nbsp; <span class="chapter-title">Die Testentscheidung</span></span></a>
  </div>
</li>
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="./stat-tests-theorie.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text"><span class="chapter-number">22</span>&nbsp; <span class="chapter-title">Die Testtheorie</span></span></a>
  </div>
</li>
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="./stat-tests-effect.html" class="sidebar-item-text sidebar-link active">
 <span class="menu-text"><span class="chapter-number">23</span>&nbsp; <span class="chapter-title">Der Effektschätzer</span></span></a>
  </div>
</li>
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="./stat-tests-pretest2.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text"><span class="chapter-number">24</span>&nbsp; <span class="chapter-title">Der Pre-Test oder Vortest</span></span></a>
  </div>
</li>
      </ul>
  </li>
        <li class="sidebar-item sidebar-item-section">
      <div class="sidebar-item-container"> 
            <a href="./experimental-design-preface.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text">Experimentelle Designs</span></a>
          <a class="sidebar-item-toggle text-start" data-bs-toggle="collapse" data-bs-target="#quarto-sidebar-section-5" role="navigation" aria-expanded="true" aria-label="Abschnitt umschalten">
            <i class="bi bi-chevron-right ms-2"></i>
          </a> 
      </div>
      <ul id="quarto-sidebar-section-5" class="collapse list-unstyled sidebar-section depth1 show">  
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="./experimental-design-r.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text"><span class="chapter-number">25</span>&nbsp; <span class="chapter-title">Versuchsplanung in R</span></span></a>
  </div>
</li>
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="./experimental-design-basic.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text"><span class="chapter-number">26</span>&nbsp; <span class="chapter-title">Einfache Designs</span></span></a>
  </div>
</li>
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="./experimental-design-advanced.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text"><span class="chapter-number">27</span>&nbsp; <span class="chapter-title">Fortgeschrittene Designs</span></span></a>
  </div>
</li>
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="./experimental-design-samplesize.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text"><span class="chapter-number">28</span>&nbsp; <span class="chapter-title">Fallzahlplanung</span></span></a>
  </div>
</li>
      </ul>
  </li>
        <li class="sidebar-item sidebar-item-section">
      <div class="sidebar-item-container"> 
            <a href="./stat-tests-preface-app.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text">Statistische Gruppenvergleiche</span></a>
          <a class="sidebar-item-toggle text-start" data-bs-toggle="collapse" data-bs-target="#quarto-sidebar-section-6" role="navigation" aria-expanded="true" aria-label="Abschnitt umschalten">
            <i class="bi bi-chevron-right ms-2"></i>
          </a> 
      </div>
      <ul id="quarto-sidebar-section-6" class="collapse list-unstyled sidebar-section depth1 show">  
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="./stat-tests-R.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text"><span class="chapter-number">29</span>&nbsp; <span class="chapter-title">Testen in R</span></span></a>
  </div>
</li>
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="./stat-tests-ttest.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text"><span class="chapter-number">30</span>&nbsp; <span class="chapter-title">Der t-Test</span></span></a>
  </div>
</li>
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="./stat-tests-anova2.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text"><span class="chapter-number">31</span>&nbsp; <span class="chapter-title">Die ANOVA</span></span></a>
  </div>
</li>
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="./stat-tests-ancova2.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text"><span class="chapter-number">32</span>&nbsp; <span class="chapter-title">Die ANCOVA</span></span></a>
  </div>
</li>
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="./stat-tests-anova-mixed.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text"><span class="chapter-number">33</span>&nbsp; <span class="chapter-title">Die repeated / mixed ANOVA</span></span></a>
  </div>
</li>
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="./stat-tests-anova-manova.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text"><span class="chapter-number">34</span>&nbsp; <span class="chapter-title">Die MANOVA</span></span></a>
  </div>
</li>
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="./stat-tests-utest.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text"><span class="chapter-number">35</span>&nbsp; <span class="chapter-title">Der U-Test</span></span></a>
  </div>
</li>
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="./stat-tests-kruskal.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text"><span class="chapter-number">36</span>&nbsp; <span class="chapter-title">Der Kruskal-Wallis-Test</span></span></a>
  </div>
</li>
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="./stat-tests-friedman.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text"><span class="chapter-number">37</span>&nbsp; <span class="chapter-title">Der Friedman Test</span></span></a>
  </div>
</li>
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="./stat-tests-chi-test.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text"><span class="chapter-number">38</span>&nbsp; <span class="chapter-title">Der Chi-Quadrat-Test</span></span></a>
  </div>
</li>
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="./stat-tests-anteil-test.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text"><span class="chapter-number">39</span>&nbsp; <span class="chapter-title">Der Anteilstest</span></span></a>
  </div>
</li>
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="./stat-tests-diagnostic.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text"><span class="chapter-number">40</span>&nbsp; <span class="chapter-title">Der diagnostische Test</span></span></a>
  </div>
</li>
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="./stat-tests-trendtest.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text"><span class="chapter-number">41</span>&nbsp; <span class="chapter-title">Der Trendtest</span></span></a>
  </div>
</li>
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="./stat-tests-permutationstest.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text"><span class="chapter-number">42</span>&nbsp; <span class="chapter-title">Der Permutationstest</span></span></a>
  </div>
</li>
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="./stat-tests-posthoc2.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text"><span class="chapter-number">43</span>&nbsp; <span class="chapter-title">Der Post-hoc Test</span></span></a>
  </div>
</li>
      </ul>
  </li>
        <li class="sidebar-item sidebar-item-section">
      <div class="sidebar-item-container"> 
            <a href="./stat-linear-reg-preface.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text">Grundlagen des Modellierens</span></a>
          <a class="sidebar-item-toggle text-start" data-bs-toggle="collapse" data-bs-target="#quarto-sidebar-section-7" role="navigation" aria-expanded="true" aria-label="Abschnitt umschalten">
            <i class="bi bi-chevron-right ms-2"></i>
          </a> 
      </div>
      <ul id="quarto-sidebar-section-7" class="collapse list-unstyled sidebar-section depth1 show">  
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="./stat-linear-reg-basic.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text"><span class="chapter-number">44</span>&nbsp; <span class="chapter-title">Simple lineare Regression</span></span></a>
  </div>
</li>
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="./stat-modeling-basic.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text"><span class="chapter-number">45</span>&nbsp; <span class="chapter-title">Multiple lineare Regression</span></span></a>
  </div>
</li>
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="./stat-linear-reg-quality.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text"><span class="chapter-number">46</span>&nbsp; <span class="chapter-title">Modelgüte</span></span></a>
  </div>
</li>
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="./stat-linear-reg-corr.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text"><span class="chapter-number">47</span>&nbsp; <span class="chapter-title">Korrelation</span></span></a>
  </div>
</li>
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="./stat-modeling-outlier.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text"><span class="chapter-number">48</span>&nbsp; <span class="chapter-title">Ausreißer</span></span></a>
  </div>
</li>
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="./stat-modeling-variable-selection.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text"><span class="chapter-number">49</span>&nbsp; <span class="chapter-title">Variablenselektion</span></span></a>
  </div>
</li>
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="./stat-modeling-missing.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text"><span class="chapter-number">50</span>&nbsp; <span class="chapter-title">Fehlende Werte</span></span></a>
  </div>
</li>
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="./stat-modeling-sensitivity.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text"><span class="chapter-number">51</span>&nbsp; <span class="chapter-title">Sensitivitätsanalyse</span></span></a>
  </div>
</li>
      </ul>
  </li>
        <li class="sidebar-item sidebar-item-section">
      <div class="sidebar-item-container"> 
            <a href="./stat-modeling-preface.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text">Statistisches Modellieren</span></a>
          <a class="sidebar-item-toggle text-start" data-bs-toggle="collapse" data-bs-target="#quarto-sidebar-section-8" role="navigation" aria-expanded="true" aria-label="Abschnitt umschalten">
            <i class="bi bi-chevron-right ms-2"></i>
          </a> 
      </div>
      <ul id="quarto-sidebar-section-8" class="collapse list-unstyled sidebar-section depth1 show">  
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="./stat-modeling-R.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text"><span class="chapter-number">52</span>&nbsp; <span class="chapter-title">Modellieren in R</span></span></a>
  </div>
</li>
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="./stat-modeling-marginal.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text"><span class="chapter-number">53</span>&nbsp; <span class="chapter-title">Marginal effect models</span></span></a>
  </div>
</li>
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="./stat-modeling-gaussian.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text"><span class="chapter-number">54</span>&nbsp; <span class="chapter-title">Gaussian Regression</span></span></a>
  </div>
</li>
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="./stat-modeling-poisson.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text"><span class="chapter-number">55</span>&nbsp; <span class="chapter-title">Poisson Regression</span></span></a>
  </div>
</li>
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="./stat-modeling-beta.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text"><span class="chapter-number">56</span>&nbsp; <span class="chapter-title">Beta Regression</span></span></a>
  </div>
</li>
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="./stat-modeling-multinom.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text"><span class="chapter-number">57</span>&nbsp; <span class="chapter-title">Multinomiale / Ordinale Regression</span></span></a>
  </div>
</li>
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="./stat-modeling-logistic.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text"><span class="chapter-number">58</span>&nbsp; <span class="chapter-title">Logistische Regression</span></span></a>
  </div>
</li>
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="./stat-modeling-prob-model.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text"><span class="chapter-number">59</span>&nbsp; <span class="chapter-title">Linear Probability Model</span></span></a>
  </div>
</li>
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="./stat-modeling-mixed.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text"><span class="chapter-number">60</span>&nbsp; <span class="chapter-title">Lineare gemischte Modelle</span></span></a>
  </div>
</li>
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="./stat-modeling-gee.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text"><span class="chapter-number">61</span>&nbsp; <span class="chapter-title">Generalized Estimating Equations (GEE)</span></span></a>
  </div>
</li>
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="./stat-modeling-non-linear.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text"><span class="chapter-number">62</span>&nbsp; <span class="chapter-title">Nicht lineare Regression</span></span></a>
  </div>
</li>
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="./stat-modeling-robust-quantile.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text"><span class="chapter-number">63</span>&nbsp; <span class="chapter-title">Robuste und Quantilesregression</span></span></a>
  </div>
</li>
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="./stat-modeling-survival.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text"><span class="chapter-number">64</span>&nbsp; <span class="chapter-title">Überlebenszeitanalysen</span></span></a>
  </div>
</li>
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="./stat-modeling-noninferiority.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text"><span class="chapter-number">65</span>&nbsp; <span class="chapter-title">Äquivalenz oder Nichtunterlegenheit</span></span></a>
  </div>
</li>
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="./stat-modeling-meta.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text"><span class="chapter-number">66</span>&nbsp; <span class="chapter-title">Metaanalysen</span></span></a>
  </div>
</li>
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="./stat-modeling-cluster.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text"><span class="chapter-number">67</span>&nbsp; <span class="chapter-title">Clusteranalysen</span></span></a>
  </div>
</li>
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="./stat-modeling-pca.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text"><span class="chapter-number">68</span>&nbsp; <span class="chapter-title">Multivariate Verfahren</span></span></a>
  </div>
</li>
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="./stat-modeling-survey.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text"><span class="chapter-number">69</span>&nbsp; <span class="chapter-title">Fragebogenanalyse</span></span></a>
  </div>
</li>
      </ul>
  </li>
        <li class="sidebar-item sidebar-item-section">
      <div class="sidebar-item-container"> 
            <a href="./time-space-preface.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text">Zeitliche und räumliche Analysen</span></a>
          <a class="sidebar-item-toggle text-start" data-bs-toggle="collapse" data-bs-target="#quarto-sidebar-section-9" role="navigation" aria-expanded="true" aria-label="Abschnitt umschalten">
            <i class="bi bi-chevron-right ms-2"></i>
          </a> 
      </div>
      <ul id="quarto-sidebar-section-9" class="collapse list-unstyled sidebar-section depth1 show">  
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="./time-space-pseudo-time-series.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text"><span class="chapter-number">70</span>&nbsp; <span class="chapter-title">Pseudo Zeitreihen</span></span></a>
  </div>
</li>
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="./time-space-time-series.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text"><span class="chapter-number">71</span>&nbsp; <span class="chapter-title">Zeitreihen</span></span></a>
  </div>
</li>
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="./time-space-spatial-data.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text"><span class="chapter-number">72</span>&nbsp; <span class="chapter-title">Räumliche Daten</span></span></a>
  </div>
</li>
      </ul>
  </li>
        <li class="sidebar-item sidebar-item-section">
      <div class="sidebar-item-container"> 
            <a href="./classification-preface.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text">Klassifikation oder maschinelles Lernen</span></a>
          <a class="sidebar-item-toggle text-start" data-bs-toggle="collapse" data-bs-target="#quarto-sidebar-section-10" role="navigation" aria-expanded="true" aria-label="Abschnitt umschalten">
            <i class="bi bi-chevron-right ms-2"></i>
          </a> 
      </div>
      <ul id="quarto-sidebar-section-10" class="collapse list-unstyled sidebar-section depth1 show">  
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="./classification-basic.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text"><span class="chapter-number">73</span>&nbsp; <span class="chapter-title">Grundlagen der Klassifikation</span></span></a>
  </div>
</li>
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="./classification-data.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text"><span class="chapter-number">74</span>&nbsp; <span class="chapter-title">Data splitting</span></span></a>
  </div>
</li>
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="./classification-pre-processing.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text"><span class="chapter-number">75</span>&nbsp; <span class="chapter-title">Data preprocessing</span></span></a>
  </div>
</li>
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="./classification-model-compare.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text"><span class="chapter-number">76</span>&nbsp; <span class="chapter-title">Vergleich von Algorithmen</span></span></a>
  </div>
</li>
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="./classification-knn.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text"><span class="chapter-number">77</span>&nbsp; <span class="chapter-title"><span class="math inline">\(k\)</span> nearest neighbor</span></span></a>
  </div>
</li>
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="./classification-randomforest.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text"><span class="chapter-number">78</span>&nbsp; <span class="chapter-title">Decision trees</span></span></a>
  </div>
</li>
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="./classification-svm.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text"><span class="chapter-number">79</span>&nbsp; <span class="chapter-title">Support vector machines</span></span></a>
  </div>
</li>
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="./classification-neural-networks.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text"><span class="chapter-number">80</span>&nbsp; <span class="chapter-title">Neural networks</span></span></a>
  </div>
</li>
      </ul>
  </li>
        <li class="sidebar-item sidebar-item-section">
      <div class="sidebar-item-container"> 
            <a href="./abspann.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text">Abspann</span></a>
          <a class="sidebar-item-toggle text-start" data-bs-toggle="collapse" data-bs-target="#quarto-sidebar-section-11" role="navigation" aria-expanded="true" aria-label="Abschnitt umschalten">
            <i class="bi bi-chevron-right ms-2"></i>
          </a> 
      </div>
      <ul id="quarto-sidebar-section-11" class="collapse list-unstyled sidebar-section depth1 show">  
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="./app-spielecke.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text"><span class="chapter-number">81</span>&nbsp; <span class="chapter-title">Spielecke</span></span></a>
  </div>
</li>
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="./construction-zone.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text"><span class="chapter-number">82</span>&nbsp; <span class="chapter-title">Baustelle</span></span></a>
  </div>
</li>
      </ul>
  </li>
    </ul>
    </div>
</nav>
<div id="quarto-sidebar-glass" class="quarto-sidebar-collapse-item" data-bs-toggle="collapse" data-bs-target=".quarto-sidebar-collapse-item"></div>
<!-- margin-sidebar -->
    <div id="quarto-margin-sidebar" class="sidebar margin-sidebar">
        <nav id="TOC" role="doc-toc" class="toc-active" data-toc-expanded="2">
    <h2 id="toc-title">Inhaltsverzeichnis</h2>
   
  <ul>
  <li><a href="#genutzte-r-pakete" id="toc-genutzte-r-pakete" class="nav-link active" data-scroll-target="#genutzte-r-pakete"><span class="header-section-number">23.1</span> Genutzte R Pakete</a></li>
  <li><a href="#unterschied-zweier-mittelwerte" id="toc-unterschied-zweier-mittelwerte" class="nav-link" data-scroll-target="#unterschied-zweier-mittelwerte"><span class="header-section-number">23.2</span> Unterschied zweier Mittelwerte</a>
  <ul class="collapse">
  <li><a href="#cohens-d" id="toc-cohens-d" class="nav-link" data-scroll-target="#cohens-d"><span class="header-section-number">23.2.1</span> Cohen’s d</a></li>
  <li><a href="#hedges-g" id="toc-hedges-g" class="nav-link" data-scroll-target="#hedges-g"><span class="header-section-number">23.2.2</span> Hedges’ g</a></li>
  </ul></li>
  <li><a href="#unterschied-zweier-anteile" id="toc-unterschied-zweier-anteile" class="nav-link" data-scroll-target="#unterschied-zweier-anteile"><span class="header-section-number">23.3</span> Unterschied zweier Anteile</a>
  <ul class="collapse">
  <li><a href="#wahrscheinlichkeitsverhältnis-oder-risk-ratio-rr" id="toc-wahrscheinlichkeitsverhältnis-oder-risk-ratio-rr" class="nav-link" data-scroll-target="#wahrscheinlichkeitsverhältnis-oder-risk-ratio-rr"><span class="header-section-number">23.3.1</span> Wahrscheinlichkeitsverhältnis oder Risk Ratio (RR)</a></li>
  <li><a href="#chancenverhältnis-oder-odds-ratio-or" id="toc-chancenverhältnis-oder-odds-ratio-or" class="nav-link" data-scroll-target="#chancenverhältnis-oder-odds-ratio-or"><span class="header-section-number">23.3.2</span> Chancenverhältnis oder Odds Ratio (OR)</a></li>
  <li><a href="#odds-ratio-or-zu-risk-ratio-rr" id="toc-odds-ratio-or-zu-risk-ratio-rr" class="nav-link" data-scroll-target="#odds-ratio-or-zu-risk-ratio-rr"><span class="header-section-number">23.3.3</span> Odds Ratio (OR) zu Risk Ratio (RR)</a></li>
  <li><a href="#foldchange" id="toc-foldchange" class="nav-link" data-scroll-target="#foldchange"><span class="header-section-number">23.3.4</span> Foldchange</a></li>
  </ul></li>
  <li><a href="#sec-effect-wirkung" id="toc-sec-effect-wirkung" class="nav-link" data-scroll-target="#sec-effect-wirkung"><span class="header-section-number">23.4</span> Wirkungsgrad von Pflanzenschutzmitteln</a>
  <ul class="collapse">
  <li><a href="#sec-effect-ht" id="toc-sec-effect-ht" class="nav-link" data-scroll-target="#sec-effect-ht"><span class="header-section-number">23.4.1</span> Wirkungsgrad nach <span class="citation" data-cites="henderson1955tests">Henderson &amp; Tilton (1955)</span></a></li>
  <li><a href="#sec-effect-abbott" id="toc-sec-effect-abbott" class="nav-link" data-scroll-target="#sec-effect-abbott"><span class="header-section-number">23.4.2</span> Wirkungsgrad nach <span class="citation" data-cites="abbott1925method">Abbott et al. (1925)</span></a></li>
  <li><a href="#sec-effect-ss" id="toc-sec-effect-ss" class="nav-link" data-scroll-target="#sec-effect-ss"><span class="header-section-number">23.4.3</span> Wirkungsgrad nach Sun-Shepard</a></li>
  <li><a href="#sec-effect-so" id="toc-sec-effect-so" class="nav-link" data-scroll-target="#sec-effect-so"><span class="header-section-number">23.4.4</span> Wirkungsgrad nach Schneider-Orelli</a></li>
  </ul></li>
  <li><a href="#sec-effect-interrater" id="toc-sec-effect-interrater" class="nav-link" data-scroll-target="#sec-effect-interrater"><span class="header-section-number">23.5</span> Interrater Reliabilität</a>
  <ul class="collapse">
  <li><a href="#für-kategorielle-variablen" id="toc-für-kategorielle-variablen" class="nav-link" data-scroll-target="#für-kategorielle-variablen"><span class="header-section-number">23.5.1</span> … für kategorielle Variablen</a></li>
  <li><a href="#für-kontinuierliche-variablen" id="toc-für-kontinuierliche-variablen" class="nav-link" data-scroll-target="#für-kontinuierliche-variablen"><span class="header-section-number">23.5.2</span> … für kontinuierliche Variablen</a></li>
  </ul></li>
  <li><a href="#referenzen" id="toc-referenzen" class="nav-link" data-scroll-target="#referenzen">Referenzen</a></li>
  </ul>
<div class="toc-actions"><ul><li><a href="https://github.com/jkruppa/jkruppa.github.io/edit/master/stat-tests-effect.qmd" class="toc-action"><i class="bi bi-github"></i>Seite editieren</a></li><li><a href="https://github.com/jkruppa/jkruppa.github.io/issues/new" class="toc-action"><i class="bi empty"></i>Problem melden</a></li><li><a href="https://github.com/jkruppa/jkruppa.github.io/blob/master/stat-tests-effect.qmd" class="toc-action"><i class="bi empty"></i>Quellcode anzeigen</a></li></ul></div></nav>
    </div>
<!-- main -->
<main class="content page-columns page-full" id="quarto-document-content">

<header id="title-block-header" class="quarto-title-block default"><nav class="quarto-page-breadcrumbs quarto-title-breadcrumbs d-none d-lg-block" aria-label="breadcrumb"><ol class="breadcrumb"><li class="breadcrumb-item"><a href="./stat-tests-preface-theory.html">Testen von Hypothesen</a></li><li class="breadcrumb-item"><a href="./stat-tests-effect.html"><span class="chapter-number">23</span>&nbsp; <span class="chapter-title">Der Effektschätzer</span></a></li></ol></nav>
<div class="quarto-title">
<div class="quarto-title-block"><div><h1 class="title"><span id="sec-effect" class="quarto-section-identifier"><span class="chapter-number">23</span>&nbsp; <span class="chapter-title">Der Effektschätzer</span></span></h1><button type="button" class="btn code-tools-button dropdown-toggle" id="quarto-code-tools-menu" data-bs-toggle="dropdown" aria-expanded="false"><i class="bi"></i> Code</button><ul class="dropdown-menu dropdown-menu-end" aria-labelelledby="quarto-code-tools-menu"><li><a id="quarto-show-all-code" class="dropdown-item" href="javascript:void(0)" role="button">Gesamten Code zeigen</a></li><li><a id="quarto-hide-all-code" class="dropdown-item" href="javascript:void(0)" role="button">Gesamten Code verbergen</a></li><li><hr class="dropdown-divider"></li><li><a id="quarto-view-source" class="dropdown-item" href="javascript:void(0)" role="button">Quellcode anzeigen</a></li></ul></div></div>
</div>



<div class="quarto-title-meta">

    
  
    
  </div>
  


</header>


<p><em>Letzte Änderung am 25. June 2025 um 12:39:39</em></p>
<blockquote class="blockquote">
<p><em>“Alles, was wir hören, ist eine Meinung, keine Tatsache. Alles, was wir sehen, ist eine Perspektive, nicht die Wahrheit.” — Marcus Aurelius, Meditationen</em></p>
</blockquote>
<p>Der Effektschätzer. Ein seltsames Kapitel, denn ich tue mich sehr schwer, dieses Kapitel irgendwo in die Linearität dieses Buches hier einzuordnen. Deshalb ist dieses Kapitel eigentlich immer an der falschen Stelle. Entweder hast du schon die statistischen Tests gelesen und du wüsstest gerne was die Effektschätzer sind <em>oder</em> du suchst hier nochmal die Beschreibung der Effektschätzer zum Beispiel aus der multiple Regression heraus. Also steht jetzt dieses Kapitel hier im Raum und du musst schauen, was du wirklich brauchst. Oder ob du dieses Kapitel erst überspringst und dann später nochmal hier liest. Eine wunderbare Übersicht über den Begriff <em>Effektschätzer</em> liefert das englische Buch <a href="https://bookdown.org/MathiasHarrer/Doing_Meta_Analysis_in_R/effects.html">Doing Meta-Analysis with R: A Hands-On Guide</a>. Der Effektschätzer wird dabei auch gerne Theta <span class="math inline">\(\boldsymbol{\theta}\)</span> genannt. Da wir dann aber später noch mit anderen Konzepten in die Quere kommen, nutze ich das etwas intuitivere Delta <span class="math inline">\(\boldsymbol{\Delta}\)</span>.</p>
<div class="callout callout-style-default callout-note callout-titled">
<div class="callout-header d-flex align-content-center" data-bs-toggle="collapse" data-bs-target=".callout-1-contents" aria-controls="callout-1" aria-expanded="false" aria-label="Toggle callout">
<div class="callout-icon-container">
<i class="callout-icon"></i>
</div>
<div class="callout-title-container flex-fill">
Zerforschen: Science Cops
</div>
<div class="callout-btn-toggle d-inline-block border-0 py-1 ps-1 pe-0 float-end"><i class="callout-toggle"></i></div>
</div>
<div id="callout-1" class="callout-1-contents callout-collapse collapse">
<div class="callout-body-container callout-body">
<p>In diesem Zerforschenbeispiel wollen wir uns nicht direkt mit einem Poster beschäftigen sondern haben uns eine etwas andere Quelle herausgesucht. Ich hatte den Podcast <a href="https://www.youtube.com/watch?v=buUq_1ZSwOA">Wie Jasper Caven ABNEHM-LÜGEN verbreitet | Podcast #49 (02/23) | Quarks Science Cops</a> und mir dazu die Quellen auf der Webseite <a href="https://www.quarks.de/podcast/science-cops-der-fall-jasper-caven/">Der Fall Jasper Caven: Abnehmen mit Stoffwechsel-Pillen?</a> angeschaut. Im Podcast geht es recht früh um die Publikation von <span class="citation" data-cites="venables2008green">Venables et al. (<a href="#ref-venables2008green" role="doc-biblioref">2008</a>)</span> mit dem Titel <a href="https://www.sciencedirect.com/science/article/pii/S000291652323508X?via%3Dihub">Green tea extract ingestion, fat oxidation, and glucose tolerance in healthy humans</a>. Kurz, die Arbeit verkündet, dass mit grünen Teeextrakt (eng. <em>green tea extract</em>, abk. <em>GTE</em>) im Vergleich zu einem Placebo (abk. <em>PLA</em>) die Fettverbrennung um 17% ansteigt. Das ist natürlich eine steile These. Warum das jetzt nicht so gut ist, wie es klingt, wollen wir dann mal in der wissenschaftlichen Veröffentlichung zerforschen. Zuerst aber einmal in der <a href="#fig-zer-green-tea-01" class="quarto-xref">Abbildung&nbsp;<span class="quarto-unresolved-ref">fig-zer-green-tea-01</span></a> ein Auszug aus dem Zusammenfassung (eng. <em>abstract</em>) aus der Arbeit von <span class="citation" data-cites="venables2008green">Venables et al. (<a href="#ref-venables2008green" role="doc-biblioref">2008</a>)</span> in der nochmal auf den Unterschied und dem Anstieg von 17% eingegangen wird. Und es stimmt ja auch, der Unterschied als Quotient zwischen den absoluten Zahlen <span class="math inline">\(0.41\)</span> und <span class="math inline">\(0.35\)</span> ist auch <span class="math inline">\(1.17\)</span> und damit ist grüner Teeextrakt um 17% größer in der Fettverbrennung. Aber Achtung, so einfach ist es dann auch wieder nicht.</p>
<div id="fig-zer-green-tea-01" class="quarto-float quarto-figure quarto-figure-center anchored" data-fig-align="center">
<figure class="quarto-float quarto-float-fig figure">
<div aria-describedby="fig-zer-green-tea-01-caption-0ceaefa1-69ba-4598-a22c-09a6ac19f8ca">
<a href="images/eda/zerforschen_green_tea_effect_01.png" class="lightbox" data-gallery="quarto-lightbox-gallery-1" title="Abbildung&nbsp;23.1— Auszug aus dem Zusammenfassung (eng. abstract) aus der Arbeit von @venables2008green. Der Fokus liegt hier auf der Steigerung von 17% Fettverbrennungsrate von Placebo zu Grünen Teeextrakt."><img src="images/eda/zerforschen_green_tea_effect_01.png" class="img-fluid quarto-figure quarto-figure-center figure-img" style="width:80.0%"></a>
</div>
<figcaption class="quarto-float-caption-bottom quarto-float-caption quarto-float-fig" id="fig-zer-green-tea-01-caption-0ceaefa1-69ba-4598-a22c-09a6ac19f8ca">
Abbildung&nbsp;23.1— Auszug aus dem Zusammenfassung (eng. <em>abstract</em>) aus der Arbeit von <span class="citation" data-cites="venables2008green">Venables et al. (<a href="#ref-venables2008green" role="doc-biblioref">2008</a>)</span>. Der Fokus liegt hier auf der Steigerung von 17% Fettverbrennungsrate von Placebo zu Grünen Teeextrakt.
</figcaption>
</figure>
</div>
<p>Schauen wir dazu einmal in den Ergebnisteil der Studie. Wir sehen auch hier, dass wir eine Fettverbrennungssteigerung haben. Es sind die gleichen Zahlen wie auch in der Zusammenfassung plus, dass wir einmal auf die <a href="#fig-zer-green-tea-02" class="quarto-xref">Abbildung&nbsp;<span class="quarto-unresolved-ref">fig-zer-green-tea-02</span></a> verwiesen werden. Spannenderweise haben die Unterschiede zwischen der Energiebereitstellung (<em>energy expenditure (EE)</em>) von Kohlenhydraten zu Fett die gleichen prozentualen Steigerungen von Placebo zu grünen Teeextrakt.</p>
<div id="fig-zer-green-tea-03" class="quarto-float quarto-figure quarto-figure-center anchored" data-fig-align="center">
<figure class="quarto-float quarto-float-fig figure">
<div aria-describedby="fig-zer-green-tea-03-caption-0ceaefa1-69ba-4598-a22c-09a6ac19f8ca">
<a href="images/eda/zerforschen_green_tea_effect_03.png" class="lightbox" data-gallery="quarto-lightbox-gallery-2" title="Abbildung&nbsp;23.2— Auszug aus dem Ergebnis zu der Kohlenhydrat- und Fatverbrennung aus der Arbeit von @venables2008green. Auch hier liegt der Fokus auf der Veränderung von Placebo zu Grünen Teeextrakt."><img src="images/eda/zerforschen_green_tea_effect_03.png" class="img-fluid quarto-figure quarto-figure-center figure-img" style="width:80.0%"></a>
</div>
<figcaption class="quarto-float-caption-bottom quarto-float-caption quarto-float-fig" id="fig-zer-green-tea-03-caption-0ceaefa1-69ba-4598-a22c-09a6ac19f8ca">
Abbildung&nbsp;23.2— Auszug aus dem Ergebnis zu der Kohlenhydrat- und Fatverbrennung aus der Arbeit von <span class="citation" data-cites="venables2008green">Venables et al. (<a href="#ref-venables2008green" role="doc-biblioref">2008</a>)</span>. Auch hier liegt der Fokus auf der Veränderung von Placebo zu Grünen Teeextrakt.
</figcaption>
</figure>
</div>
<p>Im Folgenden einmal die zentrale Abbildung zu der Fettverbrennung unter Placebo und grünem Teeextrakt. Hier haben wir leider dann ein Problem mit den Einheiten. In der Abbildung haben wir auf der <span class="math inline">\(y\)</span>-Achse die Rate der Fettverbrennung in <span class="math inline">\(kJ/min\)</span>. Der Text spricht aber in den Einheiten <span class="math inline">\(g/min\)</span> von der Fettverbrennung. Und damit wird es jetzt schwierig. Wir wissen zwar, dass <a href="https://en.wikipedia.org/wiki/Food_energy"><em>fats and ethanol have the greatest amount of food energy per unit mass, 37 and 29 kJ/g (9 and 7 kcal/g), respectively</em></a>, aber das hilft hier auch nur begrenzt weiter. Wir müssten für die Umrechnung von <span class="math inline">\(kJ/min\)</span> zu <span class="math inline">\(g/min\)</span> die Werte durch 37 teilen, aber irgendwie passt es dann immer noch nicht, wie wir gleich sehen werden.</p>
<div id="fig-zer-green-tea-02" class="quarto-float quarto-figure quarto-figure-center anchored" data-fig-align="center">
<figure class="quarto-float quarto-float-fig figure">
<div aria-describedby="fig-zer-green-tea-02-caption-0ceaefa1-69ba-4598-a22c-09a6ac19f8ca">
<a href="images/eda/zerforschen_green_tea_effect_02.png" class="lightbox" data-gallery="quarto-lightbox-gallery-3" title="Abbildung&nbsp;23.3— Die Abbildung 1.A (eng. FIGURE 1.A) aus der Arbeit von mit der ein Unterschied in der Fettverbrennung von 17% von Placebo zu Grünen Teeextrakt gezeigt werden soll. Der Text schreibt von einem Unterschied in der Einheit g/min. In der Abbildung werden als Einheit kJ/min angegeben. Entweder ist die Referenz nicht korrekt oder aber die Umrechung nicht nachzuvollziehen. Fett hat einen Energiegehalt von ca. 37kj/g. Abkürzung: total energy expenditure (TEE)."><img src="images/eda/zerforschen_green_tea_effect_02.png" class="img-fluid quarto-figure quarto-figure-center figure-img" style="width:100.0%"></a>
</div>
<figcaption class="quarto-float-caption-bottom quarto-float-caption quarto-float-fig" id="fig-zer-green-tea-02-caption-0ceaefa1-69ba-4598-a22c-09a6ac19f8ca">
Abbildung&nbsp;23.3— Die Abbildung 1.A (eng. FIGURE 1.A) aus der Arbeit von mit der ein Unterschied in der Fettverbrennung von 17% von Placebo zu Grünen Teeextrakt gezeigt werden soll. Der Text schreibt von einem Unterschied in der Einheit <span class="math inline">\(g/min\)</span>. In der Abbildung werden als Einheit <span class="math inline">\(kJ/min\)</span> angegeben. Entweder ist die Referenz nicht korrekt oder aber die Umrechung nicht nachzuvollziehen. Fett hat einen Energiegehalt von ca. <span class="math inline">\(37kj/g\)</span>. Abkürzung: total energy expenditure (TEE).
</figcaption>
</figure>
</div>
<p>Dann wollen wir also die Abbildung 1.A einmal zerforschen. Ich habe den Datensatz etwas anders gebaut, damit ich die Standardabweichung nutzen kann und nicht den Standardfehler. Das macht es mir etwas einfacher. Da ich sowieso nur drei Beobachtungen genommen habe, kommt es dann auf diesen Unterschied auch nicht mehr direkt an. Der Standardfehler wurde aber in der ursprünglichen Arbeit von <span class="citation" data-cites="venables2008green">Venables et al. (<a href="#ref-venables2008green" role="doc-biblioref">2008</a>)</span> benutzt und ist auch ein besseres Maß, wenn es um die <a href="#sec-desc-stat">Abschätzung der statistischen Signifikanz geht</a>.</p>
<div class="cell">
<details open="" class="code-fold">
<summary>R Code [zeigen / verbergen]</summary>
<div class="sourceCode cell-code" id="cb1"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb1-1"><a href="#cb1-1" aria-hidden="true" tabindex="-1"></a>green_tea_tbl <span class="ot">&lt;-</span> <span class="fu">read_excel</span>(<span class="st">"data/zerforschen_green_tea_effect.xlsx"</span>) <span class="sc">|&gt;</span> </span>
<span id="cb1-2"><a href="#cb1-2" aria-hidden="true" tabindex="-1"></a>  <span class="fu">mutate</span>(<span class="at">trt =</span> <span class="fu">as_factor</span>(trt),</span>
<span id="cb1-3"><a href="#cb1-3" aria-hidden="true" tabindex="-1"></a>         <span class="at">time_fct =</span> <span class="fu">as_factor</span>(time),</span>
<span id="cb1-4"><a href="#cb1-4" aria-hidden="true" tabindex="-1"></a>         <span class="at">fat_ox_r_g_min =</span> <span class="fu">round</span>(fat_ox_r_kj_min<span class="sc">/</span><span class="dv">37</span>, <span class="dv">2</span>))</span></code><button title="In die Zwischenablage kopieren" class="code-copy-button"><i class="bi"></i></button></pre></div>
</details>
</div>
<p>In den beiden folgenden Tabs baue ich dir einmal den Verlauf nach und dann einmal die Werte mit <span class="math inline">\(0.41\pm 0.03\)</span> und <span class="math inline">\(0.35\pm 0.03\)</span> aus dem Text als Barplot.</p>
<div class="tabset-margin-container"></div><div class="panel-tabset">
<ul class="nav nav-tabs" role="tablist"><li class="nav-item" role="presentation"><a class="nav-link active" id="tabset-1-1-tab" data-bs-toggle="tab" data-bs-target="#tabset-1-1" role="tab" aria-controls="tabset-1-1" aria-selected="true" aria-current="page">Abbildung 1.A</a></li><li class="nav-item" role="presentation"><a class="nav-link" id="tabset-1-2-tab" data-bs-toggle="tab" data-bs-target="#tabset-1-2" role="tab" aria-controls="tabset-1-2" aria-selected="false">Barplot</a></li></ul>
<div class="tab-content">
<div id="tabset-1-1" class="tab-pane active" role="tabpanel" aria-labelledby="tabset-1-1-tab">
<p>Hier einmal als Nachbau die Abbildung des Verlaufs. Ich speichere mit die Abbildung einmal in dem Objekt <code>p1</code> damit ich gleich das R Paket <code>{patchwork}</code> nutzen kann um die Abbildungen zusammenzubauen. Als Besonderheit ergänze ich an der rechten Seite die Fettverbrennung in der Einheit <span class="math inline">\(g/min\)</span>.</p>
<div class="cell">
<details open="" class="code-fold">
<summary>R Code [zeigen / verbergen]</summary>
<div class="sourceCode cell-code" id="cb2"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb2-1"><a href="#cb2-1" aria-hidden="true" tabindex="-1"></a>p1 <span class="ot">&lt;-</span> green_tea_tbl <span class="sc">|&gt;</span> </span>
<span id="cb2-2"><a href="#cb2-2" aria-hidden="true" tabindex="-1"></a>  <span class="fu">ggplot</span>(<span class="fu">aes</span>(time, fat_ox_r_kj_min, <span class="at">color =</span> trt)) <span class="sc">+</span></span>
<span id="cb2-3"><a href="#cb2-3" aria-hidden="true" tabindex="-1"></a>  <span class="fu">theme_minimal</span>() <span class="sc">+</span></span>
<span id="cb2-4"><a href="#cb2-4" aria-hidden="true" tabindex="-1"></a>  <span class="fu">geom_jitter</span>(<span class="at">position=</span><span class="fu">position_dodge</span>(<span class="fl">0.4</span>), <span class="at">shape =</span> <span class="dv">4</span>, <span class="at">size =</span> <span class="dv">2</span>) <span class="sc">+</span></span>
<span id="cb2-5"><a href="#cb2-5" aria-hidden="true" tabindex="-1"></a>  <span class="fu">stat_summary</span>(<span class="at">fun.data=</span><span class="st">"mean_sdl"</span>, <span class="at">fun.args =</span> <span class="fu">list</span>(<span class="at">mult =</span> <span class="dv">1</span>), </span>
<span id="cb2-6"><a href="#cb2-6" aria-hidden="true" tabindex="-1"></a>               <span class="at">geom=</span><span class="st">"pointrange"</span>, <span class="at">position=</span><span class="fu">position_dodge</span>(<span class="fl">0.4</span>))  <span class="sc">+</span></span>
<span id="cb2-7"><a href="#cb2-7" aria-hidden="true" tabindex="-1"></a>  <span class="fu">stat_summary</span>(<span class="at">fun =</span> <span class="st">"mean"</span>, <span class="at">fun.min =</span> <span class="st">"min"</span>, <span class="at">fun.max =</span> <span class="st">"max"</span>, <span class="at">geom =</span> <span class="st">"line"</span>,</span>
<span id="cb2-8"><a href="#cb2-8" aria-hidden="true" tabindex="-1"></a>               <span class="at">position=</span><span class="fu">position_dodge</span>(<span class="fl">0.4</span>)) <span class="sc">+</span></span>
<span id="cb2-9"><a href="#cb2-9" aria-hidden="true" tabindex="-1"></a>  <span class="fu">labs</span>(<span class="at">x =</span> <span class="st">"Time (min)"</span>, <span class="at">y =</span> <span class="st">"Fat oxidation rates (kJ/min)"</span>, <span class="at">color =</span> <span class="st">""</span>) <span class="sc">+</span></span>
<span id="cb2-10"><a href="#cb2-10" aria-hidden="true" tabindex="-1"></a>  <span class="fu">scale_y_continuous</span>(<span class="at">sec.axis =</span> <span class="fu">sec_axis</span>(<span class="sc">~</span> .<span class="sc">/</span><span class="dv">37</span>, <span class="at">breaks =</span> <span class="fu">c</span>(<span class="dv">4</span><span class="sc">:</span><span class="dv">7</span><span class="sc">/</span><span class="dv">37</span>),</span>
<span id="cb2-11"><a href="#cb2-11" aria-hidden="true" tabindex="-1"></a>                                         <span class="at">labels =</span> <span class="fu">round</span>(<span class="fu">c</span>(<span class="dv">4</span><span class="sc">:</span><span class="dv">7</span><span class="sc">/</span><span class="dv">37</span>), <span class="dv">2</span>),</span>
<span id="cb2-12"><a href="#cb2-12" aria-hidden="true" tabindex="-1"></a>                                         <span class="at">name =</span> <span class="st">"Fat oxidation rates (g/min)"</span>)) <span class="sc">+</span></span>
<span id="cb2-13"><a href="#cb2-13" aria-hidden="true" tabindex="-1"></a>  <span class="fu">theme</span>(<span class="at">legend.position =</span> <span class="st">"none"</span>) <span class="sc">+</span></span>
<span id="cb2-14"><a href="#cb2-14" aria-hidden="true" tabindex="-1"></a>  <span class="fu">scale_color_okabeito</span>()</span></code><button title="In die Zwischenablage kopieren" class="code-copy-button"><i class="bi"></i></button></pre></div>
</details>
</div>
</div>
<div id="tabset-1-2" class="tab-pane" role="tabpanel" aria-labelledby="tabset-1-2-tab">
<p>Mich hat dann einmal interessiert wie die Werte aus dem Text mit <span class="math inline">\(0.41\pm 0.03\)</span> und <span class="math inline">\(0.35\pm 0.03\)</span> denn als Barplot aussehen würden. Deshalb hier einmal die Werte in einem <code>tibble()</code> um diese dann als einen Barplot abbilden zu können.</p>
<div class="cell">
<details open="" class="code-fold">
<summary>R Code [zeigen / verbergen]</summary>
<div class="sourceCode cell-code" id="cb3"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb3-1"><a href="#cb3-1" aria-hidden="true" tabindex="-1"></a>stat_tbl <span class="ot">&lt;-</span> <span class="fu">tibble</span>(<span class="at">trt =</span> <span class="fu">as_factor</span>(<span class="fu">c</span>(<span class="st">"PLA"</span>, <span class="st">"GTE"</span>)),</span>
<span id="cb3-2"><a href="#cb3-2" aria-hidden="true" tabindex="-1"></a>                   <span class="at">mean =</span> <span class="fu">c</span>(<span class="fl">0.35</span>, <span class="fl">0.41</span>),</span>
<span id="cb3-3"><a href="#cb3-3" aria-hidden="true" tabindex="-1"></a>                   <span class="at">sem =</span> <span class="fu">c</span>(<span class="fl">0.03</span>, <span class="fl">0.03</span>))</span></code><button title="In die Zwischenablage kopieren" class="code-copy-button"><i class="bi"></i></button></pre></div>
</details>
</div>
<p>Auch hier speichere ich einmal die Abbildung in dem Objekt <code>p2</code> um gleich eine schönere Abbildung mit dem R Paket <code>{patchwork}</code> zu bauen.</p>
<div class="cell">
<details open="" class="code-fold">
<summary>R Code [zeigen / verbergen]</summary>
<div class="sourceCode cell-code" id="cb4"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb4-1"><a href="#cb4-1" aria-hidden="true" tabindex="-1"></a>p2 <span class="ot">&lt;-</span> stat_tbl <span class="sc">|&gt;</span> </span>
<span id="cb4-2"><a href="#cb4-2" aria-hidden="true" tabindex="-1"></a>  <span class="fu">ggplot</span>(<span class="fu">aes</span>(<span class="at">x =</span> trt, <span class="at">y =</span> mean, <span class="at">fill =</span> trt)) <span class="sc">+</span> </span>
<span id="cb4-3"><a href="#cb4-3" aria-hidden="true" tabindex="-1"></a>  <span class="fu">theme_minimal</span>() <span class="sc">+</span></span>
<span id="cb4-4"><a href="#cb4-4" aria-hidden="true" tabindex="-1"></a>  <span class="fu">geom_bar</span>(<span class="at">stat =</span> <span class="st">"identity"</span>) <span class="sc">+</span></span>
<span id="cb4-5"><a href="#cb4-5" aria-hidden="true" tabindex="-1"></a>  <span class="fu">geom_errorbar</span>(<span class="fu">aes</span>(<span class="at">ymin =</span> mean<span class="sc">-</span>sem, <span class="at">ymax =</span> mean<span class="sc">+</span>sem),</span>
<span id="cb4-6"><a href="#cb4-6" aria-hidden="true" tabindex="-1"></a>                <span class="at">width =</span> <span class="fl">0.5</span>) <span class="sc">+</span></span>
<span id="cb4-7"><a href="#cb4-7" aria-hidden="true" tabindex="-1"></a>  <span class="fu">theme</span>(<span class="at">legend.position =</span> <span class="st">"none"</span>) <span class="sc">+</span></span>
<span id="cb4-8"><a href="#cb4-8" aria-hidden="true" tabindex="-1"></a>  <span class="fu">labs</span>(<span class="at">x =</span> <span class="st">""</span>, <span class="at">y =</span> <span class="st">"Fat oxidation rates (g/min)"</span>, <span class="at">color =</span> <span class="st">""</span>) <span class="sc">+</span></span>
<span id="cb4-9"><a href="#cb4-9" aria-hidden="true" tabindex="-1"></a>  <span class="fu">scale_fill_okabeito</span>()</span></code><button title="In die Zwischenablage kopieren" class="code-copy-button"><i class="bi"></i></button></pre></div>
</details>
</div>
</div>
</div>
</div>
<p>In der <a href="#fig-zerforschen-green-tea-01" class="quarto-xref">Abbildung&nbsp;<span class="quarto-unresolved-ref">fig-zerforschen-green-tea-01</span></a> siehst du einmal die beiden Abbildungen <code>p1</code> und <code>p2</code> in einem Plot visualisiert. Es war etwas aufwendiger um die Abbildung zu bauen, aber dann hatte ich die Werte auch ungefähr zusammen. Auch hier passen zwar die Werte für die Einheit <span class="math inline">\(kJ/min\)</span> der Fettverbrennung aber nicht für die Einheit in <span class="math inline">\(g/min\)</span>. Da bin ich in der Umrechnung gescheitert. Was wir aber gleich mal machen werden, ist die Fläche unter der Kurve zu berechnen in der Hoffnung, dass wir eventuell hier den Quotienten von ca. <span class="math inline">\(17\%\)</span> finden.</p>
<div class="cell" data-layout-align="center">
<details open="" class="code-fold">
<summary>R Code [zeigen / verbergen]</summary>
<div class="sourceCode cell-code" id="cb5"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb5-1"><a href="#cb5-1" aria-hidden="true" tabindex="-1"></a>p1 <span class="sc">+</span> p2 <span class="sc">+</span> </span>
<span id="cb5-2"><a href="#cb5-2" aria-hidden="true" tabindex="-1"></a>  <span class="fu">plot_layout</span>(<span class="at">widths =</span> <span class="fu">c</span>(<span class="dv">6</span>, <span class="dv">1</span>)) <span class="sc">+</span></span>
<span id="cb5-3"><a href="#cb5-3" aria-hidden="true" tabindex="-1"></a>  <span class="fu">plot_annotation</span>(<span class="at">tag_levels =</span> <span class="st">'A'</span>)</span></code><button title="In die Zwischenablage kopieren" class="code-copy-button"><i class="bi"></i></button></pre></div>
</details>
<div class="cell-output-display">
<div id="fig-zerforschen-green-tea-01" class="quarto-float quarto-figure quarto-figure-center anchored" data-fig-align="center">
<figure class="quarto-float quarto-float-fig figure">
<div aria-describedby="fig-zerforschen-green-tea-01-caption-0ceaefa1-69ba-4598-a22c-09a6ac19f8ca">
<a href="stat-tests-effect_files/figure-html/fig-zerforschen-green-tea-01-1.png" class="lightbox" data-gallery="quarto-lightbox-gallery-4" title="Abbildung&nbsp;23.4— (A) Zerforschung der Abbildung 1.A (eng. FIGURE 1.A) aus der Arbeit von @venables2008green mit der ein Unterschied in der Fettverbrennung von 17% von Placebo zu Grünen Teeextrakt gezeigt werden soll. Ich habe hierbei die Werte abgelesen und die Standardabweichung anstatt den Standardfehler für die Fehlerbalken gewählt. Der Verlauf ist gut getroffen und die Fläche unter der Kurve soll berechnet werden. Auf der linken y-Achse findet sich die Fettverbrennungsrate in kJ/min auf der rechten Seite die mit dem Faktor 37 kJ/g umgerechnete Einheit in g/min. (B) Zerforschung und Visualisierung als Barplots der Fettverbrennungsrate aus der Zusammenfassung (eng. abstract) der Arbeit von @venables2008green."><img src="stat-tests-effect_files/figure-html/fig-zerforschen-green-tea-01-1.png" class="img-fluid quarto-figure quarto-figure-center figure-img" width="672"></a>
</div>
<figcaption class="quarto-float-caption-bottom quarto-float-caption quarto-float-fig" id="fig-zerforschen-green-tea-01-caption-0ceaefa1-69ba-4598-a22c-09a6ac19f8ca">
Abbildung&nbsp;23.4— <strong>(A)</strong> Zerforschung der Abbildung 1.A (eng. <em>FIGURE 1.A</em>) aus der Arbeit von <span class="citation" data-cites="venables2008green">Venables et al. (<a href="#ref-venables2008green" role="doc-biblioref">2008</a>)</span> mit der ein Unterschied in der Fettverbrennung von 17% von Placebo zu Grünen Teeextrakt gezeigt werden soll. Ich habe hierbei die Werte abgelesen und die Standardabweichung anstatt den Standardfehler für die Fehlerbalken gewählt. Der Verlauf ist gut getroffen und die Fläche unter der Kurve soll berechnet werden. Auf der linken <span class="math inline">\(y\)</span>-Achse findet sich die Fettverbrennungsrate in <span class="math inline">\(kJ/min\)</span> auf der rechten Seite die mit dem Faktor <span class="math inline">\(37 kJ/g\)</span> umgerechnete Einheit in <span class="math inline">\(g/min\)</span>. <strong>(B)</strong> Zerforschung und Visualisierung als Barplots der Fettverbrennungsrate aus der Zusammenfassung (eng. <em>abstract</em>) der Arbeit von <span class="citation" data-cites="venables2008green">Venables et al. (<a href="#ref-venables2008green" role="doc-biblioref">2008</a>)</span>.
</figcaption>
</figure>
</div>
</div>
</div>
<p>In den folgenden beiden Tabs habe ich einmal die Fläche unter den beiden Kurven berechnet. Ich habe die Hoffnung, dass der Quotient von den beiden Flächen sich dann um 17% unterscheidet. Das müsste ja ungefähr so hinkommen, wenn schon die Einheiten nicht funktionieren.</p>
<div class="tabset-margin-container"></div><div class="panel-tabset">
<ul class="nav nav-tabs" role="tablist"><li class="nav-item" role="presentation"><a class="nav-link active" id="tabset-2-1-tab" data-bs-toggle="tab" data-bs-target="#tabset-2-1" role="tab" aria-controls="tabset-2-1" aria-selected="true">Placebo (<em>PLA</em>)</a></li><li class="nav-item" role="presentation"><a class="nav-link" id="tabset-2-2-tab" data-bs-toggle="tab" data-bs-target="#tabset-2-2" role="tab" aria-controls="tabset-2-2" aria-selected="false">Grüner Teeextrakt (<em>GTE</em>)</a></li></ul>
<div class="tab-content">
<div id="tabset-2-1" class="tab-pane active" role="tabpanel" aria-labelledby="tabset-2-1-tab">
<p>Wir berechnen einmal die Fläche unter der Kurve für unsere Placebodaten.</p>
<div class="cell">
<details open="" class="code-fold">
<summary>R Code [zeigen / verbergen]</summary>
<div class="sourceCode cell-code" id="cb6"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb6-1"><a href="#cb6-1" aria-hidden="true" tabindex="-1"></a>pla_fit <span class="ot">&lt;-</span> green_tea_tbl <span class="sc">|&gt;</span> </span>
<span id="cb6-2"><a href="#cb6-2" aria-hidden="true" tabindex="-1"></a>  <span class="fu">filter</span>(trt <span class="sc">==</span> <span class="st">"PLA"</span>) <span class="sc">|&gt;</span> </span>
<span id="cb6-3"><a href="#cb6-3" aria-hidden="true" tabindex="-1"></a>  <span class="fu">lm</span>(fat_ox_r_kj_min <span class="sc">~</span> time, <span class="at">data =</span> _) </span>
<span id="cb6-4"><a href="#cb6-4" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb6-5"><a href="#cb6-5" aria-hidden="true" tabindex="-1"></a>f_pla <span class="ot">&lt;-</span> \(x) <span class="fu">predict</span>(pla_fit, <span class="at">newdata =</span> <span class="fu">tibble</span>(<span class="at">time =</span> x)) </span>
<span id="cb6-6"><a href="#cb6-6" aria-hidden="true" tabindex="-1"></a><span class="fu">integrate</span>(f_pla, <span class="dv">10</span>, <span class="dv">30</span>)</span></code><button title="In die Zwischenablage kopieren" class="code-copy-button"><i class="bi"></i></button></pre></div>
</details>
<div class="cell-output cell-output-stdout">
<pre><code>98.66667 with absolute error &lt; 1.1e-12</code></pre>
</div>
</div>
<p>Damit haben wir dann <span class="math inline">\(98.6\; kJ/30min\)</span> über die Zeit mit Placebo verbrannt. Jetzt können wir das noch einfach in <span class="math inline">\(g/min\)</span> und dann <span class="math inline">\(g/h\)</span> umrechnen.</p>
<p><span class="math display">\[
\cfrac{98.6\; kJ/30min}{37\; kJ/g} = 2.66 \; g/30min = 1.33 \; g/h
\]</span></p>
</div>
<div id="tabset-2-2" class="tab-pane" role="tabpanel" aria-labelledby="tabset-2-2-tab">
<p>Wir berechnen einmal die Fläche unter der Kurve für unsere grünen Teeextraktdaten.</p>
<div class="cell">
<details open="" class="code-fold">
<summary>R Code [zeigen / verbergen]</summary>
<div class="sourceCode cell-code" id="cb8"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb8-1"><a href="#cb8-1" aria-hidden="true" tabindex="-1"></a>gte_fit <span class="ot">&lt;-</span> green_tea_tbl <span class="sc">|&gt;</span> </span>
<span id="cb8-2"><a href="#cb8-2" aria-hidden="true" tabindex="-1"></a>  <span class="fu">filter</span>(trt <span class="sc">==</span> <span class="st">"GTE"</span>) <span class="sc">|&gt;</span> </span>
<span id="cb8-3"><a href="#cb8-3" aria-hidden="true" tabindex="-1"></a>  <span class="fu">lm</span>(fat_ox_r_kj_min <span class="sc">~</span> time, <span class="at">data =</span> _) </span>
<span id="cb8-4"><a href="#cb8-4" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb8-5"><a href="#cb8-5" aria-hidden="true" tabindex="-1"></a>f_gte <span class="ot">&lt;-</span> \(x) <span class="fu">predict</span>(gte_fit, <span class="at">newdata =</span> <span class="fu">tibble</span>(<span class="at">time =</span> x)) </span>
<span id="cb8-6"><a href="#cb8-6" aria-hidden="true" tabindex="-1"></a><span class="fu">integrate</span>(f_gte, <span class="dv">10</span>, <span class="dv">30</span>)</span></code><button title="In die Zwischenablage kopieren" class="code-copy-button"><i class="bi"></i></button></pre></div>
</details>
<div class="cell-output cell-output-stdout">
<pre><code>114.6667 with absolute error &lt; 1.3e-12</code></pre>
</div>
</div>
<p>Damit haben wir dann <span class="math inline">\(114.67\; kJ/30min\)</span> über die Zeit mit grünen Teeextrakt verbrannt. Jetzt können wir das noch einfach in <span class="math inline">\(g/min\)</span> und dann <span class="math inline">\(g/h\)</span> umrechnen.</p>
<p><span class="math display">\[
\cfrac{114.67\; kJ/30min}{37\; kJ/g} = 3.10 \; g/30min =  1.55 \; g/h
\]</span></p>
</div>
</div>
</div>
<p>Und tatsächlich, wenn wir diese Werte dann in Relation setzen, kommen wir dann tatsächlich auf die prozentuale Steigerung von 17%, wie sie auch in der Veröffentlichung angegeben wird.</p>
<p><span class="math display">\[
\cfrac{1.55g/h}{1.33g/h} \approx 1.17\; (\uparrow 17\%)  
\]</span></p>
<p>Auch wenn sich die Steigerung von 17% viel anhört, ist doch der absolute Verbrauch an Fett wirklich zu vernachlässigen. Immer beachten, wir haben es hier mit Bewegung der Teilnehmer zu tun. Wir verbrennen also das Fett unter Bewegung und nicht einfach so im Sitzen. Dafür ist dann die Steigerung aus der <a href="#fig-zerforschen-green-tea-01" class="quarto-xref">Abbildung&nbsp;<span class="quarto-unresolved-ref">fig-zerforschen-green-tea-01</span></a> wirklich zu vernachlässigen. Auch mit den Werten aus der Veröffentlichung von <span class="math inline">\(0.41g/min\)</span> würden wir in einer Trainingseinheit von 30 Minuten <span class="math inline">\(12.3g\)</span> Fett verbrennen. Das Placebo würde dann <span class="math inline">\(10.5g\)</span> verbrennen. Somit würden wir mit fünfmal Training in der Woche nur <span class="math inline">\((12.3g - 10.8g) \cdot 5 = 9g\)</span> mehr Fett verbrennen. Das sind alles winzige Zahlen, die nur durch den relativen Anstieg aufgeblasen werden.</p>
</div>
</div>
</div>
<p>Wenn wir einen der vielen Effektschätzer berechnen wollen, dann nutzen wir dafür die Effektschätzer aus dem <a href="https://easystats.github.io/effectsize/index.html">R Paket <code>{effectsize}</code></a>. Das R Paket <code>{effectsize}</code> liefert Effektschätzer für fast alle statistischen Gelegenheiten. Wir werden hier wie immer nur den groben Überblick abdecken. Vermutlich wird das Kapitel dann noch Anwachsen. Streng genommen gehört das <a href="#sec-test-diag" class="quarto-xref"><span class="quarto-unresolved-ref">sec-test-diag</span></a> zu den diagnostischen Tests auf einer 2x2 Kreuztabelle auch irgendwie zu Effektschätzern. Wenn du Spezifität und Sensitivität suchst bist du in dem Kapitel zu diagnostischen Tests richtig.</p>
<p>Wir unterscheiden hier erstmal grob in vier Arten von Effektschätzern:</p>
<ol type="1">
<li>Effektschätzer, die einen <em>Mittelwertsunterschied</em> zwischen Behandlungen beschreiben.</li>
<li>Effektschätzer, die einen <em>Anteilsunterschied</em> zwischen Behandlungen beschreiben.</li>
<li>Effektschätzer, die einen <em>Wirkungsgrad</em> einer Behandlung zu einer Kontrolle beschreiben.</li>
<li>Effektschätzer, die eine <em>Übereinstimmung</em> zwischen Bewertern beschreibt.</li>
</ol>
<p>Daneben gibt es wie noch die Korrelation wie in <a href="#sec-lin-reg-corr" class="quarto-xref"><span class="quarto-unresolved-ref">sec-lin-reg-corr</span></a> beschrieben. Die Korrelation wollen wir aber in diesem Kapitel nicht vorgreifen bzw. wiederholen.</p>
<p>Am Ende muss du immer den Effekt im Kontext der Fragestellung bzw. des Outcomes <span class="math inline">\(y\)</span> bewerten. Der numerische Unterschied von <span class="math inline">\(0.1\)</span> cm kann in einem Kontext viel sein. Das Wachstum von Bakterienkolonien kann ein Unterschied von <span class="math inline">\(0.1\)</span> cm viel sein. Oder aber sehr wenig, wenn wir uns das Wachstum von Bambus pro Tag anschauen. Hier bist du gefragt, den Effekt in den Kontext richtig einzuordnen. Ebenso stellt sich die Frage, ob ein Unterschied von 6% viel oder wenig ist.</p>
<div class="callout callout-style-default callout-tip callout-titled">
<div class="callout-header d-flex align-content-center">
<div class="callout-icon-container">
<i class="callout-icon"></i>
</div>
<div class="callout-title-container flex-fill">
Effektschätzer zwischen Behandlungen
</div>
</div>
<div class="callout-body-container callout-body">
<p>Wenn wir uns einen Unterschied eines <strong>Mittelwerts</strong> anschauen, dann haben wir <em>keinen</em> Effekt vorliegen, wenn der Mittlwertsunterschied <span class="math inline">\(\Delta\)</span> zwischen der Gruppe <span class="math inline">\(A\)</span> und der Gruppe <span class="math inline">\(B\)</span> gleich 0 ist. Die Nullhypothese gilt. Beide Gruppen <span class="math inline">\(A\)</span> und <span class="math inline">\(B\)</span> haben den gleichen Mittelwert.</p>
<p><span class="math display">\[
\Delta_{A-B} = A - B = 0
\]</span></p>
<p>Wenn wir uns einen Unterschied eines <strong>Anteils</strong> anschauen, dann haben wir <em>keinen</em> Effekt vorliegen, wenn der Anteilsunterschied <span class="math inline">\(\Delta\)</span> zwischen der Gruppe <span class="math inline">\(A\)</span> und der Gruppe <span class="math inline">\(B\)</span> gleich 1 ist. Die Nullhypothese gilt. Beide Gruppen <span class="math inline">\(A\)</span> und <span class="math inline">\(B\)</span> haben den gleichen Anteil.</p>
<p><span class="math display">\[
\Delta_{A/B} = \cfrac{A}{B} = 1
\]</span></p>
<p>Dieses Wissen brauchen wir um die Signifikanzschwelle bei einem 95% Konfidenzintervall richtig zu setzen und interpretieren zu können. Siehe dazu auch nochmal das <a href="#sec-ki" class="quarto-xref"><span class="quarto-unresolved-ref">sec-ki</span></a>.</p>
</div>
</div>
<section id="genutzte-r-pakete" class="level2" data-number="23.1">
<h2 data-number="23.1" class="anchored" data-anchor-id="genutzte-r-pakete"><span class="header-section-number">23.1</span> Genutzte R Pakete</h2>
<p>Wir wollen folgende R Pakete in diesem Kapitel nutzen.</p>
<div class="cell">
<details open="" class="code-fold">
<summary>R Code [zeigen / verbergen]</summary>
<div class="sourceCode cell-code" id="cb10"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb10-1"><a href="#cb10-1" aria-hidden="true" tabindex="-1"></a>pacman<span class="sc">::</span><span class="fu">p_load</span>(tidyverse, magrittr, see, scales,</span>
<span id="cb10-2"><a href="#cb10-2" aria-hidden="true" tabindex="-1"></a>               effectsize, parameters, broom, readxl,</span>
<span id="cb10-3"><a href="#cb10-3" aria-hidden="true" tabindex="-1"></a>               emmeans, vcd, irr, conflicted)</span>
<span id="cb10-4"><a href="#cb10-4" aria-hidden="true" tabindex="-1"></a><span class="fu">conflicts_prefer</span>(dplyr<span class="sc">::</span>filter)</span>
<span id="cb10-5"><a href="#cb10-5" aria-hidden="true" tabindex="-1"></a><span class="fu">conflicts_prefer</span>(effectsize<span class="sc">::</span>oddsratio)</span>
<span id="cb10-6"><a href="#cb10-6" aria-hidden="true" tabindex="-1"></a><span class="fu">conflicts_prefer</span>(magrittr<span class="sc">::</span>set_names)</span></code><button title="In die Zwischenablage kopieren" class="code-copy-button"><i class="bi"></i></button></pre></div>
</details>
</div>
<p>An der Seite des Kapitels findest du den Link <em>Quellcode anzeigen</em>, über den du Zugang zum gesamten R-Code dieses Kapitels erhältst.</p>
</section>
<section id="unterschied-zweier-mittelwerte" class="level2" data-number="23.2">
<h2 data-number="23.2" class="anchored" data-anchor-id="unterschied-zweier-mittelwerte"><span class="header-section-number">23.2</span> Unterschied zweier Mittelwerte</h2>
<p>Wir berechnen zwei Mittelwerte <span class="math inline">\(\bar{y}_1\)</span> und <span class="math inline">\(\bar{y}_2\)</span>. Wenn wir wissen wollen wie groß der Effekt zwischen den beiden Mittelwerten ist, dann bilden wir die Differenz. Wir berechnen das <span class="math inline">\(\Delta_{y_1-y_2}\)</span> für <span class="math inline">\(y_1\)</span> und <span class="math inline">\(y_2\)</span> indem wir die beiden Mittelwerte voneinander abziehen.</p>
<p><span class="math display">\[
\Delta_{y_1-y_2} = \bar{y}_1 - \bar{y}_2
\]</span></p>
<p>Wenn es keinen Unterschied zwischen den beiden Mittelwerten <span class="math inline">\(\bar{y}_1\)</span> und <span class="math inline">\(\bar{y}_2\)</span> gibt, dann ist die Differenz <span class="math inline">\(\Delta_{y_1-y_2} = \bar{y}_1 - \bar{y}_2\)</span> gleich 0. Wir sagen, die Nullhypothese <em>vermutlich</em> gilt, wenn die Differenz klein ist. Warum schreiben wir hier vermutlich? Ein statistischer Test ist eine Funktion von <span class="math inline">\(\Delta\)</span>, <span class="math inline">\(s\)</span> und <span class="math inline">\(n\)</span>. Wir können auch mit kleinem <span class="math inline">\(\Delta\)</span> die Nullhypothese ablehnen, wenn <span class="math inline">\(s\)</span> und <span class="math inline">\(n\)</span> eine passende Teststatistik generieren. Siehe dazu auch das <a href="#sec-delta-n-s" class="quarto-xref"><span class="quarto-unresolved-ref">sec-delta-n-s</span></a>. Was wir besser annehmen können ist, dass die Relevanz klein ist. Effekt mit einem geringen Mittelwertsunterschied sind meistens nicht relevant. Aber diese Einschätzung hängt stark von der Fragestellung ab.</p>
<p><span class="math display">\[
H_0: \Delta_{y_1-y_2} = \bar{y}_1 - \bar{y}_2 = 0
\]</span></p>
<p>In <a href="#tbl-dog-cat-small-delta" class="quarto-xref">Tabelle&nbsp;<span class="quarto-unresolved-ref">tbl-dog-cat-small-delta</span></a> ist nochmal ein sehr simples Datenbeispiel gegeben an dem wir den Zusammenhang nochmal nachvollziehen wollen.</p>
<div class="cell">
<div id="tbl-dog-cat-small-delta" class="cell quarto-float quarto-figure quarto-figure-center anchored">
<figure class="quarto-float quarto-float-tbl figure">
<figcaption class="quarto-float-caption-top quarto-float-caption quarto-float-tbl" id="tbl-dog-cat-small-delta-caption-0ceaefa1-69ba-4598-a22c-09a6ac19f8ca">
Tabelle&nbsp;23.1— Beispiel für die Berechnung von einem Mittelwertseffekt an der Sprunglänge [cm] von Hunde und Katzenflöhen.
</figcaption>
<div aria-describedby="tbl-dog-cat-small-delta-caption-0ceaefa1-69ba-4598-a22c-09a6ac19f8ca">
<div class="cell-output-display">
<table class="do-not-create-environment cell caption-top table table-sm table-striped small">
<thead>
<tr class="header">
<th style="text-align: center;">animal</th>
<th style="text-align: center;">jump_length</th>
</tr>
</thead>
<tbody>
<tr class="odd">
<td style="text-align: center;">cat</td>
<td style="text-align: center;">8.0</td>
</tr>
<tr class="even">
<td style="text-align: center;">cat</td>
<td style="text-align: center;">7.9</td>
</tr>
<tr class="odd">
<td style="text-align: center;">cat</td>
<td style="text-align: center;">8.3</td>
</tr>
<tr class="even">
<td style="text-align: center;">cat</td>
<td style="text-align: center;">9.1</td>
</tr>
<tr class="odd">
<td style="text-align: center;">dog</td>
<td style="text-align: center;">8.0</td>
</tr>
<tr class="even">
<td style="text-align: center;">dog</td>
<td style="text-align: center;">7.8</td>
</tr>
<tr class="odd">
<td style="text-align: center;">dog</td>
<td style="text-align: center;">9.2</td>
</tr>
<tr class="even">
<td style="text-align: center;">dog</td>
<td style="text-align: center;">7.7</td>
</tr>
</tbody>
</table>
</div>
</div>
</figure>
</div>
</div>
<p>Nehmen wir an, wir berechnen für die Sprungweite [cm] der Hundeflöhe einen Mittelwert von <span class="math inline">\(\bar{y}_{dog} = 8.2\)</span> und für die Sprungweite [cm] der Katzenflöhe einen Mittelwert von <span class="math inline">\(\bar{y}_{cat} =8.3\)</span>. Wie große ist nun der Effekt? Oder anders gesprochen, welchen Unterschied in der Sprungweite macht es aus ein Hund oder eine Katze zu sein? Was ist also der Effekt von <code>animal</code>? Wir rechnen <span class="math inline">\(\bar{y}_{dog} - \bar{y}_{cat} = 8.2 - 8.3 = -0.1\)</span>. Zum einen wissen wir jetzt “die Richtung”. Da wir ein Minus vor dem Mittelwertsunterschied haben, müssen die Katzenflöhe weiter springen als die Hundeflöhe, nämlich 0.1 cm. Dennoch ist der Effekt sehr klein.</p>
<section id="cohens-d" class="level3" data-number="23.2.1">
<h3 data-number="23.2.1" class="anchored" data-anchor-id="cohens-d"><span class="header-section-number">23.2.1</span> Cohen’s d</h3>
<p>Da der Mittlwertsunterschied <em>alleine</em> nnur eine eingeschränkte Aussage über den Effekt erlaubt, gibt es noch Effektschätzer, die den Mittelwertsunterschied <span class="math inline">\(\Delta_{y_1-y_2}\)</span> mit der Streuung <span class="math inline">\(s^2\)</span> sowie der Fallzahl zusammenbringt. Der bekannteste Effektschätzer für einen Mittelwertsunterschied bei großer Fallzahl mit mehr als 20 Beobachtungen ist Cohen’s d.&nbsp;Wir können Cohen’s d wie folgt berechnen.</p>
<p><span class="math display">\[
|d| = \cfrac{\bar{y}_1-\bar{y}_2}{\sqrt{\cfrac{s_1^2+s_2^2}{2}}}
\]</span></p>
<p>Wenn wir die berechneten Mittelwerte und die Varianz der beiden Gruppen in die Formel einsetzten ergibt sich ein absolutes Cohen’s d von 0.24 für den Gruppenvergleich.</p>
<p><span class="math display">\[
|d| = \cfrac{8.2 - 8.3}{\sqrt{(0.5^2+0.3^2) /2}} = \cfrac{-0.1}{0.41} = \lvert-0.24\rvert
\]</span></p>
<p>Was denn nun Cohen’s d <em>exakt</em> aussagt, kann niemand sagen. Aber wir haben einen Wust an möglichen Grenzen. Hier soll die Grenzen von Cohen (1988) einmal angegeben werden. Cohen (1988) hat in seiner Arbeit folgende Grenzen in <a href="#tbl-cohen-d" class="quarto-xref">Tabelle&nbsp;<span class="quarto-unresolved-ref">tbl-cohen-d</span></a> für die Interpretation von <span class="math inline">\(d\)</span> vorgeschlagen. Mehr Informationen zu Cohen’s d gibt es auf der Hilfeseite von <code>effectsize</code>: <a href="https://easystats.github.io/effectsize/reference/interpret_cohens_d.html">Interpret standardized differences</a>.</p>
<div id="tbl-cohen-d" class="quarto-float quarto-figure quarto-figure-center anchored">
<figure class="quarto-float quarto-float-tbl figure">
<figcaption class="quarto-float-caption-top quarto-float-caption quarto-float-tbl" id="tbl-cohen-d-caption-0ceaefa1-69ba-4598-a22c-09a6ac19f8ca">
Tabelle&nbsp;23.2— Interpretation der Effektstärke nach Cohen (1988).
</figcaption>
<div aria-describedby="tbl-cohen-d-caption-0ceaefa1-69ba-4598-a22c-09a6ac19f8ca">
<table class="caption-top table">
<thead>
<tr class="header">
<th style="text-align: center;">Cohen’s d</th>
<th style="text-align: center;">Interpretation des Effekts</th>
</tr>
</thead>
<tbody>
<tr class="odd">
<td style="text-align: center;"><span class="math inline">\(d &lt; 0.2\)</span></td>
<td style="text-align: center;">Sehr klein</td>
</tr>
<tr class="even">
<td style="text-align: center;"><span class="math inline">\(0.2 \leq d &lt; 0.5\)</span></td>
<td style="text-align: center;">Klein</td>
</tr>
<tr class="odd">
<td style="text-align: center;"><span class="math inline">\(0.5 \leq d &lt; 0.8\)</span></td>
<td style="text-align: center;">Mittel</td>
</tr>
<tr class="even">
<td style="text-align: center;"><span class="math inline">\(d \geq 0.8\)</span></td>
<td style="text-align: center;">Stark</td>
</tr>
</tbody>
</table>
</div>
</figure>
</div>
<p>Wir können auch über die Funktion <code>cohens_d()</code> Cohen’s d einfach in R berechnen. Die Funktion <code>cohens_d()</code> akzeptiert die Formelschreibweise. Die 95% Konfidenzintervalle sind mit Vorsicht zu interpretieren. Denn die Nullhypothese ist hier nicht so klar formuliert. Wir lassen also die 95% Konfidenzintervalle erstmal hier so stehen.</p>
<div class="cell">
<details open="" class="code-fold">
<summary>R Code [zeigen / verbergen]</summary>
<div class="sourceCode cell-code" id="cb11"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb11-1"><a href="#cb11-1" aria-hidden="true" tabindex="-1"></a><span class="fu">cohens_d</span>(jump_length <span class="sc">~</span> animal, <span class="at">data =</span> data_tbl, <span class="at">pooled_sd =</span> <span class="cn">TRUE</span>)</span></code><button title="In die Zwischenablage kopieren" class="code-copy-button"><i class="bi"></i></button></pre></div>
</details>
<div class="cell-output cell-output-stdout">
<pre><code>Cohen's d |        95% CI
-------------------------
0.24      | [-1.16, 1.62]

- Estimated using pooled SD.</code></pre>
</div>
</div>
<p>Dankenswerterweise gibt es noch die Funktion <code>interpret_cohens_d</code>, die es uns erlaubt auszusuchen nach welche Literturquelle wir den Wert von Cohen’s d interpretieren wollen. Ob dieser Effekt relevant zur Fragestellung ist musst du selber entscheiden.</p>
<div class="cell">
<details open="" class="code-fold">
<summary>R Code [zeigen / verbergen]</summary>
<div class="sourceCode cell-code" id="cb13"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb13-1"><a href="#cb13-1" aria-hidden="true" tabindex="-1"></a><span class="fu">interpret_cohens_d</span>(<span class="fl">0.24</span>, <span class="at">rules =</span> <span class="st">"cohen1988"</span>)</span></code><button title="In die Zwischenablage kopieren" class="code-copy-button"><i class="bi"></i></button></pre></div>
</details>
<div class="cell-output cell-output-stdout">
<pre><code>[1] "small"
(Rules: cohen1988)</code></pre>
</div>
</div>
</section>
<section id="hedges-g" class="level3" data-number="23.2.2">
<h3 data-number="23.2.2" class="anchored" data-anchor-id="hedges-g"><span class="header-section-number">23.2.2</span> Hedges’ g</h3>
<p>Soweit haben wir uns mit sehr großen Fallzahlen beschäftigt. Cohen’s d ist dafür auch sehr gut geeigent und wenn wir mehr als 20 Beobachtungen haben, können wir Cohen’s d auch gut anwenden. Wenn wir weniger Fallzahl vorliegen haben, dann können wir Hedges’ g nutzen. Hedges’ g bietet eine Verzerrungskorrektur für kleine Stichprobengrößen (<span class="math inline">\(N &lt; 20\)</span>) sowie die Möglichkeit auch für <em>unbalanzierte</em> Gruppengrößen einen Effektschätzeer zu berechnen. Die Formel sieht mit dem Korrekturterm recht mächtig aus.</p>
<p><span class="math display">\[
g = \cfrac{\bar{y}_1 - \bar{y}_2}{s^*} \cdot \left(\cfrac{N-3}{N-2.25}\right) \cdot \sqrt{\cfrac{N-2}{N}}
\]</span></p>
<p>mit</p>
<p><span class="math display">\[
s^* = \sqrt{\cfrac{(n_1-1)s_1^2 + (n_2-1)s_2^2}{n_1+n_2-2}}
\]</span></p>
<p>Wir können aber einfach die Mittelwerte und die Varianzen aus unserem beispiel einsetzen. Da unsere beiden Gruppen gleich groß sind <span class="math inline">\(n_1 = n_2\)</span> und damit ein balanziertes Design vorliegt, sind Cohen’s d und Hedges’ g numerisch gleich. Wir können dann noch für die geringe Fallzahl korrigieren und erhalten ein händisches <span class="math inline">\(g = 0.18\)</span>.</p>
<p><span class="math display">\[
g = \cfrac{8.2 - 8.3}{0.41} \cdot \left(\cfrac{8-3}{8-2.25}\right) \cdot \sqrt{\cfrac{8-2}{8}} = \lvert-0.24\rvert \cdot 0.87 \cdot 0.87 \approx 0.18
\]</span></p>
<p>mit</p>
<p><span class="math display">\[
s^* = \sqrt{\cfrac{(4-1)\cdot0.5^2 + (4-1)\cdot0.3^2}{4+4-2}} = \sqrt{\cfrac{0.75 + 0.27}{6}} = 0.41
\]</span></p>
<p>In R gibt es die Funktion <code>hedges_g()</code> die uns erlaubt in der Formelschreibweise direkt Hedges’ g zu berechnen. Wir sehen hier eine Abweichung von unserer händischen Rechnung. Das ist aber in soweit nicht ungewöhnlich, da es noch eine Menge Varianten der Anpassung für die geringe Fallzahl gibt. In der Anwendung nutzen wir die Funktion aus dem Paket <code>{effectsize}</code> wie hier durchgeführt.</p>
<p>Wir ignorieren wie auch bei Cohen’s d das 95% Konfidenzintervall, da die Interpretation ohne die Nullhypothese nicht möglich ist. Die Nullhypothese ist in diesem Fall komplexer. Wir lassen daher das 95% Konfidenzintervall erstmal einfach hier so stehen.</p>
<div class="cell">
<details open="" class="code-fold">
<summary>R Code [zeigen / verbergen]</summary>
<div class="sourceCode cell-code" id="cb15"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb15-1"><a href="#cb15-1" aria-hidden="true" tabindex="-1"></a><span class="fu">hedges_g</span>(jump_length <span class="sc">~</span> animal, <span class="at">data =</span> data_tbl, <span class="at">pooled_sd =</span> <span class="cn">TRUE</span>)</span></code><button title="In die Zwischenablage kopieren" class="code-copy-button"><i class="bi"></i></button></pre></div>
</details>
<div class="cell-output cell-output-stdout">
<pre><code>Hedges' g |        95% CI
-------------------------
0.21      | [-1.01, 1.41]

- Estimated using pooled SD.</code></pre>
</div>
</div>
<p>Auch für Hedges’ g gibt es die Möglichkeit sich über die Funktion <code>interpret_hedges_g()</code> den Wert von <span class="math inline">\(g=0.21\)</span> interpretieren zu lassen. Nach Sawilowsky (2009) haben wir hier einen kleinen Effekt vorliegen. Ob dieser Effekt relevant zur Fragestellung ist musst du selber entscheiden.</p>
<div class="cell">
<details open="" class="code-fold">
<summary>R Code [zeigen / verbergen]</summary>
<div class="sourceCode cell-code" id="cb17"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb17-1"><a href="#cb17-1" aria-hidden="true" tabindex="-1"></a><span class="fu">interpret_hedges_g</span>(<span class="fl">0.21</span>, <span class="at">rules =</span> <span class="st">"sawilowsky2009"</span>)</span></code><button title="In die Zwischenablage kopieren" class="code-copy-button"><i class="bi"></i></button></pre></div>
</details>
<div class="cell-output cell-output-stdout">
<pre><code>[1] "small"
(Rules: sawilowsky2009)</code></pre>
</div>
</div>
<p><a href="https://easystats.github.io/effectsize/reference/interpret_cohens_d.html">Die Hilfeseite zu dem Paket <code>effectsize</code></a> bietet eine Liste an möglichen Referenzen für die Wahl der Interpretation der Effektstärke. Du musst dann im Zweifel schauen, welche der Quellen und damit Grenzen du nutzen willst.</p>
</section>
</section>
<section id="unterschied-zweier-anteile" class="level2" data-number="23.3">
<h2 data-number="23.3" class="anchored" data-anchor-id="unterschied-zweier-anteile"><span class="header-section-number">23.3</span> Unterschied zweier Anteile</h2>
<p>Neben den Unterschied zweier Mittelwerte ist auch häufig das Interesse an dem Unterschied zwischen zwei Anteilen. Nun unterscheiden wir zwischen Wahrscheinlichkeiten und Chancen. Beide Maßzahlen, die Wahrscheinlichkeit wie auch die Chance, beschreiben einen Anteil. Hier tritt häufig Verwirrung auf, daher hier zuerst ein Beispiel.</p>
<p>Wir behandelt <span class="math inline">\(n = 65\)</span> Hunde mit dem Antiflohmittel <em>FleaEx</em>. Um die Wirkung von <em>FleaEx</em> auch bestimmen zu können haben wir uns zwei Gruppen von Hunden ausgesucht. Wir haben Hunde, die mit Flöhe infiziert sind und Hunde, die nicht mit Flöhen infiziert sind. Wir schauen nun in wie weit <em>FleaEx</em> gegen Flöhe hilft im Vergleich zu einer Kontrolle.</p>
<div id="tbl-2x2-ratio-delta" class="quarto-float quarto-figure quarto-figure-center anchored">
<figure class="quarto-float quarto-float-tbl figure">
<figcaption class="quarto-float-caption-top quarto-float-caption quarto-float-tbl" id="tbl-2x2-ratio-delta-caption-0ceaefa1-69ba-4598-a22c-09a6ac19f8ca">
Tabelle&nbsp;23.3— Eine 2x2 Tabelle als Beispiel für unterschiedliche Flohinfektionen bei nach einer Behandlung mit <em>FleaEx</em> für die Berechnung von Effektschätzern eines Anteils.
</figcaption>
<div aria-describedby="tbl-2x2-ratio-delta-caption-0ceaefa1-69ba-4598-a22c-09a6ac19f8ca">
<table class="caption-top table">
<tbody>
<tr class="odd">
<td style="text-align: center;"></td>
<td style="text-align: center;"></td>
<td style="text-align: center;"><strong>Infected</strong></td>
<td style="text-align: center;"></td>
</tr>
<tr class="even">
<td style="text-align: center;"></td>
<td style="text-align: center;"></td>
<td style="text-align: center;"><em>Yes (1)</em></td>
<td style="text-align: center;"><em>No (0)</em></td>
</tr>
<tr class="odd">
<td style="text-align: center;"><strong>Group</strong></td>
<td style="text-align: center;"><em>FleaEx</em></td>
<td style="text-align: center;"><span class="math inline">\(18_{\;\Large a}\)</span></td>
<td style="text-align: center;"><span class="math inline">\(23_{\;\Large b}\)</span></td>
</tr>
<tr class="even">
<td style="text-align: center;"></td>
<td style="text-align: center;"><em>Control</em></td>
<td style="text-align: center;"><span class="math inline">\(14_{\;\Large c}\)</span></td>
<td style="text-align: center;"><span class="math inline">\(10_{\;\Large d}\)</span></td>
</tr>
</tbody>
</table>
</div>
</figure>
</div>
<p>Aus der <a href="#tbl-2x2-ratio-delta" class="quarto-xref">Tabelle&nbsp;<span class="quarto-unresolved-ref">tbl-2x2-ratio-delta</span></a> können wir entnehmen, dass 18 behandelte Hunde mit Flöhen infiziert sind und 14 Hunde keine Infektion aufweisen. Bei den Hunden aus der Kontrolle haben wir 23 infizierte und 10 gesunde Tiere beobachtet.</p>
<p>Wir können nun zwei Arten von Anteilen berechnen um zu beschreiben, wie sich der Anteil an infizierten Hunden verhält. Das bekanntere ist die Frequenz oder Wahrscheinlichkeit oder Risk Ratio (<span class="math inline">\(RR\)</span>). Das andere ist das Chancenverhältnis oder Odds Ratio (<span class="math inline">\(OR\)</span>). Beide kommen in der Statistik vor und sind unterschiedlich zu interpretieren. Es gibt verschiedene Typen von klinischen Studien, also Untersuchungen an Menschen. Einige Studien liefern nur <span class="math inline">\(OR\)</span> wieder andere Studientypen liefern <span class="math inline">\(RR\)</span>. <span class="citation" data-cites="george2020s">George et al. (<a href="#ref-george2020s" role="doc-biblioref">2020</a>)</span> liefert eine gute Übersicht über <em>What’s the risk: differentiating risk ratios, odds ratios, and hazard ratios?</em></p>
<p>Um die die Odds Ratio und die Risk Ratios auch in R berechnen zu können müssen wir einmal die 2x2 Kreuzabelle in R nachbauen. Wir nutzen dafür die Funktion <code>matrix()</code> und müssen schauen, dass die Zahlen in der 2x2 Kreuztabelle in R dann auch so sind, wie in der Datentabelle. Das ist jetzt ein schöner Codeblock, ist aber dafür da um sicherzustellen, dass wir die Zahlen richtig eintragen.</p>
<div class="cell">
<details open="" class="code-fold">
<summary>R Code [zeigen / verbergen]</summary>
<div class="sourceCode cell-code" id="cb19"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb19-1"><a href="#cb19-1" aria-hidden="true" tabindex="-1"></a>cross_mat <span class="ot">&lt;-</span> <span class="fu">matrix</span>(<span class="fu">c</span>(<span class="dv">18</span>, <span class="dv">23</span>, <span class="dv">14</span>, <span class="dv">10</span>),</span>
<span id="cb19-2"><a href="#cb19-2" aria-hidden="true" tabindex="-1"></a>  <span class="at">nrow =</span> <span class="dv">2</span>, <span class="at">byrow =</span> <span class="cn">TRUE</span>,</span>
<span id="cb19-3"><a href="#cb19-3" aria-hidden="true" tabindex="-1"></a>  <span class="at">dimnames =</span> <span class="fu">list</span>(</span>
<span id="cb19-4"><a href="#cb19-4" aria-hidden="true" tabindex="-1"></a>    <span class="at">Group =</span> <span class="fu">c</span>(<span class="st">"FleaEx"</span>, <span class="st">"Control"</span>),</span>
<span id="cb19-5"><a href="#cb19-5" aria-hidden="true" tabindex="-1"></a>    <span class="at">Infected =</span> <span class="fu">c</span>(<span class="st">"Yes"</span>, <span class="st">"No"</span>)</span>
<span id="cb19-6"><a href="#cb19-6" aria-hidden="true" tabindex="-1"></a>  )</span>
<span id="cb19-7"><a href="#cb19-7" aria-hidden="true" tabindex="-1"></a>)</span>
<span id="cb19-8"><a href="#cb19-8" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb19-9"><a href="#cb19-9" aria-hidden="true" tabindex="-1"></a>cross_mat</span></code><button title="In die Zwischenablage kopieren" class="code-copy-button"><i class="bi"></i></button></pre></div>
</details>
<div class="cell-output cell-output-stdout">
<pre><code>         Infected
Group     Yes No
  FleaEx   18 23
  Control  14 10</code></pre>
</div>
</div>
<p>Später werden wir das <span class="math inline">\(OR\)</span> und <span class="math inline">\(RR\)</span> wieder treffen. Das <span class="math inline">\(OR\)</span> kommt in der logistsichen Regression als Effektschätzer vor. Wir nutzen das <span class="math inline">\(RR\)</span> als Effektschätzer in der Poissonregression.</p>
<section id="wahrscheinlichkeitsverhältnis-oder-risk-ratio-rr" class="level3" data-number="23.3.1">
<h3 data-number="23.3.1" class="anchored" data-anchor-id="wahrscheinlichkeitsverhältnis-oder-risk-ratio-rr"><span class="header-section-number">23.3.1</span> Wahrscheinlichkeitsverhältnis oder Risk Ratio (RR)</h3>
<p>Wir berechnen wir nun das Wahrscheinlichkeitsverhältnis oder Risk Ratio (RR)? Das Risk Ratio ist das Verhältnis von den infizierten Hunden in der Behandlung (<span class="math inline">\(a\)</span>) zu allen infizierten Hunden (<span class="math inline">\(a+c\)</span>) zu dem Verhältnis der gesunden Hunde in der Behandlung (<span class="math inline">\(b\)</span>) zu allen gesunden Hunden (<span class="math inline">\(b+d\)</span>). Das klingt jetzt etwas wirr, deshalb helfen manchmal wirklich Formeln, den Zusammenhang besser zu verstehen. Damit ist <span class="math inline">\(Pr(\mbox{FleaEx}|\mbox{infected})\)</span> die Wahrscheinlichkeit infiziert zu sein, wenn der Hund mit <em>FleaEx</em> behandelt wurde.</p>
<p><span class="math display">\[
Pr(\mbox{FleaEx}|\mbox{infected}) = \cfrac{a}{a+c} = \cfrac{18}{18+14} \approx 0.56
\]</span></p>
<p>Die Wahrscheinlichkeit <span class="math inline">\(Pr(\mbox{Control}|\mbox{infected})\)</span> ist dann die Wahrscheinlichkeit infiziert zu sein, wenn der Hund mit in der Kontrolle war.]{.aside}</p>
<p><span class="math display">\[
Pr(\mbox{Control}|\mbox{infected}) = \cfrac{b}{b+d} = \cfrac{23}{23 + 10} \approx 0.70
\]</span></p>
<p>Das Risk Ratio ist mehr oder minder das Verhältnis von der beiden Spalten der <a href="#tbl-2x2-ratio-delta" class="quarto-xref">Tabelle&nbsp;<span class="quarto-unresolved-ref">tbl-2x2-ratio-delta</span></a> für die Behandlung. Wir erhalten also ein <span class="math inline">\(RR\)</span> von <span class="math inline">\(0.76\)</span>. Damit mindert die Gabe von <em>FleaEx</em> die Wahrscheinlichkeit sich mit Flöhen zu infizieren.</p>
<p><span class="math display">\[
\Delta_{y_1/y_2} = RR = \cfrac{Pr(\mbox{FleaEx}|\mbox{infected})}{Pr(\mbox{Control}|\mbox{infected})} =  \cfrac{0.56}{0.70} \approx 0.80
\]</span></p>
<p>Wir überprüfen kurz mit der Funktion <code>riskratio()</code> ob wir richtig gerechnet haben. Das 95% Konfidenzintervall können wir interpretieren, dafür brauchen wir aber noch einmal eine Idee was “kein Effekt” bei einem Risk Ratio heist.</p>
<div class="cell">
<details open="" class="code-fold">
<summary>R Code [zeigen / verbergen]</summary>
<div class="sourceCode cell-code" id="cb21"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb21-1"><a href="#cb21-1" aria-hidden="true" tabindex="-1"></a><span class="fu">riskratio</span>(cross_mat)</span></code><button title="In die Zwischenablage kopieren" class="code-copy-button"><i class="bi"></i></button></pre></div>
</details>
<div class="cell-output cell-output-stdout">
<pre><code>Risk ratio |       95% CI
-------------------------
0.81       | [0.55, 1.18]</code></pre>
</div>
</div>
<p>Wann liegt nun kein Effekt bei einem Anteil wie dem RR vor? Wenn der Anteil in der einen Gruppe genauso groß ist wie der Anteil der anderen Gruppe.</p>
<p><span class="math display">\[
H_0: RR = \cfrac{Pr(\mbox{dog}|\mbox{infected})}{Pr(\mbox{cat}|\mbox{infected})} = 1
\]</span></p>
<p>Wir interpretieren das <span class="math inline">\(RR\)</span> nun wie folgt. Unter der Annahme, dass ein kausaler Effekt zwischen der Behandlung und dem Outcome besteht, können die Werte des relativen Risikos auf folgende Art und Weise interpretiert werden:</p>
<ul>
<li><span class="math inline">\(RR = 1\)</span> bedeutet, dass die Behandlung keinen Einfluss auf das Outcome hat</li>
<li><span class="math inline">\(RR &lt; 1\)</span> bedeutet, dass das Risiko für das Outcome durch die Behandlung verringert wird, was ein “Schutzfaktor” ist</li>
<li><span class="math inline">\(RR &gt; 1\)</span> bedeutet, dass das Risiko für das Outcome durch die Behandlung erhöht wird, was ein “Risikofaktor” ist.</li>
</ul>
<p>Das heist in unserem Fall, dass wir mit einem RR von <span class="math inline">\(0.80\)</span> eine protektive Behandlung vorliegen haben. Die Gabe von <em>FleaEx</em> reduziert das Risiko mit Flöhen infiziert zu werden. Durch das 95% Konfidenzintervall wissen wir auch, dass das <span class="math inline">\(RR\)</span> nicht signifikant ist, da die 1 im 95% Konfidenzintervall enthalten ist.</p>
</section>
<section id="chancenverhältnis-oder-odds-ratio-or" class="level3" data-number="23.3.2">
<h3 data-number="23.3.2" class="anchored" data-anchor-id="chancenverhältnis-oder-odds-ratio-or"><span class="header-section-number">23.3.2</span> Chancenverhältnis oder Odds Ratio (OR)</h3>
<p>Neben dem Risk Ratio gibt es noch das Odds Ratio. Das Odds Ratio ist ein Chancenverhältnis. Wenn der Mensch an sich schon Probleme hat für sich Wahrscheinlichkeiten richtig einzuordnen, scheitert man allgemein an der Chance vollkommen. Dennoch ist das Odds Ratio eine gute Maßzahl um abzuschätzen wie die Chancen stehen, einen infizierten Hund vorzufinden, wenn der Hund behandelt wurde.</p>
<p>Schauen wir uns einmal die Formeln an. Im Gegensatz zum Risk Ratio, welches die Spalten miteinander vergleicht, vergleicht das Odds Ratio die Zeilen. Als erstes berechnen wir die Chance unter der Gabe von <em>FleaEx</em> infiziert zu sein wie folgt.</p>
<p><span class="math display">\[
Odds(\mbox{FleaEx}|\mbox{infected}) = a:b = 18:23 = \cfrac{18}{23} = 0.78
\]</span></p>
<p>Dann berechnen wir die Chance in der Kontrollgruppe infiziert zu sein wie folgt.</p>
<p><span class="math display">\[
Odds(\mbox{Control}|\mbox{infected}) = c:d = 14:10 = \cfrac{14}{10} \approx 1.40
\]</span></p>
<p>Abschließend bilden wir das Chancenverhältnis der Chance unter der Gabe von <em>FleaEx</em> infiziert zu sein zu der Chance in der Kontrollgruppe infiziert zu sein. Es ergbit sich das Odds Ratio wie folgt.</p>
<p><span class="math display">\[
\Delta_{y_1/y_2} = OR =  \cfrac{Odds(\mbox{Flea}|\mbox{infected})}{Odds(\mbox{Control}|\mbox{infected})} = \cfrac{a \cdot d}{b \cdot c} = \cfrac{0.78}{1.40} \approx 0.56
\]</span></p>
<p>Wir überprüfen kurz mit der Funktion <code>oddsratio()</code> ob wir richtig gerechnet haben. Das 95% Konfidenzintervall können wir interpretieren, dafür brauchen wir aber noch einmal eine Idee was “kein Effekt” bei einem Odds Ratio heist.</p>
<div class="cell">
<details open="" class="code-fold">
<summary>R Code [zeigen / verbergen]</summary>
<div class="sourceCode cell-code" id="cb23"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb23-1"><a href="#cb23-1" aria-hidden="true" tabindex="-1"></a><span class="fu">oddsratio</span>(cross_mat)</span></code><button title="In die Zwischenablage kopieren" class="code-copy-button"><i class="bi"></i></button></pre></div>
</details>
<div class="cell-output cell-output-stdout">
<pre><code>Odds ratio |       95% CI
-------------------------
0.56       | [0.20, 1.55]</code></pre>
</div>
</div>
<p>Wann liegt nun kein Effekt bei einem Anteil wie dem OR vor? Wenn der Anteil in der einen Gruppe genauso groß ist wie der Anteil der anderen Gruppe.</p>
<p><span class="math display">\[
H_0: OR =  \cfrac{Odds(\mbox{dog}|\mbox{infected})}{Odds(\mbox{cat}|\mbox{infected})} = 1
\]</span></p>
<p>Wir interpretieren das <span class="math inline">\(OR\)</span> nun wie folgt. Unter der Annahme, dass ein kausaler Effekt zwischen der Behandlung und dem Outcome besteht, können die Werte des Odds Ratio auf folgende Art und Weise interpretiert werden:</p>
<ul>
<li><span class="math inline">\(OR = 1\)</span> bedeutet, dass die Behandlung keinen Einfluss auf das Outcome hat</li>
<li><span class="math inline">\(OR &lt; 1\)</span> bedeutet, dass sich die Chance das Outcome zu bekommen durch die Behandlung verringert wird, was ein “Schutzfaktor” ist</li>
<li><span class="math inline">\(OR &gt; 1\)</span> bedeutet, dass sich die Chance das Outcome zu bekommen durch die Behandlung erhöht wird, was ein “Risikofaktor” ist.</li>
</ul>
<p>Das heist in unserem Fall, dass wir mit einem OR von <span class="math inline">\(0.56\)</span> eine protektive Behandlung vorliegen haben. Die Gabe von <em>FleaEx</em> reduziert die Chance mit Flöhen infiziert zu werden. Durch das 95% Konfidenzintervall wissen wir auch, dass das <span class="math inline">\(OR\)</span> nicht signifikant ist, da die 1 im 95% Konfidenzintervall enthalten ist.</p>
</section>
<section id="odds-ratio-or-zu-risk-ratio-rr" class="level3" data-number="23.3.3">
<h3 data-number="23.3.3" class="anchored" data-anchor-id="odds-ratio-or-zu-risk-ratio-rr"><span class="header-section-number">23.3.3</span> Odds Ratio (OR) zu Risk Ratio (RR)</h3>
<p>Wenn wir das OR berechnet haben, wollen wir eventuell das <span class="math inline">\(OR\)</span> in dem Sinne eines Riskoverhältnisses berichten. Leider ist es nun so, dass wir das nicht einfach mit einem <span class="math inline">\(OR\)</span> machen können. Ein <span class="math inline">\(OR\)</span> von 3.5 ist ein großes Chancenverhältnis. Aber ist es auch 3.5-mal so wahrscheinlich? Nein so einfach können wir das OR nicht interpretieren. Wir können aber das <span class="math inline">\(OR\)</span> in das <span class="math inline">\(RR\)</span> umrechnen. Dafür brauchen wir aber das <span class="math inline">\(p_0\)</span>. Dabei ist das <span class="math inline">\(p_0\)</span> das Basisrisiko also die Wahrscheinlichkeit des Ereignisses ohne die Intervention. Wenn wir nichts tun würden, wie wahrscheinlich wäre dann das Auftreten des Ereignisses? Es ergibt sich dann die folgende Formel für die Umrechnung des <span class="math inline">\(OR\)</span> in das <span class="math inline">\(RR\)</span>. <span class="citation" data-cites="grant2014converting">Grant (<a href="#ref-grant2014converting" role="doc-biblioref">2014</a>)</span> gibt nochmal eine wissenschaftliche Diskussion des Themas zur Konvertierung von OR zu RR.</p>
<p><span class="math display">\[
RR = \cfrac{OR}{(1 - p_0 + (p_0 \cdot OR))}
\]</span></p>
<p>Schauen wir uns das einmal in einem Beispiel an. Wir nutzen für die Umrechnung die Funktion <code>oddsratio_to_riskratio()</code> aus dem R Paket <code>{effectsize}</code>. Wenn wir ein <span class="math inline">\(OR\)</span> von 3.5 haben, so hängt das <span class="math inline">\(RR\)</span> von dem Basisriskio ab. Wenn das Basisirisko für die Erkrankung ohne die Behandlung sehr hoch ist mit <span class="math inline">\(p_0 = 0.85\)</span>, dann ist das <span class="math inline">\(RR\)</span> sehr klein.</p>
<div class="cell">
<details open="" class="code-fold">
<summary>R Code [zeigen / verbergen]</summary>
<div class="sourceCode cell-code" id="cb25"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb25-1"><a href="#cb25-1" aria-hidden="true" tabindex="-1"></a>OR <span class="ot">&lt;-</span> <span class="fl">3.5</span></span>
<span id="cb25-2"><a href="#cb25-2" aria-hidden="true" tabindex="-1"></a>baserate <span class="ot">&lt;-</span> <span class="fl">0.85</span></span>
<span id="cb25-3"><a href="#cb25-3" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb25-4"><a href="#cb25-4" aria-hidden="true" tabindex="-1"></a><span class="fu">oddsratio_to_riskratio</span>(OR, baserate) <span class="sc">%&gt;%</span> <span class="fu">round</span>(<span class="dv">2</span>)</span></code><button title="In die Zwischenablage kopieren" class="code-copy-button"><i class="bi"></i></button></pre></div>
</details>
<div class="cell-output cell-output-stdout">
<pre><code>[1] 1.12</code></pre>
</div>
</div>
<p>Auf der anderen Seite nähert sich das <span class="math inline">\(OR\)</span> dem <span class="math inline">\(RR\)</span> an, wenn das Basisriskio für die Erkrankung mit <span class="math inline">\(p_0 = 0.04\)</span> sehr klein ist.</p>
<div class="cell">
<details open="" class="code-fold">
<summary>R Code [zeigen / verbergen]</summary>
<div class="sourceCode cell-code" id="cb27"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb27-1"><a href="#cb27-1" aria-hidden="true" tabindex="-1"></a>OR <span class="ot">&lt;-</span> <span class="fl">3.5</span></span>
<span id="cb27-2"><a href="#cb27-2" aria-hidden="true" tabindex="-1"></a>baserate <span class="ot">&lt;-</span> <span class="fl">0.04</span></span>
<span id="cb27-3"><a href="#cb27-3" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb27-4"><a href="#cb27-4" aria-hidden="true" tabindex="-1"></a><span class="fu">oddsratio_to_riskratio</span>(OR, baserate) <span class="sc">%&gt;%</span> <span class="fu">round</span>(<span class="dv">2</span>)</span></code><button title="In die Zwischenablage kopieren" class="code-copy-button"><i class="bi"></i></button></pre></div>
</details>
<div class="cell-output cell-output-stdout">
<pre><code>[1] 3.18</code></pre>
</div>
</div>
<p>Weil wir natürlich das Basisrisiko nur abschätzen können, verbleibt hier eine gewisse Unsicherheit, wie das <span class="math inline">\(RR\)</span> zu einem gegebenen <span class="math inline">\(OR\)</span> aussieht.</p>
</section>
<section id="foldchange" class="level3" data-number="23.3.4">
<h3 data-number="23.3.4" class="anchored" data-anchor-id="foldchange"><span class="header-section-number">23.3.4</span> Foldchange</h3>
<p>Der Foldchange (deu. <em>Zunahmenänderung</em> ungebräuchlich, abk. <em>FC</em>) ist ein statistisches Maß welches uns beschreibt, wie sehr sich eine Menge von einem Anfangs- zu einem Endwert verändert. Dabei ist es wichtig, dass wir es hier gleich mit einem Anteil zu tun haben. Beispielsweise entspricht ein Anfangswert von 30 und ein Endwert von 60 einer 2-fachen Änderung oder eben eines <em>two-fold change</em>. Wir wollen dabei natürlich wissen, wie sich der Wert von Ende zu Beginn geändert hat.</p>
<p><span class="math display">\[
FC = \cfrac{Endwert}{Anfangswert} = \cfrac{60}{30} = 2
\]</span></p>
<p>Eine Verringerung von 80 auf 20 wäre ein Foldchange von -0.75, während eine Veränderung von 20 auf 80 ein Foldchange von 3 wäre. Damit sind wir natürlich sehr unsymmetrisch um die 1.</p>
<p><span class="math display">\[
FC = \cfrac{Endwert}{Anfangswert} = \cfrac{20}{80} = 0.75
\]</span></p>
<p>Alle Foldchanges mit einer Verringerung pressen sich in den Zahlenraum <span class="math inline">\([0,1]\)</span> während alle Erhöhungen sich im Zahlenraum <span class="math inline">\([1, \infty]\)</span> bewegen. Um dies zu umgehen, verwenden wir <span class="math inline">\(log2\)</span> für den Ausdruck der Log Foldchange. Damit du das besser verstehst, dann die Sachlage einmal als ein Beispiel. Wenn du einen FC von 2 vorliegen hast und dann <span class="math inline">\(log_2(2)\)</span> berechnest, dann erhälst du einen <span class="math inline">\(log_2FC\)</span> von 1.</p>
<div class="cell">
<details open="" class="code-fold">
<summary>R Code [zeigen / verbergen]</summary>
<div class="sourceCode cell-code" id="cb29"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb29-1"><a href="#cb29-1" aria-hidden="true" tabindex="-1"></a>FC <span class="ot">&lt;-</span> <span class="fu">c</span>(<span class="fl">0.1</span>, <span class="fl">0.5</span>, <span class="fl">0.75</span>, <span class="dv">1</span>, <span class="dv">2</span>, <span class="dv">3</span>, <span class="dv">4</span>)</span>
<span id="cb29-2"><a href="#cb29-2" aria-hidden="true" tabindex="-1"></a><span class="fu">log2</span>(FC) <span class="sc">|&gt;</span> </span>
<span id="cb29-3"><a href="#cb29-3" aria-hidden="true" tabindex="-1"></a>  <span class="fu">round</span>(<span class="dv">2</span>) <span class="sc">|&gt;</span> </span>
<span id="cb29-4"><a href="#cb29-4" aria-hidden="true" tabindex="-1"></a>  <span class="fu">set_names</span>(FC)</span></code><button title="In die Zwischenablage kopieren" class="code-copy-button"><i class="bi"></i></button></pre></div>
</details>
<div class="cell-output cell-output-stdout">
<pre><code>  0.1   0.5  0.75     1     2     3     4 
-3.32 -1.00 -0.42  0.00  1.00  1.58  2.00 </code></pre>
</div>
</div>
<p>Wenn du einen log2-transformierten FC-Wert wieder zurück haben willst, dann nutze einfach die 2-er Potenz mit <span class="math inline">\(2^{logFC}\)</span>. Auch hier einmal das schnelle Beispiel.</p>
<div class="cell">
<details open="" class="code-fold">
<summary>R Code [zeigen / verbergen]</summary>
<div class="sourceCode cell-code" id="cb31"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb31-1"><a href="#cb31-1" aria-hidden="true" tabindex="-1"></a><span class="dv">2</span><span class="sc">^</span><span class="fu">log2</span>(FC)</span></code><button title="In die Zwischenablage kopieren" class="code-copy-button"><i class="bi"></i></button></pre></div>
</details>
<div class="cell-output cell-output-stdout">
<pre><code>[1] 0.10 0.50 0.75 1.00 2.00 3.00 4.00</code></pre>
</div>
</div>
<p>Wenn dir also einmal ein Foldchange über den Weg läuft, dann geht es eigentlich nur darum eine Veränderung gleichmäßig um die Eins darstellen zu können.</p>
</section>
</section>
<section id="sec-effect-wirkung" class="level2 page-columns page-full" data-number="23.4">
<h2 data-number="23.4" class="anchored" data-anchor-id="sec-effect-wirkung"><span class="header-section-number">23.4</span> Wirkungsgrad von Pflanzenschutzmitteln</h2>
<p>Neben den klassischen Effektmaßzahlen, die sich aus einem Mittelwert oder einem Anteil direkt berechnen, gibt es noch andere Effektmaße. Einer dieser Effektmaße ist der Wirkungsgrad für zum Beispiel ein Pflanzenschutzmittel. Wir können hier aber auch weiter denken und uns überlegen in wie weit wir eine Population von Schaderregern durch eine Behandlung reduzieren können. Unabdingbar ist in diesem Fall eine positive Kontrolle in der nichts gemacht wird sondern nur der normale Befall gemessen wird. Merke also, ohne eine Kontrolle geht bei der Bestimmung des Wirkungsgrades gar nichts.</p>
<div class="callout callout-style-default callout-tip callout-titled">
<div class="callout-header d-flex align-content-center">
<div class="callout-icon-container">
<i class="callout-icon"></i>
</div>
<div class="callout-title-container flex-fill">
Übersicht über Wirkungsgrade
</div>
</div>
<div class="callout-body-container callout-body">
<ul>
<li>Die Seite <a href="https://www.ehabsoft.com/ldpline/onlinecontrol.htm">LdP Line by Ehab Bakr</a> liefert nochmal die Formeln und Berechungsmöglichkeiten für andere Wirkungsgrade mit einem praktischen Online-Rechner. Leider ist die Seite sehr alt und die Sicherheitsbestimmungen lassen moderne Browser zweifeln.</li>
<li>Der <a href="http://www.biometrische-gesellschaft.de/fileadmin/AG_Daten/Landwirtschaft/tagungsberichte_pdf/buechse.pdf">Vortrag von Andreas Büchse</a> <em>“Nutzung der Wirkungsgradberechnung nach Abbott und Henderson-Tilton in der angewandten Agrarforschung”</em> gibt auch nochmal weitere Einblicke und ist die Grundlage für die Beispiele hier.</li>
</ul>
</div>
</div>
<p>In der <a href="#tbl-effect-wirk" class="quarto-xref">Tabelle&nbsp;<span class="quarto-unresolved-ref">tbl-effect-wirk</span></a> sehen wir nochmal eine Übersicht über vier mögliche Arten den Wirkungsgrad zu berechnen. Je nachdem was wir vorliegen haben, entweder einen Befall mit Zähldaten oder aber eine Sterblichkeit bzw. Mortalität, müssen wir eine andere Methode wählen. Auch müssen wir unterscheiden, ob wir eine homogene Population vorliegen haben oder eher eine heterogene Population. Ich kann hier aber schon mal etwas abkürzen, meistens können wir nur den Wirkungsgrad nach <span class="citation" data-cites="abbott1925method">Abbott et al. (<a href="#ref-abbott1925method" role="doc-biblioref">1925</a>)</span> berechnen, da unser experimentelles Design nicht mehr hergibt. Der Wirkungsgrad nach Abbott hat nämlich nur die räumliche Komponente und nicht die zeitliche. So lässt sich Abbott häufig einfacher durchführen und ausrechnen. Für eine zeitliche Komponente wie bei Henderson-Tilton müssten wir dann den Befall wiederholt messen.</p>
<div id="tbl-effect-wirk" class="quarto-float quarto-figure quarto-figure-center anchored">
<figure class="quarto-float quarto-float-tbl figure">
<figcaption class="quarto-float-caption-top quarto-float-caption quarto-float-tbl" id="tbl-effect-wirk-caption-0ceaefa1-69ba-4598-a22c-09a6ac19f8ca">
Tabelle&nbsp;23.4— Übersicht der möglichen Wirkungsgrade nach Population und gemessen Werten an den Beobachtungen.
</figcaption>
<div aria-describedby="tbl-effect-wirk-caption-0ceaefa1-69ba-4598-a22c-09a6ac19f8ca">
<table class="caption-top table">
<tbody>
<tr class="odd">
<td></td>
<td style="text-align: center;"><strong>Homogene Population</strong></td>
<td style="text-align: center;"><strong>Heterogene Population (Vorbefall differenziert)</strong></td>
</tr>
<tr class="even">
<td><strong>Befall oder lebende Individuen</strong></td>
<td style="text-align: center;"><a href="#sec-effect-abbott">Abbott</a> [<em>räumlicher Bezug</em>]</td>
<td style="text-align: center;"><a href="#sec-effect-ht">Henderson-Tilton</a> [<em>zeitlich und räumlicher Bezug</em>]</td>
</tr>
<tr class="odd">
<td><strong>Sterblichkeit oder tote Individuen</strong></td>
<td style="text-align: center;"><a href="#sec-effect-so">Schneider-Orelli</a></td>
<td style="text-align: center;"><a href="#sec-effect-ss">Sun-Shepard</a></td>
</tr>
</tbody>
</table>
</div>
</figure>
</div>
<p>Im Folgenden gehen wir einmal die vier Wirkungsgrade durch. Neben Abbott stelle ich dann hier nochmal den Wirkungsgrad nach <span class="citation" data-cites="henderson1955tests">Henderson &amp; Tilton (<a href="#ref-henderson1955tests" role="doc-biblioref">1955</a>)</span> vor. Die anderen Wirkungsgrade nur als Formeln, da mir aktuell noch keine Anwendungen hier über den Weg gelaufen sind. Der Hauptfokus liegt dann aber am Ende auf den Wirkungsgrad nach Abbott. Den Wirkungsgrad brauchen wir eben dann doch am meisten, da wir nach Abbott nur den gezählten Befall nach der Behandlung bestimmen müssen. Der Wirkungsgrad nach Abbott entspricht meistens eher der experimentellen Wirklichkeit. Das soll dich natürlich nicht davon abschrecken auch die anderen Wirkunsggrade zu nutzen, aber dafür musst du meistens mehr Aufwand betreiben.</p>
<section id="sec-effect-ht" class="level3" data-number="23.4.1">
<h3 data-number="23.4.1" class="anchored" data-anchor-id="sec-effect-ht"><span class="header-section-number">23.4.1</span> Wirkungsgrad nach <span class="citation" data-cites="henderson1955tests">Henderson &amp; Tilton (<a href="#ref-henderson1955tests" role="doc-biblioref">1955</a>)</span></h3>
<p>Der Wirkungsgrad nach Henderson-Tilton hate den großen Vorteil, dass wir auch eine zzeitliche Komponente mit berücksichtigen können. Wie verhält sich der BEfall der Kontrolle und der Behandlung über die Zeit des Versuches? Wir müssen dafür den Befall vor (eng. <em>before</em>, abk. <em>b</em>) und den Befall nach (eng. <em>after</em>, abk. <em>a</em>) der Applikation bestimmen. Dann erhalten wir folgende Formel, die die Anzahlen der Behandlung und Kontrolle räumlich wie zeitlich zusamenfasst. Nämlich einmal zu Beginn des Versuches und einmal zum Ende. Henderson-Tilton erlaubt es damit zusätzlich Unterschiede in der Populationsdynamik zu bewerten.</p>
<p><span class="math display">\[
WG_{HT} = \left(1 - \cfrac{T_a}{T_b}\cdot\cfrac{C_b}{C_a}\right)
\]</span></p>
<p>mit</p>
<ul>
<li><span class="math inline">\(T_{a}\)</span> Anzahl lebend in behandelter Parzelle <em>nach</em> Applikation (eng. <em>after</em>)</li>
<li><span class="math inline">\(T_{b}\)</span> Anzahl lebend in behandelter Parzelle <em>vor</em> Applikation (eng. <em>before</em>)</li>
<li><span class="math inline">\(C_{a}\)</span> Anzahl lebend in Kontrolle <em>nach</em> Applikation (eng. <em>after</em>)</li>
<li><span class="math inline">\(C_{b}\)</span> Anzahl lebend in Kontrolle <em>vor</em> Applikation (eng. <em>before</em>)</li>
</ul>
<p>Hier nochmal ein kleines numerisches Beispiel mit <span class="math inline">\(T_b = 300\)</span> sowie <span class="math inline">\(T_a = 30\)</span> und <span class="math inline">\(C_b = 500\)</span> sowie <span class="math inline">\(C_a = 1000\)</span>. Wir fangen also in einer Population mit einem Befall von <span class="math inline">\(500\)</span> Trepsen in der Kontrolle an und haben am Ende des Versuches dann <span class="math inline">\(1000\)</span> Trepsen in unserem Versuch vorliegen. In der Behandlung haben wir zu Beginn des Versuches <span class="math inline">\(300\)</span> Trepsen im Feld gezählt und finden nach der Applikation unseres Pflanzenschutzmittels am Ende des Versuches noch <span class="math inline">\(30\)</span> Trepsen wieder. Dann können wir einmal die Zahlen in die Formel einsetzen.</p>
<p><span class="math display">\[
WG_{HT} = \left(1 - \cfrac{T_a}{T_b}\cdot\cfrac{C_b}{C_a}\right)  = \left(1 - \cfrac{30}{300}\cdot\cfrac{500}{1000}\right) = 1 - (0.1 \cdot 0.5) = 0.95
\]</span></p>
<p>Wir haben hier nun einen räumlichen und zeitlichen Bezug in unserem Wirkungsgrad abgebildet. Leider haben wir nicht immer einen Befall in unserem Bestand. Der Befall tritt erst während der Applikation auf. Dann müssen wir die Formel nach Abbott nutzen, die sich nur auf die Entwicklung des Befalls am Ende des Versuches konzentriert.</p>
</section>
<section id="sec-effect-abbott" class="level3 page-columns page-full" data-number="23.4.2">
<h3 data-number="23.4.2" class="anchored" data-anchor-id="sec-effect-abbott"><span class="header-section-number">23.4.2</span> Wirkungsgrad nach <span class="citation" data-cites="abbott1925method">Abbott et al. (<a href="#ref-abbott1925method" role="doc-biblioref">1925</a>)</span></h3>
<p>Im Folgenden wollen wir uns auf die Berechnung des Wirkungsgrad nach Abbott konzentrieren. Der Wirkungsgrad wird sehr häufig genutzt, so dass sich hier eine tiefere Betrachtung lohnt. Wir berechnen hier den Wirkungsgrad nach <span class="citation" data-cites="abbott1925method">Abbott et al. (<a href="#ref-abbott1925method" role="doc-biblioref">1925</a>)</span> erstmal sehr simpel an einem Beispiel. Dann nutzen wir R um die ganze Berechnung nochmal etwas komplexer durchzuführen. Abschließend schauen wir uns mit der Anpassung von <span class="citation" data-cites="finner1989berechnung">Finner et al. (<a href="#ref-finner1989berechnung" role="doc-biblioref">1989</a>)</span> noch eine Erweiterung des Wirkungsgrads nach Abbott an. Der Wirkungsgrad <span class="math inline">\(WG\)</span> eines Schutzmittels im Vergleich zur Kontrolle berechnet sich wie folgt.</p>
<p><span class="math display">\[
WG_{Ab} = \left(\cfrac{C_a - T_a}{C_a}\right) = \left(1-\cfrac{T_a}{C_a}\right)
\]</span></p>
<p>mit</p>
<ul>
<li><span class="math inline">\(T_a\)</span> Anzahl lebend in der Behandlung <em>nach</em> Applikation (eng. <em>after</em>)</li>
<li><span class="math inline">\(C_a\)</span> Anzahl lebend in der Kontrolle <em>nach</em> Applikation (eng. <em>after</em>)</li>
</ul>
<p>Wir können auch nur den räumlichen Bezug mit dem Wirkungsgrad nach Abbott abbilden. Hier nochmal ein kleines numerisches Beispiel von oben mit <span class="math inline">\(T_b = 300\)</span> sowie <span class="math inline">\(T_a = 30\)</span> und <span class="math inline">\(C_b = 500\)</span> sowie <span class="math inline">\(C_a = 1000\)</span>. Wir fangen also in einer Population mit einem Befall von <span class="math inline">\(500\)</span> Trepsen in der Kontrolle an und haben am Ende des Versuches dann <span class="math inline">\(1000\)</span> Trepsen in unserem Versuch vorliegen. In der Behandlung haben wir zu Beginn des Versuches <span class="math inline">\(300\)</span> Trepsen im Feld gezählt und finden nach der Applikation unseres Pflanzenschutzmittels am Ende des Versuches noch <span class="math inline">\(30\)</span> Trepsen wieder. Hier ist es wichtig, dass wir uns nicht den Zusammenhang über die Zeit anschauen können. Also entweder betrachten wir den Zusammenhang von <em>nach</em> unser Applikation oder aber den Vergleich von vorher und nachher von unserer Behandlung.</p>
<p><span class="math display">\[
WG_{Ab} = \left(1-\cfrac{T_a}{C_a}\right) = \left(1-\cfrac{30}{1000}\right) = 0.97
\]</span></p>
<p>Oder wir konzentrieren uns eben nur auf den zeitlichen Bezug in dem wir die Formel nach Abbott etwas modidifzieren und nur auf die Behandlung <span class="math inline">\(T\)</span> schauen.</p>
<p><span class="math display">\[
WG_{Ab^*} = \left(1-\cfrac{T_a}{T_b}\right) = \left(1-\cfrac{30}{300}\right) = 0.90
\]</span></p>
<p>Natürlich ist die Formel wieder auf sehr einfachen Daten gut zu verstehen. Wir haben aber später dann in der Anwendung natürlich Datensätze, so dass wir uns hier einmal zwei Beispieldaten anschauen wollen. Zuerst schauen wir uns einen Datensatz zu dem Befall mit Trespe, einem Wildkraut, an. Wir haben also Parzellen in denen sich die Trespe ausbreitet und haben verschiedene Behandlungen durchgeführt. Wichtig hierbei, wir haben auch Parzellen wo wir nichts gemacht haben, das ist dann unsere positive Kontrolle (<em>ctrl</em>).</p>
<div class="cell">
<div id="tbl-effect-trespe" class="cell quarto-float quarto-figure quarto-figure-center anchored">
<figure class="quarto-float quarto-float-tbl figure">
<figcaption class="quarto-float-caption-top quarto-float-caption quarto-float-tbl" id="tbl-effect-trespe-caption-0ceaefa1-69ba-4598-a22c-09a6ac19f8ca">
Tabelle&nbsp;23.5— Trespebefall in einem randomisierten Blockdesign mit vier Behandlungsvarianten.
</figcaption>
<div aria-describedby="tbl-effect-trespe-caption-0ceaefa1-69ba-4598-a22c-09a6ac19f8ca">
<div class="cell-output-display">
<table class="do-not-create-environment cell caption-top table table-sm table-striped small">
<thead>
<tr class="header">
<th style="text-align: center;">variante</th>
<th style="text-align: center;">block_1</th>
<th style="text-align: center;">block_2</th>
<th style="text-align: center;">block_3</th>
<th style="text-align: center;">block_4</th>
</tr>
</thead>
<tbody>
<tr class="odd">
<td style="text-align: center;">crtl</td>
<td style="text-align: center;">16.0</td>
<td style="text-align: center;">16.0</td>
<td style="text-align: center;">4.8</td>
<td style="text-align: center;">11.2</td>
</tr>
<tr class="even">
<td style="text-align: center;">2</td>
<td style="text-align: center;">4.8</td>
<td style="text-align: center;">4.0</td>
<td style="text-align: center;">0.0</td>
<td style="text-align: center;">2.4</td>
</tr>
<tr class="odd">
<td style="text-align: center;">3</td>
<td style="text-align: center;">10.4</td>
<td style="text-align: center;">2.4</td>
<td style="text-align: center;">0.0</td>
<td style="text-align: center;">0.0</td>
</tr>
<tr class="even">
<td style="text-align: center;">4</td>
<td style="text-align: center;">8.0</td>
<td style="text-align: center;">8.8</td>
<td style="text-align: center;">7.2</td>
<td style="text-align: center;">4.0</td>
</tr>
</tbody>
</table>
</div>
</div>
</figure>
</div>
</div>
<p>In der <a href="#tbl-effect-trespe-abbott" class="quarto-xref">Tabelle&nbsp;<span class="quarto-unresolved-ref">tbl-effect-trespe-abbott</span></a> haben wir dann einmal den Wirkungsgrad nach Abbott <code>wg_abbott</code> aus dem mittleren Befall über die vier Blöcke berechnet. Wir lassen hier mal weg, dass wir in einigen Parzellen mehr Befall hatten und deshab negative Wirkunsggrade. Hier hilft dann der Mittelwert.</p>
<div class="cell">
<div id="tbl-effect-trespe-abbott" class="cell quarto-float quarto-figure quarto-figure-center anchored">
<figure class="quarto-float quarto-float-tbl figure">
<figcaption class="quarto-float-caption-top quarto-float-caption quarto-float-tbl" id="tbl-effect-trespe-abbott-caption-0ceaefa1-69ba-4598-a22c-09a6ac19f8ca">
Tabelle&nbsp;23.6— Trespebefall in einem randomisierten Blockdesign mit vier Behandlungsvarianten ergänzt um den Wirkungsgrad nach Abbott <code>wg_abbott</code> berechnet aus dem mittleren Befall über die Blöcke.
</figcaption>
<div aria-describedby="tbl-effect-trespe-abbott-caption-0ceaefa1-69ba-4598-a22c-09a6ac19f8ca">
<div class="cell-output-display">
<table class="do-not-create-environment cell caption-top table table-sm table-striped small">
<thead>
<tr class="header">
<th style="text-align: center;">variante</th>
<th style="text-align: center;">block_1</th>
<th style="text-align: center;">block_2</th>
<th style="text-align: center;">block_3</th>
<th style="text-align: center;">block_4</th>
<th style="text-align: center;">mean</th>
<th style="text-align: center;">wg_abbott</th>
</tr>
</thead>
<tbody>
<tr class="odd">
<td style="text-align: center;">crtl</td>
<td style="text-align: center;">16.0</td>
<td style="text-align: center;">16.0</td>
<td style="text-align: center;">4.8</td>
<td style="text-align: center;">11.2</td>
<td style="text-align: center;">12.0</td>
<td style="text-align: center;">0.00</td>
</tr>
<tr class="even">
<td style="text-align: center;">2</td>
<td style="text-align: center;">4.8</td>
<td style="text-align: center;">4.0</td>
<td style="text-align: center;">0.0</td>
<td style="text-align: center;">2.4</td>
<td style="text-align: center;">2.8</td>
<td style="text-align: center;">0.77</td>
</tr>
<tr class="odd">
<td style="text-align: center;">3</td>
<td style="text-align: center;">10.4</td>
<td style="text-align: center;">2.4</td>
<td style="text-align: center;">0.0</td>
<td style="text-align: center;">0.0</td>
<td style="text-align: center;">3.2</td>
<td style="text-align: center;">0.73</td>
</tr>
<tr class="even">
<td style="text-align: center;">4</td>
<td style="text-align: center;">8.0</td>
<td style="text-align: center;">8.8</td>
<td style="text-align: center;">7.2</td>
<td style="text-align: center;">4.0</td>
<td style="text-align: center;">7.0</td>
<td style="text-align: center;">0.42</td>
</tr>
</tbody>
</table>
</div>
</div>
</figure>
</div>
</div>
<p>Dann das Ganze auch nochmal händisch aufbereitet und berechnet. Wir erhalten die gleichen Werte wie auch oben in der Tabelle.</p>
<p><span class="math display">\[
\begin{align}
WG_2 &amp;= \left(1 - \cfrac{2.8}{12}\right) = 0.77 \\
WG_3 &amp;= \left(1 - \cfrac{3.2}{12}\right) = 0.73 \\
WG_4 &amp;= \left(1 - \cfrac{7.0}{12}\right) = 0.42
\end{align}
\]</span></p>
<p>Jetzt wollen wir etwas tiefer in die Thematik einsteigen und müssen daher einmal die Daten umwandeln, da unsere Daten nicht im Long-Format vorliegen. Wir müssen die Daten erst noch anpassen und dann die Spalte <code>block</code> in einen Faktor umwandeln. Laden wir einmal den Datensatz in R und verwandeln das Wide-Format in das Long-Format. Dann natürlich wie immer alle Faktoren als Faktoren mutieren.</p>
<div class="cell">
<details open="" class="code-fold">
<summary>R Code [zeigen / verbergen]</summary>
<div class="sourceCode cell-code" id="cb33"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb33-1"><a href="#cb33-1" aria-hidden="true" tabindex="-1"></a>trespe_tbl <span class="ot">&lt;-</span> <span class="fu">read_excel</span>(<span class="st">"data/raubmilben_data.xlsx"</span>, <span class="at">sheet =</span> <span class="st">"trespe"</span>) <span class="sc">%&gt;%</span> </span>
<span id="cb33-2"><a href="#cb33-2" aria-hidden="true" tabindex="-1"></a>  <span class="fu">pivot_longer</span>(block_1<span class="sc">:</span>block_4,</span>
<span id="cb33-3"><a href="#cb33-3" aria-hidden="true" tabindex="-1"></a>               <span class="at">names_to =</span> <span class="st">"block"</span>,</span>
<span id="cb33-4"><a href="#cb33-4" aria-hidden="true" tabindex="-1"></a>               <span class="at">values_to =</span> <span class="st">"count"</span>) <span class="sc">%&gt;%</span> </span>
<span id="cb33-5"><a href="#cb33-5" aria-hidden="true" tabindex="-1"></a>  <span class="fu">mutate</span>(<span class="at">block =</span> <span class="fu">factor</span>(block, <span class="at">labels =</span> <span class="dv">1</span><span class="sc">:</span><span class="dv">4</span>),</span>
<span id="cb33-6"><a href="#cb33-6" aria-hidden="true" tabindex="-1"></a>         <span class="at">variante =</span> <span class="fu">as_factor</span>(variante))</span></code><button title="In die Zwischenablage kopieren" class="code-copy-button"><i class="bi"></i></button></pre></div>
</details>
</div>
<p>In der <a href="#fig-effect-1" class="quarto-xref">Abbildung&nbsp;<span class="quarto-unresolved-ref">fig-effect-1</span></a> sehen wir nochmal die orginalen, untransformierten Daten sowie die <span class="math inline">\(log\)</span>-transformierten Daten. Wir nutzen die Funktion <code>log1p()</code> um die Anzahl künstlich um 1 zu erhöhen, damit wir Nullen in den Zähldaten zum Logarithmieren vermeiden.</p>
<div class="cell page-columns page-full" data-layout-nrow="1" data-layout-align="center">
<details open="" class="code-fold">
<summary>R Code [zeigen / verbergen]</summary>
<div class="sourceCode cell-code" id="cb34"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb34-1"><a href="#cb34-1" aria-hidden="true" tabindex="-1"></a><span class="fu">ggplot</span>(trespe_tbl, <span class="fu">aes</span>(variante, count, <span class="at">fill =</span> block)) <span class="sc">+</span></span>
<span id="cb34-2"><a href="#cb34-2" aria-hidden="true" tabindex="-1"></a>  <span class="fu">theme_minimal</span>() <span class="sc">+</span></span>
<span id="cb34-3"><a href="#cb34-3" aria-hidden="true" tabindex="-1"></a>  <span class="fu">geom_dotplot</span>(<span class="at">binaxis =</span> <span class="st">"y"</span>, <span class="at">stackdir =</span> <span class="st">"center"</span>) <span class="sc">+</span></span>
<span id="cb34-4"><a href="#cb34-4" aria-hidden="true" tabindex="-1"></a>  <span class="fu">labs</span>(<span class="at">x =</span> <span class="st">"Behandlungsvariante"</span>, <span class="at">y =</span> <span class="st">"Anzahl"</span>, <span class="at">fill =</span> <span class="st">"Block"</span>) <span class="sc">+</span></span>
<span id="cb34-5"><a href="#cb34-5" aria-hidden="true" tabindex="-1"></a>  <span class="fu">scale_fill_okabeito</span>()</span>
<span id="cb34-6"><a href="#cb34-6" aria-hidden="true" tabindex="-1"></a>  </span>
<span id="cb34-7"><a href="#cb34-7" aria-hidden="true" tabindex="-1"></a><span class="fu">ggplot</span>(trespe_tbl, <span class="fu">aes</span>(variante, <span class="fu">log1p</span>(count), <span class="at">fill =</span> block)) <span class="sc">+</span></span>
<span id="cb34-8"><a href="#cb34-8" aria-hidden="true" tabindex="-1"></a>  <span class="fu">theme_minimal</span>() <span class="sc">+</span></span>
<span id="cb34-9"><a href="#cb34-9" aria-hidden="true" tabindex="-1"></a>  <span class="fu">geom_dotplot</span>(<span class="at">binaxis =</span> <span class="st">"y"</span>, <span class="at">stackdir =</span> <span class="st">"center"</span>) <span class="sc">+</span></span>
<span id="cb34-10"><a href="#cb34-10" aria-hidden="true" tabindex="-1"></a>  <span class="fu">labs</span>(<span class="at">x =</span> <span class="st">"Behandlungsvariante"</span>, <span class="at">y =</span> <span class="st">"log(Anzahl)"</span>, <span class="at">fill =</span> <span class="st">"Block"</span>) <span class="sc">+</span></span>
<span id="cb34-11"><a href="#cb34-11" aria-hidden="true" tabindex="-1"></a>  <span class="fu">scale_fill_okabeito</span>()</span></code><button title="In die Zwischenablage kopieren" class="code-copy-button"><i class="bi"></i></button></pre></div>
</details>
<div id="fig-effect-1" class="quarto-layout-panel page-columns page-full">
<figure class="quarto-float quarto-float-fig figure page-columns page-full">
<div aria-describedby="fig-effect-1-caption-0ceaefa1-69ba-4598-a22c-09a6ac19f8ca" class="page-columns page-full">
<div class="quarto-layout-row page-full">
<div class="cell-output-display quarto-layout-cell-subref quarto-layout-cell page-columns page-full" data-ref-parent="fig-effect-1" style="flex-basis: 50.0%;justify-content: center;">
<div id="fig-effect-1-1" class="quarto-float quarto-figure quarto-figure-center anchored page-columns page-full" data-fig-align="center">
<figure class="quarto-float quarto-subfloat-fig figure page-columns page-full">
<div aria-describedby="fig-effect-1-1-caption-0ceaefa1-69ba-4598-a22c-09a6ac19f8ca" class="page-columns page-full">
<a href="stat-tests-effect_files/figure-html/fig-effect-1-1.png" class="lightbox page-columns page-full" data-gallery="fig-effect-1" title="Abbildung&nbsp;23.5&nbsp;(a)— Verteilung der Werte auf der originalen Skala."><img src="stat-tests-effect_files/figure-html/fig-effect-1-1.png" class="img-fluid quarto-figure quarto-figure-center figure-img column-page" data-ref-parent="fig-effect-1" width="480"></a>
</div>
<figcaption class="quarto-float-caption-bottom quarto-subfloat-caption quarto-subfloat-fig" id="fig-effect-1-1-caption-0ceaefa1-69ba-4598-a22c-09a6ac19f8ca">
(a) Verteilung der Werte auf der originalen Skala.
</figcaption>
</figure>
</div>
</div>
<div class="cell-output-display quarto-layout-cell-subref quarto-layout-cell page-columns page-full" data-ref-parent="fig-effect-1" style="flex-basis: 50.0%;justify-content: center;">
<div id="fig-effect-1-2" class="quarto-float quarto-figure quarto-figure-center anchored page-columns page-full" data-fig-align="center">
<figure class="quarto-float quarto-subfloat-fig figure page-columns page-full">
<div aria-describedby="fig-effect-1-2-caption-0ceaefa1-69ba-4598-a22c-09a6ac19f8ca" class="page-columns page-full">
<a href="stat-tests-effect_files/figure-html/fig-effect-1-2.png" class="lightbox page-columns page-full" data-gallery="fig-effect-1" title="Abbildung&nbsp;23.5&nbsp;(b)— Verteilung der Werte auf der logarithmischen Skala. Beobachtungen mit einer 0 Zählung wurden auf 1 gesetzt."><img src="stat-tests-effect_files/figure-html/fig-effect-1-2.png" class="img-fluid quarto-figure quarto-figure-center figure-img column-page" data-ref-parent="fig-effect-1" width="480"></a>
</div>
<figcaption class="quarto-float-caption-bottom quarto-subfloat-caption quarto-subfloat-fig" id="fig-effect-1-2-caption-0ceaefa1-69ba-4598-a22c-09a6ac19f8ca">
(b) Verteilung der Werte auf der logarithmischen Skala. Beobachtungen mit einer 0 Zählung wurden auf 1 gesetzt.
</figcaption>
</figure>
</div>
</div>
</div>
</div>
<figcaption class="quarto-float-caption-bottom quarto-float-caption quarto-float-fig" id="fig-effect-1-caption-0ceaefa1-69ba-4598-a22c-09a6ac19f8ca">
Abbildung&nbsp;23.5— Dotplot der Anzahl an Trespen je Sorte und Block.
</figcaption>
</figure>
</div>
</div>
<p>Nun geht es eigentlich ganz fix den Wirkungsgrad nach Abbott mit einer linearen Poisson Regression zu berechnen. Erstmal schätzen wir eine Poissonregression mit der Anzahl der Trespen als Outcome. Es ist wichtig in der Funktion <code>glm()</code> die Option <code>family = poisson</code> zu setzen. Sonst rechnen wir auch keine Poissonregression. Wir haben hier im Prinzip die effizientere Variante vorliegen, da wir durch die Modellierung auch noch andere Einflussfaktoren mit ins Modell nehemn können als nur den Block. Da wir hier aber nichts Weiteres gemessen haben, bleibt es bei dem einfachen Modell.</p>
<div class="cell">
<details open="" class="code-fold">
<summary>R Code [zeigen / verbergen]</summary>
<div class="sourceCode cell-code" id="cb35"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb35-1"><a href="#cb35-1" aria-hidden="true" tabindex="-1"></a>fit <span class="ot">&lt;-</span> <span class="fu">glm</span>(count <span class="sc">~</span> variante <span class="sc">+</span> block, <span class="at">data =</span> trespe_tbl, <span class="at">family =</span> poisson)</span></code><button title="In die Zwischenablage kopieren" class="code-copy-button"><i class="bi"></i></button></pre></div>
</details>
</div>
<p>Wir nutzen die Schätzer aus dem Modell um mit der Funktion <code>emmeans()</code> die Raten in jeder Variante gemittelt über alle Blöcke zu berechnen. Dann müssen wir nur noch die Formel nach Abbott nutzen um jede Rate in das Verhältnis zur Rate der Kontrolle <code>rate[1]</code> zu setzen. Wir erhalten dann den Wirkungsgrad nach Abbott für unsere drei Varianten. Wie wir sehen, sind auch hier die Werte gleich.</p>
<div class="cell">
<details open="" class="code-fold">
<summary>R Code [zeigen / verbergen]</summary>
<div class="sourceCode cell-code" id="cb36"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb36-1"><a href="#cb36-1" aria-hidden="true" tabindex="-1"></a>res_trespe_tbl <span class="ot">&lt;-</span> fit <span class="sc">%&gt;%</span> </span>
<span id="cb36-2"><a href="#cb36-2" aria-hidden="true" tabindex="-1"></a>  <span class="fu">emmeans</span>(<span class="sc">~</span>variante, <span class="at">type =</span> <span class="st">"response"</span>) <span class="sc">%&gt;%</span> </span>
<span id="cb36-3"><a href="#cb36-3" aria-hidden="true" tabindex="-1"></a>  <span class="fu">tidy</span>() <span class="sc">%&gt;%</span> </span>
<span id="cb36-4"><a href="#cb36-4" aria-hidden="true" tabindex="-1"></a>  <span class="fu">mutate</span>(<span class="at">WG_abbott =</span> (rate[<span class="dv">1</span>] <span class="sc">-</span> rate)<span class="sc">/</span>rate[<span class="dv">1</span>],</span>
<span id="cb36-5"><a href="#cb36-5" aria-hidden="true" tabindex="-1"></a>         <span class="at">WG_abbott_per =</span> <span class="fu">percent</span>(WG_abbott)) <span class="sc">%&gt;%</span> </span>
<span id="cb36-6"><a href="#cb36-6" aria-hidden="true" tabindex="-1"></a>  <span class="fu">select</span>(variante, rate, WG_abbott, WG_abbott_per)</span>
<span id="cb36-7"><a href="#cb36-7" aria-hidden="true" tabindex="-1"></a>res_trespe_tbl</span></code><button title="In die Zwischenablage kopieren" class="code-copy-button"><i class="bi"></i></button></pre></div>
</details>
<div class="cell-output cell-output-stdout">
<pre><code># A tibble: 4 × 4
  variante  rate WG_abbott WG_abbott_per
  &lt;chr&gt;    &lt;dbl&gt;     &lt;dbl&gt; &lt;chr&gt;        
1 crtl     10.8      0     0.0%         
2 2         2.52     0.767 76.7%        
3 3         2.89     0.733 73.3%        
4 4         6.31     0.417 41.7%        </code></pre>
</div>
</div>
<p>Damit haben wir den Wirkungsgard <span class="math inline">\(WG_{abbott}\)</span> für unser Trepsenbeispiel einmal berechnet. Die Interpretation ist dann eigentlich sehr intuitiv. Wir haben zum Beispiel bei Variante 2 einen Wirkungsgrad von 76.7% der Kontrolle und somit auch eine Reduzierung von 76.7% der Trepsen auf unseren Parzellen im Vergleich zur Kontrolle.</p>
<p>Wir können auch einfach testen, ob sich die Kontrolle von den anderen Varianten sich unterscheidet. Wir nutzen dafür wieder die Funktion <code>emmeans()</code> und vergleichen alle Varianten zu der Kontrolle. Da die Kontrolle in der ersten Zeile steht bzw. das erste Level des Faktors <code>variante</code> ist, müssen wir noch die Referenz mit <code>ref = 1</code> setzen.</p>
<div class="cell">
<details open="" class="code-fold">
<summary>R Code [zeigen / verbergen]</summary>
<div class="sourceCode cell-code" id="cb38"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb38-1"><a href="#cb38-1" aria-hidden="true" tabindex="-1"></a>fit <span class="sc">%&gt;%</span> </span>
<span id="cb38-2"><a href="#cb38-2" aria-hidden="true" tabindex="-1"></a>  <span class="fu">emmeans</span>(trt.vs.ctrlk <span class="sc">~</span> variante, <span class="at">type =</span> <span class="st">"response"</span>, <span class="at">ref =</span> <span class="dv">1</span>) <span class="sc">%&gt;%</span> </span>
<span id="cb38-3"><a href="#cb38-3" aria-hidden="true" tabindex="-1"></a>  <span class="fu">pluck</span>(<span class="st">"contrasts"</span>)</span></code><button title="In die Zwischenablage kopieren" class="code-copy-button"><i class="bi"></i></button></pre></div>
</details>
<div class="cell-output cell-output-stdout">
<pre><code> contrast ratio     SE  df null z.ratio p.value
 2 / crtl 0.233 0.0774 Inf    1  -4.385  &lt;.0001
 3 / crtl 0.267 0.0839 Inf    1  -4.202  0.0001
 4 / crtl 0.583 0.1390 Inf    1  -2.267  0.0633

Results are averaged over the levels of: block 
P value adjustment: dunnettx method for 3 tests 
Tests are performed on the log scale </code></pre>
</div>
</div>
<p>Wir wir sehen, sind alle Varianten, bis auf die Variante 4, signifikant unterschiedlich zu der Kontrolle. Nun könnten wir uns auch Fragen in wie weit sich die Wirkungsgrade untereinander unterscheiden. Dafür müssen wir dann die Anteile mit der Funktion <code>pairwise.prop.test()</code> paarweise Vergleichen. Da wir natürlich auf die Kontrolle standardisieren hat der Vergleich mit der Kontrolle nur so halbwegs Sinn, mag aber von Interesse sein.</p>
<div class="cell">
<details open="" class="code-fold">
<summary>R Code [zeigen / verbergen]</summary>
<div class="sourceCode cell-code" id="cb40"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb40-1"><a href="#cb40-1" aria-hidden="true" tabindex="-1"></a><span class="fu">pairwise.prop.test</span>(<span class="at">x =</span> res_trespe_tbl<span class="sc">$</span>WG_abbott <span class="sc">*</span> <span class="dv">100</span>, </span>
<span id="cb40-2"><a href="#cb40-2" aria-hidden="true" tabindex="-1"></a>                   <span class="at">n =</span> <span class="fu">c</span>(<span class="dv">100</span>, <span class="dv">100</span>, <span class="dv">100</span>, <span class="dv">100</span>),</span>
<span id="cb40-3"><a href="#cb40-3" aria-hidden="true" tabindex="-1"></a>                   <span class="at">p.adjust.method =</span> <span class="st">"none"</span>) </span></code><button title="In die Zwischenablage kopieren" class="code-copy-button"><i class="bi"></i></button></pre></div>
</details>
<div class="cell-output cell-output-stdout">
<pre><code>
    Pairwise comparisons using Pairwise comparison of proportions 

data:  res_trespe_tbl$WG_abbott * 100 out of c(100, 100, 100, 100) 

  1       2       3      
2 &lt; 2e-16 -       -      
3 &lt; 2e-16 0.7     -      
4 1.4e-12 1.0e-06 1.2e-05

P value adjustment method: none </code></pre>
</div>
</div>
<p>Wir sehen, dass sich alle Varianten in ihrem Wirkungsgrad von der Kontrolle unterscheiden, die Kontrolle hat hier die ID 1. Die Variante 4 unterscheidet sich von allen anderen Varianten in ihrem Wirkungsgrad.</p>
<p>Im zweiten Beispiel wollen wir uns mit dem geometrischen Mittel <span class="math inline">\(WG_{geometric}\)</span> als Schätzer für den Wirkungsgrad beschäftigen. Hier kochen wir dann einmal die Veröffentlichung von <span class="citation" data-cites="finner1989berechnung">Finner et al. (<a href="#ref-finner1989berechnung" role="doc-biblioref">1989</a>)</span> nach. Dafür brauchen wir einmal die Daten zu den Raubmilben, die ich schon als Exceldatei aufbereitet habe. Wie immer sind die Rohdaten im Wide-Format, wir müssen aber im Long-Format rechnen. Da bauen wir uns also einmal schnell die Daten um. Dann wollen wir noch die Anzahlen der Raubmilben logarithmieren, so dass wir jede Anzahl um 1 erhöhen um logarithmierte Nullen zu vermeiden. Das ganze machen wir dann in einem Rutsch mit der Funktion <code>log1p()</code>.</p>
<div class="cell">
<details open="" class="code-fold">
<summary>R Code [zeigen / verbergen]</summary>
<div class="sourceCode cell-code" id="cb42"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb42-1"><a href="#cb42-1" aria-hidden="true" tabindex="-1"></a>mite_tbl <span class="ot">&lt;-</span> <span class="fu">read_excel</span>(<span class="st">"data/raubmilben_data.xlsx"</span>, <span class="at">sheet =</span> <span class="st">"mite"</span>) <span class="sc">%&gt;%</span> </span>
<span id="cb42-2"><a href="#cb42-2" aria-hidden="true" tabindex="-1"></a>  <span class="fu">pivot_longer</span>(block_1<span class="sc">:</span>block_5,</span>
<span id="cb42-3"><a href="#cb42-3" aria-hidden="true" tabindex="-1"></a>               <span class="at">names_to =</span> <span class="st">"block"</span>,</span>
<span id="cb42-4"><a href="#cb42-4" aria-hidden="true" tabindex="-1"></a>               <span class="at">values_to =</span> <span class="st">"count"</span>) <span class="sc">%&gt;%</span> </span>
<span id="cb42-5"><a href="#cb42-5" aria-hidden="true" tabindex="-1"></a>  <span class="fu">mutate</span>(<span class="at">block =</span> <span class="fu">factor</span>(block, <span class="at">labels =</span> <span class="dv">1</span><span class="sc">:</span><span class="dv">5</span>),</span>
<span id="cb42-6"><a href="#cb42-6" aria-hidden="true" tabindex="-1"></a>         <span class="at">sorte =</span> <span class="fu">as_factor</span>(sorte),</span>
<span id="cb42-7"><a href="#cb42-7" aria-hidden="true" tabindex="-1"></a>         <span class="at">log_count =</span> <span class="fu">log1p</span>(count))</span></code><button title="In die Zwischenablage kopieren" class="code-copy-button"><i class="bi"></i></button></pre></div>
</details>
</div>
<div class="cell">
<div id="tbl-effect-mite" class="cell quarto-float quarto-figure quarto-figure-center anchored">
<figure class="quarto-float quarto-float-tbl figure">
<figcaption class="quarto-float-caption-top quarto-float-caption quarto-float-tbl" id="tbl-effect-mite-caption-0ceaefa1-69ba-4598-a22c-09a6ac19f8ca">
Tabelle&nbsp;23.7— Raubmilbenbefall auf acht Sorten und einer Kontrolle.
</figcaption>
<div aria-describedby="tbl-effect-mite-caption-0ceaefa1-69ba-4598-a22c-09a6ac19f8ca">
<div class="cell-output-display">
<table class="do-not-create-environment cell caption-top table table-sm table-striped small">
<thead>
<tr class="header">
<th style="text-align: center;">sorte</th>
<th style="text-align: center;">block_1</th>
<th style="text-align: center;">block_2</th>
<th style="text-align: center;">block_3</th>
<th style="text-align: center;">block_4</th>
<th style="text-align: center;">block_5</th>
</tr>
</thead>
<tbody>
<tr class="odd">
<td style="text-align: center;">1</td>
<td style="text-align: center;">0</td>
<td style="text-align: center;">2</td>
<td style="text-align: center;">2</td>
<td style="text-align: center;">21</td>
<td style="text-align: center;">0</td>
</tr>
<tr class="even">
<td style="text-align: center;">2</td>
<td style="text-align: center;">302</td>
<td style="text-align: center;">108</td>
<td style="text-align: center;">64</td>
<td style="text-align: center;">23</td>
<td style="text-align: center;">49</td>
</tr>
<tr class="odd">
<td style="text-align: center;">3</td>
<td style="text-align: center;">59</td>
<td style="text-align: center;">51</td>
<td style="text-align: center;">59</td>
<td style="text-align: center;">1</td>
<td style="text-align: center;">26</td>
</tr>
<tr class="even">
<td style="text-align: center;">4</td>
<td style="text-align: center;">64</td>
<td style="text-align: center;">154</td>
<td style="text-align: center;">41</td>
<td style="text-align: center;">27</td>
<td style="text-align: center;">41</td>
</tr>
<tr class="odd">
<td style="text-align: center;">5</td>
<td style="text-align: center;">45</td>
<td style="text-align: center;">141</td>
<td style="text-align: center;">51</td>
<td style="text-align: center;">70</td>
<td style="text-align: center;">37</td>
</tr>
<tr class="even">
<td style="text-align: center;">6</td>
<td style="text-align: center;">58</td>
<td style="text-align: center;">240</td>
<td style="text-align: center;">140</td>
<td style="text-align: center;">27</td>
<td style="text-align: center;">11</td>
</tr>
<tr class="odd">
<td style="text-align: center;">7</td>
<td style="text-align: center;">1</td>
<td style="text-align: center;">2</td>
<td style="text-align: center;">3</td>
<td style="text-align: center;">8</td>
<td style="text-align: center;">16</td>
</tr>
<tr class="even">
<td style="text-align: center;">8</td>
<td style="text-align: center;">4</td>
<td style="text-align: center;">1</td>
<td style="text-align: center;">0</td>
<td style="text-align: center;">0</td>
<td style="text-align: center;">1</td>
</tr>
<tr class="odd">
<td style="text-align: center;">ctrl</td>
<td style="text-align: center;">46</td>
<td style="text-align: center;">32</td>
<td style="text-align: center;">62</td>
<td style="text-align: center;">90</td>
<td style="text-align: center;">20</td>
</tr>
</tbody>
</table>
</div>
</div>
</figure>
</div>
</div>
<p>Schauen wir uns einmal die Daten in der <a href="#fig-effect-2" class="quarto-xref">Abbildung&nbsp;<span class="quarto-unresolved-ref">fig-effect-2</span></a> an. Wichtig ist, dass wir usn merken, dass in unseren Daten jetzt die Kontrolle an der neuten Position ist. Das ist eben in diesen Daen so, ich hätte die Sortierung dann anders gemacht. Aber wir arbeiten hier mit dem was wir vorliegen haben.</p>
<div class="cell page-columns page-full" data-layout-nrow="1" data-layout-align="center">
<details open="" class="code-fold">
<summary>R Code [zeigen / verbergen]</summary>
<div class="sourceCode cell-code" id="cb43"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb43-1"><a href="#cb43-1" aria-hidden="true" tabindex="-1"></a><span class="fu">ggplot</span>(mite_tbl, <span class="fu">aes</span>(sorte, count, <span class="at">fill =</span> block)) <span class="sc">+</span></span>
<span id="cb43-2"><a href="#cb43-2" aria-hidden="true" tabindex="-1"></a>  <span class="fu">theme_minimal</span>() <span class="sc">+</span></span>
<span id="cb43-3"><a href="#cb43-3" aria-hidden="true" tabindex="-1"></a>  <span class="fu">geom_dotplot</span>(<span class="at">binaxis =</span> <span class="st">"y"</span>, <span class="at">stackdir =</span> <span class="st">"center"</span>) <span class="sc">+</span></span>
<span id="cb43-4"><a href="#cb43-4" aria-hidden="true" tabindex="-1"></a>  <span class="fu">labs</span>(<span class="at">x =</span> <span class="st">"Sorten"</span>, <span class="at">y =</span> <span class="st">"Anzahl"</span>, <span class="at">fill =</span> <span class="st">"Block"</span>) <span class="sc">+</span></span>
<span id="cb43-5"><a href="#cb43-5" aria-hidden="true" tabindex="-1"></a>  <span class="fu">scale_fill_okabeito</span>()</span>
<span id="cb43-6"><a href="#cb43-6" aria-hidden="true" tabindex="-1"></a>  </span>
<span id="cb43-7"><a href="#cb43-7" aria-hidden="true" tabindex="-1"></a><span class="fu">ggplot</span>(mite_tbl, <span class="fu">aes</span>(sorte, <span class="fu">log1p</span>(count), <span class="at">fill =</span> block)) <span class="sc">+</span></span>
<span id="cb43-8"><a href="#cb43-8" aria-hidden="true" tabindex="-1"></a>  <span class="fu">theme_minimal</span>() <span class="sc">+</span></span>
<span id="cb43-9"><a href="#cb43-9" aria-hidden="true" tabindex="-1"></a>  <span class="fu">geom_dotplot</span>(<span class="at">binaxis =</span> <span class="st">"y"</span>, <span class="at">stackdir =</span> <span class="st">"center"</span>) <span class="sc">+</span></span>
<span id="cb43-10"><a href="#cb43-10" aria-hidden="true" tabindex="-1"></a>  <span class="fu">labs</span>(<span class="at">x =</span> <span class="st">"Sorten"</span>, <span class="at">y =</span> <span class="st">"log(Anzahl)"</span>, <span class="at">fill =</span> <span class="st">"Block"</span>) <span class="sc">+</span></span>
<span id="cb43-11"><a href="#cb43-11" aria-hidden="true" tabindex="-1"></a>  <span class="fu">scale_fill_okabeito</span>()</span></code><button title="In die Zwischenablage kopieren" class="code-copy-button"><i class="bi"></i></button></pre></div>
</details>
<div id="fig-effect-2" class="quarto-layout-panel page-columns page-full">
<figure class="quarto-float quarto-float-fig figure page-columns page-full">
<div aria-describedby="fig-effect-2-caption-0ceaefa1-69ba-4598-a22c-09a6ac19f8ca" class="page-columns page-full">
<div class="quarto-layout-row page-full">
<div class="cell-output-display quarto-layout-cell-subref quarto-layout-cell page-columns page-full" data-ref-parent="fig-effect-2" style="flex-basis: 50.0%;justify-content: center;">
<div id="fig-effect-2-1" class="quarto-float quarto-figure quarto-figure-center anchored page-columns page-full" data-fig-align="center">
<figure class="quarto-float quarto-subfloat-fig figure page-columns page-full">
<div aria-describedby="fig-effect-2-1-caption-0ceaefa1-69ba-4598-a22c-09a6ac19f8ca" class="page-columns page-full">
<a href="stat-tests-effect_files/figure-html/fig-effect-2-1.png" class="lightbox page-columns page-full" data-gallery="fig-effect-2" title="Abbildung&nbsp;23.6&nbsp;(a)— Verteilung der Werte auf der originalen Skala."><img src="stat-tests-effect_files/figure-html/fig-effect-2-1.png" class="img-fluid quarto-figure quarto-figure-center figure-img column-page" data-ref-parent="fig-effect-2" width="480"></a>
</div>
<figcaption class="quarto-float-caption-bottom quarto-subfloat-caption quarto-subfloat-fig" id="fig-effect-2-1-caption-0ceaefa1-69ba-4598-a22c-09a6ac19f8ca">
(a) Verteilung der Werte auf der originalen Skala.
</figcaption>
</figure>
</div>
</div>
<div class="cell-output-display quarto-layout-cell-subref quarto-layout-cell page-columns page-full" data-ref-parent="fig-effect-2" style="flex-basis: 50.0%;justify-content: center;">
<div id="fig-effect-2-2" class="quarto-float quarto-figure quarto-figure-center anchored page-columns page-full" data-fig-align="center">
<figure class="quarto-float quarto-subfloat-fig figure page-columns page-full">
<div aria-describedby="fig-effect-2-2-caption-0ceaefa1-69ba-4598-a22c-09a6ac19f8ca" class="page-columns page-full">
<a href="stat-tests-effect_files/figure-html/fig-effect-2-2.png" class="lightbox page-columns page-full" data-gallery="fig-effect-2" title="Abbildung&nbsp;23.6&nbsp;(b)— Verteilung der Werte auf der logarithmischen Skala. Beobachtungen mit einer 0 Zählung wurden auf 1 gesetzt."><img src="stat-tests-effect_files/figure-html/fig-effect-2-2.png" class="img-fluid quarto-figure quarto-figure-center figure-img column-page" data-ref-parent="fig-effect-2" width="480"></a>
</div>
<figcaption class="quarto-float-caption-bottom quarto-subfloat-caption quarto-subfloat-fig" id="fig-effect-2-2-caption-0ceaefa1-69ba-4598-a22c-09a6ac19f8ca">
(b) Verteilung der Werte auf der logarithmischen Skala. Beobachtungen mit einer 0 Zählung wurden auf 1 gesetzt.
</figcaption>
</figure>
</div>
</div>
</div>
</div>
<figcaption class="quarto-float-caption-bottom quarto-float-caption quarto-float-fig" id="fig-effect-2-caption-0ceaefa1-69ba-4598-a22c-09a6ac19f8ca">
Abbildung&nbsp;23.6— Dotplot der Anzahl an Raubmilden je Sorte und Block.
</figcaption>
</figure>
</div>
</div>
<p>Wir brauchen jetzt eine Helferfunktion, die uns aus <span class="math inline">\(Pr\)</span> die Gegenwahrscheinlichkeit <span class="math inline">\(1 - Pr\)</span> berechnet. Auch wollen wir dann die Prozentangabe der Gegenwahrscheinlichkeit, also die Gegenwahrscheinlichkeit <span class="math inline">\(1 - Pr\)</span> multipliziert mit Einhundert. Dann brauchen wir als Variable noch die Gruppengröße <span class="math inline">\(n_g\)</span>, die bei uns ja bei 5 liegt. Wir haben pro Sorte fünf Beobachtungen je Block.</p>
<div class="cell">
<details open="" class="code-fold">
<summary>R Code [zeigen / verbergen]</summary>
<div class="sourceCode cell-code" id="cb44"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb44-1"><a href="#cb44-1" aria-hidden="true" tabindex="-1"></a>get_q <span class="ot">&lt;-</span> <span class="cf">function</span>(x){<span class="dv">100</span> <span class="sc">*</span> (<span class="dv">1</span> <span class="sc">-</span> x)}</span>
<span id="cb44-2"><a href="#cb44-2" aria-hidden="true" tabindex="-1"></a>n_group <span class="ot">&lt;-</span> <span class="dv">5</span></span></code><button title="In die Zwischenablage kopieren" class="code-copy-button"><i class="bi"></i></button></pre></div>
</details>
</div>
<p>Wir nutezn jetzt das <a href="#sec-desc-stat-geometric">geometrisches Mittel</a> um den Effekt der Behandlung bzw. Sorte im Verhältnis zur Kontrolle zu berechnen. Hierbei ist es wichtig sich zu erinnern, dass wir nicht alle paarweisen Vergleiche rechnen, sondern nur jede Sorte <span class="math inline">\(j\)</span> zu der Kontrolle <span class="math inline">\(ctrl\)</span> vergleichen. Dabei nutzen wir dann das Verhältnis der geometrisches Mittel um zu Beschreiben um wie viel weniger Befall mit Raubmilden wir in den Sorten <span class="math inline">\(y_j\)</span> im Verhältnis zur Kontrolle <span class="math inline">\(y_{ctrl}\)</span> vorliegen haben.</p>
<p><span class="math display">\[
\Delta_{geometric} = \left(\cfrac{\prod_{i=1}^n y_j}{\prod_{i=1}^n y_{ctrl}}\right)^{1/n_j} \mbox{ für Sorte } j
\]</span></p>
<p>Berechnen wir also als erstes einmal das Produkt aller gezählten Raubmilden pro Sorte und speichern das Ergebnis in der Spalte <code>prod</code>.</p>
<div class="cell">
<details open="" class="code-fold">
<summary>R Code [zeigen / verbergen]</summary>
<div class="sourceCode cell-code" id="cb45"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb45-1"><a href="#cb45-1" aria-hidden="true" tabindex="-1"></a>mite_wg_gemetric_tbl <span class="ot">&lt;-</span> mite_tbl <span class="sc">%&gt;%</span> </span>
<span id="cb45-2"><a href="#cb45-2" aria-hidden="true" tabindex="-1"></a>  <span class="fu">mutate</span>(<span class="at">count =</span> count <span class="sc">+</span> <span class="dv">1</span>) <span class="sc">%&gt;%</span> </span>
<span id="cb45-3"><a href="#cb45-3" aria-hidden="true" tabindex="-1"></a>  <span class="fu">group_by</span>(sorte) <span class="sc">%&gt;%</span> </span>
<span id="cb45-4"><a href="#cb45-4" aria-hidden="true" tabindex="-1"></a>  <span class="fu">summarise</span>(<span class="at">prod =</span> <span class="fu">prod</span>(count)) </span>
<span id="cb45-5"><a href="#cb45-5" aria-hidden="true" tabindex="-1"></a>mite_wg_gemetric_tbl</span></code><button title="In die Zwischenablage kopieren" class="code-copy-button"><i class="bi"></i></button></pre></div>
</details>
<div class="cell-output cell-output-stdout">
<pre><code># A tibble: 9 × 2
  sorte       prod
  &lt;fct&gt;      &lt;dbl&gt;
1 1            198
2 2     2576106000
3 3       10108800
4 4      497624400
5 5      916413472
6 6      673639344
7 7           3672
8 8             20
9 ctrl   186729543</code></pre>
</div>
</div>
<p>Jetzt können wir im nächsten Schritt einmal das <span class="math inline">\(\Delta_{geometric}\)</span> berechnen und dann den Wirkungsgrad über die Gegenwahrscheinlichkeit. Wichtig ist hier, dass die Kontrolle in der neunten Zeile ist. Daher teilen wir immer durch das Produkt an neunter Position mit <code>prod[9]</code>. Wir sehen ganz klar, das wir ein Delta von 1 für die Kontrolle erhalten, da wir ja die Kontrolle ins Verhältnis zur Kontrolle setzen. Damit sollte der Rest auch geklappt haben. Den Wirkungsgrad der Sorten in Prozent gegen Raubmilbenbefall im Verhältnis zur Kontrolle können wir dann direkt ablesen. Die Funktion <code>percent()</code> berechnet uns aus den Gegenwahrscheinlichkeiten dann gleich die Prozent. Wir brauchen daher hier noch nicht unsere Funktion <code>get_q()</code>.</p>
<div class="cell">
<details open="" class="code-fold">
<summary>R Code [zeigen / verbergen]</summary>
<div class="sourceCode cell-code" id="cb47"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb47-1"><a href="#cb47-1" aria-hidden="true" tabindex="-1"></a>mite_wg_gemetric_tbl <span class="sc">%&gt;%</span> </span>
<span id="cb47-2"><a href="#cb47-2" aria-hidden="true" tabindex="-1"></a>  <span class="fu">mutate</span>(<span class="at">delta_geometric =</span> (prod<span class="sc">/</span>prod[<span class="dv">9</span>])<span class="sc">^</span>(<span class="dv">1</span><span class="sc">/</span>n_group),</span>
<span id="cb47-3"><a href="#cb47-3" aria-hidden="true" tabindex="-1"></a>         <span class="at">WG_geometric =</span> <span class="fu">percent</span>(<span class="dv">1</span> <span class="sc">-</span> delta_geometric))</span></code><button title="In die Zwischenablage kopieren" class="code-copy-button"><i class="bi"></i></button></pre></div>
</details>
<div class="cell-output cell-output-stdout">
<pre><code># A tibble: 9 × 4
  sorte       prod delta_geometric WG_geometric
  &lt;fct&gt;      &lt;dbl&gt;           &lt;dbl&gt; &lt;chr&gt;       
1 1            198          0.0638 93.6%       
2 2     2576106000          1.69   -69.0%      
3 3       10108800          0.558  44.2%       
4 4      497624400          1.22   -21.7%      
5 5      916413472          1.37   -37.5%      
6 6      673639344          1.29   -29.3%      
7 7           3672          0.114  88.6%       
8 8             20          0.0404 96.0%       
9 ctrl   186729543          1      0.0%        </code></pre>
</div>
</div>
<p>Soweit haben wir erstmal nur eine andere Variante des Wirkungsgrades berechnet. Im Gegensatz zu der Berechnung nach <span class="citation" data-cites="abbott1925method">Abbott et al. (<a href="#ref-abbott1925method" role="doc-biblioref">1925</a>)</span> können wir aber bei den geometrischen Wirkungsgrad auch ein einseitiges 95% Konfidenzintervall <span class="math inline">\([-\infty; upper]\)</span> angeben. Dafür müssen wir erstmal den Exponenten <span class="math inline">\(a\)</span> berechnen und mit diesem dann die obere Konfidenzschranke <span class="math inline">\(upper\)</span>. Dafür brauchen wir dann doch ein paar statistische Maßzahlen.</p>
<p><span class="math display">\[
\begin{align}
a &amp;= \sqrt{2/n} \cdot s \cdot t_{\alpha=5\%} + \ln(1 - \Delta_{geometric})\\
upper &amp;= 1 - e^a
\end{align}
\]</span></p>
<p>Wir brauchen zum einen die Freiheitsgrade der Residuen <code>df.residual</code> sowie den Standardfehler der Residuen <code>sigma</code> oder <span class="math inline">\(s\)</span>. Beides erhalten wir aus einem linearen Modell auf den logarithmierten Anzahlen der Raubmilben.</p>
<div class="cell">
<details open="" class="code-fold">
<summary>R Code [zeigen / verbergen]</summary>
<div class="sourceCode cell-code" id="cb49"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb49-1"><a href="#cb49-1" aria-hidden="true" tabindex="-1"></a>residual_tbl <span class="ot">&lt;-</span> <span class="fu">lm</span>(log_count <span class="sc">~</span> sorte <span class="sc">+</span> block, <span class="at">data =</span> mite_tbl) <span class="sc">%&gt;%</span> </span>
<span id="cb49-2"><a href="#cb49-2" aria-hidden="true" tabindex="-1"></a>  <span class="fu">glance</span>() <span class="sc">%&gt;%</span> </span>
<span id="cb49-3"><a href="#cb49-3" aria-hidden="true" tabindex="-1"></a>  <span class="fu">select</span>(df.residual, sigma)</span>
<span id="cb49-4"><a href="#cb49-4" aria-hidden="true" tabindex="-1"></a>residual_tbl</span></code><button title="In die Zwischenablage kopieren" class="code-copy-button"><i class="bi"></i></button></pre></div>
</details>
<div class="cell-output cell-output-stdout">
<pre><code># A tibble: 1 × 2
  df.residual sigma
        &lt;int&gt; &lt;dbl&gt;
1          32 0.962</code></pre>
</div>
</div>
<p>Mit den Freiheitsgraden der Residuen können wir jetzt den kritischen Wert <span class="math inline">\(t_{\alpha = 5\%}\)</span> aus der <span class="math inline">\(t\)</span>-Verteilung berechnen.</p>
<div class="cell">
<details open="" class="code-fold">
<summary>R Code [zeigen / verbergen]</summary>
<div class="sourceCode cell-code" id="cb51"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb51-1"><a href="#cb51-1" aria-hidden="true" tabindex="-1"></a>t_quantile <span class="ot">&lt;-</span> <span class="fu">qt</span>(<span class="at">p =</span> <span class="fl">0.05</span>, <span class="at">df =</span> residual_tbl<span class="sc">$</span>df.residual, <span class="at">lower.tail =</span> <span class="cn">FALSE</span>)</span>
<span id="cb51-2"><a href="#cb51-2" aria-hidden="true" tabindex="-1"></a>t_quantile</span></code><button title="In die Zwischenablage kopieren" class="code-copy-button"><i class="bi"></i></button></pre></div>
</details>
<div class="cell-output cell-output-stdout">
<pre><code>[1] 1.693889</code></pre>
</div>
</div>
<p>Wir können jetzt unseren Datensatz <code>mite_wg_gemetric_tbl</code> um die Spalte mit den Werten des Exponenten <span class="math inline">\(a\)</span> ergänzen und aus diesem dann die obere Schranke des einseitigen 95% Konfidenzintervall berechnen. Die Werte für die Kontrolle ergeben keinen biologischen Sinn und sind ein mathematisches Artefakt. Wir kriegen halt immer irgendwelche Zahlen raus.</p>
<div class="cell">
<details open="" class="code-fold">
<summary>R Code [zeigen / verbergen]</summary>
<div class="sourceCode cell-code" id="cb53"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb53-1"><a href="#cb53-1" aria-hidden="true" tabindex="-1"></a>mite_res_tbl <span class="ot">&lt;-</span> mite_wg_gemetric_tbl <span class="sc">%&gt;%</span> </span>
<span id="cb53-2"><a href="#cb53-2" aria-hidden="true" tabindex="-1"></a>  <span class="fu">mutate</span>(<span class="at">delta_geometric =</span> (prod<span class="sc">/</span>prod[<span class="dv">9</span>])<span class="sc">^</span>(<span class="dv">1</span><span class="sc">/</span>n_group),</span>
<span id="cb53-3"><a href="#cb53-3" aria-hidden="true" tabindex="-1"></a>         <span class="at">WG_geometric =</span> <span class="fu">get_q</span>(delta_geometric),</span>
<span id="cb53-4"><a href="#cb53-4" aria-hidden="true" tabindex="-1"></a>         <span class="at">a =</span> <span class="fu">sqrt</span>(<span class="dv">2</span><span class="sc">/</span>n_group) <span class="sc">*</span> residual_tbl<span class="sc">$</span>sigma <span class="sc">*</span> t_quantile <span class="sc">+</span> <span class="fu">log</span>(delta_geometric),</span>
<span id="cb53-5"><a href="#cb53-5" aria-hidden="true" tabindex="-1"></a>         <span class="at">upper =</span> <span class="fu">get_q</span>(<span class="fu">exp</span>(a)))</span>
<span id="cb53-6"><a href="#cb53-6" aria-hidden="true" tabindex="-1"></a>mite_res_tbl</span></code><button title="In die Zwischenablage kopieren" class="code-copy-button"><i class="bi"></i></button></pre></div>
</details>
<div class="cell-output cell-output-stdout">
<pre><code># A tibble: 9 × 6
  sorte       prod delta_geometric WG_geometric      a  upper
  &lt;fct&gt;      &lt;dbl&gt;           &lt;dbl&gt;        &lt;dbl&gt;  &lt;dbl&gt;  &lt;dbl&gt;
1 1            198          0.0638         93.6 -1.72    82.1
2 2     2576106000          1.69          -69.0  1.56  -374. 
3 3       10108800          0.558          44.2  0.447  -56.4
4 4      497624400          1.22          -21.7  1.23  -241. 
5 5      916413472          1.37          -37.5  1.35  -285. 
6 6      673639344          1.29          -29.3  1.29  -262. 
7 7           3672          0.114          88.6 -1.14    67.9
8 8             20          0.0404         96.0 -2.18    88.7
9 ctrl   186729543          1               0    1.03  -180. </code></pre>
</div>
</div>
<p>Wir räumen nochmal die Ausgabe auf und konzentrieren uns auf die Spalten und runden einmal die Ergebnisse.</p>
<div class="cell">
<details open="" class="code-fold">
<summary>R Code [zeigen / verbergen]</summary>
<div class="sourceCode cell-code" id="cb55"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb55-1"><a href="#cb55-1" aria-hidden="true" tabindex="-1"></a>mite_res_tbl <span class="sc">%&gt;%</span> </span>
<span id="cb55-2"><a href="#cb55-2" aria-hidden="true" tabindex="-1"></a>  <span class="fu">select</span>(sorte, WG_geometric, upper) <span class="sc">%&gt;%</span> </span>
<span id="cb55-3"><a href="#cb55-3" aria-hidden="true" tabindex="-1"></a>  <span class="fu">mutate</span>(<span class="fu">across</span>(<span class="fu">where</span>(is.numeric), <span class="sc">~</span><span class="fu">round</span>(.x, <span class="dv">2</span>))) </span></code><button title="In die Zwischenablage kopieren" class="code-copy-button"><i class="bi"></i></button></pre></div>
</details>
<div class="cell-output cell-output-stdout">
<pre><code># A tibble: 9 × 3
  sorte WG_geometric  upper
  &lt;fct&gt;        &lt;dbl&gt;  &lt;dbl&gt;
1 1             93.6   82.1
2 2            -69.0 -374. 
3 3             44.2  -56.4
4 4            -21.7 -241. 
5 5            -37.5 -285. 
6 6            -29.2 -262. 
7 7             88.6   67.9
8 8             96.0   88.7
9 ctrl           0   -180. </code></pre>
</div>
</div>
<p>Wir können wir jetzt das einseitige 95% Konfidenzintervall interpretieren? In der Sorte 1 erhalten wir einen Wirkungsgrad von 93.6% und mit 95% Sicherheit mindestens einen Wirkungsgrad von 82.1%. Damit haben wir auch eine untere Schranke für unseren Wirkungsgradschätzer. Wir berichten für die Sorte 1 einen Wirkungsgrad von 93.6% [<span class="math inline">\(-\infty\)</span>; 82.1%].</p>
<p>Genauso können wir aber auch den Wirkungsgrad nach <span class="citation" data-cites="abbott1925method">Abbott et al. (<a href="#ref-abbott1925method" role="doc-biblioref">1925</a>)</span> nochmal auf den Daten berechnen. Dafür müssen wir nur eine Poissonregression auf der Anzahl der Raubmilben rechnen. Die angepassten Werte können wir dann verwenden um den <span class="math inline">\(WG_{abbott}\)</span> zu schätzen.</p>
<div class="cell">
<details open="" class="code-fold">
<summary>R Code [zeigen / verbergen]</summary>
<div class="sourceCode cell-code" id="cb57"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb57-1"><a href="#cb57-1" aria-hidden="true" tabindex="-1"></a>fit <span class="ot">&lt;-</span> <span class="fu">glm</span>(count <span class="sc">~</span> sorte <span class="sc">+</span> block, <span class="at">data =</span> mite_tbl, <span class="at">family =</span> poisson)</span></code><button title="In die Zwischenablage kopieren" class="code-copy-button"><i class="bi"></i></button></pre></div>
</details>
</div>
<p>Wir nutzen hier dann die Funktion <code>emmeans()</code> um die mittlere Anzahl an Raubmilben über alle Blöcke zu ermitteln. Dann können wir auch schon den <span class="math inline">\(WG_{abbott}\)</span> berechnen. Wichtig ist hier, dass die Referenzkategorie mit der Kontrolle an der neunten Stelle bzw. Zeile steht. Deshalb müssen wir auch hier durch <code>prod[9]</code> teilen. Achtung, die <span class="math inline">\(p\)</span>-Werte haben hier keine tiefere Bedeutung im Bezug auf den Wirkungsgrad und deshalb schauen wir uns diese Werte auch gar nicht tiefer an.</p>
<div class="cell">
<details open="" class="code-fold">
<summary>R Code [zeigen / verbergen]</summary>
<div class="sourceCode cell-code" id="cb58"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb58-1"><a href="#cb58-1" aria-hidden="true" tabindex="-1"></a>res_mite_tbl <span class="ot">&lt;-</span> fit <span class="sc">%&gt;%</span> </span>
<span id="cb58-2"><a href="#cb58-2" aria-hidden="true" tabindex="-1"></a>  <span class="fu">emmeans</span>(<span class="sc">~</span>sorte, <span class="at">type =</span> <span class="st">"response"</span>) <span class="sc">%&gt;%</span> </span>
<span id="cb58-3"><a href="#cb58-3" aria-hidden="true" tabindex="-1"></a>  <span class="fu">tidy</span>() <span class="sc">%&gt;%</span> </span>
<span id="cb58-4"><a href="#cb58-4" aria-hidden="true" tabindex="-1"></a>  <span class="fu">mutate</span>(<span class="at">WG_abbott =</span> (rate[<span class="dv">9</span>] <span class="sc">-</span> rate)<span class="sc">/</span>rate[<span class="dv">9</span>],</span>
<span id="cb58-5"><a href="#cb58-5" aria-hidden="true" tabindex="-1"></a>         <span class="at">WG_abbott_per =</span> <span class="fu">percent</span>(WG_abbott)) <span class="sc">%&gt;%</span> </span>
<span id="cb58-6"><a href="#cb58-6" aria-hidden="true" tabindex="-1"></a>  <span class="fu">select</span>(sorte, WG_abbott, WG_abbott_per, rate)</span>
<span id="cb58-7"><a href="#cb58-7" aria-hidden="true" tabindex="-1"></a>res_mite_tbl</span></code><button title="In die Zwischenablage kopieren" class="code-copy-button"><i class="bi"></i></button></pre></div>
</details>
<div class="cell-output cell-output-stdout">
<pre><code># A tibble: 9 × 4
  sorte WG_abbott WG_abbott_per  rate
  &lt;chr&gt;     &lt;dbl&gt; &lt;chr&gt;         &lt;dbl&gt;
1 1         0.900 90.0%          4.49
2 2        -1.18  -118.4%       98.0 
3 3         0.216 21.6%         35.2 
4 4        -0.308 -30.8%        58.7 
5 5        -0.376 -37.6%        61.7 
6 6        -0.904 -90.4%        85.4 
7 7         0.880 88.0%          5.38
8 8         0.976 97.6%          1.08
9 ctrl      0     0.0%          44.9 </code></pre>
</div>
</div>
<p>Wenn du verwirrt bist über die negativen Wirkungsgrade, dann musst du dir klar werden, dass wir immer den Wirkungsgrad im Verhältnis zur Kontrolle berechnen. Wenn du also negative Wirkungsgrade siehst, dann sind die Anzahlen in den Sorten <em>höher</em> als in der Kontrolle. Je nach Fragestellung macht dieses Ergebnis mehr oder weniger Sinn.</p>
<p>Auch hier können wir noch schnell einen statistischen Test rechnen und die Sorten zu der Kontrolle <code>ref = 9</code> vergleichen.</p>
<div class="cell">
<details open="" class="code-fold">
<summary>R Code [zeigen / verbergen]</summary>
<div class="sourceCode cell-code" id="cb60"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb60-1"><a href="#cb60-1" aria-hidden="true" tabindex="-1"></a>fit <span class="sc">%&gt;%</span> </span>
<span id="cb60-2"><a href="#cb60-2" aria-hidden="true" tabindex="-1"></a>  <span class="fu">emmeans</span>(trt.vs.ctrlk <span class="sc">~</span> sorte, <span class="at">type =</span> <span class="st">"response"</span>, <span class="at">ref =</span> <span class="dv">9</span>) <span class="sc">%&gt;%</span> </span>
<span id="cb60-3"><a href="#cb60-3" aria-hidden="true" tabindex="-1"></a>  <span class="fu">pluck</span>(<span class="st">"contrasts"</span>)</span></code><button title="In die Zwischenablage kopieren" class="code-copy-button"><i class="bi"></i></button></pre></div>
</details>
<div class="cell-output cell-output-stdout">
<pre><code> contrast ratio      SE  df null z.ratio p.value
 1 / ctrl 0.100 0.02100 Inf    1 -10.977  &lt;.0001
 2 / ctrl 2.184 0.16700 Inf    1  10.229  &lt;.0001
 3 / ctrl 0.784 0.07480 Inf    1  -2.551  0.0686
 4 / ctrl 1.308 0.11000 Inf    1   3.196  0.0101
 5 / ctrl 1.376 0.11400 Inf    1   3.841  0.0009
 6 / ctrl 1.904 0.14900 Inf    1   8.244  &lt;.0001
 7 / ctrl 0.120 0.02320 Inf    1 -10.973  &lt;.0001
 8 / ctrl 0.024 0.00991 Inf    1  -9.028  &lt;.0001

Results are averaged over the levels of: block 
P value adjustment: dunnettx method for 8 tests 
Tests are performed on the log scale </code></pre>
</div>
</div>
<p>Wir wir sehen, sind alle Varianten signifikant unterschiedlich zu der Kontrolle bis auf die Sorte 3.</p>
<p>Auch hier können wir die Wirkungsgrade miteinander vergleichen. Aber Achtung, wir können nur Wirkungsgrade zwischen 0 und 1 miteinander sinnvoll vergleichen. Deshalb fliegen bei uns einige an Sorten raus. Darüber hinaus musst du jetzt auch einmal schauen, welche Sorte sich hinter der numerischen ID aus dem <code>pairwise.prop.test()</code> verbirgt.</p>
<div class="cell">
<details open="" class="code-fold">
<summary>R Code [zeigen / verbergen]</summary>
<div class="sourceCode cell-code" id="cb62"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb62-1"><a href="#cb62-1" aria-hidden="true" tabindex="-1"></a>res_mite_tbl <span class="sc">%&gt;%</span> </span>
<span id="cb62-2"><a href="#cb62-2" aria-hidden="true" tabindex="-1"></a>  <span class="fu">filter</span>(WG_abbott <span class="sc">&lt;</span> <span class="dv">1</span> <span class="sc">&amp;</span> WG_abbott <span class="sc">&gt;=</span> <span class="dv">0</span>) <span class="sc">%$%</span> </span>
<span id="cb62-3"><a href="#cb62-3" aria-hidden="true" tabindex="-1"></a>  <span class="fu">pairwise.prop.test</span>(<span class="at">x =</span> WG_abbott <span class="sc">*</span> <span class="dv">100</span>, </span>
<span id="cb62-4"><a href="#cb62-4" aria-hidden="true" tabindex="-1"></a>                   <span class="at">n =</span> <span class="fu">rep</span>(<span class="dv">100</span>, <span class="dv">5</span>),</span>
<span id="cb62-5"><a href="#cb62-5" aria-hidden="true" tabindex="-1"></a>                   <span class="at">p.adjust.method =</span> <span class="st">"none"</span>) </span></code><button title="In die Zwischenablage kopieren" class="code-copy-button"><i class="bi"></i></button></pre></div>
</details>
<div class="cell-output cell-output-stdout">
<pre><code>
    Pairwise comparisons using Pairwise comparison of proportions 

data:  WG_abbott * 100 out of rep(100, 5) 

  1       2       3       4      
2 &lt; 2e-16 -       -       -      
3 0.821   &lt; 2e-16 -       -      
4 0.053   &lt; 2e-16 0.019   -      
5 &lt; 2e-16 2.7e-06 &lt; 2e-16 &lt; 2e-16

P value adjustment method: none </code></pre>
</div>
</div>
<p>Das letzte Beispiel zeigt nochmal schön, dass wir uns immer überlegen müssen, was wir mit den Wirkungsgraden eigentlich zeigen wollen und welche Wirkungsgrade noch eine biologisch sinnvolle Bedeutung haben.</p>
</section>
<section id="sec-effect-ss" class="level3" data-number="23.4.3">
<h3 data-number="23.4.3" class="anchored" data-anchor-id="sec-effect-ss"><span class="header-section-number">23.4.3</span> Wirkungsgrad nach Sun-Shepard</h3>
<p>Der Wirkungsgrad nach Sun-Shepard bezieht sich auf die Mortalität [%] in unserem Versuch. Wir können müssen hier auch vor der Applikation und nach der Applikation in unserer Kontrolle die Mortalität bestimmen, sonst können wir nicht das <span class="math inline">\(C_{\Delta}\)</span> in der Kontrolle berechnen. Auf der <a href="https://www.ehabsoft.com/ldpline/onlinecontrol.htm">Webseite von Ehab Bakr</a>, auf die sich irgendwie in einem Zirkelschluss alle meine gefundenen Quellen beziehen, steht dann zwar <span class="math inline">\(\pm\)</span> aber ich denke, dass hier ausgesagt werden soll, dass <span class="math inline">\(C_{\Delta}\)</span> negativ oder positiv sein kann. Dann können wir auch auch besser nur Plus schreiben und damit ist dann die Formel auch in sich konsistent. Das passt dann auch zu der Durchführung und dem Beispiel auf der Webseite.</p>
<p><span class="math display">\[
WG_{SS} = \left(\cfrac{T + C_{\Delta}}{1 + C_{\Delta}}\right)
\]</span></p>
<p>und</p>
<p><span class="math display">\[
C_{\Delta} = \left(\cfrac{C_a - C_b}{C_b}\right)
\]</span></p>
<p>mit</p>
<ul>
<li><span class="math inline">\(T\)</span> Sterberate in der Behandlung</li>
<li><span class="math inline">\(C_b\)</span> Anzahl lebend in der Kontrolle <em>nach</em> Applikation (eng. <em>after</em>)</li>
<li><span class="math inline">\(C_a\)</span> Anzahl lebend in der Kontrolle <em>vor</em> Applikation (eng. <em>before</em>)</li>
</ul>
</section>
<section id="sec-effect-so" class="level3" data-number="23.4.4">
<h3 data-number="23.4.4" class="anchored" data-anchor-id="sec-effect-so"><span class="header-section-number">23.4.4</span> Wirkungsgrad nach Schneider-Orelli</h3>
<p>Der Wirkungsgrad nach Schneider-Orelli betrachtet nur die Mortalität nach dem Versuch und ist somit mit dem Wirkungsgrad nach Abbott zu vergleichen. Die Formel ist dabei sehr simpel</p>
<p><span class="math display">\[
WG_{SO} = \left(\cfrac{T_a - C_a}{1 - C_a}\right)
\]</span></p>
<p>mit</p>
<ul>
<li><span class="math inline">\(T_a\)</span> Sterberate in der Behandlung <em>nach</em> Applikation (eng. <em>after</em>)</li>
<li><span class="math inline">\(C_a\)</span> Sterberate in der Kontrolle <em>nach</em> Applikation (eng. <em>after</em>)</li>
</ul>
</section>
</section>
<section id="sec-effect-interrater" class="level2" data-number="23.5">
<h2 data-number="23.5" class="anchored" data-anchor-id="sec-effect-interrater"><span class="header-section-number">23.5</span> Interrater Reliabilität</h2>
<p>Worum geht es jetzt in diesem Abschnitt? Wir wollen uns anschauen, ob verschiedene Bewerter auf die gleichen Noten oder Einschätzungen kommen. Das ist eher selten im Kontext einer Abschlussarbeit, aber kommt häufiger bei der Bonitur vor. Wir können uns dabei zwei Fälle vorstellen. Zum einen wollen wir wissen ob zwei oder mehr Bewerter auf die gleichen Noten kommen, wenn sie das gleiche Subjekt bewerten. Wir haben also eine Rasenfläche oder ein Schwein vor uns und drei Forschende sollen bestimmen wie krank der Rasen oder das Schwein auf einer Skala von 1 bis 9 ist. Vorher wurden natürlich alle drei auf der Notensakal trainiert. Das würden wir dann die Interrater Reliabilität nennen. Benoten zwei oder mehr Bewerter ein Subjekt nach einem gegebenen Notenschlüssen und Kriterien gleich. Wichtig ist hier, dass es ein Kriterienkatalog gibt. Wir machen machen hier also nicht auf Geratewohl los.</p>
<p>Die andere Möglichkeit ist, dass wir wissen wollen, ob ein Bewerter selber konstante Benotungen an dem gleichen Subjekt liefert. Das können wir durch Fotos und zufällige Zuordnung machen oder eben eine Stunde oder Zeit dazwischen lassen. Wir sprechen dann von Intrarater Reliabilität. Diese Art der Reliabilität ist etwas seltener und kann auch gleich gelöst werden wie der Vergleich von unterschiedlichen Bewertern. Meistens reicht es dann auch aus und wir müssen die Korrelation durch den gleichen Bewerter eigentlich nicht weiter beachten.</p>
<dl>
<dt>Interrater Reliabilität</dt>
<dd>
<p>Unterscheiden sich die Bewertungen oder Benotungen an einer Beobachtung zwischen zwei oder mehr Bewertern?</p>
</dd>
<dt>Intrarater Reliabilität</dt>
<dd>
<p>Unterscheiden sich die Bewertungen oder Benotungen eines Bewerters an einer Beobachtung über die Zeit?</p>
</dd>
</dl>
<p>Reliabilität ist der Grad an Übereinstimmung einer Messung, wenn diese unter identischen Bedingungen jedoch von unterschiedlichen Bewertern wiederholt wird. Anhand der Interrater Reliabilität wird es somit möglich, den Grad zu ermitteln, in dem sich die erhaltenen Ergebnisse wiederholen lassen. Eine wunderbare Übersicht zur Interrater Reliabilität gibt auf Data Novia mit <a href="https://www.datanovia.com/en/lessons/introduction-to-r-for-inter-rater-reliability-analyses/">Introduction to R for Inter-Rater Reliability Analyses</a>. Ebenso liefert das Tutorium <a href="http://dwoll.de/rexrepos/posts/interRaterICC.html">Inter-rater-reliability and Intra-class-correlation</a> einen guten Überblick über alle Methoden in R. Wir schauen uns jetzt einmal die häufigsten Maßzahlen für die Reliabilität an. Für das erste beschränken wir uns hier einmal auf Cohen’s Kappan.</p>
<section id="für-kategorielle-variablen" class="level3" data-number="23.5.1">
<h3 data-number="23.5.1" class="anchored" data-anchor-id="für-kategorielle-variablen"><span class="header-section-number">23.5.1</span> … für kategorielle Variablen</h3>
<p>Fangen wir mit dem simpelsten Fall an. Wir haben zwei Bewerter <span class="math inline">\(R_1\)</span> und <span class="math inline">\(R_2\)</span> und wir wollen schauen, ob diese beiden Bewerter ein Subjekt richtig in <span class="math inline">\(ja\)</span> oder <span class="math inline">\(nein\)</span> einordnen. So kann die Frage sein, hat die Sonnenblume Mehltau? Oder aber die Frage, ist das Schwein erkrankt? Wir haben hier keine Wahrheit vorliegen, sondern wollen einfach nur wissen, ob unsere beiden Bewerter zum gleichen Schluss kommen. Dafür können wir dann Cohen’s Kappa <span class="math inline">\(\kappa\)</span> nutzen. Dabei ist die Verwendung von Cohen’s Kappa nicht unumstritten. <span class="citation" data-cites="maclure1987misinterpretation">Maclure &amp; Willett (<a href="#ref-maclure1987misinterpretation" role="doc-biblioref">1987</a>)</span> diskutiert in seiner Arbeit <a href="https://citeseerx.ist.psu.edu/document?repid=rep1&amp;type=pdf&amp;doi=63e3fc4cf928bc0a12f6c62cace8d94aee34db62">Misinterpretation and misuse of the kappa statistic</a> diesen Sachverhalt. Fangen wir einmal mit einem Beispiel an. Die <a href="#tbl-2x2-kappa" class="quarto-xref">Tabelle&nbsp;<span class="quarto-unresolved-ref">tbl-2x2-kappa</span></a> zeigt einmal das Ergebnis von siebzig bewerteten Subjekten. Wir haben hier zwei Bewerter vorliegen, die jeweils mit <span class="math inline">\(ja\)</span> oder <span class="math inline">\(nein\)</span> bewerten sollten. In R kannst du dir später so eine Tabelle einfach mit der Funktion <code>xtabs()</code> bauen.</p>
<div id="tbl-2x2-kappa" class="quarto-float quarto-figure quarto-figure-center anchored">
<figure class="quarto-float quarto-float-tbl figure">
<figcaption class="quarto-float-caption-top quarto-float-caption quarto-float-tbl" id="tbl-2x2-kappa-caption-0ceaefa1-69ba-4598-a22c-09a6ac19f8ca">
Tabelle&nbsp;23.8— Eine 2x2 Tabelle als Beispiel für die Bewertung einer Erkrankung an siebzig Beobachtungen von zwei Bewertern. Für die folgenden Berechnungen sind die Zellen mit Buchstaben versehen.
</figcaption>
<div aria-describedby="tbl-2x2-kappa-caption-0ceaefa1-69ba-4598-a22c-09a6ac19f8ca">
<table class="caption-top table">
<tbody>
<tr class="odd">
<td style="text-align: center;"></td>
<td style="text-align: center;"></td>
<td style="text-align: center;"><strong>Bewerter 1</strong></td>
<td style="text-align: center;"></td>
</tr>
<tr class="even">
<td style="text-align: center;"></td>
<td style="text-align: center;"></td>
<td style="text-align: center;"><em>ja (1)</em></td>
<td style="text-align: center;"><em>nein (0)</em></td>
</tr>
<tr class="odd">
<td style="text-align: center;"><strong>Bewerter 2</strong></td>
<td style="text-align: center;"><em>ja (1)</em></td>
<td style="text-align: center;"><span class="math inline">\(25_{\;\Large a}\)</span></td>
<td style="text-align: center;"><span class="math inline">\(10_{\;\Large b}\)</span></td>
</tr>
<tr class="even">
<td style="text-align: center;"></td>
<td style="text-align: center;"><em>nein (0)</em></td>
<td style="text-align: center;"><span class="math inline">\(15_{\;\Large c}\)</span></td>
<td style="text-align: center;"><span class="math inline">\(20_{\;\Large d}\)</span></td>
</tr>
</tbody>
</table>
</div>
</figure>
</div>
<p>Als Faustregel für Cohen’s Kappa <span class="math inline">\(\kappa\)</span> dient dabei, dass die Diagonale von links oben nach rechts unten die Übereinstimmungen zeigt. Die Diagonale von links unten nach rechts oben zeigt dann die Nichtübereinstimmung. Das ist natürlich nur eine grobe Abschätzung im Folgenden einmal die Formel mit der du dann Cohen’s Kappa <span class="math inline">\(\kappa\)</span> berechnen kannst.</p>
<p><span class="math display">\[
\kappa = \cfrac{p_0 - p_e}{1 - p_e}
\]</span></p>
<p>mit</p>
<ul>
<li><span class="math inline">\(p_0\)</span> Anteil der beobachteten Übereinstimmung</li>
<li><span class="math inline">\(p_e\)</span> Anteil der veränderten Übereinstimmung</li>
</ul>
<p>Das ist jetzt natürlich wieder sehr theoretisch. Deshalb wollen wir einmal die beiden Teile <span class="math inline">\(p_0\)</span> und <span class="math inline">\(p_e\)</span> aus den obigen Daten berechnen. Wenn du jetzt denkst, dass dir das doch irgendwie bekannt vorkommt, ja der <span class="math inline">\(\mathcal{X}^2\)</span>-Test sieht sehr ähnlich aus. Wir können <span class="math inline">\(p_0\)</span> wie folgt aus der 2x2 Kreuztabelle berechnen. Wir schauen hier auf die Übereinstimmungen auf der Diagonalen von obeb links nach unten rechts.</p>
<p><span class="math display">\[
p_0 = \cfrac{a + d}{N} = \cfrac{25 + 20}{70} = 0.643
\]</span></p>
<p>Für den Wert von <span class="math inline">\(p_e\)</span> brauchen wir zwei Werte, die wir dann aufaddieren. Einmal berechnen wir den Wert für <span class="math inline">\(p_e\)</span> von <span class="math inline">\(ja\)</span> und einmal den Wert von <span class="math inline">\(p_e\)</span> für <span class="math inline">\(nein\)</span>. Das geht dann mit der Formel auch recht schnell. Wir schauen hier im Prinzip auf die Diagonale von unten links nach oben rechts.</p>
<p><span class="math display">\[
p_e^{ja} = \cfrac{a + b}{N} \cdot \cfrac{a + c}{N} = \cfrac{25+10}{70} \cdot \cfrac{25+15}{70} = 0.5 \cdot 0.57 = 0.285
\]</span></p>
<p><span class="math display">\[
p_e^{nein} = \cfrac{c + d}{N} \cdot \cfrac{b + d}{N} = \cfrac{15+20}{70} \cdot \cfrac{10+20}{70} = 0.5 \cdot 0.428 = 0.214
\]</span></p>
<p>Dann addieen wir die beiden Werte für <span class="math inline">\(p_e\)</span> einmal auf.</p>
<p><span class="math display">\[
p_e = p_e^{ja} + p_e^{nein} = 0.285 + 0.214 = 0.499
\]</span></p>
<p>Dann können wir auch schon Cohen’s Kappa <span class="math inline">\(\kappa\)</span> für eine 2x2 Kreuztabelle berechnen. Ehrlicherweise, machen wir das dann natürlich gleich in R.</p>
<p><span class="math display">\[
\kappa = \cfrac{0.643 - 0.499}{1 - 0.499} = 0.28
\]</span></p>
<p>Dabei interpretieren wir dann Cohen’s Kappa <span class="math inline">\(\kappa\)</span> wie folgt. Beachte dabei immer, dass es sich natürlich erstmal nur um eine grobe Abschätzung handelt. Wie gut oder wie schlecht dann diese Zahl von Cohen’s Kappa <span class="math inline">\(\kappa\)</span> in deinem Bereich ist, liegt dann auch daran wie genau du arbeiten möchtest.</p>
<dl>
<dt>Cohen’s Kappa <span class="math inline">\(\kappa\)</span> interpretieren</dt>
<dd>
<p>Cohen’s Kappa kann von -1 (keine Übereinstimmung) bis +1 (perfekte Übereinstimmung) reichen. Wenn <span class="math inline">\(\kappa = 0\)</span> ist, ist die Übereinstimmung nicht besser als das, was durch Zufall erreicht werden würde. Wenn <span class="math inline">\(\kappa\)</span> negativ ist, ist die Übereinstimmung geringer als die zufällig erwartete Übereinstimmung. Wenn <span class="math inline">\(\kappa\)</span> positiv ist, übersteigt die Übereinstimmung der Bewerter die zufällige Übereinstimmung.</p>
</dd>
</dl>
<p>Was sind jetzt die exakten grenzen für die Cohen’s Kappa Werte? Das kannst du dir fast wieder aussuchen wie du möchtest. Es gibt eine Reihe von Publikationen, die alle verschiedene Grenzwerte liefern. Gerne kannst du dir die Tabellen in dem Tutorium <a href="https://www.datanovia.com/en/lessons/cohens-kappa-in-r-for-two-categorical-variables/">Cohen’s Kappa in R: For Two Categorical Variables</a> einmal näher anschauen. Ich würde dann mal als Quintessenz folgende Regel von <span class="citation" data-cites="mchugh2012interrater">McHugh (<a href="#ref-mchugh2012interrater" role="doc-biblioref">2012</a>)</span> nehmen.</p>
<div id="tbl-interpret-kappa" class="quarto-float quarto-figure quarto-figure-center anchored">
<figure class="quarto-float quarto-float-tbl figure">
<figcaption class="quarto-float-caption-top quarto-float-caption quarto-float-tbl" id="tbl-interpret-kappa-caption-0ceaefa1-69ba-4598-a22c-09a6ac19f8ca">
Tabelle&nbsp;23.9— Interpretation des Cohen’s Kappa Wert nach <span class="citation" data-cites="mchugh2012interrater">McHugh (<a href="#ref-mchugh2012interrater" role="doc-biblioref">2012</a>)</span>
</figcaption>
<div aria-describedby="tbl-interpret-kappa-caption-0ceaefa1-69ba-4598-a22c-09a6ac19f8ca">
<table class="caption-top table">
<thead>
<tr class="header">
<th style="text-align: center;">Cohen’s Kappa</th>
<th style="text-align: center;">Level of agreement</th>
<th style="text-align: center;">% of data that are reliable</th>
</tr>
</thead>
<tbody>
<tr class="odd">
<td style="text-align: center;">0 - 0.20</td>
<td style="text-align: center;">None</td>
<td style="text-align: center;">0 - 4‰</td>
</tr>
<tr class="even">
<td style="text-align: center;">0.21 - 0.39</td>
<td style="text-align: center;">Minimal</td>
<td style="text-align: center;">4 - 15%</td>
</tr>
<tr class="odd">
<td style="text-align: center;">0.40 - 0.59</td>
<td style="text-align: center;">Weak</td>
<td style="text-align: center;">15 - 35%</td>
</tr>
<tr class="even">
<td style="text-align: center;">0.60 - 0.79</td>
<td style="text-align: center;">Moderate</td>
<td style="text-align: center;">35 - 63%</td>
</tr>
<tr class="odd">
<td style="text-align: center;">0.80 - 0.90</td>
<td style="text-align: center;">Strong</td>
<td style="text-align: center;">64 - 81%</td>
</tr>
<tr class="even">
<td style="text-align: center;">Above 0.90</td>
<td style="text-align: center;">Almost Perfect</td>
<td style="text-align: center;">82 - 100%</td>
</tr>
</tbody>
</table>
</div>
</figure>
</div>
<p>Das <a href="https://www.datavis.ca/courses/VCD/vcd-tutorial.pdf">R Paket <code>{vcd}</code></a> liefert nun die Funktion <code>Kappa()</code> mit der wir auf einer 2x2 Kreuztabelle zum Beispiel aus der Funktion <code>xtabs()</code> dann Cohen’s Kappa <span class="math inline">\(\kappa\)</span> berechnen können. Die Funktion <code>xtabs()</code> hilft dir aus zwei oder mehr Spalten eine Kreuztabelle zu bauen.</p>
<div class="cell">
<details open="" class="code-fold">
<summary>R Code [zeigen / verbergen]</summary>
<div class="sourceCode cell-code" id="cb64"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb64-1"><a href="#cb64-1" aria-hidden="true" tabindex="-1"></a>xtab <span class="ot">&lt;-</span> <span class="fu">as.table</span>(<span class="fu">rbind</span>(<span class="fu">c</span>(<span class="dv">25</span>, <span class="dv">10</span>), <span class="fu">c</span>(<span class="dv">15</span>, <span class="dv">20</span>)))</span></code><button title="In die Zwischenablage kopieren" class="code-copy-button"><i class="bi"></i></button></pre></div>
</details>
</div>
<p>Dann können wir auch schon Cohen’s Kappa <span class="math inline">\(\kappa\)</span> in R berechnen.</p>
<div class="cell">
<details open="" class="code-fold">
<summary>R Code [zeigen / verbergen]</summary>
<div class="sourceCode cell-code" id="cb65"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb65-1"><a href="#cb65-1" aria-hidden="true" tabindex="-1"></a>kappa_res <span class="ot">&lt;-</span> <span class="fu">Kappa</span>(xtab)</span>
<span id="cb65-2"><a href="#cb65-2" aria-hidden="true" tabindex="-1"></a>kappa_res</span></code><button title="In die Zwischenablage kopieren" class="code-copy-button"><i class="bi"></i></button></pre></div>
</details>
<div class="cell-output cell-output-stdout">
<pre><code>            value    ASE    z Pr(&gt;|z|)
Unweighted 0.2857 0.1134 2.52  0.01173
Weighted   0.2857 0.1134 2.52  0.01173</code></pre>
</div>
</div>
<p>Die ungewichtete Version entspricht dem Cohen’s Kappa, mit dem wir uns in diesem Kapitel beschäftigen. Das gewichtete Kappa sollte nur für ordinale Variablen betrachtet werden und wird weitgehend hier ignoriert. Dann noch die Konfidenzintervalle und alles ist soweit da, was wir brauchen.</p>
<div class="cell">
<details open="" class="code-fold">
<summary>R Code [zeigen / verbergen]</summary>
<div class="sourceCode cell-code" id="cb67"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb67-1"><a href="#cb67-1" aria-hidden="true" tabindex="-1"></a>kappa_res <span class="sc">|&gt;</span> </span>
<span id="cb67-2"><a href="#cb67-2" aria-hidden="true" tabindex="-1"></a>  <span class="fu">confint</span>()</span></code><button title="In die Zwischenablage kopieren" class="code-copy-button"><i class="bi"></i></button></pre></div>
</details>
<div class="cell-output cell-output-stdout">
<pre><code>            
Kappa               lwr      upr
  Unweighted 0.06352154 0.507907
  Weighted   0.06352154 0.507907</code></pre>
</div>
</div>
<p>Das Ganze geht natürlich nicht nur für zwei Level (ja/nein) sondern dann in R auch für mehrere Level. Also wenn wir zum Beispiel dann Boniturnoten einmal bewerten und dann für zwei Bewerter vergleichen wollen.</p>
<p>Cohen’s Kappa für mehr als zwei Bewerter liefert das <a href="https://cran.r-project.org/web/packages/irr/irr.pdf">R Paket <code>{irr}</code></a> mit der Funktion <code>kappam.light()</code> oder <code>kappam.fleiss()</code>, wenn es dann auch noch mehr Kategorien als zwei in den Spalten gibt. Das R Paket ist schon ziemlich alt und hat auch sehr schlechte bis gar keine Hilfeseiten. Wenn man weiß, was man braucht und die Funktion bedeuten, dann kannst du das Paket gut nutzen.</p>
<p>Hier helfen dann auch die passenden Tutorien weiter. Ich habe hier nochmal die beiden anderen Fälle aufgelistet, wenn du eben Noten oder noch andere Kategorien in deinen Daten hast. Im Prinzip änderst du nur deine Funktion die du dann nutzt. Die Bewertung der einzelnen Ausgaben schwankt dann auch leicht. Aber eine Eins bedeutet immer eine perfekte Übereinstimmung.</p>
<ul>
<li><a href="https://www.datanovia.com/en/lessons/weighted-kappa-in-r-for-two-ordinal-variables/">Weighted Kappa in R: For Two Ordinal Variables</a> mit der Funktion <code>Kappa()</code> aus dem R Paket <code>{vcd}</code>. Wir nutzen dann die <code>Weighted</code> Zeile in der Ausgabe der Funktion.</li>
<li><a href="https://www.datanovia.com/en/lessons/fleiss-kappa-in-r-for-multiple-categorical-variables/">Fleiss’ Kappa in R: For Multiple Categorical Variables</a> und der Funktion <code>kappam.fleiss()</code> aus dem R Paket <code>{irr}</code>.</li>
</ul>
<p>Damit wären wir hier soweit erstmal fertig. Im nächsten Abschnitt schauen wir uns dann einmal den Fall an, dass wir kontinuierliche Bewertungen haben. Wir haben nämlich gezählt, was ja auch eine Art der Bewertung ist. Nur eben nicht auf einer Notenskala sondern eben kontinuierlich.</p>
</section>
<section id="für-kontinuierliche-variablen" class="level3" data-number="23.5.2">
<h3 data-number="23.5.2" class="anchored" data-anchor-id="für-kontinuierliche-variablen"><span class="header-section-number">23.5.2</span> … für kontinuierliche Variablen</h3>
<p>Jetzt betrachten wir einen Datensatz indem Entenküken auf verschiedenen Bildern von Studierenden gezählt werden sollten. Insgesamt haben wir vier Studierende als Bewerter, die die Küken dann in zwei voneinander getrennten Sessions bewertet haben. Wir laden also einmal den Datensatz und schauen uns die Zähldaten einmal an.</p>
<div class="cell">
<details open="" class="code-fold">
<summary>R Code [zeigen / verbergen]</summary>
<div class="sourceCode cell-code" id="cb69"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb69-1"><a href="#cb69-1" aria-hidden="true" tabindex="-1"></a>duck_tbl <span class="ot">&lt;-</span> <span class="fu">read_excel</span>(<span class="st">"data/interrater_duck_count.xlsx"</span>)</span></code><button title="In die Zwischenablage kopieren" class="code-copy-button"><i class="bi"></i></button></pre></div>
</details>
</div>
<p>In der <a href="#tbl-duck-data" class="quarto-xref">Tabelle&nbsp;<span class="quarto-unresolved-ref">tbl-duck-data</span></a> siehst du einmal einen Auszug aus den Entendaten. Dabei steht die <code>id</code> für ein Bild, die Spalte <code>session</code> beschreibt die beiden Termine, wo die Studierenden dann die Bilder ausgezählt haben.</p>
<div class="cell">
<div id="tbl-duck-data" class="cell quarto-float quarto-figure quarto-figure-center anchored">
<figure class="quarto-float quarto-float-tbl figure">
<figcaption class="quarto-float-caption-top quarto-float-caption quarto-float-tbl" id="tbl-duck-data-caption-0ceaefa1-69ba-4598-a22c-09a6ac19f8ca">
Tabelle&nbsp;23.10— Auszug aus Entenkükendatensatz.
</figcaption>
<div aria-describedby="tbl-duck-data-caption-0ceaefa1-69ba-4598-a22c-09a6ac19f8ca">
<div class="cell-output-display">
<table class="do-not-create-environment cell caption-top table table-sm table-striped small">
<thead>
<tr class="header">
<th style="text-align: center;">id</th>
<th style="text-align: center;">session</th>
<th style="text-align: center;">rater_1</th>
<th style="text-align: center;">rater_2</th>
<th style="text-align: center;">rater_3</th>
<th style="text-align: center;">rater_4</th>
</tr>
</thead>
<tbody>
<tr class="odd">
<td style="text-align: center;">#385</td>
<td style="text-align: center;">1</td>
<td style="text-align: center;">106</td>
<td style="text-align: center;">115</td>
<td style="text-align: center;">100</td>
<td style="text-align: center;">82</td>
</tr>
<tr class="even">
<td style="text-align: center;">#387</td>
<td style="text-align: center;">1</td>
<td style="text-align: center;">77</td>
<td style="text-align: center;">94</td>
<td style="text-align: center;">103</td>
<td style="text-align: center;">77</td>
</tr>
<tr class="odd">
<td style="text-align: center;">#374</td>
<td style="text-align: center;">1</td>
<td style="text-align: center;">120</td>
<td style="text-align: center;">131</td>
<td style="text-align: center;">213</td>
<td style="text-align: center;">133</td>
</tr>
<tr class="even">
<td style="text-align: center;">#381</td>
<td style="text-align: center;">1</td>
<td style="text-align: center;">115</td>
<td style="text-align: center;">127</td>
<td style="text-align: center;">208</td>
<td style="text-align: center;">135</td>
</tr>
<tr class="odd">
<td style="text-align: center;">#871</td>
<td style="text-align: center;">1</td>
<td style="text-align: center;">104</td>
<td style="text-align: center;">165</td>
<td style="text-align: center;">97</td>
<td style="text-align: center;">165</td>
</tr>
<tr class="even">
<td style="text-align: center;">…</td>
<td style="text-align: center;">…</td>
<td style="text-align: center;">…</td>
<td style="text-align: center;">…</td>
<td style="text-align: center;">…</td>
<td style="text-align: center;">…</td>
</tr>
<tr class="odd">
<td style="text-align: center;">#874</td>
<td style="text-align: center;">2</td>
<td style="text-align: center;">43</td>
<td style="text-align: center;">39</td>
<td style="text-align: center;">33</td>
<td style="text-align: center;">43</td>
</tr>
<tr class="even">
<td style="text-align: center;">#826</td>
<td style="text-align: center;">2</td>
<td style="text-align: center;">110</td>
<td style="text-align: center;">122</td>
<td style="text-align: center;">114</td>
<td style="text-align: center;">117</td>
</tr>
<tr class="odd">
<td style="text-align: center;">#832</td>
<td style="text-align: center;">2</td>
<td style="text-align: center;">104</td>
<td style="text-align: center;">99</td>
<td style="text-align: center;">89</td>
<td style="text-align: center;">106</td>
</tr>
<tr class="even">
<td style="text-align: center;">#836</td>
<td style="text-align: center;">2</td>
<td style="text-align: center;">101</td>
<td style="text-align: center;">100</td>
<td style="text-align: center;">107</td>
<td style="text-align: center;">103</td>
</tr>
<tr class="odd">
<td style="text-align: center;">#821</td>
<td style="text-align: center;">2</td>
<td style="text-align: center;">92</td>
<td style="text-align: center;">106</td>
<td style="text-align: center;">108</td>
<td style="text-align: center;">94</td>
</tr>
</tbody>
</table>
</div>
</div>
</figure>
</div>
</div>
<p>Da so eine Datentabelle dann imer schwer zu lesen ist, dann hier einmal in der <a href="#fig-effect-rel-duck" class="quarto-xref">Abbildung&nbsp;<span class="quarto-unresolved-ref">fig-effect-rel-duck</span></a> die Visualisierung der Daten. Wir sehen, dass die zweite Session schonmals ehr viel weniger Varianz zeigt und sich die Bewerter sehr viel ähnlicher sind als bei der ersten Session. Darüber hinaus ist der dritte Bewerter in der ersten Session am schlechtesten, da er die größte Varianz und Abweichung zu den anderen Bewertern zeigt.</p>
<div class="cell" data-layout-align="center">
<details open="" class="code-fold">
<summary>R Code [zeigen / verbergen]</summary>
<div class="sourceCode cell-code" id="cb70"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb70-1"><a href="#cb70-1" aria-hidden="true" tabindex="-1"></a>duck_tbl <span class="sc">|&gt;</span> </span>
<span id="cb70-2"><a href="#cb70-2" aria-hidden="true" tabindex="-1"></a>  <span class="fu">pivot_longer</span>(<span class="at">cols =</span> rater_1<span class="sc">:</span>rater_4,</span>
<span id="cb70-3"><a href="#cb70-3" aria-hidden="true" tabindex="-1"></a>               <span class="at">values_to =</span> <span class="st">"count"</span>,</span>
<span id="cb70-4"><a href="#cb70-4" aria-hidden="true" tabindex="-1"></a>               <span class="at">names_to =</span> <span class="st">"rater"</span>) <span class="sc">|&gt;</span> </span>
<span id="cb70-5"><a href="#cb70-5" aria-hidden="true" tabindex="-1"></a>  <span class="fu">mutate</span>(<span class="at">session =</span> <span class="fu">as_factor</span>(session)) <span class="sc">|&gt;</span> </span>
<span id="cb70-6"><a href="#cb70-6" aria-hidden="true" tabindex="-1"></a>  <span class="fu">ggplot</span>(<span class="fu">aes</span>(<span class="at">x =</span> rater, <span class="at">y =</span> count, <span class="at">color =</span> session, <span class="at">label =</span> id)) <span class="sc">+</span></span>
<span id="cb70-7"><a href="#cb70-7" aria-hidden="true" tabindex="-1"></a>  <span class="fu">theme_minimal</span>() <span class="sc">+</span></span>
<span id="cb70-8"><a href="#cb70-8" aria-hidden="true" tabindex="-1"></a>  <span class="fu">geom_text</span>(<span class="at">position =</span> <span class="fu">position_dodge</span>(<span class="fl">0.5</span>), <span class="at">show.legend =</span> <span class="cn">FALSE</span>) <span class="sc">+</span></span>
<span id="cb70-9"><a href="#cb70-9" aria-hidden="true" tabindex="-1"></a>  <span class="fu">scale_color_okabeito</span>() <span class="sc">+</span></span>
<span id="cb70-10"><a href="#cb70-10" aria-hidden="true" tabindex="-1"></a>  <span class="fu">labs</span>(<span class="at">x =</span> <span class="st">"Bewerter"</span>, <span class="at">y =</span> <span class="st">"Gezählte Anzahl an Entenküken auf dem Bild"</span>)</span></code><button title="In die Zwischenablage kopieren" class="code-copy-button"><i class="bi"></i></button></pre></div>
</details>
<div class="cell-output-display">
<div id="fig-effect-rel-duck" class="quarto-float quarto-figure quarto-figure-center anchored" data-fig-align="center">
<figure class="quarto-float quarto-float-fig figure">
<div aria-describedby="fig-effect-rel-duck-caption-0ceaefa1-69ba-4598-a22c-09a6ac19f8ca">
<a href="stat-tests-effect_files/figure-html/fig-effect-rel-duck-1.png" class="lightbox" data-gallery="quarto-lightbox-gallery-9" title="Abbildung&nbsp;23.7— Visualisierung der Zählungen an Entenküken über die beiden Sessions der vier Studierenden. Die Zahlen geben die jeweilige Bildnummer an."><img src="stat-tests-effect_files/figure-html/fig-effect-rel-duck-1.png" class="img-fluid quarto-figure quarto-figure-center figure-img" width="672"></a>
</div>
<figcaption class="quarto-float-caption-bottom quarto-float-caption quarto-float-fig" id="fig-effect-rel-duck-caption-0ceaefa1-69ba-4598-a22c-09a6ac19f8ca">
Abbildung&nbsp;23.7— Visualisierung der Zählungen an Entenküken über die beiden Sessions der vier Studierenden. Die Zahlen geben die jeweilige Bildnummer an.
</figcaption>
</figure>
</div>
</div>
</div>
<p>Was erwarten wir nun? Zum einen sollte die zweite Session bessere Übereinstimmungen liefern als die erste Session. Immerhin haben ja die Studierenden geübt. Wir nutzen jetzt hier den <a href="https://www.datanovia.com/en/lessons/intraclass-correlation-coefficient-in-r/">Intraclass Correlation Coefficient (ICC) in R</a> um auf die Reliabilität von Bewertern zurückzuschließen. Das Tutorium liefert nochmal eine Reihe an mehr Informationen. Ich halte hier die Sachlage relativ kurz. Wir wollen hier mal prinzipiell schauen, wie unsere Bewerter so abschneiden. Als zweite Überlegung wollen wir dann noch wissen, ob unsere Bewerter dann auch konsistent sind. Daher die erste Session genauso wie die zweite Session bewertet haben. Aber auch hier Achtung, wir wissen nicht die Wahrheit. Wir schauen nur, ob die beiden Sessions gleich waren. Ein Bewerter, der in der ersten Session versagt und in der zweiten alles richtig zählt, würde hier also schlechter wegkommen, als ein Bewerter, der nichts gelernt hat und in beiden Fällen schlecht zählt. Wir würden dann nur sehen, dass die Bewerter untereinander nicht passen.</p>
<p>Betrachten wir also einmal in den beiden folgenden Tabs die beiden Sessions getrennt voneinander über alle Bewerter hinweg und berechnen den <em>Intraclass Correlation Coefficient (ICC)</em>. Der ICC-Wert läuft von 0 bis 1, wobei 0 dann gar keine Übereinstimmung und 1 eine perfekte Übereinstimmung bedeutet. Wir würden sagen, dass ab 0.9 eine perfekte Übereinstimmung und unter 0.5 eine schlechte Übereinstimmung vorliegt. Wichtig ist hier, dass die Funktion <code>icc()</code> nur die Spalten mit den Bewertungen will und sonst rein gar nichts.</p>
<div class="tabset-margin-container"></div><div class="panel-tabset">
<ul class="nav nav-tabs" role="tablist"><li class="nav-item" role="presentation"><a class="nav-link active" id="tabset-3-1-tab" data-bs-toggle="tab" data-bs-target="#tabset-3-1" role="tab" aria-controls="tabset-3-1" aria-selected="true">Session 1</a></li><li class="nav-item" role="presentation"><a class="nav-link" id="tabset-3-2-tab" data-bs-toggle="tab" data-bs-target="#tabset-3-2" role="tab" aria-controls="tabset-3-2" aria-selected="false">Session 2</a></li></ul>
<div class="tab-content">
<div id="tabset-3-1" class="tab-pane active" role="tabpanel" aria-labelledby="tabset-3-1-tab">
<div class="cell">
<details open="" class="code-fold">
<summary>R Code [zeigen / verbergen]</summary>
<div class="sourceCode cell-code" id="cb71"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb71-1"><a href="#cb71-1" aria-hidden="true" tabindex="-1"></a>duck_tbl <span class="sc">|&gt;</span> </span>
<span id="cb71-2"><a href="#cb71-2" aria-hidden="true" tabindex="-1"></a>  <span class="fu">filter</span>(session <span class="sc">==</span> <span class="dv">1</span>) <span class="sc">|&gt;</span> </span>
<span id="cb71-3"><a href="#cb71-3" aria-hidden="true" tabindex="-1"></a>  <span class="fu">select</span>(<span class="fu">matches</span>(<span class="st">"rater"</span>)) <span class="sc">|&gt;</span></span>
<span id="cb71-4"><a href="#cb71-4" aria-hidden="true" tabindex="-1"></a>  <span class="fu">icc</span>(<span class="at">model =</span> <span class="st">"twoway"</span>, <span class="at">type =</span> <span class="st">"agreement"</span>, <span class="at">unit =</span> <span class="st">"single"</span>)</span></code><button title="In die Zwischenablage kopieren" class="code-copy-button"><i class="bi"></i></button></pre></div>
</details>
<div class="cell-output cell-output-stdout">
<pre><code> Single Score Intraclass Correlation

   Model: twoway 
   Type : agreement 

   Subjects = 12 
     Raters = 4 
   ICC(A,1) = 0.304

 F-Test, H0: r0 = 0 ; H1: r0 &gt; 0 
 F(11,29.2) = 3.32 , p = 0.00462 

 95%-Confidence Interval for ICC Population Values:
  0.061 &lt; ICC &lt; 0.638</code></pre>
</div>
</div>
<p>Wir sehen, dass wir eine relativ schlechte Übereinstimmung haben. Der ICC-Wert ist mit 0.304 sehr nahe an der Null. Auch wenn der Test sagt, dasss wir einen signifkanten Unterschied von der Null haben, geht mir ein ICC-Wert von unter 0.8 nicht als Gleich durch. Das deckt sich auch mit unserer obigen Abbildung.</p>
</div>
<div id="tabset-3-2" class="tab-pane" role="tabpanel" aria-labelledby="tabset-3-2-tab">
<div class="cell">
<details open="" class="code-fold">
<summary>R Code [zeigen / verbergen]</summary>
<div class="sourceCode cell-code" id="cb73"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb73-1"><a href="#cb73-1" aria-hidden="true" tabindex="-1"></a>duck_tbl <span class="sc">|&gt;</span> </span>
<span id="cb73-2"><a href="#cb73-2" aria-hidden="true" tabindex="-1"></a>  <span class="fu">filter</span>(session <span class="sc">==</span> <span class="dv">2</span>) <span class="sc">|&gt;</span> </span>
<span id="cb73-3"><a href="#cb73-3" aria-hidden="true" tabindex="-1"></a>  <span class="fu">select</span>(<span class="fu">matches</span>(<span class="st">"rater"</span>)) <span class="sc">|&gt;</span></span>
<span id="cb73-4"><a href="#cb73-4" aria-hidden="true" tabindex="-1"></a>  <span class="fu">icc</span>(<span class="at">model =</span> <span class="st">"twoway"</span>, <span class="at">type =</span> <span class="st">"agreement"</span>, <span class="at">unit =</span> <span class="st">"single"</span>)</span></code><button title="In die Zwischenablage kopieren" class="code-copy-button"><i class="bi"></i></button></pre></div>
</details>
<div class="cell-output cell-output-stdout">
<pre><code> Single Score Intraclass Correlation

   Model: twoway 
   Type : agreement 

   Subjects = 12 
     Raters = 4 
   ICC(A,1) = 0.806

 F-Test, H0: r0 = 0 ; H1: r0 &gt; 0 
 F(11,33.4) = 16.3 , p = 2.2e-10 

 95%-Confidence Interval for ICC Population Values:
  0.61 &lt; ICC &lt; 0.931</code></pre>
</div>
</div>
<p>Wir sehen, dass wir eine relativ gute Übereinstimmung haben! Der ICC-Wert ist mit 0.806 nahe an der Eins. Das deckt sich auch mit unserer obigen Abbildung, wo wir sehen, dass die Bewerter in der zweiten Session viel mehr auf einer Linie liegen. Zwar ist 0.8 noch nicht perfekt, aber schonmal eins sehr viel besserer Wert.</p>
</div>
</div>
</div>
<p>Jetzt möchte ich mir nochmal die Bewerter einzeln für die jeweiligen Sessions anschauen. Wie unterscheiden sich den die Bewerter, wenn sie ein Bild erneut sehen? Auch hier nochmal, wir haben keinen Goldstandard, wir schauen nur, ob die Bewerter in der zweiten Session genauso zählen wie in der ersten Session. Wir machen das jetzt im Folgenden auf zwei Arten. Einmal kannst du das händsich über <code>select()</code> machen. Du wählst einfach immer den Bewerter aus, den du möchtest und führst den Code aus. Du ersetzt also <code>rater_1</code> dann durch <code>rater_2</code> und dann so weiter. Die zweite Variante ist alles in einem Rutsch mit der Funktion <code>map()</code>.</p>
<div class="tabset-margin-container"></div><div class="panel-tabset">
<ul class="nav nav-tabs" role="tablist"><li class="nav-item" role="presentation"><a class="nav-link active" id="tabset-4-1-tab" data-bs-toggle="tab" data-bs-target="#tabset-4-1" role="tab" aria-controls="tabset-4-1" aria-selected="true">Für einen Rater – händisch</a></li><li class="nav-item" role="presentation"><a class="nav-link" id="tabset-4-2-tab" data-bs-toggle="tab" data-bs-target="#tabset-4-2" role="tab" aria-controls="tabset-4-2" aria-selected="false">Für alle Rater – <code>map()</code></a></li></ul>
<div class="tab-content">
<div id="tabset-4-1" class="tab-pane active" role="tabpanel" aria-labelledby="tabset-4-1-tab">
<div class="cell">
<details open="" class="code-fold">
<summary>R Code [zeigen / verbergen]</summary>
<div class="sourceCode cell-code" id="cb75"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb75-1"><a href="#cb75-1" aria-hidden="true" tabindex="-1"></a>duck_tbl <span class="sc">|&gt;</span> </span>
<span id="cb75-2"><a href="#cb75-2" aria-hidden="true" tabindex="-1"></a>  <span class="fu">select</span>(id, session, rater_1) <span class="sc">|&gt;</span></span>
<span id="cb75-3"><a href="#cb75-3" aria-hidden="true" tabindex="-1"></a>  <span class="fu">pivot_wider</span>(<span class="at">names_from =</span> session, <span class="at">values_from =</span> rater_1, <span class="at">names_prefix =</span> <span class="st">"session_"</span>) <span class="sc">|&gt;</span> </span>
<span id="cb75-4"><a href="#cb75-4" aria-hidden="true" tabindex="-1"></a>  <span class="fu">select</span>(<span class="sc">-</span>id) <span class="sc">|&gt;</span> </span>
<span id="cb75-5"><a href="#cb75-5" aria-hidden="true" tabindex="-1"></a>  <span class="fu">icc</span>(<span class="at">model =</span> <span class="st">"twoway"</span>, <span class="at">type =</span> <span class="st">"agreement"</span>, <span class="at">unit =</span> <span class="st">"single"</span>)</span></code><button title="In die Zwischenablage kopieren" class="code-copy-button"><i class="bi"></i></button></pre></div>
</details>
<div class="cell-output cell-output-stdout">
<pre><code> Single Score Intraclass Correlation

   Model: twoway 
   Type : agreement 

   Subjects = 12 
     Raters = 2 
   ICC(A,1) = 0.985

 F-Test, H0: r0 = 0 ; H1: r0 &gt; 0 
 F(11,11.3) = 124 , p = 4.35e-10 

 95%-Confidence Interval for ICC Population Values:
  0.95 &lt; ICC &lt; 0.996</code></pre>
</div>
</div>
<p>Wir sehen, dass der erste Studierende extrem konsistent die zweite Session im Vergleich zu der ersten bewertet hat. Der ICC-Wert ist fast bei Eins und somit fast ein perfektes Ergebnis. Auf einer numerischen Skala ist auch kaum noch mehr Spielraum nach oben.</p>
</div>
<div id="tabset-4-2" class="tab-pane" role="tabpanel" aria-labelledby="tabset-4-2-tab">
<p>Jetzt spielen wir ein wenig. Zuerst bauen wir uns dann für jeden Bewerter einen Datensatz der nur aus den beiden Sessions besteht. Dafür nutzen wir die Funktion <code>pivot_wider()</code>. Dann entfernen wir noch die ID, da die Funktion <code>icc()</code> gleich die ID nicht mag. Wir nutzen die Funktion <code>map()</code> um für jeden Bewerter den Datensatz zu bauen und am Ende in einer Liste zu speichern.</p>
<div class="cell">
<details open="" class="code-fold">
<summary>R Code [zeigen / verbergen]</summary>
<div class="sourceCode cell-code" id="cb77"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb77-1"><a href="#cb77-1" aria-hidden="true" tabindex="-1"></a>rater_lst <span class="ot">&lt;-</span> <span class="fu">map</span>(<span class="fu">c</span>(<span class="st">"rater_1"</span>, <span class="st">"rater_2"</span>, <span class="st">"rater_3"</span>, <span class="st">"rater_4"</span>), \(x) {</span>
<span id="cb77-2"><a href="#cb77-2" aria-hidden="true" tabindex="-1"></a>  duck_tbl <span class="sc">|&gt;</span> </span>
<span id="cb77-3"><a href="#cb77-3" aria-hidden="true" tabindex="-1"></a>  <span class="fu">select</span>(id, session, <span class="fu">all_of</span>(x)) <span class="sc">|&gt;</span></span>
<span id="cb77-4"><a href="#cb77-4" aria-hidden="true" tabindex="-1"></a>  <span class="fu">pivot_wider</span>(<span class="at">names_from =</span> session, </span>
<span id="cb77-5"><a href="#cb77-5" aria-hidden="true" tabindex="-1"></a>              <span class="at">values_from =</span> x, </span>
<span id="cb77-6"><a href="#cb77-6" aria-hidden="true" tabindex="-1"></a>              <span class="at">names_prefix =</span> <span class="st">"session_"</span>) <span class="sc">|&gt;</span> </span>
<span id="cb77-7"><a href="#cb77-7" aria-hidden="true" tabindex="-1"></a>  <span class="fu">select</span>(<span class="sc">-</span>id)</span>
<span id="cb77-8"><a href="#cb77-8" aria-hidden="true" tabindex="-1"></a>})</span></code><button title="In die Zwischenablage kopieren" class="code-copy-button"><i class="bi"></i></button></pre></div>
</details>
</div>
<p>Da wir alles einer Liste gespeichert haben, können wir jetzt die Liste mit der Funktion <code>map()</code> iterativ bearbeiten. Wir rufen dann für jeden der Listeneinträge dann einmal die Funktion <code>icc()</code> auf und extrahieren uns durch die Funktion <code>pluck()</code> den berechneten ICC Wert. Wenn du die letzte Zeile weglässt, dann kriegst du eben vier mal die Ausgabe der Funktion <code>icc()</code>, das war mir dann hier zu viel Platz.</p>
<div class="cell">
<details open="" class="code-fold">
<summary>R Code [zeigen / verbergen]</summary>
<div class="sourceCode cell-code" id="cb78"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb78-1"><a href="#cb78-1" aria-hidden="true" tabindex="-1"></a>rater_lst <span class="sc">|&gt;</span> </span>
<span id="cb78-2"><a href="#cb78-2" aria-hidden="true" tabindex="-1"></a>  <span class="fu">map</span>(<span class="sc">~</span><span class="fu">icc</span>(<span class="at">ratings =</span> .x, <span class="at">model =</span> <span class="st">"twoway"</span>, <span class="at">type =</span> <span class="st">"agreement"</span>, <span class="at">unit =</span> <span class="st">"single"</span>)) <span class="sc">|&gt;</span> </span>
<span id="cb78-3"><a href="#cb78-3" aria-hidden="true" tabindex="-1"></a>  <span class="fu">map_dbl</span>(<span class="fu">pluck</span>(<span class="st">"value"</span>))</span></code><button title="In die Zwischenablage kopieren" class="code-copy-button"><i class="bi"></i></button></pre></div>
</details>
<div class="cell-output cell-output-stdout">
<pre><code>[1] 0.98511710 0.26459153 0.26335874 0.06509083</code></pre>
</div>
</div>
<p>Wir sehen hier einmal als Werte, was wir auch schon in der <a href="#fig-effect-rel-duck" class="quarto-xref">Abbildung&nbsp;<span class="quarto-unresolved-ref">fig-effect-rel-duck</span></a> beobachten konnten. Je höher die Zahl, desto besser die Übereinstimmung zwischen der ersten und der zweiten Session. Die Reihenfolge ist die Reihenfolge der Bewerter.</p>
</div>
</div>
</div>
<p>Der erste Studierende ist der konsitenteste Bewerter und der vierte Studierende hat die geringste Übereinstimmung. Hier muss man aber vorsichtig sein, da wir ja sehen, dass die erste Session teilweise sehr mies war. Dann kann auch die Übereinstimmung zwischen der ersten und zweiten Session nur schelcht sein, wenn sich der Studierende sehr verbessert hat. Denn eins musst du immer wissen, die Lernleistung oder Verbesserung kannst du hier nicht abbilden. Ein sehr schelchter Bewerter, der aber zügig lernt, wird hier immer mit einer sehr schelchten Übereinstimmung rauskommen. Dagegen müsstest du dann sehr viele Sessions laufen lassen, denn je mehr Sessions er macht, desto weniger unterscheiden sich diese.</p>
</section>
</section>
<section id="referenzen" class="level2 unnumbered">
<h2 class="unnumbered anchored" data-anchor-id="referenzen">Referenzen</h2>


<!-- -->

<div id="refs" class="references csl-bib-body hanging-indent" data-entry-spacing="0" data-line-spacing="2" role="list">
<div id="ref-abbott1925method" class="csl-entry" role="listitem">
Abbott, W. S. et al. (1925). A method of computing the effectiveness of an insecticide. <em>J. econ. Entomol</em>, <em>18</em>(2), 265–267.
</div>
<div id="ref-finner1989berechnung" class="csl-entry" role="listitem">
Finner, H., Kunert, J., &amp; Sonnemann, E. (1989). <span>Ü</span>ber die Berechnung des Wirkungsgrades von Pflanzenschutzmitteln. <em>Nachrichtenblatt des Deutschen Pflanzenschutzdienstes (Braunschweig)</em>, <em>41</em>(8-9), 145–149.
</div>
<div id="ref-george2020s" class="csl-entry" role="listitem">
George, A., Stead, T. S., &amp; Ganti, L. (2020). What’s the risk: differentiating risk ratios, odds ratios, and hazard ratios? <em>Cureus</em>, <em>12</em>(8).
</div>
<div id="ref-grant2014converting" class="csl-entry" role="listitem">
Grant, R. L. (2014). Converting an odds ratio to a range of plausible relative risks for better communication of research findings. <em>Bmj</em>, <em>348</em>.
</div>
<div id="ref-henderson1955tests" class="csl-entry" role="listitem">
Henderson, C. F., &amp; Tilton, E. W. (1955). Tests with acaricides against the brown wheat mite. <em>Journal of economic entomology</em>, <em>48</em>(2), 157–161.
</div>
<div id="ref-maclure1987misinterpretation" class="csl-entry" role="listitem">
Maclure, M., &amp; Willett, W. C. (1987). Misinterpretation and misuse of the kappa statistic. <em>American journal of epidemiology</em>, <em>126</em>(2), 161–169.
</div>
<div id="ref-mchugh2012interrater" class="csl-entry" role="listitem">
McHugh, M. L. (2012). Interrater reliability: the kappa statistic. <em>Biochemia medica</em>, <em>22</em>(3), 276–282.
</div>
<div id="ref-venables2008green" class="csl-entry" role="listitem">
Venables, M. C., Hulston, C. J., Cox, H. R., &amp; Jeukendrup, A. E. (2008). Green tea extract ingestion, fat oxidation, and glucose tolerance in healthy humans. <em>The American journal of clinical nutrition</em>, <em>87</em>(3), 778–784.
</div>
</div>
</section>

</main> <!-- /main -->
<script id="quarto-html-after-body" type="application/javascript">
window.document.addEventListener("DOMContentLoaded", function (event) {
  const toggleBodyColorMode = (bsSheetEl) => {
    const mode = bsSheetEl.getAttribute("data-mode");
    const bodyEl = window.document.querySelector("body");
    if (mode === "dark") {
      bodyEl.classList.add("quarto-dark");
      bodyEl.classList.remove("quarto-light");
    } else {
      bodyEl.classList.add("quarto-light");
      bodyEl.classList.remove("quarto-dark");
    }
  }
  const toggleBodyColorPrimary = () => {
    const bsSheetEl = window.document.querySelector("link#quarto-bootstrap");
    if (bsSheetEl) {
      toggleBodyColorMode(bsSheetEl);
    }
  }
  toggleBodyColorPrimary();  
  const icon = "";
  const anchorJS = new window.AnchorJS();
  anchorJS.options = {
    placement: 'right',
    icon: icon
  };
  anchorJS.add('.anchored');
  const isCodeAnnotation = (el) => {
    for (const clz of el.classList) {
      if (clz.startsWith('code-annotation-')) {                     
        return true;
      }
    }
    return false;
  }
  const onCopySuccess = function(e) {
    // button target
    const button = e.trigger;
    // don't keep focus
    button.blur();
    // flash "checked"
    button.classList.add('code-copy-button-checked');
    var currentTitle = button.getAttribute("title");
    button.setAttribute("title", "Kopiert");
    let tooltip;
    if (window.bootstrap) {
      button.setAttribute("data-bs-toggle", "tooltip");
      button.setAttribute("data-bs-placement", "left");
      button.setAttribute("data-bs-title", "Kopiert");
      tooltip = new bootstrap.Tooltip(button, 
        { trigger: "manual", 
          customClass: "code-copy-button-tooltip",
          offset: [0, -8]});
      tooltip.show();    
    }
    setTimeout(function() {
      if (tooltip) {
        tooltip.hide();
        button.removeAttribute("data-bs-title");
        button.removeAttribute("data-bs-toggle");
        button.removeAttribute("data-bs-placement");
      }
      button.setAttribute("title", currentTitle);
      button.classList.remove('code-copy-button-checked');
    }, 1000);
    // clear code selection
    e.clearSelection();
  }
  const getTextToCopy = function(trigger) {
      const codeEl = trigger.previousElementSibling.cloneNode(true);
      for (const childEl of codeEl.children) {
        if (isCodeAnnotation(childEl)) {
          childEl.remove();
        }
      }
      return codeEl.innerText;
  }
  const clipboard = new window.ClipboardJS('.code-copy-button:not([data-in-quarto-modal])', {
    text: getTextToCopy
  });
  clipboard.on('success', onCopySuccess);
  if (window.document.getElementById('quarto-embedded-source-code-modal')) {
    const clipboardModal = new window.ClipboardJS('.code-copy-button[data-in-quarto-modal]', {
      text: getTextToCopy,
      container: window.document.getElementById('quarto-embedded-source-code-modal')
    });
    clipboardModal.on('success', onCopySuccess);
  }
  const viewSource = window.document.getElementById('quarto-view-source') ||
                     window.document.getElementById('quarto-code-tools-source');
  if (viewSource) {
    const sourceUrl = viewSource.getAttribute("data-quarto-source-url");
    viewSource.addEventListener("click", function(e) {
      if (sourceUrl) {
        // rstudio viewer pane
        if (/\bcapabilities=\b/.test(window.location)) {
          window.open(sourceUrl);
        } else {
          window.location.href = sourceUrl;
        }
      } else {
        const modal = new bootstrap.Modal(document.getElementById('quarto-embedded-source-code-modal'));
        modal.show();
      }
      return false;
    });
  }
  function toggleCodeHandler(show) {
    return function(e) {
      const detailsSrc = window.document.querySelectorAll(".cell > details > .sourceCode");
      for (let i=0; i<detailsSrc.length; i++) {
        const details = detailsSrc[i].parentElement;
        if (show) {
          details.open = true;
        } else {
          details.removeAttribute("open");
        }
      }
      const cellCodeDivs = window.document.querySelectorAll(".cell > .sourceCode");
      const fromCls = show ? "hidden" : "unhidden";
      const toCls = show ? "unhidden" : "hidden";
      for (let i=0; i<cellCodeDivs.length; i++) {
        const codeDiv = cellCodeDivs[i];
        if (codeDiv.classList.contains(fromCls)) {
          codeDiv.classList.remove(fromCls);
          codeDiv.classList.add(toCls);
        } 
      }
      return false;
    }
  }
  const hideAllCode = window.document.getElementById("quarto-hide-all-code");
  if (hideAllCode) {
    hideAllCode.addEventListener("click", toggleCodeHandler(false));
  }
  const showAllCode = window.document.getElementById("quarto-show-all-code");
  if (showAllCode) {
    showAllCode.addEventListener("click", toggleCodeHandler(true));
  }
    var localhostRegex = new RegExp(/^(?:http|https):\/\/localhost\:?[0-9]*\//);
    var mailtoRegex = new RegExp(/^mailto:/);
      var filterRegex = new RegExp('/' + window.location.host + '/');
    var isInternal = (href) => {
        return filterRegex.test(href) || localhostRegex.test(href) || mailtoRegex.test(href);
    }
    // Inspect non-navigation links and adorn them if external
 	var links = window.document.querySelectorAll('a[href]:not(.nav-link):not(.navbar-brand):not(.toc-action):not(.sidebar-link):not(.sidebar-item-toggle):not(.pagination-link):not(.no-external):not([aria-hidden]):not(.dropdown-item):not(.quarto-navigation-tool):not(.about-link)');
    for (var i=0; i<links.length; i++) {
      const link = links[i];
      if (!isInternal(link.href)) {
        // undo the damage that might have been done by quarto-nav.js in the case of
        // links that we want to consider external
        if (link.dataset.originalHref !== undefined) {
          link.href = link.dataset.originalHref;
        }
      }
    }
  function tippyHover(el, contentFn, onTriggerFn, onUntriggerFn) {
    const config = {
      allowHTML: true,
      maxWidth: 500,
      delay: 100,
      arrow: false,
      appendTo: function(el) {
          return el.parentElement;
      },
      interactive: true,
      interactiveBorder: 10,
      theme: 'quarto',
      placement: 'bottom-start',
    };
    if (contentFn) {
      config.content = contentFn;
    }
    if (onTriggerFn) {
      config.onTrigger = onTriggerFn;
    }
    if (onUntriggerFn) {
      config.onUntrigger = onUntriggerFn;
    }
    window.tippy(el, config); 
  }
  const noterefs = window.document.querySelectorAll('a[role="doc-noteref"]');
  for (var i=0; i<noterefs.length; i++) {
    const ref = noterefs[i];
    tippyHover(ref, function() {
      // use id or data attribute instead here
      let href = ref.getAttribute('data-footnote-href') || ref.getAttribute('href');
      try { href = new URL(href).hash; } catch {}
      const id = href.replace(/^#\/?/, "");
      const note = window.document.getElementById(id);
      if (note) {
        return note.innerHTML;
      } else {
        return "";
      }
    });
  }
  const xrefs = window.document.querySelectorAll('a.quarto-xref');
  const processXRef = (id, note) => {
    // Strip column container classes
    const stripColumnClz = (el) => {
      el.classList.remove("page-full", "page-columns");
      if (el.children) {
        for (const child of el.children) {
          stripColumnClz(child);
        }
      }
    }
    stripColumnClz(note)
    if (id === null || id.startsWith('sec-')) {
      // Special case sections, only their first couple elements
      const container = document.createElement("div");
      if (note.children && note.children.length > 2) {
        container.appendChild(note.children[0].cloneNode(true));
        for (let i = 1; i < note.children.length; i++) {
          const child = note.children[i];
          if (child.tagName === "P" && child.innerText === "") {
            continue;
          } else {
            container.appendChild(child.cloneNode(true));
            break;
          }
        }
        if (window.Quarto?.typesetMath) {
          window.Quarto.typesetMath(container);
        }
        return container.innerHTML
      } else {
        if (window.Quarto?.typesetMath) {
          window.Quarto.typesetMath(note);
        }
        return note.innerHTML;
      }
    } else {
      // Remove any anchor links if they are present
      const anchorLink = note.querySelector('a.anchorjs-link');
      if (anchorLink) {
        anchorLink.remove();
      }
      if (window.Quarto?.typesetMath) {
        window.Quarto.typesetMath(note);
      }
      if (note.classList.contains("callout")) {
        return note.outerHTML;
      } else {
        return note.innerHTML;
      }
    }
  }
  for (var i=0; i<xrefs.length; i++) {
    const xref = xrefs[i];
    tippyHover(xref, undefined, function(instance) {
      instance.disable();
      let url = xref.getAttribute('href');
      let hash = undefined; 
      if (url.startsWith('#')) {
        hash = url;
      } else {
        try { hash = new URL(url).hash; } catch {}
      }
      if (hash) {
        const id = hash.replace(/^#\/?/, "");
        const note = window.document.getElementById(id);
        if (note !== null) {
          try {
            const html = processXRef(id, note.cloneNode(true));
            instance.setContent(html);
          } finally {
            instance.enable();
            instance.show();
          }
        } else {
          // See if we can fetch this
          fetch(url.split('#')[0])
          .then(res => res.text())
          .then(html => {
            const parser = new DOMParser();
            const htmlDoc = parser.parseFromString(html, "text/html");
            const note = htmlDoc.getElementById(id);
            if (note !== null) {
              const html = processXRef(id, note);
              instance.setContent(html);
            } 
          }).finally(() => {
            instance.enable();
            instance.show();
          });
        }
      } else {
        // See if we can fetch a full url (with no hash to target)
        // This is a special case and we should probably do some content thinning / targeting
        fetch(url)
        .then(res => res.text())
        .then(html => {
          const parser = new DOMParser();
          const htmlDoc = parser.parseFromString(html, "text/html");
          const note = htmlDoc.querySelector('main.content');
          if (note !== null) {
            // This should only happen for chapter cross references
            // (since there is no id in the URL)
            // remove the first header
            if (note.children.length > 0 && note.children[0].tagName === "HEADER") {
              note.children[0].remove();
            }
            const html = processXRef(null, note);
            instance.setContent(html);
          } 
        }).finally(() => {
          instance.enable();
          instance.show();
        });
      }
    }, function(instance) {
    });
  }
      let selectedAnnoteEl;
      const selectorForAnnotation = ( cell, annotation) => {
        let cellAttr = 'data-code-cell="' + cell + '"';
        let lineAttr = 'data-code-annotation="' +  annotation + '"';
        const selector = 'span[' + cellAttr + '][' + lineAttr + ']';
        return selector;
      }
      const selectCodeLines = (annoteEl) => {
        const doc = window.document;
        const targetCell = annoteEl.getAttribute("data-target-cell");
        const targetAnnotation = annoteEl.getAttribute("data-target-annotation");
        const annoteSpan = window.document.querySelector(selectorForAnnotation(targetCell, targetAnnotation));
        const lines = annoteSpan.getAttribute("data-code-lines").split(",");
        const lineIds = lines.map((line) => {
          return targetCell + "-" + line;
        })
        let top = null;
        let height = null;
        let parent = null;
        if (lineIds.length > 0) {
            //compute the position of the single el (top and bottom and make a div)
            const el = window.document.getElementById(lineIds[0]);
            top = el.offsetTop;
            height = el.offsetHeight;
            parent = el.parentElement.parentElement;
          if (lineIds.length > 1) {
            const lastEl = window.document.getElementById(lineIds[lineIds.length - 1]);
            const bottom = lastEl.offsetTop + lastEl.offsetHeight;
            height = bottom - top;
          }
          if (top !== null && height !== null && parent !== null) {
            // cook up a div (if necessary) and position it 
            let div = window.document.getElementById("code-annotation-line-highlight");
            if (div === null) {
              div = window.document.createElement("div");
              div.setAttribute("id", "code-annotation-line-highlight");
              div.style.position = 'absolute';
              parent.appendChild(div);
            }
            div.style.top = top - 2 + "px";
            div.style.height = height + 4 + "px";
            div.style.left = 0;
            let gutterDiv = window.document.getElementById("code-annotation-line-highlight-gutter");
            if (gutterDiv === null) {
              gutterDiv = window.document.createElement("div");
              gutterDiv.setAttribute("id", "code-annotation-line-highlight-gutter");
              gutterDiv.style.position = 'absolute';
              const codeCell = window.document.getElementById(targetCell);
              const gutter = codeCell.querySelector('.code-annotation-gutter');
              gutter.appendChild(gutterDiv);
            }
            gutterDiv.style.top = top - 2 + "px";
            gutterDiv.style.height = height + 4 + "px";
          }
          selectedAnnoteEl = annoteEl;
        }
      };
      const unselectCodeLines = () => {
        const elementsIds = ["code-annotation-line-highlight", "code-annotation-line-highlight-gutter"];
        elementsIds.forEach((elId) => {
          const div = window.document.getElementById(elId);
          if (div) {
            div.remove();
          }
        });
        selectedAnnoteEl = undefined;
      };
        // Handle positioning of the toggle
    window.addEventListener(
      "resize",
      throttle(() => {
        elRect = undefined;
        if (selectedAnnoteEl) {
          selectCodeLines(selectedAnnoteEl);
        }
      }, 10)
    );
    function throttle(fn, ms) {
    let throttle = false;
    let timer;
      return (...args) => {
        if(!throttle) { // first call gets through
            fn.apply(this, args);
            throttle = true;
        } else { // all the others get throttled
            if(timer) clearTimeout(timer); // cancel #2
            timer = setTimeout(() => {
              fn.apply(this, args);
              timer = throttle = false;
            }, ms);
        }
      };
    }
      const annoteTargets = window.document.querySelectorAll('.code-annotation-anchor');
      for (let i=0; i<annoteTargets.length; i++) {
        const annoteTarget = annoteTargets[i];
        const targetCell = annoteTarget.getAttribute("data-target-cell");
        const targetAnnotation = annoteTarget.getAttribute("data-target-annotation");
        const contentFn = () => {
          const content = window.document.querySelector(selectorForAnnotation(targetCell, targetAnnotation));
          if (content) {
            const tipContent = content.cloneNode(true);
            tipContent.classList.add("code-annotation-tip-content");
            return tipContent.outerHTML;
          }
        }
        const config = {
          allowHTML: true,
          content: contentFn,
          onShow: (instance) => {
            selectCodeLines(instance.reference);
            instance.reference.classList.add('code-annotation-active');
            window.tippy.hideAll();
          },
          onHide: (instance) => {
            unselectCodeLines();
            instance.reference.classList.remove('code-annotation-active');
          },
          maxWidth: 300,
          delay: [50, 0],
          duration: [200, 0],
          offset: [5, 10],
          arrow: true,
          appendTo: function(el) {
            return el.parentElement.parentElement.parentElement;
          },
          interactive: true,
          interactiveBorder: 10,
          theme: 'quarto',
          placement: 'right',
          popperOptions: {
            modifiers: [
            {
              name: 'flip',
              options: {
                flipVariations: false, // true by default
                allowedAutoPlacements: ['right'],
                fallbackPlacements: ['right', 'top', 'top-start', 'top-end', 'bottom', 'bottom-start', 'bottom-end', 'left'],
              },
            },
            {
              name: 'preventOverflow',
              options: {
                mainAxis: false,
                altAxis: false
              }
            }
            ]        
          }      
        };
        window.tippy(annoteTarget, config); 
      }
  const findCites = (el) => {
    const parentEl = el.parentElement;
    if (parentEl) {
      const cites = parentEl.dataset.cites;
      if (cites) {
        return {
          el,
          cites: cites.split(' ')
        };
      } else {
        return findCites(el.parentElement)
      }
    } else {
      return undefined;
    }
  };
  var bibliorefs = window.document.querySelectorAll('a[role="doc-biblioref"]');
  for (var i=0; i<bibliorefs.length; i++) {
    const ref = bibliorefs[i];
    const citeInfo = findCites(ref);
    if (citeInfo) {
      tippyHover(citeInfo.el, function() {
        var popup = window.document.createElement('div');
        citeInfo.cites.forEach(function(cite) {
          var citeDiv = window.document.createElement('div');
          citeDiv.classList.add('hanging-indent');
          citeDiv.classList.add('csl-entry');
          var biblioDiv = window.document.getElementById('ref-' + cite);
          if (biblioDiv) {
            citeDiv.innerHTML = biblioDiv.innerHTML;
          }
          popup.appendChild(citeDiv);
        });
        return popup.innerHTML;
      });
    }
  }
});
</script>
<nav class="page-navigation">
  <div class="nav-page nav-page-previous">
      <a href="./stat-tests-theorie.html" class="pagination-link" aria-label="Die Testtheorie">
        <i class="bi bi-arrow-left-short"></i> <span class="nav-page-text"><span class="chapter-number">22</span>&nbsp; <span class="chapter-title">Die Testtheorie</span></span>
      </a>          
  </div>
  <div class="nav-page nav-page-next">
      <a href="./stat-tests-pretest2.html" class="pagination-link" aria-label="Der Pre-Test oder Vortest">
        <span class="nav-page-text"><span class="chapter-number">24</span>&nbsp; <span class="chapter-title">Der Pre-Test oder Vortest</span></span> <i class="bi bi-arrow-right-short"></i>
      </a>
  </div>
</nav><div class="modal fade" id="quarto-embedded-source-code-modal" tabindex="-1" aria-labelledby="quarto-embedded-source-code-modal-label" aria-hidden="true"><div class="modal-dialog modal-dialog-scrollable"><div class="modal-content"><div class="modal-header"><h5 class="modal-title" id="quarto-embedded-source-code-modal-label">Quellcode</h5><button class="btn-close" data-bs-dismiss="modal"></button></div><div class="modal-body"><div class="">
<div class="sourceCode" id="cb80" data-shortcodes="false"><pre class="sourceCode markdown code-with-copy"><code class="sourceCode markdown"><span id="cb80-1"><a href="#cb80-1" aria-hidden="true" tabindex="-1"></a><span class="in">```{r echo = FALSE}</span></span>
<span id="cb80-2"><a href="#cb80-2" aria-hidden="true" tabindex="-1"></a><span class="in">pacman::p_load(tidyverse, readxl, knitr, kableExtra, see, patchwork)</span></span>
<span id="cb80-3"><a href="#cb80-3" aria-hidden="true" tabindex="-1"></a><span class="in">```</span></span>
<span id="cb80-4"><a href="#cb80-4" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb80-5"><a href="#cb80-5" aria-hidden="true" tabindex="-1"></a><span class="fu"># Der Effektschätzer {#sec-effect}</span></span>
<span id="cb80-6"><a href="#cb80-6" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb80-7"><a href="#cb80-7" aria-hidden="true" tabindex="-1"></a>*Letzte Änderung am `r format(fs::file_info("stat-tests-effect.qmd")$modification_time, '%d. %B %Y um %H:%M:%S')`*</span>
<span id="cb80-8"><a href="#cb80-8" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb80-9"><a href="#cb80-9" aria-hidden="true" tabindex="-1"></a><span class="at">&gt; *"Alles, was wir hören, ist eine Meinung, keine Tatsache. Alles, was wir sehen, ist eine Perspektive, nicht die Wahrheit." --- Marcus Aurelius, Meditationen*</span></span>
<span id="cb80-10"><a href="#cb80-10" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb80-11"><a href="#cb80-11" aria-hidden="true" tabindex="-1"></a>Der Effektschätzer. Ein seltsames Kapitel, denn ich tue mich sehr schwer, dieses Kapitel irgendwo in die Linearität dieses Buches hier einzuordnen. Deshalb ist dieses Kapitel eigentlich immer an der falschen Stelle. Entweder hast du schon die statistischen Tests gelesen und du wüsstest gerne was die Effektschätzer sind *oder* du suchst hier nochmal die Beschreibung der Effektschätzer zum Beispiel aus der multiple Regression heraus. Also steht jetzt dieses Kapitel hier im Raum und du musst schauen, was du wirklich brauchst. Oder ob du dieses Kapitel erst überspringst und dann später nochmal hier liest. Eine wunderbare Übersicht über den Begriff *Effektschätzer* liefert das englische Buch <span class="co">[</span><span class="ot">Doing Meta-Analysis with R: A Hands-On Guide</span><span class="co">](https://bookdown.org/MathiasHarrer/Doing_Meta_Analysis_in_R/effects.html)</span>. Der Effektschätzer wird dabei auch gerne Theta $\boldsymbol{\theta}$ genannt. Da wir dann aber später noch mit anderen Konzepten in die Quere kommen, nutze ich das etwas intuitivere Delta $\boldsymbol{\Delta}$.</span>
<span id="cb80-12"><a href="#cb80-12" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb80-13"><a href="#cb80-13" aria-hidden="true" tabindex="-1"></a>::: {.callout-note collapse="true"}</span>
<span id="cb80-14"><a href="#cb80-14" aria-hidden="true" tabindex="-1"></a><span class="fu">## Zerforschen: Science Cops</span></span>
<span id="cb80-15"><a href="#cb80-15" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb80-16"><a href="#cb80-16" aria-hidden="true" tabindex="-1"></a>{{&lt; include zerforschen/zerforschen-science-cops.qmd &gt;}}</span>
<span id="cb80-17"><a href="#cb80-17" aria-hidden="true" tabindex="-1"></a>:::</span>
<span id="cb80-18"><a href="#cb80-18" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb80-19"><a href="#cb80-19" aria-hidden="true" tabindex="-1"></a>Wenn wir einen der vielen Effektschätzer berechnen wollen, dann nutzen wir dafür die Effektschätzer aus dem <span class="co">[</span><span class="ot">R Paket `{effectsize}`</span><span class="co">](https://easystats.github.io/effectsize/index.html)</span>. Das R Paket <span class="in">`{effectsize}`</span> liefert Effektschätzer für fast alle statistischen Gelegenheiten. Wir werden hier wie immer nur den groben Überblick abdecken. Vermutlich wird das Kapitel dann noch Anwachsen. Streng genommen gehört das @sec-test-diag zu den diagnostischen Tests auf einer 2x2 Kreuztabelle auch irgendwie zu Effektschätzern. Wenn du Spezifität und Sensitivität suchst bist du in dem Kapitel zu diagnostischen Tests richtig.</span>
<span id="cb80-20"><a href="#cb80-20" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb80-21"><a href="#cb80-21" aria-hidden="true" tabindex="-1"></a>Wir unterscheiden hier erstmal grob in vier Arten von Effektschätzern:</span>
<span id="cb80-22"><a href="#cb80-22" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb80-23"><a href="#cb80-23" aria-hidden="true" tabindex="-1"></a>1)  Effektschätzer, die einen *Mittelwertsunterschied* zwischen Behandlungen beschreiben.</span>
<span id="cb80-24"><a href="#cb80-24" aria-hidden="true" tabindex="-1"></a>2)  Effektschätzer, die einen *Anteilsunterschied* zwischen Behandlungen beschreiben.</span>
<span id="cb80-25"><a href="#cb80-25" aria-hidden="true" tabindex="-1"></a>3)  Effektschätzer, die einen *Wirkungsgrad* einer Behandlung zu einer Kontrolle beschreiben.</span>
<span id="cb80-26"><a href="#cb80-26" aria-hidden="true" tabindex="-1"></a>4)  Effektschätzer, die eine *Übereinstimmung* zwischen Bewertern beschreibt.</span>
<span id="cb80-27"><a href="#cb80-27" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb80-28"><a href="#cb80-28" aria-hidden="true" tabindex="-1"></a>Daneben gibt es wie noch die Korrelation wie in @sec-lin-reg-corr beschrieben. Die Korrelation wollen wir aber in diesem Kapitel nicht vorgreifen bzw. wiederholen.</span>
<span id="cb80-29"><a href="#cb80-29" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb80-30"><a href="#cb80-30" aria-hidden="true" tabindex="-1"></a>Am Ende muss du immer den Effekt im Kontext der Fragestellung bzw. des Outcomes $y$ bewerten. Der numerische Unterschied von $0.1$ cm kann in einem Kontext viel sein. Das Wachstum von Bakterienkolonien kann ein Unterschied von $0.1$ cm viel sein. Oder aber sehr wenig, wenn wir uns das Wachstum von Bambus pro Tag anschauen. Hier bist du gefragt, den Effekt in den Kontext richtig einzuordnen. Ebenso stellt sich die Frage, ob ein Unterschied von 6% viel oder wenig ist.</span>
<span id="cb80-31"><a href="#cb80-31" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb80-32"><a href="#cb80-32" aria-hidden="true" tabindex="-1"></a>::: callout-tip</span>
<span id="cb80-33"><a href="#cb80-33" aria-hidden="true" tabindex="-1"></a><span class="fu">## Effektschätzer zwischen Behandlungen</span></span>
<span id="cb80-34"><a href="#cb80-34" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb80-35"><a href="#cb80-35" aria-hidden="true" tabindex="-1"></a>Wenn wir uns einen Unterschied eines **Mittelwerts** anschauen, dann haben wir *keinen* Effekt vorliegen, wenn der Mittlwertsunterschied $\Delta$ zwischen der Gruppe $A$ und der Gruppe $B$ gleich 0 ist. Die Nullhypothese gilt. Beide Gruppen $A$ und $B$ haben den gleichen Mittelwert.</span>
<span id="cb80-36"><a href="#cb80-36" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb80-37"><a href="#cb80-37" aria-hidden="true" tabindex="-1"></a>$$</span>
<span id="cb80-38"><a href="#cb80-38" aria-hidden="true" tabindex="-1"></a>\Delta_{A-B} = A - B = 0</span>
<span id="cb80-39"><a href="#cb80-39" aria-hidden="true" tabindex="-1"></a>$$</span>
<span id="cb80-40"><a href="#cb80-40" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb80-41"><a href="#cb80-41" aria-hidden="true" tabindex="-1"></a>Wenn wir uns einen Unterschied eines **Anteils** anschauen, dann haben wir *keinen* Effekt vorliegen, wenn der Anteilsunterschied $\Delta$ zwischen der Gruppe $A$ und der Gruppe $B$ gleich 1 ist. Die Nullhypothese gilt. Beide Gruppen $A$ und $B$ haben den gleichen Anteil.</span>
<span id="cb80-42"><a href="#cb80-42" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb80-43"><a href="#cb80-43" aria-hidden="true" tabindex="-1"></a>$$</span>
<span id="cb80-44"><a href="#cb80-44" aria-hidden="true" tabindex="-1"></a>\Delta_{A/B} = \cfrac{A}{B} = 1</span>
<span id="cb80-45"><a href="#cb80-45" aria-hidden="true" tabindex="-1"></a>$$</span>
<span id="cb80-46"><a href="#cb80-46" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb80-47"><a href="#cb80-47" aria-hidden="true" tabindex="-1"></a>Dieses Wissen brauchen wir um die Signifikanzschwelle bei einem 95% Konfidenzintervall richtig zu setzen und interpretieren zu können. Siehe dazu auch nochmal das @sec-ki.</span>
<span id="cb80-48"><a href="#cb80-48" aria-hidden="true" tabindex="-1"></a>:::</span>
<span id="cb80-49"><a href="#cb80-49" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb80-50"><a href="#cb80-50" aria-hidden="true" tabindex="-1"></a><span class="fu">## Genutzte R Pakete</span></span>
<span id="cb80-51"><a href="#cb80-51" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb80-52"><a href="#cb80-52" aria-hidden="true" tabindex="-1"></a>Wir wollen folgende R Pakete in diesem Kapitel nutzen.</span>
<span id="cb80-53"><a href="#cb80-53" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb80-54"><a href="#cb80-54" aria-hidden="true" tabindex="-1"></a><span class="in">```{r echo = TRUE}</span></span>
<span id="cb80-55"><a href="#cb80-55" aria-hidden="true" tabindex="-1"></a><span class="in">#| message: false</span></span>
<span id="cb80-56"><a href="#cb80-56" aria-hidden="true" tabindex="-1"></a><span class="in">pacman::p_load(tidyverse, magrittr, see, scales,</span></span>
<span id="cb80-57"><a href="#cb80-57" aria-hidden="true" tabindex="-1"></a><span class="in">               effectsize, parameters, broom, readxl,</span></span>
<span id="cb80-58"><a href="#cb80-58" aria-hidden="true" tabindex="-1"></a><span class="in">               emmeans, vcd, irr, conflicted)</span></span>
<span id="cb80-59"><a href="#cb80-59" aria-hidden="true" tabindex="-1"></a><span class="in">conflicts_prefer(dplyr::filter)</span></span>
<span id="cb80-60"><a href="#cb80-60" aria-hidden="true" tabindex="-1"></a><span class="in">conflicts_prefer(effectsize::oddsratio)</span></span>
<span id="cb80-61"><a href="#cb80-61" aria-hidden="true" tabindex="-1"></a><span class="in">conflicts_prefer(magrittr::set_names)</span></span>
<span id="cb80-62"><a href="#cb80-62" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb80-63"><a href="#cb80-63" aria-hidden="true" tabindex="-1"></a><span class="in">```</span></span>
<span id="cb80-64"><a href="#cb80-64" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb80-65"><a href="#cb80-65" aria-hidden="true" tabindex="-1"></a>An der Seite des Kapitels findest du den Link *Quellcode anzeigen*, über den du Zugang zum gesamten R-Code dieses Kapitels erhältst.</span>
<span id="cb80-66"><a href="#cb80-66" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb80-67"><a href="#cb80-67" aria-hidden="true" tabindex="-1"></a><span class="fu">## Unterschied zweier Mittelwerte</span></span>
<span id="cb80-68"><a href="#cb80-68" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb80-69"><a href="#cb80-69" aria-hidden="true" tabindex="-1"></a>Wir berechnen zwei Mittelwerte $\bar{y}_1$ und $\bar{y}_2$. Wenn wir wissen wollen wie groß der Effekt zwischen den beiden Mittelwerten ist, dann bilden wir die Differenz. Wir berechnen das $\Delta_{y_1-y_2}$ für $y_1$ und $y_2$ indem wir die beiden Mittelwerte voneinander abziehen.</span>
<span id="cb80-70"><a href="#cb80-70" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb80-71"><a href="#cb80-71" aria-hidden="true" tabindex="-1"></a>$$</span>
<span id="cb80-72"><a href="#cb80-72" aria-hidden="true" tabindex="-1"></a>\Delta_{y_1-y_2} = \bar{y}_1 - \bar{y}_2</span>
<span id="cb80-73"><a href="#cb80-73" aria-hidden="true" tabindex="-1"></a>$$</span>
<span id="cb80-74"><a href="#cb80-74" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb80-75"><a href="#cb80-75" aria-hidden="true" tabindex="-1"></a>Wenn es keinen Unterschied zwischen den beiden Mittelwerten $\bar{y}_1$ und $\bar{y}_2$ gibt, dann ist die Differenz $\Delta_{y_1-y_2} = \bar{y}_1 - \bar{y}_2$ gleich 0. Wir sagen, die Nullhypothese *vermutlich* gilt, wenn die Differenz klein ist. Warum schreiben wir hier vermutlich? Ein statistischer Test ist eine Funktion von $\Delta$, $s$ und $n$. Wir können auch mit kleinem $\Delta$ die Nullhypothese ablehnen, wenn $s$ und $n$ eine passende Teststatistik generieren. Siehe dazu auch das @sec-delta-n-s. Was wir besser annehmen können ist, dass die Relevanz klein ist. Effekt mit einem geringen Mittelwertsunterschied sind meistens nicht relevant. Aber diese Einschätzung hängt stark von der Fragestellung ab.</span>
<span id="cb80-76"><a href="#cb80-76" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb80-77"><a href="#cb80-77" aria-hidden="true" tabindex="-1"></a>$$</span>
<span id="cb80-78"><a href="#cb80-78" aria-hidden="true" tabindex="-1"></a>H_0: \Delta_{y_1-y_2} = \bar{y}_1 - \bar{y}_2 = 0</span>
<span id="cb80-79"><a href="#cb80-79" aria-hidden="true" tabindex="-1"></a>$$</span>
<span id="cb80-80"><a href="#cb80-80" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb80-81"><a href="#cb80-81" aria-hidden="true" tabindex="-1"></a>In @tbl-dog-cat-small-delta ist nochmal ein sehr simples Datenbeispiel gegeben an dem wir den Zusammenhang nochmal nachvollziehen wollen.</span>
<span id="cb80-82"><a href="#cb80-82" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb80-85"><a href="#cb80-85" aria-hidden="true" tabindex="-1"></a><span class="in">```{r}</span></span>
<span id="cb80-86"><a href="#cb80-86" aria-hidden="true" tabindex="-1"></a><span class="co">#| echo: false</span></span>
<span id="cb80-87"><a href="#cb80-87" aria-hidden="true" tabindex="-1"></a><span class="co">#| label: tbl-dog-cat-small-delta</span></span>
<span id="cb80-88"><a href="#cb80-88" aria-hidden="true" tabindex="-1"></a><span class="co">#| tbl-cap: Beispiel für die Berechnung von einem Mittelwertseffekt an der Sprunglänge [cm] von Hunde und Katzenflöhen.</span></span>
<span id="cb80-89"><a href="#cb80-89" aria-hidden="true" tabindex="-1"></a>data_tbl <span class="ot">&lt;-</span> <span class="fu">tibble</span>(<span class="at">animal =</span> <span class="fu">gl</span>(<span class="dv">2</span>, <span class="dv">4</span>, <span class="at">labels =</span> <span class="fu">c</span>(<span class="st">"cat"</span>, <span class="st">"dog"</span>)),</span>
<span id="cb80-90"><a href="#cb80-90" aria-hidden="true" tabindex="-1"></a>                   <span class="at">jump_length =</span> <span class="fu">c</span>(<span class="fl">8.0</span>, <span class="fl">7.9</span>, <span class="fl">8.3</span>, <span class="fl">9.1</span>, <span class="fl">8.0</span>, <span class="fl">7.8</span>, <span class="fl">9.2</span>, <span class="fl">7.7</span>)) </span>
<span id="cb80-91"><a href="#cb80-91" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb80-92"><a href="#cb80-92" aria-hidden="true" tabindex="-1"></a>data_tbl <span class="sc">%&gt;%</span> </span>
<span id="cb80-93"><a href="#cb80-93" aria-hidden="true" tabindex="-1"></a>  <span class="fu">kable</span>(<span class="at">align =</span> <span class="st">"c"</span>, <span class="st">"pipe"</span>)</span>
<span id="cb80-94"><a href="#cb80-94" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb80-95"><a href="#cb80-95" aria-hidden="true" tabindex="-1"></a>mean_tbl <span class="ot">&lt;-</span> data_tbl <span class="sc">%&gt;%</span> </span>
<span id="cb80-96"><a href="#cb80-96" aria-hidden="true" tabindex="-1"></a>  <span class="fu">group_by</span>(animal) <span class="sc">%&gt;%</span> </span>
<span id="cb80-97"><a href="#cb80-97" aria-hidden="true" tabindex="-1"></a>  <span class="fu">summarise</span>(<span class="at">mean_animal =</span> <span class="fu">round</span>(<span class="fu">mean</span>(jump_length), <span class="dv">1</span>),</span>
<span id="cb80-98"><a href="#cb80-98" aria-hidden="true" tabindex="-1"></a>            <span class="at">var_animal =</span> <span class="fu">round</span>(<span class="fu">var</span>(jump_length), <span class="dv">1</span>))</span>
<span id="cb80-99"><a href="#cb80-99" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb80-100"><a href="#cb80-100" aria-hidden="true" tabindex="-1"></a>mean_cat <span class="ot">&lt;-</span> mean_tbl<span class="sc">$</span>mean_animal[<span class="dv">1</span>]</span>
<span id="cb80-101"><a href="#cb80-101" aria-hidden="true" tabindex="-1"></a>mean_dog <span class="ot">&lt;-</span> mean_tbl<span class="sc">$</span>mean_animal[<span class="dv">2</span>]</span>
<span id="cb80-102"><a href="#cb80-102" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb80-103"><a href="#cb80-103" aria-hidden="true" tabindex="-1"></a><span class="in">```</span></span>
<span id="cb80-104"><a href="#cb80-104" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb80-105"><a href="#cb80-105" aria-hidden="true" tabindex="-1"></a>Nehmen wir an, wir berechnen für die Sprungweite <span class="sc">\[</span>cm<span class="sc">\]</span> der Hundeflöhe einen Mittelwert von $\bar{y}_{dog} = `r mean_dog`$ und für die Sprungweite \[cm\] der Katzenflöhe einen Mittelwert von $\bar{y}_{cat} =`r mean_cat`$. Wie große ist nun der Effekt? Oder anders gesprochen, welchen Unterschied in der Sprungweite macht es aus ein Hund oder eine Katze zu sein? Was ist also der Effekt von `animal`? Wir rechnen $\bar{y}_{dog} - \bar{y}_{cat} = 8.2 - 8.3 = -0.1$. Zum einen wissen wir jetzt "die Richtung". Da wir ein Minus vor dem Mittelwertsunterschied haben, müssen die Katzenflöhe weiter springen als die Hundeflöhe, nämlich 0.1 cm. Dennoch ist der Effekt sehr klein.</span>
<span id="cb80-106"><a href="#cb80-106" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb80-107"><a href="#cb80-107" aria-hidden="true" tabindex="-1"></a><span class="fu">### Cohen's d</span></span>
<span id="cb80-108"><a href="#cb80-108" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb80-109"><a href="#cb80-109" aria-hidden="true" tabindex="-1"></a>Da der Mittlwertsunterschied *alleine* nnur eine eingeschränkte Aussage über den Effekt erlaubt, gibt es noch Effektschätzer, die den Mittelwertsunterschied $\Delta_{y_1-y_2}$ mit der Streuung $s^2$ sowie der Fallzahl zusammenbringt. Der bekannteste Effektschätzer für einen Mittelwertsunterschied bei großer Fallzahl mit mehr als 20 Beobachtungen ist Cohen's d. Wir können Cohen's d wie folgt berechnen.</span>
<span id="cb80-110"><a href="#cb80-110" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb80-111"><a href="#cb80-111" aria-hidden="true" tabindex="-1"></a>$$</span>
<span id="cb80-112"><a href="#cb80-112" aria-hidden="true" tabindex="-1"></a>|d| = \cfrac{\bar{y}_1-\bar{y}_2}{\sqrt{\cfrac{s_1^2+s_2^2}{2}}}</span>
<span id="cb80-113"><a href="#cb80-113" aria-hidden="true" tabindex="-1"></a>$$</span>
<span id="cb80-114"><a href="#cb80-114" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb80-115"><a href="#cb80-115" aria-hidden="true" tabindex="-1"></a>Wenn wir die berechneten Mittelwerte und die Varianz der beiden Gruppen in die Formel einsetzten ergibt sich ein absolutes Cohen's d von 0.24 für den Gruppenvergleich.</span>
<span id="cb80-116"><a href="#cb80-116" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb80-117"><a href="#cb80-117" aria-hidden="true" tabindex="-1"></a>$$</span>
<span id="cb80-118"><a href="#cb80-118" aria-hidden="true" tabindex="-1"></a>|d| = \cfrac{8.2 - 8.3}{\sqrt{(0.5^2+0.3^2) /2}} = \cfrac{-0.1}{0.41} = \lvert-0.24\rvert</span>
<span id="cb80-119"><a href="#cb80-119" aria-hidden="true" tabindex="-1"></a>$$</span>
<span id="cb80-120"><a href="#cb80-120" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb80-121"><a href="#cb80-121" aria-hidden="true" tabindex="-1"></a>Was denn nun Cohen's d *exakt* aussagt, kann niemand sagen. Aber wir haben einen Wust an möglichen Grenzen. Hier soll die Grenzen von Cohen (1988) einmal angegeben werden. Cohen (1988) hat in seiner Arbeit folgende Grenzen in @tbl-cohen-d für die Interpretation von $d$ vorgeschlagen. Mehr Informationen zu Cohen's d gibt es auf der Hilfeseite von <span class="in">`effectsize`</span>: <span class="co">[</span><span class="ot">Interpret standardized differences</span><span class="co">](https://easystats.github.io/effectsize/reference/interpret_cohens_d.html)</span>.</span>
<span id="cb80-122"><a href="#cb80-122" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb80-123"><a href="#cb80-123" aria-hidden="true" tabindex="-1"></a>|     Cohen's d      | Interpretation des Effekts |</span>
<span id="cb80-124"><a href="#cb80-124" aria-hidden="true" tabindex="-1"></a>|:------------------:|:--------------------------:|</span>
<span id="cb80-125"><a href="#cb80-125" aria-hidden="true" tabindex="-1"></a>|     $d &lt; 0.2$      |         Sehr klein         |</span>
<span id="cb80-126"><a href="#cb80-126" aria-hidden="true" tabindex="-1"></a>| $0.2 \leq d &lt; 0.5$ |           Klein            |</span>
<span id="cb80-127"><a href="#cb80-127" aria-hidden="true" tabindex="-1"></a>| $0.5 \leq d &lt; 0.8$ |           Mittel           |</span>
<span id="cb80-128"><a href="#cb80-128" aria-hidden="true" tabindex="-1"></a>|    $d \geq 0.8$    |           Stark            |</span>
<span id="cb80-129"><a href="#cb80-129" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb80-130"><a href="#cb80-130" aria-hidden="true" tabindex="-1"></a>: Interpretation der Effektstärke nach Cohen (1988). {#tbl-cohen-d}</span>
<span id="cb80-131"><a href="#cb80-131" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb80-132"><a href="#cb80-132" aria-hidden="true" tabindex="-1"></a>Wir können auch über die Funktion <span class="in">`cohens_d()`</span> Cohen's d einfach in R berechnen. Die Funktion <span class="in">`cohens_d()`</span> akzeptiert die Formelschreibweise. Die 95% Konfidenzintervalle sind mit Vorsicht zu interpretieren. Denn die Nullhypothese ist hier nicht so klar formuliert. Wir lassen also die 95% Konfidenzintervalle erstmal hier so stehen.</span>
<span id="cb80-133"><a href="#cb80-133" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb80-136"><a href="#cb80-136" aria-hidden="true" tabindex="-1"></a><span class="in">```{r}</span></span>
<span id="cb80-137"><a href="#cb80-137" aria-hidden="true" tabindex="-1"></a><span class="fu">cohens_d</span>(jump_length <span class="sc">~</span> animal, <span class="at">data =</span> data_tbl, <span class="at">pooled_sd =</span> <span class="cn">TRUE</span>)</span>
<span id="cb80-138"><a href="#cb80-138" aria-hidden="true" tabindex="-1"></a><span class="in">```</span></span>
<span id="cb80-139"><a href="#cb80-139" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb80-140"><a href="#cb80-140" aria-hidden="true" tabindex="-1"></a>Dankenswerterweise gibt es noch die Funktion <span class="in">`interpret_cohens_d`</span>, die es uns erlaubt auszusuchen nach welche Literturquelle wir den Wert von Cohen's d interpretieren wollen. Ob dieser Effekt relevant zur Fragestellung ist musst du selber entscheiden.</span>
<span id="cb80-141"><a href="#cb80-141" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb80-144"><a href="#cb80-144" aria-hidden="true" tabindex="-1"></a><span class="in">```{r}</span></span>
<span id="cb80-145"><a href="#cb80-145" aria-hidden="true" tabindex="-1"></a><span class="fu">interpret_cohens_d</span>(<span class="fl">0.24</span>, <span class="at">rules =</span> <span class="st">"cohen1988"</span>)</span>
<span id="cb80-146"><a href="#cb80-146" aria-hidden="true" tabindex="-1"></a><span class="in">```</span></span>
<span id="cb80-147"><a href="#cb80-147" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb80-148"><a href="#cb80-148" aria-hidden="true" tabindex="-1"></a><span class="fu">### Hedges' g</span></span>
<span id="cb80-149"><a href="#cb80-149" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb80-150"><a href="#cb80-150" aria-hidden="true" tabindex="-1"></a>Soweit haben wir uns mit sehr großen Fallzahlen beschäftigt. Cohen's d ist dafür auch sehr gut geeigent und wenn wir mehr als 20 Beobachtungen haben, können wir Cohen's d auch gut anwenden. Wenn wir weniger Fallzahl vorliegen haben, dann können wir Hedges' g nutzen. Hedges' g bietet eine Verzerrungskorrektur für kleine Stichprobengrößen ($N &lt; 20$) sowie die Möglichkeit auch für *unbalanzierte* Gruppengrößen einen Effektschätzeer zu berechnen. Die Formel sieht mit dem Korrekturterm recht mächtig aus.</span>
<span id="cb80-151"><a href="#cb80-151" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb80-152"><a href="#cb80-152" aria-hidden="true" tabindex="-1"></a>$$</span>
<span id="cb80-153"><a href="#cb80-153" aria-hidden="true" tabindex="-1"></a>g = \cfrac{\bar{y}_1 - \bar{y}_2}{s^*} \cdot \left(\cfrac{N-3}{N-2.25}\right) \cdot \sqrt{\cfrac{N-2}{N}}</span>
<span id="cb80-154"><a href="#cb80-154" aria-hidden="true" tabindex="-1"></a>$$</span>
<span id="cb80-155"><a href="#cb80-155" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb80-156"><a href="#cb80-156" aria-hidden="true" tabindex="-1"></a>mit</span>
<span id="cb80-157"><a href="#cb80-157" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb80-158"><a href="#cb80-158" aria-hidden="true" tabindex="-1"></a>$$</span>
<span id="cb80-159"><a href="#cb80-159" aria-hidden="true" tabindex="-1"></a>s^* = \sqrt{\cfrac{(n_1-1)s_1^2 + (n_2-1)s_2^2}{n_1+n_2-2}}</span>
<span id="cb80-160"><a href="#cb80-160" aria-hidden="true" tabindex="-1"></a>$$</span>
<span id="cb80-161"><a href="#cb80-161" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb80-162"><a href="#cb80-162" aria-hidden="true" tabindex="-1"></a>Wir können aber einfach die Mittelwerte und die Varianzen aus unserem beispiel einsetzen. Da unsere beiden Gruppen gleich groß sind $n_1 = n_2$ und damit ein balanziertes Design vorliegt, sind Cohen's d und Hedges' g numerisch gleich. Wir können dann noch für die geringe Fallzahl korrigieren und erhalten ein händisches $g = 0.18$.</span>
<span id="cb80-163"><a href="#cb80-163" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb80-164"><a href="#cb80-164" aria-hidden="true" tabindex="-1"></a>$$</span>
<span id="cb80-165"><a href="#cb80-165" aria-hidden="true" tabindex="-1"></a>g = \cfrac{8.2 - 8.3}{0.41} \cdot \left(\cfrac{8-3}{8-2.25}\right) \cdot \sqrt{\cfrac{8-2}{8}} = \lvert-0.24\rvert \cdot 0.87 \cdot 0.87 \approx 0.18</span>
<span id="cb80-166"><a href="#cb80-166" aria-hidden="true" tabindex="-1"></a>$$</span>
<span id="cb80-167"><a href="#cb80-167" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb80-168"><a href="#cb80-168" aria-hidden="true" tabindex="-1"></a>mit</span>
<span id="cb80-169"><a href="#cb80-169" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb80-170"><a href="#cb80-170" aria-hidden="true" tabindex="-1"></a>$$</span>
<span id="cb80-171"><a href="#cb80-171" aria-hidden="true" tabindex="-1"></a>s^* = \sqrt{\cfrac{(4-1)\cdot0.5^2 + (4-1)\cdot0.3^2}{4+4-2}} = \sqrt{\cfrac{0.75 + 0.27}{6}} = 0.41</span>
<span id="cb80-172"><a href="#cb80-172" aria-hidden="true" tabindex="-1"></a>$$</span>
<span id="cb80-173"><a href="#cb80-173" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb80-174"><a href="#cb80-174" aria-hidden="true" tabindex="-1"></a>In R gibt es die Funktion <span class="in">`hedges_g()`</span> die uns erlaubt in der Formelschreibweise direkt Hedges' g zu berechnen. Wir sehen hier eine Abweichung von unserer händischen Rechnung. Das ist aber in soweit nicht ungewöhnlich, da es noch eine Menge Varianten der Anpassung für die geringe Fallzahl gibt. In der Anwendung nutzen wir die Funktion aus dem Paket <span class="in">`{effectsize}`</span> wie hier durchgeführt.</span>
<span id="cb80-175"><a href="#cb80-175" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb80-176"><a href="#cb80-176" aria-hidden="true" tabindex="-1"></a>Wir ignorieren wie auch bei Cohen's d das 95% Konfidenzintervall, da die Interpretation ohne die Nullhypothese nicht möglich ist. Die Nullhypothese ist in diesem Fall komplexer. Wir lassen daher das 95% Konfidenzintervall erstmal einfach hier so stehen.</span>
<span id="cb80-177"><a href="#cb80-177" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb80-180"><a href="#cb80-180" aria-hidden="true" tabindex="-1"></a><span class="in">```{r}</span></span>
<span id="cb80-181"><a href="#cb80-181" aria-hidden="true" tabindex="-1"></a><span class="fu">hedges_g</span>(jump_length <span class="sc">~</span> animal, <span class="at">data =</span> data_tbl, <span class="at">pooled_sd =</span> <span class="cn">TRUE</span>)</span>
<span id="cb80-182"><a href="#cb80-182" aria-hidden="true" tabindex="-1"></a><span class="in">```</span></span>
<span id="cb80-183"><a href="#cb80-183" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb80-184"><a href="#cb80-184" aria-hidden="true" tabindex="-1"></a>Auch für Hedges' g gibt es die Möglichkeit sich über die Funktion <span class="in">`interpret_hedges_g()`</span> den Wert von $g=0.21$ interpretieren zu lassen. Nach Sawilowsky (2009) haben wir hier einen kleinen Effekt vorliegen. Ob dieser Effekt relevant zur Fragestellung ist musst du selber entscheiden.</span>
<span id="cb80-185"><a href="#cb80-185" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb80-188"><a href="#cb80-188" aria-hidden="true" tabindex="-1"></a><span class="in">```{r}</span></span>
<span id="cb80-189"><a href="#cb80-189" aria-hidden="true" tabindex="-1"></a><span class="fu">interpret_hedges_g</span>(<span class="fl">0.21</span>, <span class="at">rules =</span> <span class="st">"sawilowsky2009"</span>)</span>
<span id="cb80-190"><a href="#cb80-190" aria-hidden="true" tabindex="-1"></a><span class="in">```</span></span>
<span id="cb80-191"><a href="#cb80-191" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb80-192"><a href="#cb80-192" aria-hidden="true" tabindex="-1"></a><span class="co">[</span><span class="ot">Die Hilfeseite zu dem Paket `effectsize`</span><span class="co">](https://easystats.github.io/effectsize/reference/interpret_cohens_d.html)</span> bietet eine Liste an möglichen Referenzen für die Wahl der Interpretation der Effektstärke. Du musst dann im Zweifel schauen, welche der Quellen und damit Grenzen du nutzen willst.</span>
<span id="cb80-193"><a href="#cb80-193" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb80-194"><a href="#cb80-194" aria-hidden="true" tabindex="-1"></a><span class="fu">## Unterschied zweier Anteile</span></span>
<span id="cb80-195"><a href="#cb80-195" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb80-196"><a href="#cb80-196" aria-hidden="true" tabindex="-1"></a>Neben den Unterschied zweier Mittelwerte ist auch häufig das Interesse an dem Unterschied zwischen zwei Anteilen. Nun unterscheiden wir zwischen Wahrscheinlichkeiten und Chancen. Beide Maßzahlen, die Wahrscheinlichkeit wie auch die Chance, beschreiben einen Anteil. Hier tritt häufig Verwirrung auf, daher hier zuerst ein Beispiel.</span>
<span id="cb80-197"><a href="#cb80-197" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb80-198"><a href="#cb80-198" aria-hidden="true" tabindex="-1"></a>Wir behandelt $n = 65$ Hunde mit dem Antiflohmittel *FleaEx*. Um die Wirkung von *FleaEx* auch bestimmen zu können haben wir uns zwei Gruppen von Hunden ausgesucht. Wir haben Hunde, die mit Flöhe infiziert sind und Hunde, die nicht mit Flöhen infiziert sind. Wir schauen nun in wie weit *FleaEx* gegen Flöhe hilft im Vergleich zu einer Kontrolle.</span>
<span id="cb80-199"><a href="#cb80-199" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb80-200"><a href="#cb80-200" aria-hidden="true" tabindex="-1"></a>|           |           |                   |                   |</span>
<span id="cb80-201"><a href="#cb80-201" aria-hidden="true" tabindex="-1"></a>|:---------:|:---------:|:-----------------:|:-----------------:|</span>
<span id="cb80-202"><a href="#cb80-202" aria-hidden="true" tabindex="-1"></a>|           |           |   **Infected**    |                   |</span>
<span id="cb80-203"><a href="#cb80-203" aria-hidden="true" tabindex="-1"></a>|           |           |     *Yes (1)*     |     *No (0)*      |</span>
<span id="cb80-204"><a href="#cb80-204" aria-hidden="true" tabindex="-1"></a>| **Group** | *FleaEx*  | $18_{\;\Large a}$ | $23_{\;\Large b}$ |</span>
<span id="cb80-205"><a href="#cb80-205" aria-hidden="true" tabindex="-1"></a>|           | *Control* | $14_{\;\Large c}$ | $10_{\;\Large d}$ |</span>
<span id="cb80-206"><a href="#cb80-206" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb80-207"><a href="#cb80-207" aria-hidden="true" tabindex="-1"></a>: Eine 2x2 Tabelle als Beispiel für unterschiedliche Flohinfektionen bei nach einer Behandlung mit *FleaEx* für die Berechnung von Effektschätzern eines Anteils. {#tbl-2x2-ratio-delta}</span>
<span id="cb80-208"><a href="#cb80-208" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb80-209"><a href="#cb80-209" aria-hidden="true" tabindex="-1"></a>Aus der @tbl-2x2-ratio-delta können wir entnehmen, dass 18 behandelte Hunde mit Flöhen infiziert sind und 14 Hunde keine Infektion aufweisen. Bei den Hunden aus der Kontrolle haben wir 23 infizierte und 10 gesunde Tiere beobachtet.</span>
<span id="cb80-210"><a href="#cb80-210" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb80-211"><a href="#cb80-211" aria-hidden="true" tabindex="-1"></a>Wir können nun zwei Arten von Anteilen berechnen um zu beschreiben, wie sich der Anteil an infizierten Hunden verhält. Das bekanntere ist die Frequenz oder Wahrscheinlichkeit oder Risk Ratio ($RR$). Das andere ist das Chancenverhältnis oder Odds Ratio ($OR$). Beide kommen in der Statistik vor und sind unterschiedlich zu interpretieren. Es gibt verschiedene Typen von klinischen Studien, also Untersuchungen an Menschen. Einige Studien liefern nur $OR$ wieder andere Studientypen liefern $RR$. @george2020s liefert eine gute Übersicht über *What's the risk: differentiating risk ratios, odds ratios, and hazard ratios?*</span>
<span id="cb80-212"><a href="#cb80-212" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb80-213"><a href="#cb80-213" aria-hidden="true" tabindex="-1"></a>Um die die Odds Ratio und die Risk Ratios auch in R berechnen zu können müssen wir einmal die 2x2 Kreuzabelle in R nachbauen. Wir nutzen dafür die Funktion <span class="in">`matrix()`</span> und müssen schauen, dass die Zahlen in der 2x2 Kreuztabelle in R dann auch so sind, wie in der Datentabelle. Das ist jetzt ein schöner Codeblock, ist aber dafür da um sicherzustellen, dass wir die Zahlen richtig eintragen.</span>
<span id="cb80-214"><a href="#cb80-214" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb80-217"><a href="#cb80-217" aria-hidden="true" tabindex="-1"></a><span class="in">```{r}</span></span>
<span id="cb80-218"><a href="#cb80-218" aria-hidden="true" tabindex="-1"></a>cross_mat <span class="ot">&lt;-</span> <span class="fu">matrix</span>(<span class="fu">c</span>(<span class="dv">18</span>, <span class="dv">23</span>, <span class="dv">14</span>, <span class="dv">10</span>),</span>
<span id="cb80-219"><a href="#cb80-219" aria-hidden="true" tabindex="-1"></a>  <span class="at">nrow =</span> <span class="dv">2</span>, <span class="at">byrow =</span> <span class="cn">TRUE</span>,</span>
<span id="cb80-220"><a href="#cb80-220" aria-hidden="true" tabindex="-1"></a>  <span class="at">dimnames =</span> <span class="fu">list</span>(</span>
<span id="cb80-221"><a href="#cb80-221" aria-hidden="true" tabindex="-1"></a>    <span class="at">Group =</span> <span class="fu">c</span>(<span class="st">"FleaEx"</span>, <span class="st">"Control"</span>),</span>
<span id="cb80-222"><a href="#cb80-222" aria-hidden="true" tabindex="-1"></a>    <span class="at">Infected =</span> <span class="fu">c</span>(<span class="st">"Yes"</span>, <span class="st">"No"</span>)</span>
<span id="cb80-223"><a href="#cb80-223" aria-hidden="true" tabindex="-1"></a>  )</span>
<span id="cb80-224"><a href="#cb80-224" aria-hidden="true" tabindex="-1"></a>)</span>
<span id="cb80-225"><a href="#cb80-225" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb80-226"><a href="#cb80-226" aria-hidden="true" tabindex="-1"></a>cross_mat</span>
<span id="cb80-227"><a href="#cb80-227" aria-hidden="true" tabindex="-1"></a><span class="in">```</span></span>
<span id="cb80-228"><a href="#cb80-228" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb80-229"><a href="#cb80-229" aria-hidden="true" tabindex="-1"></a>Später werden wir das $OR$ und $RR$ wieder treffen. Das $OR$ kommt in der logistsichen Regression als Effektschätzer vor. Wir nutzen das $RR$ als Effektschätzer in der Poissonregression.</span>
<span id="cb80-230"><a href="#cb80-230" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb80-231"><a href="#cb80-231" aria-hidden="true" tabindex="-1"></a><span class="fu">### Wahrscheinlichkeitsverhältnis oder Risk Ratio (RR)</span></span>
<span id="cb80-232"><a href="#cb80-232" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb80-233"><a href="#cb80-233" aria-hidden="true" tabindex="-1"></a>Wir berechnen wir nun das Wahrscheinlichkeitsverhältnis oder Risk Ratio (RR)? Das Risk Ratio ist das Verhältnis von den infizierten Hunden in der Behandlung ($a$) zu allen infizierten Hunden ($a+c$) zu dem Verhältnis der gesunden Hunde in der Behandlung ($b$) zu allen gesunden Hunden ($b+d$). Das klingt jetzt etwas wirr, deshalb helfen manchmal wirklich Formeln, den Zusammenhang besser zu verstehen. Damit ist $Pr(\mbox{FleaEx}|\mbox{infected})$ die Wahrscheinlichkeit infiziert zu sein, wenn der Hund mit *FleaEx* behandelt wurde.</span>
<span id="cb80-234"><a href="#cb80-234" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb80-235"><a href="#cb80-235" aria-hidden="true" tabindex="-1"></a>$$</span>
<span id="cb80-236"><a href="#cb80-236" aria-hidden="true" tabindex="-1"></a>Pr(\mbox{FleaEx}|\mbox{infected}) = \cfrac{a}{a+c} = \cfrac{18}{18+14} \approx 0.56</span>
<span id="cb80-237"><a href="#cb80-237" aria-hidden="true" tabindex="-1"></a>$$</span>
<span id="cb80-238"><a href="#cb80-238" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb80-239"><a href="#cb80-239" aria-hidden="true" tabindex="-1"></a>Die Wahrscheinlichkeit $Pr(\mbox{Control}|\mbox{infected})$ ist dann die Wahrscheinlichkeit infiziert zu sein, wenn der Hund mit in der Kontrolle war.<span class="sc">\]</span>{.aside}</span>
<span id="cb80-240"><a href="#cb80-240" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb80-241"><a href="#cb80-241" aria-hidden="true" tabindex="-1"></a>$$</span>
<span id="cb80-242"><a href="#cb80-242" aria-hidden="true" tabindex="-1"></a>Pr(\mbox{Control}|\mbox{infected}) = \cfrac{b}{b+d} = \cfrac{23}{23 + 10} \approx 0.70</span>
<span id="cb80-243"><a href="#cb80-243" aria-hidden="true" tabindex="-1"></a>$$</span>
<span id="cb80-244"><a href="#cb80-244" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb80-245"><a href="#cb80-245" aria-hidden="true" tabindex="-1"></a>Das Risk Ratio ist mehr oder minder das Verhältnis von der beiden Spalten der @tbl-2x2-ratio-delta für die Behandlung. Wir erhalten also ein $RR$ von $0.76$. Damit mindert die Gabe von *FleaEx* die Wahrscheinlichkeit sich mit Flöhen zu infizieren.</span>
<span id="cb80-246"><a href="#cb80-246" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb80-247"><a href="#cb80-247" aria-hidden="true" tabindex="-1"></a>$$</span>
<span id="cb80-248"><a href="#cb80-248" aria-hidden="true" tabindex="-1"></a>\Delta_{y_1/y_2} = RR = \cfrac{Pr(\mbox{FleaEx}|\mbox{infected})}{Pr(\mbox{Control}|\mbox{infected})} =  \cfrac{0.56}{0.70} \approx 0.80 </span>
<span id="cb80-249"><a href="#cb80-249" aria-hidden="true" tabindex="-1"></a>$$</span>
<span id="cb80-250"><a href="#cb80-250" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb80-251"><a href="#cb80-251" aria-hidden="true" tabindex="-1"></a>Wir überprüfen kurz mit der Funktion <span class="in">`riskratio()`</span> ob wir richtig gerechnet haben. Das 95% Konfidenzintervall können wir interpretieren, dafür brauchen wir aber noch einmal eine Idee was "kein Effekt" bei einem Risk Ratio heist.</span>
<span id="cb80-252"><a href="#cb80-252" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb80-255"><a href="#cb80-255" aria-hidden="true" tabindex="-1"></a><span class="in">```{r}</span></span>
<span id="cb80-256"><a href="#cb80-256" aria-hidden="true" tabindex="-1"></a><span class="fu">riskratio</span>(cross_mat)</span>
<span id="cb80-257"><a href="#cb80-257" aria-hidden="true" tabindex="-1"></a><span class="in">```</span></span>
<span id="cb80-258"><a href="#cb80-258" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb80-259"><a href="#cb80-259" aria-hidden="true" tabindex="-1"></a>Wann liegt nun kein Effekt bei einem Anteil wie dem RR vor? Wenn der Anteil in der einen Gruppe genauso groß ist wie der Anteil der anderen Gruppe.</span>
<span id="cb80-260"><a href="#cb80-260" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb80-261"><a href="#cb80-261" aria-hidden="true" tabindex="-1"></a>$$</span>
<span id="cb80-262"><a href="#cb80-262" aria-hidden="true" tabindex="-1"></a>H_0: RR = \cfrac{Pr(\mbox{dog}|\mbox{infected})}{Pr(\mbox{cat}|\mbox{infected})} = 1</span>
<span id="cb80-263"><a href="#cb80-263" aria-hidden="true" tabindex="-1"></a>$$</span>
<span id="cb80-264"><a href="#cb80-264" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb80-265"><a href="#cb80-265" aria-hidden="true" tabindex="-1"></a>Wir interpretieren das $RR$ nun wie folgt. Unter der Annahme, dass ein kausaler Effekt zwischen der Behandlung und dem Outcome besteht, können die Werte des relativen Risikos auf folgende Art und Weise interpretiert werden:</span>
<span id="cb80-266"><a href="#cb80-266" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb80-267"><a href="#cb80-267" aria-hidden="true" tabindex="-1"></a><span class="ss">-   </span>$RR = 1$ bedeutet, dass die Behandlung keinen Einfluss auf das Outcome hat</span>
<span id="cb80-268"><a href="#cb80-268" aria-hidden="true" tabindex="-1"></a><span class="ss">-   </span>$RR &lt; 1$ bedeutet, dass das Risiko für das Outcome durch die Behandlung verringert wird, was ein "Schutzfaktor" ist</span>
<span id="cb80-269"><a href="#cb80-269" aria-hidden="true" tabindex="-1"></a><span class="ss">-   </span>$RR &gt; 1$ bedeutet, dass das Risiko für das Outcome durch die Behandlung erhöht wird, was ein "Risikofaktor" ist.</span>
<span id="cb80-270"><a href="#cb80-270" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb80-271"><a href="#cb80-271" aria-hidden="true" tabindex="-1"></a>Das heist in unserem Fall, dass wir mit einem RR von $0.80$ eine protektive Behandlung vorliegen haben. Die Gabe von *FleaEx* reduziert das Risiko mit Flöhen infiziert zu werden. Durch das 95% Konfidenzintervall wissen wir auch, dass das $RR$ nicht signifikant ist, da die 1 im 95% Konfidenzintervall enthalten ist.</span>
<span id="cb80-272"><a href="#cb80-272" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb80-273"><a href="#cb80-273" aria-hidden="true" tabindex="-1"></a><span class="fu">### Chancenverhältnis oder Odds Ratio (OR)</span></span>
<span id="cb80-274"><a href="#cb80-274" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb80-275"><a href="#cb80-275" aria-hidden="true" tabindex="-1"></a>Neben dem Risk Ratio gibt es noch das Odds Ratio. Das Odds Ratio ist ein Chancenverhältnis. Wenn der Mensch an sich schon Probleme hat für sich Wahrscheinlichkeiten richtig einzuordnen, scheitert man allgemein an der Chance vollkommen. Dennoch ist das Odds Ratio eine gute Maßzahl um abzuschätzen wie die Chancen stehen, einen infizierten Hund vorzufinden, wenn der Hund behandelt wurde.</span>
<span id="cb80-276"><a href="#cb80-276" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb80-277"><a href="#cb80-277" aria-hidden="true" tabindex="-1"></a>Schauen wir uns einmal die Formeln an. Im Gegensatz zum Risk Ratio, welches die Spalten miteinander vergleicht, vergleicht das Odds Ratio die Zeilen. Als erstes berechnen wir die Chance unter der Gabe von *FleaEx* infiziert zu sein wie folgt.</span>
<span id="cb80-278"><a href="#cb80-278" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb80-279"><a href="#cb80-279" aria-hidden="true" tabindex="-1"></a>$$</span>
<span id="cb80-280"><a href="#cb80-280" aria-hidden="true" tabindex="-1"></a>Odds(\mbox{FleaEx}|\mbox{infected}) = a:b = 18:23 = \cfrac{18}{23} = 0.78</span>
<span id="cb80-281"><a href="#cb80-281" aria-hidden="true" tabindex="-1"></a>$$</span>
<span id="cb80-282"><a href="#cb80-282" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb80-283"><a href="#cb80-283" aria-hidden="true" tabindex="-1"></a>Dann berechnen wir die Chance in der Kontrollgruppe infiziert zu sein wie folgt.</span>
<span id="cb80-284"><a href="#cb80-284" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb80-285"><a href="#cb80-285" aria-hidden="true" tabindex="-1"></a>$$</span>
<span id="cb80-286"><a href="#cb80-286" aria-hidden="true" tabindex="-1"></a>Odds(\mbox{Control}|\mbox{infected}) = c:d = 14:10 = \cfrac{14}{10} \approx 1.40 </span>
<span id="cb80-287"><a href="#cb80-287" aria-hidden="true" tabindex="-1"></a>$$</span>
<span id="cb80-288"><a href="#cb80-288" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb80-289"><a href="#cb80-289" aria-hidden="true" tabindex="-1"></a>Abschließend bilden wir das Chancenverhältnis der Chance unter der Gabe von *FleaEx* infiziert zu sein zu der Chance in der Kontrollgruppe infiziert zu sein. Es ergbit sich das Odds Ratio wie folgt.</span>
<span id="cb80-290"><a href="#cb80-290" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb80-291"><a href="#cb80-291" aria-hidden="true" tabindex="-1"></a>$$</span>
<span id="cb80-292"><a href="#cb80-292" aria-hidden="true" tabindex="-1"></a>\Delta_{y_1/y_2} = OR =  \cfrac{Odds(\mbox{Flea}|\mbox{infected})}{Odds(\mbox{Control}|\mbox{infected})} = \cfrac{a \cdot d}{b \cdot c} = \cfrac{0.78}{1.40} \approx 0.56</span>
<span id="cb80-293"><a href="#cb80-293" aria-hidden="true" tabindex="-1"></a>$$</span>
<span id="cb80-294"><a href="#cb80-294" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb80-295"><a href="#cb80-295" aria-hidden="true" tabindex="-1"></a>Wir überprüfen kurz mit der Funktion <span class="in">`oddsratio()`</span> ob wir richtig gerechnet haben. Das 95% Konfidenzintervall können wir interpretieren, dafür brauchen wir aber noch einmal eine Idee was "kein Effekt" bei einem Odds Ratio heist.</span>
<span id="cb80-296"><a href="#cb80-296" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb80-299"><a href="#cb80-299" aria-hidden="true" tabindex="-1"></a><span class="in">```{r}</span></span>
<span id="cb80-300"><a href="#cb80-300" aria-hidden="true" tabindex="-1"></a><span class="fu">oddsratio</span>(cross_mat)</span>
<span id="cb80-301"><a href="#cb80-301" aria-hidden="true" tabindex="-1"></a><span class="in">```</span></span>
<span id="cb80-302"><a href="#cb80-302" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb80-303"><a href="#cb80-303" aria-hidden="true" tabindex="-1"></a>Wann liegt nun kein Effekt bei einem Anteil wie dem OR vor? Wenn der Anteil in der einen Gruppe genauso groß ist wie der Anteil der anderen Gruppe.</span>
<span id="cb80-304"><a href="#cb80-304" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb80-305"><a href="#cb80-305" aria-hidden="true" tabindex="-1"></a>$$</span>
<span id="cb80-306"><a href="#cb80-306" aria-hidden="true" tabindex="-1"></a>H_0: OR =  \cfrac{Odds(\mbox{dog}|\mbox{infected})}{Odds(\mbox{cat}|\mbox{infected})} = 1</span>
<span id="cb80-307"><a href="#cb80-307" aria-hidden="true" tabindex="-1"></a>$$</span>
<span id="cb80-308"><a href="#cb80-308" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb80-309"><a href="#cb80-309" aria-hidden="true" tabindex="-1"></a>Wir interpretieren das $OR$ nun wie folgt. Unter der Annahme, dass ein kausaler Effekt zwischen der Behandlung und dem Outcome besteht, können die Werte des Odds Ratio auf folgende Art und Weise interpretiert werden:</span>
<span id="cb80-310"><a href="#cb80-310" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb80-311"><a href="#cb80-311" aria-hidden="true" tabindex="-1"></a><span class="ss">-   </span>$OR = 1$ bedeutet, dass die Behandlung keinen Einfluss auf das Outcome hat</span>
<span id="cb80-312"><a href="#cb80-312" aria-hidden="true" tabindex="-1"></a><span class="ss">-   </span>$OR &lt; 1$ bedeutet, dass sich die Chance das Outcome zu bekommen durch die Behandlung verringert wird, was ein "Schutzfaktor" ist</span>
<span id="cb80-313"><a href="#cb80-313" aria-hidden="true" tabindex="-1"></a><span class="ss">-   </span>$OR &gt; 1$ bedeutet, dass sich die Chance das Outcome zu bekommen durch die Behandlung erhöht wird, was ein "Risikofaktor" ist.</span>
<span id="cb80-314"><a href="#cb80-314" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb80-315"><a href="#cb80-315" aria-hidden="true" tabindex="-1"></a>Das heist in unserem Fall, dass wir mit einem OR von $0.56$ eine protektive Behandlung vorliegen haben. Die Gabe von *FleaEx* reduziert die Chance mit Flöhen infiziert zu werden. Durch das 95% Konfidenzintervall wissen wir auch, dass das $OR$ nicht signifikant ist, da die 1 im 95% Konfidenzintervall enthalten ist.</span>
<span id="cb80-316"><a href="#cb80-316" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb80-317"><a href="#cb80-317" aria-hidden="true" tabindex="-1"></a><span class="fu">### Odds Ratio (OR) zu Risk Ratio (RR)</span></span>
<span id="cb80-318"><a href="#cb80-318" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb80-319"><a href="#cb80-319" aria-hidden="true" tabindex="-1"></a>Wenn wir das OR berechnet haben, wollen wir eventuell das $OR$ in dem Sinne eines Riskoverhältnisses berichten. Leider ist es nun so, dass wir das nicht einfach mit einem $OR$ machen können. Ein $OR$ von 3.5 ist ein großes Chancenverhältnis. Aber ist es auch 3.5-mal so wahrscheinlich? Nein so einfach können wir das OR nicht interpretieren. Wir können aber das $OR$ in das $RR$ umrechnen. Dafür brauchen wir aber das $p_0$. Dabei ist das $p_0$ das Basisrisiko also die Wahrscheinlichkeit des Ereignisses ohne die Intervention. Wenn wir nichts tun würden, wie wahrscheinlich wäre dann das Auftreten des Ereignisses? Es ergibt sich dann die folgende Formel für die Umrechnung des $OR$ in das $RR$. @grant2014converting gibt nochmal eine wissenschaftliche Diskussion des Themas zur Konvertierung von OR zu RR.</span>
<span id="cb80-320"><a href="#cb80-320" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb80-321"><a href="#cb80-321" aria-hidden="true" tabindex="-1"></a>$$</span>
<span id="cb80-322"><a href="#cb80-322" aria-hidden="true" tabindex="-1"></a>RR = \cfrac{OR}{(1 - p_0 + (p_0 \cdot OR))}</span>
<span id="cb80-323"><a href="#cb80-323" aria-hidden="true" tabindex="-1"></a>$$</span>
<span id="cb80-324"><a href="#cb80-324" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb80-325"><a href="#cb80-325" aria-hidden="true" tabindex="-1"></a>Schauen wir uns das einmal in einem Beispiel an. Wir nutzen für die Umrechnung die Funktion <span class="in">`oddsratio_to_riskratio()`</span> aus dem R Paket <span class="in">`{effectsize}`</span>. Wenn wir ein $OR$ von 3.5 haben, so hängt das $RR$ von dem Basisriskio ab. Wenn das Basisirisko für die Erkrankung ohne die Behandlung sehr hoch ist mit $p_0 = 0.85$, dann ist das $RR$ sehr klein.</span>
<span id="cb80-326"><a href="#cb80-326" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb80-329"><a href="#cb80-329" aria-hidden="true" tabindex="-1"></a><span class="in">```{r}</span></span>
<span id="cb80-330"><a href="#cb80-330" aria-hidden="true" tabindex="-1"></a>OR <span class="ot">&lt;-</span> <span class="fl">3.5</span></span>
<span id="cb80-331"><a href="#cb80-331" aria-hidden="true" tabindex="-1"></a>baserate <span class="ot">&lt;-</span> <span class="fl">0.85</span></span>
<span id="cb80-332"><a href="#cb80-332" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb80-333"><a href="#cb80-333" aria-hidden="true" tabindex="-1"></a><span class="fu">oddsratio_to_riskratio</span>(OR, baserate) <span class="sc">%&gt;%</span> <span class="fu">round</span>(<span class="dv">2</span>)</span>
<span id="cb80-334"><a href="#cb80-334" aria-hidden="true" tabindex="-1"></a><span class="in">```</span></span>
<span id="cb80-335"><a href="#cb80-335" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb80-336"><a href="#cb80-336" aria-hidden="true" tabindex="-1"></a>Auf der anderen Seite nähert sich das $OR$ dem $RR$ an, wenn das Basisriskio für die Erkrankung mit $p_0 = 0.04$ sehr klein ist.</span>
<span id="cb80-337"><a href="#cb80-337" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb80-340"><a href="#cb80-340" aria-hidden="true" tabindex="-1"></a><span class="in">```{r}</span></span>
<span id="cb80-341"><a href="#cb80-341" aria-hidden="true" tabindex="-1"></a>OR <span class="ot">&lt;-</span> <span class="fl">3.5</span></span>
<span id="cb80-342"><a href="#cb80-342" aria-hidden="true" tabindex="-1"></a>baserate <span class="ot">&lt;-</span> <span class="fl">0.04</span></span>
<span id="cb80-343"><a href="#cb80-343" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb80-344"><a href="#cb80-344" aria-hidden="true" tabindex="-1"></a><span class="fu">oddsratio_to_riskratio</span>(OR, baserate) <span class="sc">%&gt;%</span> <span class="fu">round</span>(<span class="dv">2</span>)</span>
<span id="cb80-345"><a href="#cb80-345" aria-hidden="true" tabindex="-1"></a><span class="in">```</span></span>
<span id="cb80-346"><a href="#cb80-346" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb80-347"><a href="#cb80-347" aria-hidden="true" tabindex="-1"></a>Weil wir natürlich das Basisrisiko nur abschätzen können, verbleibt hier eine gewisse Unsicherheit, wie das $RR$ zu einem gegebenen $OR$ aussieht.</span>
<span id="cb80-348"><a href="#cb80-348" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb80-349"><a href="#cb80-349" aria-hidden="true" tabindex="-1"></a><span class="fu">### Foldchange</span></span>
<span id="cb80-350"><a href="#cb80-350" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb80-351"><a href="#cb80-351" aria-hidden="true" tabindex="-1"></a>Der Foldchange (deu. *Zunahmenänderung* ungebräuchlich, abk. *FC*) ist ein statistisches Maß welches uns beschreibt, wie sehr sich eine Menge von einem Anfangs- zu einem Endwert verändert. Dabei ist es wichtig, dass wir es hier gleich mit einem Anteil zu tun haben. Beispielsweise entspricht ein Anfangswert von 30 und ein Endwert von 60 einer 2-fachen Änderung oder eben eines *two-fold change*. Wir wollen dabei natürlich wissen, wie sich der Wert von Ende zu Beginn geändert hat.</span>
<span id="cb80-352"><a href="#cb80-352" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb80-353"><a href="#cb80-353" aria-hidden="true" tabindex="-1"></a>$$</span>
<span id="cb80-354"><a href="#cb80-354" aria-hidden="true" tabindex="-1"></a>FC = \cfrac{Endwert}{Anfangswert} = \cfrac{60}{30} = 2</span>
<span id="cb80-355"><a href="#cb80-355" aria-hidden="true" tabindex="-1"></a>$$</span>
<span id="cb80-356"><a href="#cb80-356" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb80-357"><a href="#cb80-357" aria-hidden="true" tabindex="-1"></a>Eine Verringerung von 80 auf 20 wäre ein Foldchange von -0.75, während eine Veränderung von 20 auf 80 ein Foldchange von 3 wäre. Damit sind wir natürlich sehr unsymmetrisch um die 1.</span>
<span id="cb80-358"><a href="#cb80-358" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb80-359"><a href="#cb80-359" aria-hidden="true" tabindex="-1"></a>$$</span>
<span id="cb80-360"><a href="#cb80-360" aria-hidden="true" tabindex="-1"></a>FC = \cfrac{Endwert}{Anfangswert} = \cfrac{20}{80} = 0.75</span>
<span id="cb80-361"><a href="#cb80-361" aria-hidden="true" tabindex="-1"></a>$$</span>
<span id="cb80-362"><a href="#cb80-362" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb80-363"><a href="#cb80-363" aria-hidden="true" tabindex="-1"></a>Alle Foldchanges mit einer Verringerung pressen sich in den Zahlenraum $<span class="co">[</span><span class="ot">0,1</span><span class="co">]</span>$ während alle Erhöhungen sich im Zahlenraum $<span class="co">[</span><span class="ot">1, \infty</span><span class="co">]</span>$ bewegen. Um dies zu umgehen, verwenden wir $log2$ für den Ausdruck der Log Foldchange. Damit du das besser verstehst, dann die Sachlage einmal als ein Beispiel. Wenn du einen FC von 2 vorliegen hast und dann $log_2(2)$ berechnest, dann erhälst du einen $log_2FC$ von 1.</span>
<span id="cb80-364"><a href="#cb80-364" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb80-367"><a href="#cb80-367" aria-hidden="true" tabindex="-1"></a><span class="in">```{r}</span></span>
<span id="cb80-368"><a href="#cb80-368" aria-hidden="true" tabindex="-1"></a>FC <span class="ot">&lt;-</span> <span class="fu">c</span>(<span class="fl">0.1</span>, <span class="fl">0.5</span>, <span class="fl">0.75</span>, <span class="dv">1</span>, <span class="dv">2</span>, <span class="dv">3</span>, <span class="dv">4</span>)</span>
<span id="cb80-369"><a href="#cb80-369" aria-hidden="true" tabindex="-1"></a><span class="fu">log2</span>(FC) <span class="sc">|&gt;</span> </span>
<span id="cb80-370"><a href="#cb80-370" aria-hidden="true" tabindex="-1"></a>  <span class="fu">round</span>(<span class="dv">2</span>) <span class="sc">|&gt;</span> </span>
<span id="cb80-371"><a href="#cb80-371" aria-hidden="true" tabindex="-1"></a>  <span class="fu">set_names</span>(FC)</span>
<span id="cb80-372"><a href="#cb80-372" aria-hidden="true" tabindex="-1"></a><span class="in">```</span></span>
<span id="cb80-373"><a href="#cb80-373" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb80-374"><a href="#cb80-374" aria-hidden="true" tabindex="-1"></a>Wenn du einen log2-transformierten FC-Wert wieder zurück haben willst, dann nutze einfach die 2-er Potenz mit $2^{logFC}$. Auch hier einmal das schnelle Beispiel.</span>
<span id="cb80-375"><a href="#cb80-375" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb80-378"><a href="#cb80-378" aria-hidden="true" tabindex="-1"></a><span class="in">```{r}</span></span>
<span id="cb80-379"><a href="#cb80-379" aria-hidden="true" tabindex="-1"></a><span class="dv">2</span><span class="sc">^</span><span class="fu">log2</span>(FC)</span>
<span id="cb80-380"><a href="#cb80-380" aria-hidden="true" tabindex="-1"></a><span class="in">```</span></span>
<span id="cb80-381"><a href="#cb80-381" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb80-382"><a href="#cb80-382" aria-hidden="true" tabindex="-1"></a>Wenn dir also einmal ein Foldchange über den Weg läuft, dann geht es eigentlich nur darum eine Veränderung gleichmäßig um die Eins darstellen zu können.</span>
<span id="cb80-383"><a href="#cb80-383" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb80-384"><a href="#cb80-384" aria-hidden="true" tabindex="-1"></a><span class="fu">## Wirkungsgrad von Pflanzenschutzmitteln {#sec-effect-wirkung}</span></span>
<span id="cb80-385"><a href="#cb80-385" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb80-386"><a href="#cb80-386" aria-hidden="true" tabindex="-1"></a>Neben den klassischen Effektmaßzahlen, die sich aus einem Mittelwert oder einem Anteil direkt berechnen, gibt es noch andere Effektmaße. Einer dieser Effektmaße ist der Wirkungsgrad für zum Beispiel ein Pflanzenschutzmittel. Wir können hier aber auch weiter denken und uns überlegen in wie weit wir eine Population von Schaderregern durch eine Behandlung reduzieren können. Unabdingbar ist in diesem Fall eine positive Kontrolle in der nichts gemacht wird sondern nur der normale Befall gemessen wird. Merke also, ohne eine Kontrolle geht bei der Bestimmung des Wirkungsgrades gar nichts.</span>
<span id="cb80-387"><a href="#cb80-387" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb80-388"><a href="#cb80-388" aria-hidden="true" tabindex="-1"></a>::: callout-tip</span>
<span id="cb80-389"><a href="#cb80-389" aria-hidden="true" tabindex="-1"></a><span class="fu">## Übersicht über Wirkungsgrade</span></span>
<span id="cb80-390"><a href="#cb80-390" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb80-391"><a href="#cb80-391" aria-hidden="true" tabindex="-1"></a><span class="ss">-   </span>Die Seite <span class="co">[</span><span class="ot">LdP Line by Ehab Bakr</span><span class="co">](https://www.ehabsoft.com/ldpline/onlinecontrol.htm)</span> liefert nochmal die Formeln und Berechungsmöglichkeiten für andere Wirkungsgrade mit einem praktischen Online-Rechner. Leider ist die Seite sehr alt und die Sicherheitsbestimmungen lassen moderne Browser zweifeln.</span>
<span id="cb80-392"><a href="#cb80-392" aria-hidden="true" tabindex="-1"></a><span class="ss">-   </span>Der <span class="co">[</span><span class="ot">Vortrag von Andreas Büchse</span><span class="co">](http://www.biometrische-gesellschaft.de/fileadmin/AG_Daten/Landwirtschaft/tagungsberichte_pdf/buechse.pdf)</span> *"Nutzung der Wirkungsgradberechnung nach Abbott und Henderson-Tilton in der angewandten Agrarforschung"* gibt auch nochmal weitere Einblicke und ist die Grundlage für die Beispiele hier.</span>
<span id="cb80-393"><a href="#cb80-393" aria-hidden="true" tabindex="-1"></a>:::</span>
<span id="cb80-394"><a href="#cb80-394" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb80-395"><a href="#cb80-395" aria-hidden="true" tabindex="-1"></a>In der @tbl-effect-wirk sehen wir nochmal eine Übersicht über vier mögliche Arten den Wirkungsgrad zu berechnen. Je nachdem was wir vorliegen haben, entweder einen Befall mit Zähldaten oder aber eine Sterblichkeit bzw. Mortalität, müssen wir eine andere Methode wählen. Auch müssen wir unterscheiden, ob wir eine homogene Population vorliegen haben oder eher eine heterogene Population. Ich kann hier aber schon mal etwas abkürzen, meistens können wir nur den Wirkungsgrad nach @abbott1925method berechnen, da unser experimentelles Design nicht mehr hergibt. Der Wirkungsgrad nach Abbott hat nämlich nur die räumliche Komponente und nicht die zeitliche. So lässt sich Abbott häufig einfacher durchführen und ausrechnen. Für eine zeitliche Komponente wie bei Henderson-Tilton müssten wir dann den Befall wiederholt messen.</span>
<span id="cb80-396"><a href="#cb80-396" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb80-397"><a href="#cb80-397" aria-hidden="true" tabindex="-1"></a>|  |  |  |</span>
<span id="cb80-398"><a href="#cb80-398" aria-hidden="true" tabindex="-1"></a>|----|:--:|:--:|</span>
<span id="cb80-399"><a href="#cb80-399" aria-hidden="true" tabindex="-1"></a>|  | **Homogene Population** | **Heterogene Population (Vorbefall differenziert)** |</span>
<span id="cb80-400"><a href="#cb80-400" aria-hidden="true" tabindex="-1"></a>| **Befall oder lebende Individuen** | <span class="co">[</span><span class="ot">Abbott</span><span class="co">](#sec-effect-abbott)</span> <span class="sc">\[</span>*räumlicher Bezug*\] | [Henderson-Tilton](#sec-effect-ht) \[*zeitlich und räumlicher Bezug*<span class="sc">\]</span> |</span>
<span id="cb80-401"><a href="#cb80-401" aria-hidden="true" tabindex="-1"></a>| **Sterblichkeit oder tote Individuen** | <span class="co">[</span><span class="ot">Schneider-Orelli</span><span class="co">](#sec-effect-so)</span> | <span class="co">[</span><span class="ot">Sun-Shepard</span><span class="co">](#sec-effect-ss)</span> |</span>
<span id="cb80-402"><a href="#cb80-402" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb80-403"><a href="#cb80-403" aria-hidden="true" tabindex="-1"></a>: Übersicht der möglichen Wirkungsgrade nach Population und gemessen Werten an den Beobachtungen. {#tbl-effect-wirk}</span>
<span id="cb80-404"><a href="#cb80-404" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb80-405"><a href="#cb80-405" aria-hidden="true" tabindex="-1"></a>Im Folgenden gehen wir einmal die vier Wirkungsgrade durch. Neben Abbott stelle ich dann hier nochmal den Wirkungsgrad nach @henderson1955tests vor. Die anderen Wirkungsgrade nur als Formeln, da mir aktuell noch keine Anwendungen hier über den Weg gelaufen sind. Der Hauptfokus liegt dann aber am Ende auf den Wirkungsgrad nach Abbott. Den Wirkungsgrad brauchen wir eben dann doch am meisten, da wir nach Abbott nur den gezählten Befall nach der Behandlung bestimmen müssen. Der Wirkungsgrad nach Abbott entspricht meistens eher der experimentellen Wirklichkeit. Das soll dich natürlich nicht davon abschrecken auch die anderen Wirkunsggrade zu nutzen, aber dafür musst du meistens mehr Aufwand betreiben.</span>
<span id="cb80-406"><a href="#cb80-406" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb80-407"><a href="#cb80-407" aria-hidden="true" tabindex="-1"></a><span class="fu">### Wirkungsgrad nach @henderson1955tests {#sec-effect-ht}</span></span>
<span id="cb80-408"><a href="#cb80-408" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb80-409"><a href="#cb80-409" aria-hidden="true" tabindex="-1"></a>Der Wirkungsgrad nach Henderson-Tilton hate den großen Vorteil, dass wir auch eine zzeitliche Komponente mit berücksichtigen können. Wie verhält sich der BEfall der Kontrolle und der Behandlung über die Zeit des Versuches? Wir müssen dafür den Befall vor (eng. *before*, abk. *b*) und den Befall nach (eng. *after*, abk. *a*) der Applikation bestimmen. Dann erhalten wir folgende Formel, die die Anzahlen der Behandlung und Kontrolle räumlich wie zeitlich zusamenfasst. Nämlich einmal zu Beginn des Versuches und einmal zum Ende. Henderson-Tilton erlaubt es damit zusätzlich Unterschiede in der Populationsdynamik zu bewerten.</span>
<span id="cb80-410"><a href="#cb80-410" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb80-411"><a href="#cb80-411" aria-hidden="true" tabindex="-1"></a>$$</span>
<span id="cb80-412"><a href="#cb80-412" aria-hidden="true" tabindex="-1"></a>WG_{HT} = \left(1 - \cfrac{T_a}{T_b}\cdot\cfrac{C_b}{C_a}\right) </span>
<span id="cb80-413"><a href="#cb80-413" aria-hidden="true" tabindex="-1"></a>$$</span>
<span id="cb80-414"><a href="#cb80-414" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb80-415"><a href="#cb80-415" aria-hidden="true" tabindex="-1"></a>mit</span>
<span id="cb80-416"><a href="#cb80-416" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb80-417"><a href="#cb80-417" aria-hidden="true" tabindex="-1"></a><span class="ss">-   </span>$T_{a}$ Anzahl lebend in behandelter Parzelle *nach* Applikation (eng. *after*)</span>
<span id="cb80-418"><a href="#cb80-418" aria-hidden="true" tabindex="-1"></a><span class="ss">-   </span>$T_{b}$ Anzahl lebend in behandelter Parzelle *vor* Applikation (eng. *before*)</span>
<span id="cb80-419"><a href="#cb80-419" aria-hidden="true" tabindex="-1"></a><span class="ss">-   </span>$C_{a}$ Anzahl lebend in Kontrolle *nach* Applikation (eng. *after*)</span>
<span id="cb80-420"><a href="#cb80-420" aria-hidden="true" tabindex="-1"></a><span class="ss">-   </span>$C_{b}$ Anzahl lebend in Kontrolle *vor* Applikation (eng. *before*)</span>
<span id="cb80-421"><a href="#cb80-421" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb80-422"><a href="#cb80-422" aria-hidden="true" tabindex="-1"></a>Hier nochmal ein kleines numerisches Beispiel mit $T_b = 300$ sowie $T_a = 30$ und $C_b = 500$ sowie $C_a = 1000$. Wir fangen also in einer Population mit einem Befall von $500$ Trepsen in der Kontrolle an und haben am Ende des Versuches dann $1000$ Trepsen in unserem Versuch vorliegen. In der Behandlung haben wir zu Beginn des Versuches $300$ Trepsen im Feld gezählt und finden nach der Applikation unseres Pflanzenschutzmittels am Ende des Versuches noch $30$ Trepsen wieder. Dann können wir einmal die Zahlen in die Formel einsetzen.</span>
<span id="cb80-423"><a href="#cb80-423" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb80-424"><a href="#cb80-424" aria-hidden="true" tabindex="-1"></a>$$</span>
<span id="cb80-425"><a href="#cb80-425" aria-hidden="true" tabindex="-1"></a>WG_{HT} = \left(1 - \cfrac{T_a}{T_b}\cdot\cfrac{C_b}{C_a}\right)  = \left(1 - \cfrac{30}{300}\cdot\cfrac{500}{1000}\right) = 1 - (0.1 \cdot 0.5) = 0.95 </span>
<span id="cb80-426"><a href="#cb80-426" aria-hidden="true" tabindex="-1"></a>$$</span>
<span id="cb80-427"><a href="#cb80-427" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb80-428"><a href="#cb80-428" aria-hidden="true" tabindex="-1"></a>Wir haben hier nun einen räumlichen und zeitlichen Bezug in unserem Wirkungsgrad abgebildet. Leider haben wir nicht immer einen Befall in unserem Bestand. Der Befall tritt erst während der Applikation auf. Dann müssen wir die Formel nach Abbott nutzen, die sich nur auf die Entwicklung des Befalls am Ende des Versuches konzentriert.</span>
<span id="cb80-429"><a href="#cb80-429" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb80-430"><a href="#cb80-430" aria-hidden="true" tabindex="-1"></a><span class="fu">### Wirkungsgrad nach @abbott1925method {#sec-effect-abbott}</span></span>
<span id="cb80-431"><a href="#cb80-431" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb80-432"><a href="#cb80-432" aria-hidden="true" tabindex="-1"></a>Im Folgenden wollen wir uns auf die Berechnung des Wirkungsgrad nach Abbott konzentrieren. Der Wirkungsgrad wird sehr häufig genutzt, so dass sich hier eine tiefere Betrachtung lohnt. Wir berechnen hier den Wirkungsgrad nach @abbott1925method erstmal sehr simpel an einem Beispiel. Dann nutzen wir R um die ganze Berechnung nochmal etwas komplexer durchzuführen. Abschließend schauen wir uns mit der Anpassung von @finner1989berechnung noch eine Erweiterung des Wirkungsgrads nach Abbott an. Der Wirkungsgrad $WG$ eines Schutzmittels im Vergleich zur Kontrolle berechnet sich wie folgt.</span>
<span id="cb80-433"><a href="#cb80-433" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb80-434"><a href="#cb80-434" aria-hidden="true" tabindex="-1"></a>$$</span>
<span id="cb80-435"><a href="#cb80-435" aria-hidden="true" tabindex="-1"></a>WG_{Ab} = \left(\cfrac{C_a - T_a}{C_a}\right) = \left(1-\cfrac{T_a}{C_a}\right)</span>
<span id="cb80-436"><a href="#cb80-436" aria-hidden="true" tabindex="-1"></a>$$</span>
<span id="cb80-437"><a href="#cb80-437" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb80-438"><a href="#cb80-438" aria-hidden="true" tabindex="-1"></a>mit</span>
<span id="cb80-439"><a href="#cb80-439" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb80-440"><a href="#cb80-440" aria-hidden="true" tabindex="-1"></a><span class="ss">-   </span>$T_a$ Anzahl lebend in der Behandlung *nach* Applikation (eng. *after*)</span>
<span id="cb80-441"><a href="#cb80-441" aria-hidden="true" tabindex="-1"></a><span class="ss">-   </span>$C_a$ Anzahl lebend in der Kontrolle *nach* Applikation (eng. *after*)</span>
<span id="cb80-442"><a href="#cb80-442" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb80-443"><a href="#cb80-443" aria-hidden="true" tabindex="-1"></a>Wir können auch nur den räumlichen Bezug mit dem Wirkungsgrad nach Abbott abbilden. Hier nochmal ein kleines numerisches Beispiel von oben mit $T_b = 300$ sowie $T_a = 30$ und $C_b = 500$ sowie $C_a = 1000$. Wir fangen also in einer Population mit einem Befall von $500$ Trepsen in der Kontrolle an und haben am Ende des Versuches dann $1000$ Trepsen in unserem Versuch vorliegen. In der Behandlung haben wir zu Beginn des Versuches $300$ Trepsen im Feld gezählt und finden nach der Applikation unseres Pflanzenschutzmittels am Ende des Versuches noch $30$ Trepsen wieder. Hier ist es wichtig, dass wir uns nicht den Zusammenhang über die Zeit anschauen können. Also entweder betrachten wir den Zusammenhang von *nach* unser Applikation oder aber den Vergleich von vorher und nachher von unserer Behandlung.</span>
<span id="cb80-444"><a href="#cb80-444" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb80-445"><a href="#cb80-445" aria-hidden="true" tabindex="-1"></a>$$</span>
<span id="cb80-446"><a href="#cb80-446" aria-hidden="true" tabindex="-1"></a>WG_{Ab} = \left(1-\cfrac{T_a}{C_a}\right) = \left(1-\cfrac{30}{1000}\right) = 0.97</span>
<span id="cb80-447"><a href="#cb80-447" aria-hidden="true" tabindex="-1"></a>$$</span>
<span id="cb80-448"><a href="#cb80-448" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb80-449"><a href="#cb80-449" aria-hidden="true" tabindex="-1"></a>Oder wir konzentrieren uns eben nur auf den zeitlichen Bezug in dem wir die Formel nach Abbott etwas modidifzieren und nur auf die Behandlung $T$ schauen.</span>
<span id="cb80-450"><a href="#cb80-450" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb80-451"><a href="#cb80-451" aria-hidden="true" tabindex="-1"></a>$$</span>
<span id="cb80-452"><a href="#cb80-452" aria-hidden="true" tabindex="-1"></a>WG_{Ab^*} = \left(1-\cfrac{T_a}{T_b}\right) = \left(1-\cfrac{30}{300}\right) = 0.90</span>
<span id="cb80-453"><a href="#cb80-453" aria-hidden="true" tabindex="-1"></a>$$</span>
<span id="cb80-454"><a href="#cb80-454" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb80-455"><a href="#cb80-455" aria-hidden="true" tabindex="-1"></a>Natürlich ist die Formel wieder auf sehr einfachen Daten gut zu verstehen. Wir haben aber später dann in der Anwendung natürlich Datensätze, so dass wir uns hier einmal zwei Beispieldaten anschauen wollen. Zuerst schauen wir uns einen Datensatz zu dem Befall mit Trespe, einem Wildkraut, an. Wir haben also Parzellen in denen sich die Trespe ausbreitet und haben verschiedene Behandlungen durchgeführt. Wichtig hierbei, wir haben auch Parzellen wo wir nichts gemacht haben, das ist dann unsere positive Kontrolle (*ctrl*).</span>
<span id="cb80-456"><a href="#cb80-456" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb80-459"><a href="#cb80-459" aria-hidden="true" tabindex="-1"></a><span class="in">```{r}</span></span>
<span id="cb80-460"><a href="#cb80-460" aria-hidden="true" tabindex="-1"></a><span class="co">#| echo: false</span></span>
<span id="cb80-461"><a href="#cb80-461" aria-hidden="true" tabindex="-1"></a><span class="co">#| message: false</span></span>
<span id="cb80-462"><a href="#cb80-462" aria-hidden="true" tabindex="-1"></a><span class="co">#| warning: false</span></span>
<span id="cb80-463"><a href="#cb80-463" aria-hidden="true" tabindex="-1"></a><span class="co">#| label: tbl-effect-trespe</span></span>
<span id="cb80-464"><a href="#cb80-464" aria-hidden="true" tabindex="-1"></a><span class="co">#| tbl-cap: "Trespebefall in einem randomisierten Blockdesign mit vier Behandlungsvarianten."</span></span>
<span id="cb80-465"><a href="#cb80-465" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb80-466"><a href="#cb80-466" aria-hidden="true" tabindex="-1"></a>trespe_tbl <span class="ot">&lt;-</span> <span class="fu">read_excel</span>(<span class="st">"data/raubmilben_data.xlsx"</span>, <span class="at">sheet =</span> <span class="st">"trespe"</span>) </span>
<span id="cb80-467"><a href="#cb80-467" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb80-468"><a href="#cb80-468" aria-hidden="true" tabindex="-1"></a>trespe_tbl <span class="sc">%&gt;%</span> </span>
<span id="cb80-469"><a href="#cb80-469" aria-hidden="true" tabindex="-1"></a>  <span class="fu">kable</span>(<span class="at">align =</span> <span class="st">"c"</span>, <span class="st">"pipe"</span>)</span>
<span id="cb80-470"><a href="#cb80-470" aria-hidden="true" tabindex="-1"></a><span class="in">```</span></span>
<span id="cb80-471"><a href="#cb80-471" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb80-472"><a href="#cb80-472" aria-hidden="true" tabindex="-1"></a>In der @tbl-effect-trespe-abbott haben wir dann einmal den Wirkungsgrad nach Abbott <span class="in">`wg_abbott`</span> aus dem mittleren Befall über die vier Blöcke berechnet. Wir lassen hier mal weg, dass wir in einigen Parzellen mehr Befall hatten und deshab negative Wirkunsggrade. Hier hilft dann der Mittelwert.</span>
<span id="cb80-473"><a href="#cb80-473" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb80-476"><a href="#cb80-476" aria-hidden="true" tabindex="-1"></a><span class="in">```{r}</span></span>
<span id="cb80-477"><a href="#cb80-477" aria-hidden="true" tabindex="-1"></a><span class="co">#| echo: false</span></span>
<span id="cb80-478"><a href="#cb80-478" aria-hidden="true" tabindex="-1"></a><span class="co">#| message: false</span></span>
<span id="cb80-479"><a href="#cb80-479" aria-hidden="true" tabindex="-1"></a><span class="co">#| warning: false</span></span>
<span id="cb80-480"><a href="#cb80-480" aria-hidden="true" tabindex="-1"></a><span class="co">#| label: tbl-effect-trespe-abbott</span></span>
<span id="cb80-481"><a href="#cb80-481" aria-hidden="true" tabindex="-1"></a><span class="co">#| tbl-cap: "Trespebefall in einem randomisierten Blockdesign mit vier Behandlungsvarianten ergänzt um den Wirkungsgrad nach Abbott `wg_abbott` berechnet aus dem mittleren Befall über die Blöcke."</span></span>
<span id="cb80-482"><a href="#cb80-482" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb80-483"><a href="#cb80-483" aria-hidden="true" tabindex="-1"></a>trespe_tbl <span class="sc">|&gt;</span> </span>
<span id="cb80-484"><a href="#cb80-484" aria-hidden="true" tabindex="-1"></a>  <span class="fu">rowwise</span>() <span class="sc">|&gt;</span> </span>
<span id="cb80-485"><a href="#cb80-485" aria-hidden="true" tabindex="-1"></a>  <span class="fu">mutate</span>(<span class="at">mean =</span> <span class="fu">mean</span>(<span class="fu">c_across</span>(block_1<span class="sc">:</span>block_4))) <span class="sc">|&gt;</span> </span>
<span id="cb80-486"><a href="#cb80-486" aria-hidden="true" tabindex="-1"></a>  <span class="fu">ungroup</span>() <span class="sc">|&gt;</span> </span>
<span id="cb80-487"><a href="#cb80-487" aria-hidden="true" tabindex="-1"></a>  <span class="fu">mutate</span>(<span class="at">wg_abbott =</span> <span class="fu">round</span>(<span class="dv">1</span> <span class="sc">-</span> mean<span class="sc">/</span>mean[<span class="dv">1</span>], <span class="dv">2</span>)) <span class="sc">|&gt;</span> </span>
<span id="cb80-488"><a href="#cb80-488" aria-hidden="true" tabindex="-1"></a>  <span class="fu">kable</span>(<span class="at">align =</span> <span class="st">"c"</span>, <span class="st">"pipe"</span>)</span>
<span id="cb80-489"><a href="#cb80-489" aria-hidden="true" tabindex="-1"></a><span class="in">```</span></span>
<span id="cb80-490"><a href="#cb80-490" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb80-491"><a href="#cb80-491" aria-hidden="true" tabindex="-1"></a>Dann das Ganze auch nochmal händisch aufbereitet und berechnet. Wir erhalten die gleichen Werte wie auch oben in der Tabelle.</span>
<span id="cb80-492"><a href="#cb80-492" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb80-493"><a href="#cb80-493" aria-hidden="true" tabindex="-1"></a>$$</span>
<span id="cb80-494"><a href="#cb80-494" aria-hidden="true" tabindex="-1"></a>\begin{align}</span>
<span id="cb80-495"><a href="#cb80-495" aria-hidden="true" tabindex="-1"></a>WG_2 &amp;= \left(1 - \cfrac{2.8}{12}\right) = 0.77 <span class="sc">\\</span></span>
<span id="cb80-496"><a href="#cb80-496" aria-hidden="true" tabindex="-1"></a>WG_3 &amp;= \left(1 - \cfrac{3.2}{12}\right) = 0.73 <span class="sc">\\</span></span>
<span id="cb80-497"><a href="#cb80-497" aria-hidden="true" tabindex="-1"></a>WG_4 &amp;= \left(1 - \cfrac{7.0}{12}\right) = 0.42</span>
<span id="cb80-498"><a href="#cb80-498" aria-hidden="true" tabindex="-1"></a>\end{align}</span>
<span id="cb80-499"><a href="#cb80-499" aria-hidden="true" tabindex="-1"></a>$$</span>
<span id="cb80-500"><a href="#cb80-500" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb80-501"><a href="#cb80-501" aria-hidden="true" tabindex="-1"></a>Jetzt wollen wir etwas tiefer in die Thematik einsteigen und müssen daher einmal die Daten umwandeln, da unsere Daten nicht im Long-Format vorliegen. Wir müssen die Daten erst noch anpassen und dann die Spalte <span class="in">`block`</span> in einen Faktor umwandeln. Laden wir einmal den Datensatz in R und verwandeln das Wide-Format in das Long-Format. Dann natürlich wie immer alle Faktoren als Faktoren mutieren.</span>
<span id="cb80-502"><a href="#cb80-502" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb80-505"><a href="#cb80-505" aria-hidden="true" tabindex="-1"></a><span class="in">```{r}</span></span>
<span id="cb80-506"><a href="#cb80-506" aria-hidden="true" tabindex="-1"></a>trespe_tbl <span class="ot">&lt;-</span> <span class="fu">read_excel</span>(<span class="st">"data/raubmilben_data.xlsx"</span>, <span class="at">sheet =</span> <span class="st">"trespe"</span>) <span class="sc">%&gt;%</span> </span>
<span id="cb80-507"><a href="#cb80-507" aria-hidden="true" tabindex="-1"></a>  <span class="fu">pivot_longer</span>(block_1<span class="sc">:</span>block_4,</span>
<span id="cb80-508"><a href="#cb80-508" aria-hidden="true" tabindex="-1"></a>               <span class="at">names_to =</span> <span class="st">"block"</span>,</span>
<span id="cb80-509"><a href="#cb80-509" aria-hidden="true" tabindex="-1"></a>               <span class="at">values_to =</span> <span class="st">"count"</span>) <span class="sc">%&gt;%</span> </span>
<span id="cb80-510"><a href="#cb80-510" aria-hidden="true" tabindex="-1"></a>  <span class="fu">mutate</span>(<span class="at">block =</span> <span class="fu">factor</span>(block, <span class="at">labels =</span> <span class="dv">1</span><span class="sc">:</span><span class="dv">4</span>),</span>
<span id="cb80-511"><a href="#cb80-511" aria-hidden="true" tabindex="-1"></a>         <span class="at">variante =</span> <span class="fu">as_factor</span>(variante))</span>
<span id="cb80-512"><a href="#cb80-512" aria-hidden="true" tabindex="-1"></a><span class="in">```</span></span>
<span id="cb80-513"><a href="#cb80-513" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb80-514"><a href="#cb80-514" aria-hidden="true" tabindex="-1"></a>In der @fig-effect-1 sehen wir nochmal die orginalen, untransformierten Daten sowie die $log$-transformierten Daten. Wir nutzen die Funktion <span class="in">`log1p()`</span> um die Anzahl künstlich um 1 zu erhöhen, damit wir Nullen in den Zähldaten zum Logarithmieren vermeiden.</span>
<span id="cb80-515"><a href="#cb80-515" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb80-518"><a href="#cb80-518" aria-hidden="true" tabindex="-1"></a><span class="in">```{r}</span></span>
<span id="cb80-519"><a href="#cb80-519" aria-hidden="true" tabindex="-1"></a><span class="co">#| echo: true</span></span>
<span id="cb80-520"><a href="#cb80-520" aria-hidden="true" tabindex="-1"></a><span class="co">#| message: false</span></span>
<span id="cb80-521"><a href="#cb80-521" aria-hidden="true" tabindex="-1"></a><span class="co">#| warning: false</span></span>
<span id="cb80-522"><a href="#cb80-522" aria-hidden="true" tabindex="-1"></a><span class="co">#| fig-align: center</span></span>
<span id="cb80-523"><a href="#cb80-523" aria-hidden="true" tabindex="-1"></a><span class="co">#| fig-height: 3</span></span>
<span id="cb80-524"><a href="#cb80-524" aria-hidden="true" tabindex="-1"></a><span class="co">#| fig-width: 5</span></span>
<span id="cb80-525"><a href="#cb80-525" aria-hidden="true" tabindex="-1"></a><span class="co">#| label: fig-effect-1</span></span>
<span id="cb80-526"><a href="#cb80-526" aria-hidden="true" tabindex="-1"></a><span class="co">#| fig-cap: "Dotplot der Anzahl an Trespen je Sorte und Block."</span></span>
<span id="cb80-527"><a href="#cb80-527" aria-hidden="true" tabindex="-1"></a><span class="co">#| fig-subcap: </span></span>
<span id="cb80-528"><a href="#cb80-528" aria-hidden="true" tabindex="-1"></a><span class="co">#|   - "Verteilung der Werte auf der originalen Skala."</span></span>
<span id="cb80-529"><a href="#cb80-529" aria-hidden="true" tabindex="-1"></a><span class="co">#|   - "Verteilung der Werte auf der logarithmischen Skala. Beobachtungen mit einer 0 Zählung wurden auf 1 gesetzt."</span></span>
<span id="cb80-530"><a href="#cb80-530" aria-hidden="true" tabindex="-1"></a><span class="co">#| layout-nrow: 1</span></span>
<span id="cb80-531"><a href="#cb80-531" aria-hidden="true" tabindex="-1"></a><span class="co">#| column: page</span></span>
<span id="cb80-532"><a href="#cb80-532" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb80-533"><a href="#cb80-533" aria-hidden="true" tabindex="-1"></a><span class="fu">ggplot</span>(trespe_tbl, <span class="fu">aes</span>(variante, count, <span class="at">fill =</span> block)) <span class="sc">+</span></span>
<span id="cb80-534"><a href="#cb80-534" aria-hidden="true" tabindex="-1"></a>  <span class="fu">theme_minimal</span>() <span class="sc">+</span></span>
<span id="cb80-535"><a href="#cb80-535" aria-hidden="true" tabindex="-1"></a>  <span class="fu">geom_dotplot</span>(<span class="at">binaxis =</span> <span class="st">"y"</span>, <span class="at">stackdir =</span> <span class="st">"center"</span>) <span class="sc">+</span></span>
<span id="cb80-536"><a href="#cb80-536" aria-hidden="true" tabindex="-1"></a>  <span class="fu">labs</span>(<span class="at">x =</span> <span class="st">"Behandlungsvariante"</span>, <span class="at">y =</span> <span class="st">"Anzahl"</span>, <span class="at">fill =</span> <span class="st">"Block"</span>) <span class="sc">+</span></span>
<span id="cb80-537"><a href="#cb80-537" aria-hidden="true" tabindex="-1"></a>  <span class="fu">scale_fill_okabeito</span>()</span>
<span id="cb80-538"><a href="#cb80-538" aria-hidden="true" tabindex="-1"></a>  </span>
<span id="cb80-539"><a href="#cb80-539" aria-hidden="true" tabindex="-1"></a><span class="fu">ggplot</span>(trespe_tbl, <span class="fu">aes</span>(variante, <span class="fu">log1p</span>(count), <span class="at">fill =</span> block)) <span class="sc">+</span></span>
<span id="cb80-540"><a href="#cb80-540" aria-hidden="true" tabindex="-1"></a>  <span class="fu">theme_minimal</span>() <span class="sc">+</span></span>
<span id="cb80-541"><a href="#cb80-541" aria-hidden="true" tabindex="-1"></a>  <span class="fu">geom_dotplot</span>(<span class="at">binaxis =</span> <span class="st">"y"</span>, <span class="at">stackdir =</span> <span class="st">"center"</span>) <span class="sc">+</span></span>
<span id="cb80-542"><a href="#cb80-542" aria-hidden="true" tabindex="-1"></a>  <span class="fu">labs</span>(<span class="at">x =</span> <span class="st">"Behandlungsvariante"</span>, <span class="at">y =</span> <span class="st">"log(Anzahl)"</span>, <span class="at">fill =</span> <span class="st">"Block"</span>) <span class="sc">+</span></span>
<span id="cb80-543"><a href="#cb80-543" aria-hidden="true" tabindex="-1"></a>  <span class="fu">scale_fill_okabeito</span>()</span>
<span id="cb80-544"><a href="#cb80-544" aria-hidden="true" tabindex="-1"></a>  </span>
<span id="cb80-545"><a href="#cb80-545" aria-hidden="true" tabindex="-1"></a><span class="in">```</span></span>
<span id="cb80-546"><a href="#cb80-546" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb80-547"><a href="#cb80-547" aria-hidden="true" tabindex="-1"></a>Nun geht es eigentlich ganz fix den Wirkungsgrad nach Abbott mit einer linearen Poisson Regression zu berechnen. Erstmal schätzen wir eine Poissonregression mit der Anzahl der Trespen als Outcome. Es ist wichtig in der Funktion <span class="in">`glm()`</span> die Option <span class="in">`family = poisson`</span> zu setzen. Sonst rechnen wir auch keine Poissonregression. Wir haben hier im Prinzip die effizientere Variante vorliegen, da wir durch die Modellierung auch noch andere Einflussfaktoren mit ins Modell nehemn können als nur den Block. Da wir hier aber nichts Weiteres gemessen haben, bleibt es bei dem einfachen Modell.</span>
<span id="cb80-548"><a href="#cb80-548" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb80-551"><a href="#cb80-551" aria-hidden="true" tabindex="-1"></a><span class="in">```{r}</span></span>
<span id="cb80-552"><a href="#cb80-552" aria-hidden="true" tabindex="-1"></a><span class="co">#| message: false</span></span>
<span id="cb80-553"><a href="#cb80-553" aria-hidden="true" tabindex="-1"></a><span class="co">#| warning: false</span></span>
<span id="cb80-554"><a href="#cb80-554" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb80-555"><a href="#cb80-555" aria-hidden="true" tabindex="-1"></a>fit <span class="ot">&lt;-</span> <span class="fu">glm</span>(count <span class="sc">~</span> variante <span class="sc">+</span> block, <span class="at">data =</span> trespe_tbl, <span class="at">family =</span> poisson)</span>
<span id="cb80-556"><a href="#cb80-556" aria-hidden="true" tabindex="-1"></a><span class="in">```</span></span>
<span id="cb80-557"><a href="#cb80-557" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb80-558"><a href="#cb80-558" aria-hidden="true" tabindex="-1"></a>Wir nutzen die Schätzer aus dem Modell um mit der Funktion <span class="in">`emmeans()`</span> die Raten in jeder Variante gemittelt über alle Blöcke zu berechnen. Dann müssen wir nur noch die Formel nach Abbott nutzen um jede Rate in das Verhältnis zur Rate der Kontrolle <span class="in">`rate[1]`</span> zu setzen. Wir erhalten dann den Wirkungsgrad nach Abbott für unsere drei Varianten. Wie wir sehen, sind auch hier die Werte gleich.</span>
<span id="cb80-559"><a href="#cb80-559" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb80-562"><a href="#cb80-562" aria-hidden="true" tabindex="-1"></a><span class="in">```{r}</span></span>
<span id="cb80-563"><a href="#cb80-563" aria-hidden="true" tabindex="-1"></a><span class="co">#| message: false</span></span>
<span id="cb80-564"><a href="#cb80-564" aria-hidden="true" tabindex="-1"></a><span class="co">#| warning: false</span></span>
<span id="cb80-565"><a href="#cb80-565" aria-hidden="true" tabindex="-1"></a>res_trespe_tbl <span class="ot">&lt;-</span> fit <span class="sc">%&gt;%</span> </span>
<span id="cb80-566"><a href="#cb80-566" aria-hidden="true" tabindex="-1"></a>  <span class="fu">emmeans</span>(<span class="sc">~</span>variante, <span class="at">type =</span> <span class="st">"response"</span>) <span class="sc">%&gt;%</span> </span>
<span id="cb80-567"><a href="#cb80-567" aria-hidden="true" tabindex="-1"></a>  <span class="fu">tidy</span>() <span class="sc">%&gt;%</span> </span>
<span id="cb80-568"><a href="#cb80-568" aria-hidden="true" tabindex="-1"></a>  <span class="fu">mutate</span>(<span class="at">WG_abbott =</span> (rate[<span class="dv">1</span>] <span class="sc">-</span> rate)<span class="sc">/</span>rate[<span class="dv">1</span>],</span>
<span id="cb80-569"><a href="#cb80-569" aria-hidden="true" tabindex="-1"></a>         <span class="at">WG_abbott_per =</span> <span class="fu">percent</span>(WG_abbott)) <span class="sc">%&gt;%</span> </span>
<span id="cb80-570"><a href="#cb80-570" aria-hidden="true" tabindex="-1"></a>  <span class="fu">select</span>(variante, rate, WG_abbott, WG_abbott_per)</span>
<span id="cb80-571"><a href="#cb80-571" aria-hidden="true" tabindex="-1"></a>res_trespe_tbl</span>
<span id="cb80-572"><a href="#cb80-572" aria-hidden="true" tabindex="-1"></a><span class="in">```</span></span>
<span id="cb80-573"><a href="#cb80-573" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb80-574"><a href="#cb80-574" aria-hidden="true" tabindex="-1"></a>Damit haben wir den Wirkungsgard $WG_{abbott}$ für unser Trepsenbeispiel einmal berechnet. Die Interpretation ist dann eigentlich sehr intuitiv. Wir haben zum Beispiel bei Variante 2 einen Wirkungsgrad von 76.7% der Kontrolle und somit auch eine Reduzierung von 76.7% der Trepsen auf unseren Parzellen im Vergleich zur Kontrolle.</span>
<span id="cb80-575"><a href="#cb80-575" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb80-576"><a href="#cb80-576" aria-hidden="true" tabindex="-1"></a>Wir können auch einfach testen, ob sich die Kontrolle von den anderen Varianten sich unterscheidet. Wir nutzen dafür wieder die Funktion <span class="in">`emmeans()`</span> und vergleichen alle Varianten zu der Kontrolle. Da die Kontrolle in der ersten Zeile steht bzw. das erste Level des Faktors <span class="in">`variante`</span> ist, müssen wir noch die Referenz mit <span class="in">`ref = 1`</span> setzen.</span>
<span id="cb80-577"><a href="#cb80-577" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb80-580"><a href="#cb80-580" aria-hidden="true" tabindex="-1"></a><span class="in">```{r}</span></span>
<span id="cb80-581"><a href="#cb80-581" aria-hidden="true" tabindex="-1"></a>fit <span class="sc">%&gt;%</span> </span>
<span id="cb80-582"><a href="#cb80-582" aria-hidden="true" tabindex="-1"></a>  <span class="fu">emmeans</span>(trt.vs.ctrlk <span class="sc">~</span> variante, <span class="at">type =</span> <span class="st">"response"</span>, <span class="at">ref =</span> <span class="dv">1</span>) <span class="sc">%&gt;%</span> </span>
<span id="cb80-583"><a href="#cb80-583" aria-hidden="true" tabindex="-1"></a>  <span class="fu">pluck</span>(<span class="st">"contrasts"</span>)</span>
<span id="cb80-584"><a href="#cb80-584" aria-hidden="true" tabindex="-1"></a><span class="in">```</span></span>
<span id="cb80-585"><a href="#cb80-585" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb80-586"><a href="#cb80-586" aria-hidden="true" tabindex="-1"></a>Wir wir sehen, sind alle Varianten, bis auf die Variante 4, signifikant unterschiedlich zu der Kontrolle. Nun könnten wir uns auch Fragen in wie weit sich die Wirkungsgrade untereinander unterscheiden. Dafür müssen wir dann die Anteile mit der Funktion <span class="in">`pairwise.prop.test()`</span> paarweise Vergleichen. Da wir natürlich auf die Kontrolle standardisieren hat der Vergleich mit der Kontrolle nur so halbwegs Sinn, mag aber von Interesse sein.</span>
<span id="cb80-587"><a href="#cb80-587" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb80-590"><a href="#cb80-590" aria-hidden="true" tabindex="-1"></a><span class="in">```{r}</span></span>
<span id="cb80-591"><a href="#cb80-591" aria-hidden="true" tabindex="-1"></a><span class="fu">pairwise.prop.test</span>(<span class="at">x =</span> res_trespe_tbl<span class="sc">$</span>WG_abbott <span class="sc">*</span> <span class="dv">100</span>, </span>
<span id="cb80-592"><a href="#cb80-592" aria-hidden="true" tabindex="-1"></a>                   <span class="at">n =</span> <span class="fu">c</span>(<span class="dv">100</span>, <span class="dv">100</span>, <span class="dv">100</span>, <span class="dv">100</span>),</span>
<span id="cb80-593"><a href="#cb80-593" aria-hidden="true" tabindex="-1"></a>                   <span class="at">p.adjust.method =</span> <span class="st">"none"</span>) </span>
<span id="cb80-594"><a href="#cb80-594" aria-hidden="true" tabindex="-1"></a><span class="in">```</span></span>
<span id="cb80-595"><a href="#cb80-595" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb80-596"><a href="#cb80-596" aria-hidden="true" tabindex="-1"></a>Wir sehen, dass sich alle Varianten in ihrem Wirkungsgrad von der Kontrolle unterscheiden, die Kontrolle hat hier die ID 1. Die Variante 4 unterscheidet sich von allen anderen Varianten in ihrem Wirkungsgrad.</span>
<span id="cb80-597"><a href="#cb80-597" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb80-598"><a href="#cb80-598" aria-hidden="true" tabindex="-1"></a>Im zweiten Beispiel wollen wir uns mit dem geometrischen Mittel $WG_{geometric}$ als Schätzer für den Wirkungsgrad beschäftigen. Hier kochen wir dann einmal die Veröffentlichung von @finner1989berechnung nach. Dafür brauchen wir einmal die Daten zu den Raubmilben, die ich schon als Exceldatei aufbereitet habe. Wie immer sind die Rohdaten im Wide-Format, wir müssen aber im Long-Format rechnen. Da bauen wir uns also einmal schnell die Daten um. Dann wollen wir noch die Anzahlen der Raubmilben logarithmieren, so dass wir jede Anzahl um 1 erhöhen um logarithmierte Nullen zu vermeiden. Das ganze machen wir dann in einem Rutsch mit der Funktion <span class="in">`log1p()`</span>.</span>
<span id="cb80-599"><a href="#cb80-599" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb80-602"><a href="#cb80-602" aria-hidden="true" tabindex="-1"></a><span class="in">```{r}</span></span>
<span id="cb80-603"><a href="#cb80-603" aria-hidden="true" tabindex="-1"></a>mite_tbl <span class="ot">&lt;-</span> <span class="fu">read_excel</span>(<span class="st">"data/raubmilben_data.xlsx"</span>, <span class="at">sheet =</span> <span class="st">"mite"</span>) <span class="sc">%&gt;%</span> </span>
<span id="cb80-604"><a href="#cb80-604" aria-hidden="true" tabindex="-1"></a>  <span class="fu">pivot_longer</span>(block_1<span class="sc">:</span>block_5,</span>
<span id="cb80-605"><a href="#cb80-605" aria-hidden="true" tabindex="-1"></a>               <span class="at">names_to =</span> <span class="st">"block"</span>,</span>
<span id="cb80-606"><a href="#cb80-606" aria-hidden="true" tabindex="-1"></a>               <span class="at">values_to =</span> <span class="st">"count"</span>) <span class="sc">%&gt;%</span> </span>
<span id="cb80-607"><a href="#cb80-607" aria-hidden="true" tabindex="-1"></a>  <span class="fu">mutate</span>(<span class="at">block =</span> <span class="fu">factor</span>(block, <span class="at">labels =</span> <span class="dv">1</span><span class="sc">:</span><span class="dv">5</span>),</span>
<span id="cb80-608"><a href="#cb80-608" aria-hidden="true" tabindex="-1"></a>         <span class="at">sorte =</span> <span class="fu">as_factor</span>(sorte),</span>
<span id="cb80-609"><a href="#cb80-609" aria-hidden="true" tabindex="-1"></a>         <span class="at">log_count =</span> <span class="fu">log1p</span>(count))</span>
<span id="cb80-610"><a href="#cb80-610" aria-hidden="true" tabindex="-1"></a><span class="in">```</span></span>
<span id="cb80-611"><a href="#cb80-611" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb80-614"><a href="#cb80-614" aria-hidden="true" tabindex="-1"></a><span class="in">```{r}</span></span>
<span id="cb80-615"><a href="#cb80-615" aria-hidden="true" tabindex="-1"></a><span class="co">#| echo: false</span></span>
<span id="cb80-616"><a href="#cb80-616" aria-hidden="true" tabindex="-1"></a><span class="co">#| message: false</span></span>
<span id="cb80-617"><a href="#cb80-617" aria-hidden="true" tabindex="-1"></a><span class="co">#| warning: false</span></span>
<span id="cb80-618"><a href="#cb80-618" aria-hidden="true" tabindex="-1"></a><span class="co">#| label: tbl-effect-mite</span></span>
<span id="cb80-619"><a href="#cb80-619" aria-hidden="true" tabindex="-1"></a><span class="co">#| tbl-cap: "Raubmilbenbefall auf acht Sorten und einer Kontrolle."</span></span>
<span id="cb80-620"><a href="#cb80-620" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb80-621"><a href="#cb80-621" aria-hidden="true" tabindex="-1"></a><span class="fu">read_excel</span>(<span class="st">"data/raubmilben_data.xlsx"</span>, <span class="at">sheet =</span> <span class="st">"mite"</span>) <span class="sc">%&gt;%</span> </span>
<span id="cb80-622"><a href="#cb80-622" aria-hidden="true" tabindex="-1"></a>  <span class="fu">kable</span>(<span class="at">align =</span> <span class="st">"c"</span>, <span class="st">"pipe"</span>)</span>
<span id="cb80-623"><a href="#cb80-623" aria-hidden="true" tabindex="-1"></a><span class="in">```</span></span>
<span id="cb80-624"><a href="#cb80-624" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb80-625"><a href="#cb80-625" aria-hidden="true" tabindex="-1"></a>Schauen wir uns einmal die Daten in der @fig-effect-2 an. Wichtig ist, dass wir usn merken, dass in unseren Daten jetzt die Kontrolle an der neuten Position ist. Das ist eben in diesen Daen so, ich hätte die Sortierung dann anders gemacht. Aber wir arbeiten hier mit dem was wir vorliegen haben.</span>
<span id="cb80-626"><a href="#cb80-626" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb80-629"><a href="#cb80-629" aria-hidden="true" tabindex="-1"></a><span class="in">```{r}</span></span>
<span id="cb80-630"><a href="#cb80-630" aria-hidden="true" tabindex="-1"></a><span class="co">#| echo: true</span></span>
<span id="cb80-631"><a href="#cb80-631" aria-hidden="true" tabindex="-1"></a><span class="co">#| message: false</span></span>
<span id="cb80-632"><a href="#cb80-632" aria-hidden="true" tabindex="-1"></a><span class="co">#| warning: false</span></span>
<span id="cb80-633"><a href="#cb80-633" aria-hidden="true" tabindex="-1"></a><span class="co">#| fig-align: center</span></span>
<span id="cb80-634"><a href="#cb80-634" aria-hidden="true" tabindex="-1"></a><span class="co">#| fig-height: 3</span></span>
<span id="cb80-635"><a href="#cb80-635" aria-hidden="true" tabindex="-1"></a><span class="co">#| fig-width: 5</span></span>
<span id="cb80-636"><a href="#cb80-636" aria-hidden="true" tabindex="-1"></a><span class="co">#| label: fig-effect-2</span></span>
<span id="cb80-637"><a href="#cb80-637" aria-hidden="true" tabindex="-1"></a><span class="co">#| fig-cap: "Dotplot der Anzahl an Raubmilden je Sorte und Block."</span></span>
<span id="cb80-638"><a href="#cb80-638" aria-hidden="true" tabindex="-1"></a><span class="co">#| fig-subcap: </span></span>
<span id="cb80-639"><a href="#cb80-639" aria-hidden="true" tabindex="-1"></a><span class="co">#|   - "Verteilung der Werte auf der originalen Skala."</span></span>
<span id="cb80-640"><a href="#cb80-640" aria-hidden="true" tabindex="-1"></a><span class="co">#|   - "Verteilung der Werte auf der logarithmischen Skala. Beobachtungen mit einer 0 Zählung wurden auf 1 gesetzt."</span></span>
<span id="cb80-641"><a href="#cb80-641" aria-hidden="true" tabindex="-1"></a><span class="co">#| layout-nrow: 1</span></span>
<span id="cb80-642"><a href="#cb80-642" aria-hidden="true" tabindex="-1"></a><span class="co">#| column: page</span></span>
<span id="cb80-643"><a href="#cb80-643" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb80-644"><a href="#cb80-644" aria-hidden="true" tabindex="-1"></a><span class="fu">ggplot</span>(mite_tbl, <span class="fu">aes</span>(sorte, count, <span class="at">fill =</span> block)) <span class="sc">+</span></span>
<span id="cb80-645"><a href="#cb80-645" aria-hidden="true" tabindex="-1"></a>  <span class="fu">theme_minimal</span>() <span class="sc">+</span></span>
<span id="cb80-646"><a href="#cb80-646" aria-hidden="true" tabindex="-1"></a>  <span class="fu">geom_dotplot</span>(<span class="at">binaxis =</span> <span class="st">"y"</span>, <span class="at">stackdir =</span> <span class="st">"center"</span>) <span class="sc">+</span></span>
<span id="cb80-647"><a href="#cb80-647" aria-hidden="true" tabindex="-1"></a>  <span class="fu">labs</span>(<span class="at">x =</span> <span class="st">"Sorten"</span>, <span class="at">y =</span> <span class="st">"Anzahl"</span>, <span class="at">fill =</span> <span class="st">"Block"</span>) <span class="sc">+</span></span>
<span id="cb80-648"><a href="#cb80-648" aria-hidden="true" tabindex="-1"></a>  <span class="fu">scale_fill_okabeito</span>()</span>
<span id="cb80-649"><a href="#cb80-649" aria-hidden="true" tabindex="-1"></a>  </span>
<span id="cb80-650"><a href="#cb80-650" aria-hidden="true" tabindex="-1"></a><span class="fu">ggplot</span>(mite_tbl, <span class="fu">aes</span>(sorte, <span class="fu">log1p</span>(count), <span class="at">fill =</span> block)) <span class="sc">+</span></span>
<span id="cb80-651"><a href="#cb80-651" aria-hidden="true" tabindex="-1"></a>  <span class="fu">theme_minimal</span>() <span class="sc">+</span></span>
<span id="cb80-652"><a href="#cb80-652" aria-hidden="true" tabindex="-1"></a>  <span class="fu">geom_dotplot</span>(<span class="at">binaxis =</span> <span class="st">"y"</span>, <span class="at">stackdir =</span> <span class="st">"center"</span>) <span class="sc">+</span></span>
<span id="cb80-653"><a href="#cb80-653" aria-hidden="true" tabindex="-1"></a>  <span class="fu">labs</span>(<span class="at">x =</span> <span class="st">"Sorten"</span>, <span class="at">y =</span> <span class="st">"log(Anzahl)"</span>, <span class="at">fill =</span> <span class="st">"Block"</span>) <span class="sc">+</span></span>
<span id="cb80-654"><a href="#cb80-654" aria-hidden="true" tabindex="-1"></a>  <span class="fu">scale_fill_okabeito</span>()</span>
<span id="cb80-655"><a href="#cb80-655" aria-hidden="true" tabindex="-1"></a>  </span>
<span id="cb80-656"><a href="#cb80-656" aria-hidden="true" tabindex="-1"></a><span class="in">```</span></span>
<span id="cb80-657"><a href="#cb80-657" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb80-658"><a href="#cb80-658" aria-hidden="true" tabindex="-1"></a>Wir brauchen jetzt eine Helferfunktion, die uns aus $Pr$ die Gegenwahrscheinlichkeit $1 - Pr$ berechnet. Auch wollen wir dann die Prozentangabe der Gegenwahrscheinlichkeit, also die Gegenwahrscheinlichkeit $1 - Pr$ multipliziert mit Einhundert. Dann brauchen wir als Variable noch die Gruppengröße $n_g$, die bei uns ja bei 5 liegt. Wir haben pro Sorte fünf Beobachtungen je Block.</span>
<span id="cb80-659"><a href="#cb80-659" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb80-662"><a href="#cb80-662" aria-hidden="true" tabindex="-1"></a><span class="in">```{r}</span></span>
<span id="cb80-663"><a href="#cb80-663" aria-hidden="true" tabindex="-1"></a>get_q <span class="ot">&lt;-</span> <span class="cf">function</span>(x){<span class="dv">100</span> <span class="sc">*</span> (<span class="dv">1</span> <span class="sc">-</span> x)}</span>
<span id="cb80-664"><a href="#cb80-664" aria-hidden="true" tabindex="-1"></a>n_group <span class="ot">&lt;-</span> <span class="dv">5</span></span>
<span id="cb80-665"><a href="#cb80-665" aria-hidden="true" tabindex="-1"></a><span class="in">```</span></span>
<span id="cb80-666"><a href="#cb80-666" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb80-667"><a href="#cb80-667" aria-hidden="true" tabindex="-1"></a>Wir nutezn jetzt das <span class="co">[</span><span class="ot">geometrisches Mittel</span><span class="co">](#sec-desc-stat-geometric)</span> um den Effekt der Behandlung bzw. Sorte im Verhältnis zur Kontrolle zu berechnen. Hierbei ist es wichtig sich zu erinnern, dass wir nicht alle paarweisen Vergleiche rechnen, sondern nur jede Sorte $j$ zu der Kontrolle $ctrl$ vergleichen. Dabei nutzen wir dann das Verhältnis der geometrisches Mittel um zu Beschreiben um wie viel weniger Befall mit Raubmilden wir in den Sorten $y_j$ im Verhältnis zur Kontrolle $y_{ctrl}$ vorliegen haben.</span>
<span id="cb80-668"><a href="#cb80-668" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb80-669"><a href="#cb80-669" aria-hidden="true" tabindex="-1"></a>$$</span>
<span id="cb80-670"><a href="#cb80-670" aria-hidden="true" tabindex="-1"></a>\Delta_{geometric} = \left(\cfrac{\prod_{i=1}^n y_j}{\prod_{i=1}^n y_{ctrl}}\right)^{1/n_j} \mbox{ für Sorte } j </span>
<span id="cb80-671"><a href="#cb80-671" aria-hidden="true" tabindex="-1"></a>$$</span>
<span id="cb80-672"><a href="#cb80-672" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb80-673"><a href="#cb80-673" aria-hidden="true" tabindex="-1"></a>Berechnen wir also als erstes einmal das Produkt aller gezählten Raubmilden pro Sorte und speichern das Ergebnis in der Spalte <span class="in">`prod`</span>.</span>
<span id="cb80-674"><a href="#cb80-674" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb80-677"><a href="#cb80-677" aria-hidden="true" tabindex="-1"></a><span class="in">```{r}</span></span>
<span id="cb80-678"><a href="#cb80-678" aria-hidden="true" tabindex="-1"></a>mite_wg_gemetric_tbl <span class="ot">&lt;-</span> mite_tbl <span class="sc">%&gt;%</span> </span>
<span id="cb80-679"><a href="#cb80-679" aria-hidden="true" tabindex="-1"></a>  <span class="fu">mutate</span>(<span class="at">count =</span> count <span class="sc">+</span> <span class="dv">1</span>) <span class="sc">%&gt;%</span> </span>
<span id="cb80-680"><a href="#cb80-680" aria-hidden="true" tabindex="-1"></a>  <span class="fu">group_by</span>(sorte) <span class="sc">%&gt;%</span> </span>
<span id="cb80-681"><a href="#cb80-681" aria-hidden="true" tabindex="-1"></a>  <span class="fu">summarise</span>(<span class="at">prod =</span> <span class="fu">prod</span>(count)) </span>
<span id="cb80-682"><a href="#cb80-682" aria-hidden="true" tabindex="-1"></a>mite_wg_gemetric_tbl</span>
<span id="cb80-683"><a href="#cb80-683" aria-hidden="true" tabindex="-1"></a><span class="in">```</span></span>
<span id="cb80-684"><a href="#cb80-684" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb80-685"><a href="#cb80-685" aria-hidden="true" tabindex="-1"></a>Jetzt können wir im nächsten Schritt einmal das $\Delta_{geometric}$ berechnen und dann den Wirkungsgrad über die Gegenwahrscheinlichkeit. Wichtig ist hier, dass die Kontrolle in der neunten Zeile ist. Daher teilen wir immer durch das Produkt an neunter Position mit <span class="in">`prod[9]`</span>. Wir sehen ganz klar, das wir ein Delta von 1 für die Kontrolle erhalten, da wir ja die Kontrolle ins Verhältnis zur Kontrolle setzen. Damit sollte der Rest auch geklappt haben. Den Wirkungsgrad der Sorten in Prozent gegen Raubmilbenbefall im Verhältnis zur Kontrolle können wir dann direkt ablesen. Die Funktion <span class="in">`percent()`</span> berechnet uns aus den Gegenwahrscheinlichkeiten dann gleich die Prozent. Wir brauchen daher hier noch nicht unsere Funktion <span class="in">`get_q()`</span>.</span>
<span id="cb80-686"><a href="#cb80-686" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb80-689"><a href="#cb80-689" aria-hidden="true" tabindex="-1"></a><span class="in">```{r}</span></span>
<span id="cb80-690"><a href="#cb80-690" aria-hidden="true" tabindex="-1"></a>mite_wg_gemetric_tbl <span class="sc">%&gt;%</span> </span>
<span id="cb80-691"><a href="#cb80-691" aria-hidden="true" tabindex="-1"></a>  <span class="fu">mutate</span>(<span class="at">delta_geometric =</span> (prod<span class="sc">/</span>prod[<span class="dv">9</span>])<span class="sc">^</span>(<span class="dv">1</span><span class="sc">/</span>n_group),</span>
<span id="cb80-692"><a href="#cb80-692" aria-hidden="true" tabindex="-1"></a>         <span class="at">WG_geometric =</span> <span class="fu">percent</span>(<span class="dv">1</span> <span class="sc">-</span> delta_geometric))</span>
<span id="cb80-693"><a href="#cb80-693" aria-hidden="true" tabindex="-1"></a><span class="in">```</span></span>
<span id="cb80-694"><a href="#cb80-694" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb80-695"><a href="#cb80-695" aria-hidden="true" tabindex="-1"></a>Soweit haben wir erstmal nur eine andere Variante des Wirkungsgrades berechnet. Im Gegensatz zu der Berechnung nach @abbott1925method können wir aber bei den geometrischen Wirkungsgrad auch ein einseitiges 95% Konfidenzintervall $<span class="co">[</span><span class="ot">-\infty; upper</span><span class="co">]</span>$ angeben. Dafür müssen wir erstmal den Exponenten $a$ berechnen und mit diesem dann die obere Konfidenzschranke $upper$. Dafür brauchen wir dann doch ein paar statistische Maßzahlen.</span>
<span id="cb80-696"><a href="#cb80-696" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb80-697"><a href="#cb80-697" aria-hidden="true" tabindex="-1"></a>$$</span>
<span id="cb80-698"><a href="#cb80-698" aria-hidden="true" tabindex="-1"></a>\begin{align}</span>
<span id="cb80-699"><a href="#cb80-699" aria-hidden="true" tabindex="-1"></a>a &amp;= \sqrt{2/n} \cdot s \cdot t_{\alpha=5\%} + \ln(1 - \Delta_{geometric})<span class="sc">\\</span></span>
<span id="cb80-700"><a href="#cb80-700" aria-hidden="true" tabindex="-1"></a>upper &amp;= 1 - e^a</span>
<span id="cb80-701"><a href="#cb80-701" aria-hidden="true" tabindex="-1"></a>\end{align}</span>
<span id="cb80-702"><a href="#cb80-702" aria-hidden="true" tabindex="-1"></a>$$</span>
<span id="cb80-703"><a href="#cb80-703" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb80-704"><a href="#cb80-704" aria-hidden="true" tabindex="-1"></a>Wir brauchen zum einen die Freiheitsgrade der Residuen <span class="in">`df.residual`</span> sowie den Standardfehler der Residuen <span class="in">`sigma`</span> oder $s$. Beides erhalten wir aus einem linearen Modell auf den logarithmierten Anzahlen der Raubmilben.</span>
<span id="cb80-705"><a href="#cb80-705" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb80-708"><a href="#cb80-708" aria-hidden="true" tabindex="-1"></a><span class="in">```{r}</span></span>
<span id="cb80-709"><a href="#cb80-709" aria-hidden="true" tabindex="-1"></a>residual_tbl <span class="ot">&lt;-</span> <span class="fu">lm</span>(log_count <span class="sc">~</span> sorte <span class="sc">+</span> block, <span class="at">data =</span> mite_tbl) <span class="sc">%&gt;%</span> </span>
<span id="cb80-710"><a href="#cb80-710" aria-hidden="true" tabindex="-1"></a>  <span class="fu">glance</span>() <span class="sc">%&gt;%</span> </span>
<span id="cb80-711"><a href="#cb80-711" aria-hidden="true" tabindex="-1"></a>  <span class="fu">select</span>(df.residual, sigma)</span>
<span id="cb80-712"><a href="#cb80-712" aria-hidden="true" tabindex="-1"></a>residual_tbl</span>
<span id="cb80-713"><a href="#cb80-713" aria-hidden="true" tabindex="-1"></a><span class="in">```</span></span>
<span id="cb80-714"><a href="#cb80-714" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb80-715"><a href="#cb80-715" aria-hidden="true" tabindex="-1"></a>Mit den Freiheitsgraden der Residuen können wir jetzt den kritischen Wert $t_{\alpha = 5\%}$ aus der $t$-Verteilung berechnen.</span>
<span id="cb80-716"><a href="#cb80-716" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb80-719"><a href="#cb80-719" aria-hidden="true" tabindex="-1"></a><span class="in">```{r}</span></span>
<span id="cb80-720"><a href="#cb80-720" aria-hidden="true" tabindex="-1"></a>t_quantile <span class="ot">&lt;-</span> <span class="fu">qt</span>(<span class="at">p =</span> <span class="fl">0.05</span>, <span class="at">df =</span> residual_tbl<span class="sc">$</span>df.residual, <span class="at">lower.tail =</span> <span class="cn">FALSE</span>)</span>
<span id="cb80-721"><a href="#cb80-721" aria-hidden="true" tabindex="-1"></a>t_quantile</span>
<span id="cb80-722"><a href="#cb80-722" aria-hidden="true" tabindex="-1"></a><span class="in">```</span></span>
<span id="cb80-723"><a href="#cb80-723" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb80-724"><a href="#cb80-724" aria-hidden="true" tabindex="-1"></a>Wir können jetzt unseren Datensatz <span class="in">`mite_wg_gemetric_tbl`</span> um die Spalte mit den Werten des Exponenten $a$ ergänzen und aus diesem dann die obere Schranke des einseitigen 95% Konfidenzintervall berechnen. Die Werte für die Kontrolle ergeben keinen biologischen Sinn und sind ein mathematisches Artefakt. Wir kriegen halt immer irgendwelche Zahlen raus.</span>
<span id="cb80-725"><a href="#cb80-725" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb80-728"><a href="#cb80-728" aria-hidden="true" tabindex="-1"></a><span class="in">```{r}</span></span>
<span id="cb80-729"><a href="#cb80-729" aria-hidden="true" tabindex="-1"></a><span class="co">#| message: false</span></span>
<span id="cb80-730"><a href="#cb80-730" aria-hidden="true" tabindex="-1"></a><span class="co">#| warning: false</span></span>
<span id="cb80-731"><a href="#cb80-731" aria-hidden="true" tabindex="-1"></a>mite_res_tbl <span class="ot">&lt;-</span> mite_wg_gemetric_tbl <span class="sc">%&gt;%</span> </span>
<span id="cb80-732"><a href="#cb80-732" aria-hidden="true" tabindex="-1"></a>  <span class="fu">mutate</span>(<span class="at">delta_geometric =</span> (prod<span class="sc">/</span>prod[<span class="dv">9</span>])<span class="sc">^</span>(<span class="dv">1</span><span class="sc">/</span>n_group),</span>
<span id="cb80-733"><a href="#cb80-733" aria-hidden="true" tabindex="-1"></a>         <span class="at">WG_geometric =</span> <span class="fu">get_q</span>(delta_geometric),</span>
<span id="cb80-734"><a href="#cb80-734" aria-hidden="true" tabindex="-1"></a>         <span class="at">a =</span> <span class="fu">sqrt</span>(<span class="dv">2</span><span class="sc">/</span>n_group) <span class="sc">*</span> residual_tbl<span class="sc">$</span>sigma <span class="sc">*</span> t_quantile <span class="sc">+</span> <span class="fu">log</span>(delta_geometric),</span>
<span id="cb80-735"><a href="#cb80-735" aria-hidden="true" tabindex="-1"></a>         <span class="at">upper =</span> <span class="fu">get_q</span>(<span class="fu">exp</span>(a)))</span>
<span id="cb80-736"><a href="#cb80-736" aria-hidden="true" tabindex="-1"></a>mite_res_tbl</span>
<span id="cb80-737"><a href="#cb80-737" aria-hidden="true" tabindex="-1"></a><span class="in">```</span></span>
<span id="cb80-738"><a href="#cb80-738" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb80-739"><a href="#cb80-739" aria-hidden="true" tabindex="-1"></a>Wir räumen nochmal die Ausgabe auf und konzentrieren uns auf die Spalten und runden einmal die Ergebnisse.</span>
<span id="cb80-740"><a href="#cb80-740" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb80-743"><a href="#cb80-743" aria-hidden="true" tabindex="-1"></a><span class="in">```{r}</span></span>
<span id="cb80-744"><a href="#cb80-744" aria-hidden="true" tabindex="-1"></a><span class="co">#| message: false</span></span>
<span id="cb80-745"><a href="#cb80-745" aria-hidden="true" tabindex="-1"></a><span class="co">#| warning: false</span></span>
<span id="cb80-746"><a href="#cb80-746" aria-hidden="true" tabindex="-1"></a>mite_res_tbl <span class="sc">%&gt;%</span> </span>
<span id="cb80-747"><a href="#cb80-747" aria-hidden="true" tabindex="-1"></a>  <span class="fu">select</span>(sorte, WG_geometric, upper) <span class="sc">%&gt;%</span> </span>
<span id="cb80-748"><a href="#cb80-748" aria-hidden="true" tabindex="-1"></a>  <span class="fu">mutate</span>(<span class="fu">across</span>(<span class="fu">where</span>(is.numeric), <span class="sc">~</span><span class="fu">round</span>(.x, <span class="dv">2</span>))) </span>
<span id="cb80-749"><a href="#cb80-749" aria-hidden="true" tabindex="-1"></a><span class="in">```</span></span>
<span id="cb80-750"><a href="#cb80-750" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb80-751"><a href="#cb80-751" aria-hidden="true" tabindex="-1"></a>Wir können wir jetzt das einseitige 95% Konfidenzintervall interpretieren? In der Sorte 1 erhalten wir einen Wirkungsgrad von 93.6% und mit 95% Sicherheit mindestens einen Wirkungsgrad von 82.1%. Damit haben wir auch eine untere Schranke für unseren Wirkungsgradschätzer. Wir berichten für die Sorte 1 einen Wirkungsgrad von 93.6% <span class="sc">\[</span>$-\infty$; 82.1%<span class="sc">\]</span>.</span>
<span id="cb80-752"><a href="#cb80-752" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb80-753"><a href="#cb80-753" aria-hidden="true" tabindex="-1"></a>Genauso können wir aber auch den Wirkungsgrad nach @abbott1925method nochmal auf den Daten berechnen. Dafür müssen wir nur eine Poissonregression auf der Anzahl der Raubmilben rechnen. Die angepassten Werte können wir dann verwenden um den $WG_{abbott}$ zu schätzen.</span>
<span id="cb80-754"><a href="#cb80-754" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb80-757"><a href="#cb80-757" aria-hidden="true" tabindex="-1"></a><span class="in">```{r}</span></span>
<span id="cb80-758"><a href="#cb80-758" aria-hidden="true" tabindex="-1"></a><span class="co">#| message: false</span></span>
<span id="cb80-759"><a href="#cb80-759" aria-hidden="true" tabindex="-1"></a><span class="co">#| warning: false</span></span>
<span id="cb80-760"><a href="#cb80-760" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb80-761"><a href="#cb80-761" aria-hidden="true" tabindex="-1"></a>fit <span class="ot">&lt;-</span> <span class="fu">glm</span>(count <span class="sc">~</span> sorte <span class="sc">+</span> block, <span class="at">data =</span> mite_tbl, <span class="at">family =</span> poisson)</span>
<span id="cb80-762"><a href="#cb80-762" aria-hidden="true" tabindex="-1"></a><span class="in">```</span></span>
<span id="cb80-763"><a href="#cb80-763" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb80-764"><a href="#cb80-764" aria-hidden="true" tabindex="-1"></a>Wir nutzen hier dann die Funktion <span class="in">`emmeans()`</span> um die mittlere Anzahl an Raubmilben über alle Blöcke zu ermitteln. Dann können wir auch schon den $WG_{abbott}$ berechnen. Wichtig ist hier, dass die Referenzkategorie mit der Kontrolle an der neunten Stelle bzw. Zeile steht. Deshalb müssen wir auch hier durch <span class="in">`prod[9]`</span> teilen. Achtung, die $p$-Werte haben hier keine tiefere Bedeutung im Bezug auf den Wirkungsgrad und deshalb schauen wir uns diese Werte auch gar nicht tiefer an.</span>
<span id="cb80-765"><a href="#cb80-765" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb80-768"><a href="#cb80-768" aria-hidden="true" tabindex="-1"></a><span class="in">```{r}</span></span>
<span id="cb80-769"><a href="#cb80-769" aria-hidden="true" tabindex="-1"></a><span class="co">#| message: false</span></span>
<span id="cb80-770"><a href="#cb80-770" aria-hidden="true" tabindex="-1"></a><span class="co">#| warning: false</span></span>
<span id="cb80-771"><a href="#cb80-771" aria-hidden="true" tabindex="-1"></a>res_mite_tbl <span class="ot">&lt;-</span> fit <span class="sc">%&gt;%</span> </span>
<span id="cb80-772"><a href="#cb80-772" aria-hidden="true" tabindex="-1"></a>  <span class="fu">emmeans</span>(<span class="sc">~</span>sorte, <span class="at">type =</span> <span class="st">"response"</span>) <span class="sc">%&gt;%</span> </span>
<span id="cb80-773"><a href="#cb80-773" aria-hidden="true" tabindex="-1"></a>  <span class="fu">tidy</span>() <span class="sc">%&gt;%</span> </span>
<span id="cb80-774"><a href="#cb80-774" aria-hidden="true" tabindex="-1"></a>  <span class="fu">mutate</span>(<span class="at">WG_abbott =</span> (rate[<span class="dv">9</span>] <span class="sc">-</span> rate)<span class="sc">/</span>rate[<span class="dv">9</span>],</span>
<span id="cb80-775"><a href="#cb80-775" aria-hidden="true" tabindex="-1"></a>         <span class="at">WG_abbott_per =</span> <span class="fu">percent</span>(WG_abbott)) <span class="sc">%&gt;%</span> </span>
<span id="cb80-776"><a href="#cb80-776" aria-hidden="true" tabindex="-1"></a>  <span class="fu">select</span>(sorte, WG_abbott, WG_abbott_per, rate)</span>
<span id="cb80-777"><a href="#cb80-777" aria-hidden="true" tabindex="-1"></a>res_mite_tbl</span>
<span id="cb80-778"><a href="#cb80-778" aria-hidden="true" tabindex="-1"></a><span class="in">```</span></span>
<span id="cb80-779"><a href="#cb80-779" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb80-780"><a href="#cb80-780" aria-hidden="true" tabindex="-1"></a>Wenn du verwirrt bist über die negativen Wirkungsgrade, dann musst du dir klar werden, dass wir immer den Wirkungsgrad im Verhältnis zur Kontrolle berechnen. Wenn du also negative Wirkungsgrade siehst, dann sind die Anzahlen in den Sorten *höher* als in der Kontrolle. Je nach Fragestellung macht dieses Ergebnis mehr oder weniger Sinn.</span>
<span id="cb80-781"><a href="#cb80-781" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb80-782"><a href="#cb80-782" aria-hidden="true" tabindex="-1"></a>Auch hier können wir noch schnell einen statistischen Test rechnen und die Sorten zu der Kontrolle <span class="in">`ref = 9`</span> vergleichen.</span>
<span id="cb80-783"><a href="#cb80-783" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb80-786"><a href="#cb80-786" aria-hidden="true" tabindex="-1"></a><span class="in">```{r}</span></span>
<span id="cb80-787"><a href="#cb80-787" aria-hidden="true" tabindex="-1"></a>fit <span class="sc">%&gt;%</span> </span>
<span id="cb80-788"><a href="#cb80-788" aria-hidden="true" tabindex="-1"></a>  <span class="fu">emmeans</span>(trt.vs.ctrlk <span class="sc">~</span> sorte, <span class="at">type =</span> <span class="st">"response"</span>, <span class="at">ref =</span> <span class="dv">9</span>) <span class="sc">%&gt;%</span> </span>
<span id="cb80-789"><a href="#cb80-789" aria-hidden="true" tabindex="-1"></a>  <span class="fu">pluck</span>(<span class="st">"contrasts"</span>)</span>
<span id="cb80-790"><a href="#cb80-790" aria-hidden="true" tabindex="-1"></a><span class="in">```</span></span>
<span id="cb80-791"><a href="#cb80-791" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb80-792"><a href="#cb80-792" aria-hidden="true" tabindex="-1"></a>Wir wir sehen, sind alle Varianten signifikant unterschiedlich zu der Kontrolle bis auf die Sorte 3.</span>
<span id="cb80-793"><a href="#cb80-793" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb80-794"><a href="#cb80-794" aria-hidden="true" tabindex="-1"></a>Auch hier können wir die Wirkungsgrade miteinander vergleichen. Aber Achtung, wir können nur Wirkungsgrade zwischen 0 und 1 miteinander sinnvoll vergleichen. Deshalb fliegen bei uns einige an Sorten raus. Darüber hinaus musst du jetzt auch einmal schauen, welche Sorte sich hinter der numerischen ID aus dem <span class="in">`pairwise.prop.test()`</span> verbirgt.</span>
<span id="cb80-795"><a href="#cb80-795" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb80-798"><a href="#cb80-798" aria-hidden="true" tabindex="-1"></a><span class="in">```{r}</span></span>
<span id="cb80-799"><a href="#cb80-799" aria-hidden="true" tabindex="-1"></a>res_mite_tbl <span class="sc">%&gt;%</span> </span>
<span id="cb80-800"><a href="#cb80-800" aria-hidden="true" tabindex="-1"></a>  <span class="fu">filter</span>(WG_abbott <span class="sc">&lt;</span> <span class="dv">1</span> <span class="sc">&amp;</span> WG_abbott <span class="sc">&gt;=</span> <span class="dv">0</span>) <span class="sc">%$%</span> </span>
<span id="cb80-801"><a href="#cb80-801" aria-hidden="true" tabindex="-1"></a>  <span class="fu">pairwise.prop.test</span>(<span class="at">x =</span> WG_abbott <span class="sc">*</span> <span class="dv">100</span>, </span>
<span id="cb80-802"><a href="#cb80-802" aria-hidden="true" tabindex="-1"></a>                   <span class="at">n =</span> <span class="fu">rep</span>(<span class="dv">100</span>, <span class="dv">5</span>),</span>
<span id="cb80-803"><a href="#cb80-803" aria-hidden="true" tabindex="-1"></a>                   <span class="at">p.adjust.method =</span> <span class="st">"none"</span>) </span>
<span id="cb80-804"><a href="#cb80-804" aria-hidden="true" tabindex="-1"></a><span class="in">```</span></span>
<span id="cb80-805"><a href="#cb80-805" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb80-806"><a href="#cb80-806" aria-hidden="true" tabindex="-1"></a>Das letzte Beispiel zeigt nochmal schön, dass wir uns immer überlegen müssen, was wir mit den Wirkungsgraden eigentlich zeigen wollen und welche Wirkungsgrade noch eine biologisch sinnvolle Bedeutung haben.</span>
<span id="cb80-807"><a href="#cb80-807" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb80-808"><a href="#cb80-808" aria-hidden="true" tabindex="-1"></a><span class="fu">### Wirkungsgrad nach Sun-Shepard {#sec-effect-ss}</span></span>
<span id="cb80-809"><a href="#cb80-809" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb80-810"><a href="#cb80-810" aria-hidden="true" tabindex="-1"></a>Der Wirkungsgrad nach Sun-Shepard bezieht sich auf die Mortalität <span class="sc">\[</span>%<span class="sc">\]</span> in unserem Versuch. Wir können müssen hier auch vor der Applikation und nach der Applikation in unserer Kontrolle die Mortalität bestimmen, sonst können wir nicht das $C_{\Delta}$ in der Kontrolle berechnen. Auf der <span class="co">[</span><span class="ot">Webseite von Ehab Bakr</span><span class="co">](https://www.ehabsoft.com/ldpline/onlinecontrol.htm)</span>, auf die sich irgendwie in einem Zirkelschluss alle meine gefundenen Quellen beziehen, steht dann zwar $\pm$ aber ich denke, dass hier ausgesagt werden soll, dass $C_{\Delta}$ negativ oder positiv sein kann. Dann können wir auch auch besser nur Plus schreiben und damit ist dann die Formel auch in sich konsistent. Das passt dann auch zu der Durchführung und dem Beispiel auf der Webseite.</span>
<span id="cb80-811"><a href="#cb80-811" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb80-812"><a href="#cb80-812" aria-hidden="true" tabindex="-1"></a>$$</span>
<span id="cb80-813"><a href="#cb80-813" aria-hidden="true" tabindex="-1"></a>WG_{SS} = \left(\cfrac{T + C_{\Delta}}{1 + C_{\Delta}}\right) </span>
<span id="cb80-814"><a href="#cb80-814" aria-hidden="true" tabindex="-1"></a>$$</span>
<span id="cb80-815"><a href="#cb80-815" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb80-816"><a href="#cb80-816" aria-hidden="true" tabindex="-1"></a>und</span>
<span id="cb80-817"><a href="#cb80-817" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb80-818"><a href="#cb80-818" aria-hidden="true" tabindex="-1"></a>$$</span>
<span id="cb80-819"><a href="#cb80-819" aria-hidden="true" tabindex="-1"></a>C_{\Delta} = \left(\cfrac{C_a - C_b}{C_b}\right) </span>
<span id="cb80-820"><a href="#cb80-820" aria-hidden="true" tabindex="-1"></a>$$</span>
<span id="cb80-821"><a href="#cb80-821" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb80-822"><a href="#cb80-822" aria-hidden="true" tabindex="-1"></a>mit</span>
<span id="cb80-823"><a href="#cb80-823" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb80-824"><a href="#cb80-824" aria-hidden="true" tabindex="-1"></a><span class="ss">-   </span>$T$ Sterberate in der Behandlung</span>
<span id="cb80-825"><a href="#cb80-825" aria-hidden="true" tabindex="-1"></a><span class="ss">-   </span>$C_b$ Anzahl lebend in der Kontrolle *nach* Applikation (eng. *after*)</span>
<span id="cb80-826"><a href="#cb80-826" aria-hidden="true" tabindex="-1"></a><span class="ss">-   </span>$C_a$ Anzahl lebend in der Kontrolle *vor* Applikation (eng. *before*)</span>
<span id="cb80-827"><a href="#cb80-827" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb80-828"><a href="#cb80-828" aria-hidden="true" tabindex="-1"></a><span class="fu">### Wirkungsgrad nach Schneider-Orelli {#sec-effect-so}</span></span>
<span id="cb80-829"><a href="#cb80-829" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb80-830"><a href="#cb80-830" aria-hidden="true" tabindex="-1"></a>Der Wirkungsgrad nach Schneider-Orelli betrachtet nur die Mortalität nach dem Versuch und ist somit mit dem Wirkungsgrad nach Abbott zu vergleichen. Die Formel ist dabei sehr simpel</span>
<span id="cb80-831"><a href="#cb80-831" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb80-832"><a href="#cb80-832" aria-hidden="true" tabindex="-1"></a>$$</span>
<span id="cb80-833"><a href="#cb80-833" aria-hidden="true" tabindex="-1"></a>WG_{SO} = \left(\cfrac{T_a - C_a}{1 - C_a}\right) </span>
<span id="cb80-834"><a href="#cb80-834" aria-hidden="true" tabindex="-1"></a>$$</span>
<span id="cb80-835"><a href="#cb80-835" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb80-836"><a href="#cb80-836" aria-hidden="true" tabindex="-1"></a>mit</span>
<span id="cb80-837"><a href="#cb80-837" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb80-838"><a href="#cb80-838" aria-hidden="true" tabindex="-1"></a><span class="ss">-   </span>$T_a$ Sterberate in der Behandlung *nach* Applikation (eng. *after*)</span>
<span id="cb80-839"><a href="#cb80-839" aria-hidden="true" tabindex="-1"></a><span class="ss">-   </span>$C_a$ Sterberate in der Kontrolle *nach* Applikation (eng. *after*)</span>
<span id="cb80-840"><a href="#cb80-840" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb80-841"><a href="#cb80-841" aria-hidden="true" tabindex="-1"></a><span class="fu">## Interrater Reliabilität {#sec-effect-interrater}</span></span>
<span id="cb80-842"><a href="#cb80-842" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb80-843"><a href="#cb80-843" aria-hidden="true" tabindex="-1"></a>Worum geht es jetzt in diesem Abschnitt? Wir wollen uns anschauen, ob verschiedene Bewerter auf die gleichen Noten oder Einschätzungen kommen. Das ist eher selten im Kontext einer Abschlussarbeit, aber kommt häufiger bei der Bonitur vor. Wir können uns dabei zwei Fälle vorstellen. Zum einen wollen wir wissen ob zwei oder mehr Bewerter auf die gleichen Noten kommen, wenn sie das gleiche Subjekt bewerten. Wir haben also eine Rasenfläche oder ein Schwein vor uns und drei Forschende sollen bestimmen wie krank der Rasen oder das Schwein auf einer Skala von 1 bis 9 ist. Vorher wurden natürlich alle drei auf der Notensakal trainiert. Das würden wir dann die Interrater Reliabilität nennen. Benoten zwei oder mehr Bewerter ein Subjekt nach einem gegebenen Notenschlüssen und Kriterien gleich. Wichtig ist hier, dass es ein Kriterienkatalog gibt. Wir machen machen hier also nicht auf Geratewohl los.</span>
<span id="cb80-844"><a href="#cb80-844" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb80-845"><a href="#cb80-845" aria-hidden="true" tabindex="-1"></a>Die andere Möglichkeit ist, dass wir wissen wollen, ob ein Bewerter selber konstante Benotungen an dem gleichen Subjekt liefert. Das können wir durch Fotos und zufällige Zuordnung machen oder eben eine Stunde oder Zeit dazwischen lassen. Wir sprechen dann von Intrarater Reliabilität. Diese Art der Reliabilität ist etwas seltener und kann auch gleich gelöst werden wie der Vergleich von unterschiedlichen Bewertern. Meistens reicht es dann auch aus und wir müssen die Korrelation durch den gleichen Bewerter eigentlich nicht weiter beachten.</span>
<span id="cb80-846"><a href="#cb80-846" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb80-847"><a href="#cb80-847" aria-hidden="true" tabindex="-1"></a>Interrater Reliabilität</span>
<span id="cb80-848"><a href="#cb80-848" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb80-849"><a href="#cb80-849" aria-hidden="true" tabindex="-1"></a>:   Unterscheiden sich die Bewertungen oder Benotungen an einer Beobachtung zwischen zwei oder mehr Bewertern?</span>
<span id="cb80-850"><a href="#cb80-850" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb80-851"><a href="#cb80-851" aria-hidden="true" tabindex="-1"></a>Intrarater Reliabilität</span>
<span id="cb80-852"><a href="#cb80-852" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb80-853"><a href="#cb80-853" aria-hidden="true" tabindex="-1"></a>:   Unterscheiden sich die Bewertungen oder Benotungen eines Bewerters an einer Beobachtung über die Zeit?</span>
<span id="cb80-854"><a href="#cb80-854" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb80-855"><a href="#cb80-855" aria-hidden="true" tabindex="-1"></a>Reliabilität ist der Grad an Übereinstimmung einer Messung, wenn diese unter identischen Bedingungen jedoch von unterschiedlichen Bewertern wiederholt wird. Anhand der Interrater Reliabilität wird es somit möglich, den Grad zu ermitteln, in dem sich die erhaltenen Ergebnisse wiederholen lassen. Eine wunderbare Übersicht zur Interrater Reliabilität gibt auf Data Novia mit <span class="co">[</span><span class="ot">Introduction to R for Inter-Rater Reliability Analyses</span><span class="co">](https://www.datanovia.com/en/lessons/introduction-to-r-for-inter-rater-reliability-analyses/)</span>. Ebenso liefert das Tutorium <span class="co">[</span><span class="ot">Inter-rater-reliability and Intra-class-correlation</span><span class="co">](http://dwoll.de/rexrepos/posts/interRaterICC.html)</span> einen guten Überblick über alle Methoden in R. Wir schauen uns jetzt einmal die häufigsten Maßzahlen für die Reliabilität an. Für das erste beschränken wir uns hier einmal auf Cohen's Kappan.</span>
<span id="cb80-856"><a href="#cb80-856" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb80-857"><a href="#cb80-857" aria-hidden="true" tabindex="-1"></a><span class="fu">### ... für kategorielle Variablen</span></span>
<span id="cb80-858"><a href="#cb80-858" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb80-859"><a href="#cb80-859" aria-hidden="true" tabindex="-1"></a>Fangen wir mit dem simpelsten Fall an. Wir haben zwei Bewerter $R_1$ und $R_2$ und wir wollen schauen, ob diese beiden Bewerter ein Subjekt richtig in $ja$ oder $nein$ einordnen. So kann die Frage sein, hat die Sonnenblume Mehltau? Oder aber die Frage, ist das Schwein erkrankt? Wir haben hier keine Wahrheit vorliegen, sondern wollen einfach nur wissen, ob unsere beiden Bewerter zum gleichen Schluss kommen. Dafür können wir dann Cohen's Kappa $\kappa$ nutzen. Dabei ist die Verwendung von Cohen's Kappa nicht unumstritten. @maclure1987misinterpretation diskutiert in seiner Arbeit <span class="co">[</span><span class="ot">Misinterpretation and misuse of the kappa statistic</span><span class="co">](https://citeseerx.ist.psu.edu/document?repid=rep1&amp;type=pdf&amp;doi=63e3fc4cf928bc0a12f6c62cace8d94aee34db62)</span> diesen Sachverhalt. Fangen wir einmal mit einem Beispiel an. Die @tbl-2x2-kappa zeigt einmal das Ergebnis von siebzig bewerteten Subjekten. Wir haben hier zwei Bewerter vorliegen, die jeweils mit $ja$ oder $nein$ bewerten sollten. In R kannst du dir später so eine Tabelle einfach mit der Funktion <span class="in">`xtabs()`</span> bauen.</span>
<span id="cb80-860"><a href="#cb80-860" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb80-861"><a href="#cb80-861" aria-hidden="true" tabindex="-1"></a>|                |            |                   |                   |</span>
<span id="cb80-862"><a href="#cb80-862" aria-hidden="true" tabindex="-1"></a>|:--------------:|:----------:|:-----------------:|:-----------------:|</span>
<span id="cb80-863"><a href="#cb80-863" aria-hidden="true" tabindex="-1"></a>|                |            |  **Bewerter 1**   |                   |</span>
<span id="cb80-864"><a href="#cb80-864" aria-hidden="true" tabindex="-1"></a>|                |            |     *ja (1)*      |    *nein (0)*     |</span>
<span id="cb80-865"><a href="#cb80-865" aria-hidden="true" tabindex="-1"></a>| **Bewerter 2** |  *ja (1)*  | $25_{\;\Large a}$ | $10_{\;\Large b}$ |</span>
<span id="cb80-866"><a href="#cb80-866" aria-hidden="true" tabindex="-1"></a>|                | *nein (0)* | $15_{\;\Large c}$ | $20_{\;\Large d}$ |</span>
<span id="cb80-867"><a href="#cb80-867" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb80-868"><a href="#cb80-868" aria-hidden="true" tabindex="-1"></a>: Eine 2x2 Tabelle als Beispiel für die Bewertung einer Erkrankung an siebzig Beobachtungen von zwei Bewertern. Für die folgenden Berechnungen sind die Zellen mit Buchstaben versehen. {#tbl-2x2-kappa}</span>
<span id="cb80-869"><a href="#cb80-869" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb80-870"><a href="#cb80-870" aria-hidden="true" tabindex="-1"></a>Als Faustregel für Cohen's Kappa $\kappa$ dient dabei, dass die Diagonale von links oben nach rechts unten die Übereinstimmungen zeigt. Die Diagonale von links unten nach rechts oben zeigt dann die Nichtübereinstimmung. Das ist natürlich nur eine grobe Abschätzung im Folgenden einmal die Formel mit der du dann Cohen's Kappa $\kappa$ berechnen kannst.</span>
<span id="cb80-871"><a href="#cb80-871" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb80-872"><a href="#cb80-872" aria-hidden="true" tabindex="-1"></a>$$</span>
<span id="cb80-873"><a href="#cb80-873" aria-hidden="true" tabindex="-1"></a>\kappa = \cfrac{p_0 - p_e}{1 - p_e}</span>
<span id="cb80-874"><a href="#cb80-874" aria-hidden="true" tabindex="-1"></a>$$</span>
<span id="cb80-875"><a href="#cb80-875" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb80-876"><a href="#cb80-876" aria-hidden="true" tabindex="-1"></a>mit</span>
<span id="cb80-877"><a href="#cb80-877" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb80-878"><a href="#cb80-878" aria-hidden="true" tabindex="-1"></a><span class="ss">-   </span>$p_0$ Anteil der beobachteten Übereinstimmung</span>
<span id="cb80-879"><a href="#cb80-879" aria-hidden="true" tabindex="-1"></a><span class="ss">-   </span>$p_e$ Anteil der veränderten Übereinstimmung</span>
<span id="cb80-880"><a href="#cb80-880" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb80-881"><a href="#cb80-881" aria-hidden="true" tabindex="-1"></a>Das ist jetzt natürlich wieder sehr theoretisch. Deshalb wollen wir einmal die beiden Teile $p_0$ und $p_e$ aus den obigen Daten berechnen. Wenn du jetzt denkst, dass dir das doch irgendwie bekannt vorkommt, ja der $\mathcal{X}^2$-Test sieht sehr ähnlich aus. Wir können $p_0$ wie folgt aus der 2x2 Kreuztabelle berechnen. Wir schauen hier auf die Übereinstimmungen auf der Diagonalen von obeb links nach unten rechts.</span>
<span id="cb80-882"><a href="#cb80-882" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb80-883"><a href="#cb80-883" aria-hidden="true" tabindex="-1"></a>$$</span>
<span id="cb80-884"><a href="#cb80-884" aria-hidden="true" tabindex="-1"></a>p_0 = \cfrac{a + d}{N} = \cfrac{25 + 20}{70} = 0.643 </span>
<span id="cb80-885"><a href="#cb80-885" aria-hidden="true" tabindex="-1"></a>$$</span>
<span id="cb80-886"><a href="#cb80-886" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb80-887"><a href="#cb80-887" aria-hidden="true" tabindex="-1"></a>Für den Wert von $p_e$ brauchen wir zwei Werte, die wir dann aufaddieren. Einmal berechnen wir den Wert für $p_e$ von $ja$ und einmal den Wert von $p_e$ für $nein$. Das geht dann mit der Formel auch recht schnell. Wir schauen hier im Prinzip auf die Diagonale von unten links nach oben rechts.</span>
<span id="cb80-888"><a href="#cb80-888" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb80-889"><a href="#cb80-889" aria-hidden="true" tabindex="-1"></a>$$</span>
<span id="cb80-890"><a href="#cb80-890" aria-hidden="true" tabindex="-1"></a>p_e^{ja} = \cfrac{a + b}{N} \cdot \cfrac{a + c}{N} = \cfrac{25+10}{70} \cdot \cfrac{25+15}{70} = 0.5 \cdot 0.57 = 0.285 </span>
<span id="cb80-891"><a href="#cb80-891" aria-hidden="true" tabindex="-1"></a>$$</span>
<span id="cb80-892"><a href="#cb80-892" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb80-893"><a href="#cb80-893" aria-hidden="true" tabindex="-1"></a>$$</span>
<span id="cb80-894"><a href="#cb80-894" aria-hidden="true" tabindex="-1"></a>p_e^{nein} = \cfrac{c + d}{N} \cdot \cfrac{b + d}{N} = \cfrac{15+20}{70} \cdot \cfrac{10+20}{70} = 0.5 \cdot 0.428 = 0.214 </span>
<span id="cb80-895"><a href="#cb80-895" aria-hidden="true" tabindex="-1"></a>$$</span>
<span id="cb80-896"><a href="#cb80-896" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb80-897"><a href="#cb80-897" aria-hidden="true" tabindex="-1"></a>Dann addieen wir die beiden Werte für $p_e$ einmal auf.</span>
<span id="cb80-898"><a href="#cb80-898" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb80-899"><a href="#cb80-899" aria-hidden="true" tabindex="-1"></a>$$</span>
<span id="cb80-900"><a href="#cb80-900" aria-hidden="true" tabindex="-1"></a>p_e = p_e^{ja} + p_e^{nein} = 0.285 + 0.214 = 0.499</span>
<span id="cb80-901"><a href="#cb80-901" aria-hidden="true" tabindex="-1"></a>$$</span>
<span id="cb80-902"><a href="#cb80-902" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb80-903"><a href="#cb80-903" aria-hidden="true" tabindex="-1"></a>Dann können wir auch schon Cohen's Kappa $\kappa$ für eine 2x2 Kreuztabelle berechnen. Ehrlicherweise, machen wir das dann natürlich gleich in R.</span>
<span id="cb80-904"><a href="#cb80-904" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb80-905"><a href="#cb80-905" aria-hidden="true" tabindex="-1"></a>$$</span>
<span id="cb80-906"><a href="#cb80-906" aria-hidden="true" tabindex="-1"></a>\kappa = \cfrac{0.643 - 0.499}{1 - 0.499} = 0.28</span>
<span id="cb80-907"><a href="#cb80-907" aria-hidden="true" tabindex="-1"></a>$$</span>
<span id="cb80-908"><a href="#cb80-908" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb80-909"><a href="#cb80-909" aria-hidden="true" tabindex="-1"></a>Dabei interpretieren wir dann Cohen's Kappa $\kappa$ wie folgt. Beachte dabei immer, dass es sich natürlich erstmal nur um eine grobe Abschätzung handelt. Wie gut oder wie schlecht dann diese Zahl von Cohen's Kappa $\kappa$ in deinem Bereich ist, liegt dann auch daran wie genau du arbeiten möchtest.</span>
<span id="cb80-910"><a href="#cb80-910" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb80-911"><a href="#cb80-911" aria-hidden="true" tabindex="-1"></a>Cohen's Kappa $\kappa$ interpretieren</span>
<span id="cb80-912"><a href="#cb80-912" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb80-913"><a href="#cb80-913" aria-hidden="true" tabindex="-1"></a>:   Cohen's Kappa kann von -1 (keine Übereinstimmung) bis +1 (perfekte Übereinstimmung) reichen. Wenn $\kappa = 0$ ist, ist die Übereinstimmung nicht besser als das, was durch Zufall erreicht werden würde. Wenn $\kappa$ negativ ist, ist die Übereinstimmung geringer als die zufällig erwartete Übereinstimmung. Wenn $\kappa$ positiv ist, übersteigt die Übereinstimmung der Bewerter die zufällige Übereinstimmung.</span>
<span id="cb80-914"><a href="#cb80-914" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb80-915"><a href="#cb80-915" aria-hidden="true" tabindex="-1"></a>Was sind jetzt die exakten grenzen für die Cohen's Kappa Werte? Das kannst du dir fast wieder aussuchen wie du möchtest. Es gibt eine Reihe von Publikationen, die alle verschiedene Grenzwerte liefern. Gerne kannst du dir die Tabellen in dem Tutorium <span class="co">[</span><span class="ot">Cohen's Kappa in R: For Two Categorical Variables</span><span class="co">](https://www.datanovia.com/en/lessons/cohens-kappa-in-r-for-two-categorical-variables/)</span> einmal näher anschauen. Ich würde dann mal als Quintessenz folgende Regel von @mchugh2012interrater nehmen.</span>
<span id="cb80-916"><a href="#cb80-916" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb80-917"><a href="#cb80-917" aria-hidden="true" tabindex="-1"></a>| Cohen's Kappa | Level of agreement | \% of data that are reliable |</span>
<span id="cb80-918"><a href="#cb80-918" aria-hidden="true" tabindex="-1"></a>|:-------------:|:------------------:|:----------------------------:|</span>
<span id="cb80-919"><a href="#cb80-919" aria-hidden="true" tabindex="-1"></a>|   0 - 0.20    |        None        |            0 - 4‰            |</span>
<span id="cb80-920"><a href="#cb80-920" aria-hidden="true" tabindex="-1"></a>|  0.21 - 0.39  |      Minimal       |           4 - 15%            |</span>
<span id="cb80-921"><a href="#cb80-921" aria-hidden="true" tabindex="-1"></a>|  0.40 - 0.59  |        Weak        |           15 - 35%           |</span>
<span id="cb80-922"><a href="#cb80-922" aria-hidden="true" tabindex="-1"></a>|  0.60 - 0.79  |      Moderate      |           35 - 63%           |</span>
<span id="cb80-923"><a href="#cb80-923" aria-hidden="true" tabindex="-1"></a>|  0.80 - 0.90  |       Strong       |           64 - 81%           |</span>
<span id="cb80-924"><a href="#cb80-924" aria-hidden="true" tabindex="-1"></a>|  Above 0.90   |   Almost Perfect   |          82 - 100%           |</span>
<span id="cb80-925"><a href="#cb80-925" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb80-926"><a href="#cb80-926" aria-hidden="true" tabindex="-1"></a>: Interpretation des Cohen's Kappa Wert nach @mchugh2012interrater {#tbl-interpret-kappa}</span>
<span id="cb80-927"><a href="#cb80-927" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb80-928"><a href="#cb80-928" aria-hidden="true" tabindex="-1"></a>Das <span class="co">[</span><span class="ot">R Paket `{vcd}`</span><span class="co">](https://www.datavis.ca/courses/VCD/vcd-tutorial.pdf)</span> liefert nun die Funktion <span class="in">`Kappa()`</span> mit der wir auf einer 2x2 Kreuztabelle zum Beispiel aus der Funktion <span class="in">`xtabs()`</span> dann Cohen's Kappa $\kappa$ berechnen können. Die Funktion <span class="in">`xtabs()`</span> hilft dir aus zwei oder mehr Spalten eine Kreuztabelle zu bauen.</span>
<span id="cb80-929"><a href="#cb80-929" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb80-932"><a href="#cb80-932" aria-hidden="true" tabindex="-1"></a><span class="in">```{r}</span></span>
<span id="cb80-933"><a href="#cb80-933" aria-hidden="true" tabindex="-1"></a>xtab <span class="ot">&lt;-</span> <span class="fu">as.table</span>(<span class="fu">rbind</span>(<span class="fu">c</span>(<span class="dv">25</span>, <span class="dv">10</span>), <span class="fu">c</span>(<span class="dv">15</span>, <span class="dv">20</span>)))</span>
<span id="cb80-934"><a href="#cb80-934" aria-hidden="true" tabindex="-1"></a><span class="in">```</span></span>
<span id="cb80-935"><a href="#cb80-935" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb80-936"><a href="#cb80-936" aria-hidden="true" tabindex="-1"></a>Dann können wir auch schon Cohen's Kappa $\kappa$ in R berechnen.</span>
<span id="cb80-937"><a href="#cb80-937" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb80-940"><a href="#cb80-940" aria-hidden="true" tabindex="-1"></a><span class="in">```{r}</span></span>
<span id="cb80-941"><a href="#cb80-941" aria-hidden="true" tabindex="-1"></a>kappa_res <span class="ot">&lt;-</span> <span class="fu">Kappa</span>(xtab)</span>
<span id="cb80-942"><a href="#cb80-942" aria-hidden="true" tabindex="-1"></a>kappa_res</span>
<span id="cb80-943"><a href="#cb80-943" aria-hidden="true" tabindex="-1"></a><span class="in">```</span></span>
<span id="cb80-944"><a href="#cb80-944" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb80-945"><a href="#cb80-945" aria-hidden="true" tabindex="-1"></a>Die ungewichtete Version entspricht dem Cohen's Kappa, mit dem wir uns in diesem Kapitel beschäftigen. Das gewichtete Kappa sollte nur für ordinale Variablen betrachtet werden und wird weitgehend hier ignoriert. Dann noch die Konfidenzintervalle und alles ist soweit da, was wir brauchen.</span>
<span id="cb80-946"><a href="#cb80-946" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb80-949"><a href="#cb80-949" aria-hidden="true" tabindex="-1"></a><span class="in">```{r}</span></span>
<span id="cb80-950"><a href="#cb80-950" aria-hidden="true" tabindex="-1"></a>kappa_res <span class="sc">|&gt;</span> </span>
<span id="cb80-951"><a href="#cb80-951" aria-hidden="true" tabindex="-1"></a>  <span class="fu">confint</span>()</span>
<span id="cb80-952"><a href="#cb80-952" aria-hidden="true" tabindex="-1"></a><span class="in">```</span></span>
<span id="cb80-953"><a href="#cb80-953" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb80-954"><a href="#cb80-954" aria-hidden="true" tabindex="-1"></a>Das Ganze geht natürlich nicht nur für zwei Level (ja/nein) sondern dann in R auch für mehrere Level. Also wenn wir zum Beispiel dann Boniturnoten einmal bewerten und dann für zwei Bewerter vergleichen wollen.</span>
<span id="cb80-955"><a href="#cb80-955" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb80-956"><a href="#cb80-956" aria-hidden="true" tabindex="-1"></a>Cohen's Kappa für mehr als zwei Bewerter liefert das <span class="co">[</span><span class="ot">R Paket `{irr}`</span><span class="co">](https://cran.r-project.org/web/packages/irr/irr.pdf)</span> mit der Funktion <span class="in">`kappam.light()`</span> oder <span class="in">`kappam.fleiss()`</span>, wenn es dann auch noch mehr Kategorien als zwei in den Spalten gibt. Das R Paket ist schon ziemlich alt und hat auch sehr schlechte bis gar keine Hilfeseiten. Wenn man weiß, was man braucht und die Funktion bedeuten, dann kannst du das Paket gut nutzen.</span>
<span id="cb80-957"><a href="#cb80-957" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb80-958"><a href="#cb80-958" aria-hidden="true" tabindex="-1"></a>Hier helfen dann auch die passenden Tutorien weiter. Ich habe hier nochmal die beiden anderen Fälle aufgelistet, wenn du eben Noten oder noch andere Kategorien in deinen Daten hast. Im Prinzip änderst du nur deine Funktion die du dann nutzt. Die Bewertung der einzelnen Ausgaben schwankt dann auch leicht. Aber eine Eins bedeutet immer eine perfekte Übereinstimmung.</span>
<span id="cb80-959"><a href="#cb80-959" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb80-960"><a href="#cb80-960" aria-hidden="true" tabindex="-1"></a><span class="ss">-   </span><span class="co">[</span><span class="ot">Weighted Kappa in R: For Two Ordinal Variables</span><span class="co">](https://www.datanovia.com/en/lessons/weighted-kappa-in-r-for-two-ordinal-variables/)</span> mit der Funktion <span class="in">`Kappa()`</span> aus dem R Paket <span class="in">`{vcd}`</span>. Wir nutzen dann die <span class="in">`Weighted`</span> Zeile in der Ausgabe der Funktion.</span>
<span id="cb80-961"><a href="#cb80-961" aria-hidden="true" tabindex="-1"></a><span class="ss">-   </span><span class="co">[</span><span class="ot">Fleiss’ Kappa in R: For Multiple Categorical Variables</span><span class="co">](https://www.datanovia.com/en/lessons/fleiss-kappa-in-r-for-multiple-categorical-variables/)</span> und der Funktion <span class="in">`kappam.fleiss()`</span> aus dem R Paket <span class="in">`{irr}`</span>.</span>
<span id="cb80-962"><a href="#cb80-962" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb80-963"><a href="#cb80-963" aria-hidden="true" tabindex="-1"></a>Damit wären wir hier soweit erstmal fertig. Im nächsten Abschnitt schauen wir uns dann einmal den Fall an, dass wir kontinuierliche Bewertungen haben. Wir haben nämlich gezählt, was ja auch eine Art der Bewertung ist. Nur eben nicht auf einer Notenskala sondern eben kontinuierlich.</span>
<span id="cb80-964"><a href="#cb80-964" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb80-965"><a href="#cb80-965" aria-hidden="true" tabindex="-1"></a><span class="fu">### ... für kontinuierliche Variablen</span></span>
<span id="cb80-966"><a href="#cb80-966" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb80-967"><a href="#cb80-967" aria-hidden="true" tabindex="-1"></a>Jetzt betrachten wir einen Datensatz indem Entenküken auf verschiedenen Bildern von Studierenden gezählt werden sollten. Insgesamt haben wir vier Studierende als Bewerter, die die Küken dann in zwei voneinander getrennten Sessions bewertet haben. Wir laden also einmal den Datensatz und schauen uns die Zähldaten einmal an.</span>
<span id="cb80-968"><a href="#cb80-968" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb80-971"><a href="#cb80-971" aria-hidden="true" tabindex="-1"></a><span class="in">```{r}</span></span>
<span id="cb80-972"><a href="#cb80-972" aria-hidden="true" tabindex="-1"></a>duck_tbl <span class="ot">&lt;-</span> <span class="fu">read_excel</span>(<span class="st">"data/interrater_duck_count.xlsx"</span>)</span>
<span id="cb80-973"><a href="#cb80-973" aria-hidden="true" tabindex="-1"></a><span class="in">```</span></span>
<span id="cb80-974"><a href="#cb80-974" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb80-975"><a href="#cb80-975" aria-hidden="true" tabindex="-1"></a>In der @tbl-duck-data siehst du einmal einen Auszug aus den Entendaten. Dabei steht die <span class="in">`id`</span> für ein Bild, die Spalte <span class="in">`session`</span> beschreibt die beiden Termine, wo die Studierenden dann die Bilder ausgezählt haben.</span>
<span id="cb80-976"><a href="#cb80-976" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb80-979"><a href="#cb80-979" aria-hidden="true" tabindex="-1"></a><span class="in">```{r}</span></span>
<span id="cb80-980"><a href="#cb80-980" aria-hidden="true" tabindex="-1"></a><span class="co">#| echo: false</span></span>
<span id="cb80-981"><a href="#cb80-981" aria-hidden="true" tabindex="-1"></a><span class="co">#| message: false</span></span>
<span id="cb80-982"><a href="#cb80-982" aria-hidden="true" tabindex="-1"></a><span class="co">#| warning: false</span></span>
<span id="cb80-983"><a href="#cb80-983" aria-hidden="true" tabindex="-1"></a><span class="co">#| label: tbl-duck-data</span></span>
<span id="cb80-984"><a href="#cb80-984" aria-hidden="true" tabindex="-1"></a><span class="co">#| tbl-cap: "Auszug aus Entenkükendatensatz."</span></span>
<span id="cb80-985"><a href="#cb80-985" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb80-986"><a href="#cb80-986" aria-hidden="true" tabindex="-1"></a><span class="fu">rbind</span>(<span class="fu">head</span>(duck_tbl, <span class="at">n =</span> <span class="dv">5</span>),</span>
<span id="cb80-987"><a href="#cb80-987" aria-hidden="true" tabindex="-1"></a>      <span class="fu">rep</span>(<span class="st">"..."</span>, <span class="at">times =</span> <span class="fu">ncol</span>(duck_tbl)),</span>
<span id="cb80-988"><a href="#cb80-988" aria-hidden="true" tabindex="-1"></a>      <span class="fu">tail</span>(duck_tbl, <span class="at">n =</span> <span class="dv">5</span>)) <span class="sc">%&gt;%</span> </span>
<span id="cb80-989"><a href="#cb80-989" aria-hidden="true" tabindex="-1"></a>  <span class="fu">kable</span>(<span class="at">align =</span> <span class="st">"c"</span>, <span class="st">"pipe"</span>)</span>
<span id="cb80-990"><a href="#cb80-990" aria-hidden="true" tabindex="-1"></a><span class="in">```</span></span>
<span id="cb80-991"><a href="#cb80-991" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb80-992"><a href="#cb80-992" aria-hidden="true" tabindex="-1"></a>Da so eine Datentabelle dann imer schwer zu lesen ist, dann hier einmal in der @fig-effect-rel-duck die Visualisierung der Daten. Wir sehen, dass die zweite Session schonmals ehr viel weniger Varianz zeigt und sich die Bewerter sehr viel ähnlicher sind als bei der ersten Session. Darüber hinaus ist der dritte Bewerter in der ersten Session am schlechtesten, da er die größte Varianz und Abweichung zu den anderen Bewertern zeigt.</span>
<span id="cb80-993"><a href="#cb80-993" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb80-996"><a href="#cb80-996" aria-hidden="true" tabindex="-1"></a><span class="in">```{r}</span></span>
<span id="cb80-997"><a href="#cb80-997" aria-hidden="true" tabindex="-1"></a><span class="co">#| echo: true</span></span>
<span id="cb80-998"><a href="#cb80-998" aria-hidden="true" tabindex="-1"></a><span class="co">#| warning: false</span></span>
<span id="cb80-999"><a href="#cb80-999" aria-hidden="true" tabindex="-1"></a><span class="co">#| message: false</span></span>
<span id="cb80-1000"><a href="#cb80-1000" aria-hidden="true" tabindex="-1"></a><span class="co">#| label: fig-effect-rel-duck</span></span>
<span id="cb80-1001"><a href="#cb80-1001" aria-hidden="true" tabindex="-1"></a><span class="co">#| fig-align: center</span></span>
<span id="cb80-1002"><a href="#cb80-1002" aria-hidden="true" tabindex="-1"></a><span class="co">#| fig-height: 6</span></span>
<span id="cb80-1003"><a href="#cb80-1003" aria-hidden="true" tabindex="-1"></a><span class="co">#| fig-width: 7</span></span>
<span id="cb80-1004"><a href="#cb80-1004" aria-hidden="true" tabindex="-1"></a><span class="co">#| fig-cap: "Visualisierung der Zählungen an Entenküken über die beiden Sessions der vier Studierenden. Die Zahlen geben die jeweilige Bildnummer an."</span></span>
<span id="cb80-1005"><a href="#cb80-1005" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb80-1006"><a href="#cb80-1006" aria-hidden="true" tabindex="-1"></a>duck_tbl <span class="sc">|&gt;</span> </span>
<span id="cb80-1007"><a href="#cb80-1007" aria-hidden="true" tabindex="-1"></a>  <span class="fu">pivot_longer</span>(<span class="at">cols =</span> rater_1<span class="sc">:</span>rater_4,</span>
<span id="cb80-1008"><a href="#cb80-1008" aria-hidden="true" tabindex="-1"></a>               <span class="at">values_to =</span> <span class="st">"count"</span>,</span>
<span id="cb80-1009"><a href="#cb80-1009" aria-hidden="true" tabindex="-1"></a>               <span class="at">names_to =</span> <span class="st">"rater"</span>) <span class="sc">|&gt;</span> </span>
<span id="cb80-1010"><a href="#cb80-1010" aria-hidden="true" tabindex="-1"></a>  <span class="fu">mutate</span>(<span class="at">session =</span> <span class="fu">as_factor</span>(session)) <span class="sc">|&gt;</span> </span>
<span id="cb80-1011"><a href="#cb80-1011" aria-hidden="true" tabindex="-1"></a>  <span class="fu">ggplot</span>(<span class="fu">aes</span>(<span class="at">x =</span> rater, <span class="at">y =</span> count, <span class="at">color =</span> session, <span class="at">label =</span> id)) <span class="sc">+</span></span>
<span id="cb80-1012"><a href="#cb80-1012" aria-hidden="true" tabindex="-1"></a>  <span class="fu">theme_minimal</span>() <span class="sc">+</span></span>
<span id="cb80-1013"><a href="#cb80-1013" aria-hidden="true" tabindex="-1"></a>  <span class="fu">geom_text</span>(<span class="at">position =</span> <span class="fu">position_dodge</span>(<span class="fl">0.5</span>), <span class="at">show.legend =</span> <span class="cn">FALSE</span>) <span class="sc">+</span></span>
<span id="cb80-1014"><a href="#cb80-1014" aria-hidden="true" tabindex="-1"></a>  <span class="fu">scale_color_okabeito</span>() <span class="sc">+</span></span>
<span id="cb80-1015"><a href="#cb80-1015" aria-hidden="true" tabindex="-1"></a>  <span class="fu">labs</span>(<span class="at">x =</span> <span class="st">"Bewerter"</span>, <span class="at">y =</span> <span class="st">"Gezählte Anzahl an Entenküken auf dem Bild"</span>)</span>
<span id="cb80-1016"><a href="#cb80-1016" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb80-1017"><a href="#cb80-1017" aria-hidden="true" tabindex="-1"></a><span class="in">```</span></span>
<span id="cb80-1018"><a href="#cb80-1018" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb80-1019"><a href="#cb80-1019" aria-hidden="true" tabindex="-1"></a>Was erwarten wir nun? Zum einen sollte die zweite Session bessere Übereinstimmungen liefern als die erste Session. Immerhin haben ja die Studierenden geübt. Wir nutzen jetzt hier den <span class="co">[</span><span class="ot">Intraclass Correlation Coefficient (ICC) in R</span><span class="co">](https://www.datanovia.com/en/lessons/intraclass-correlation-coefficient-in-r/)</span> um auf die Reliabilität von Bewertern zurückzuschließen. Das Tutorium liefert nochmal eine Reihe an mehr Informationen. Ich halte hier die Sachlage relativ kurz. Wir wollen hier mal prinzipiell schauen, wie unsere Bewerter so abschneiden. Als zweite Überlegung wollen wir dann noch wissen, ob unsere Bewerter dann auch konsistent sind. Daher die erste Session genauso wie die zweite Session bewertet haben. Aber auch hier Achtung, wir wissen nicht die Wahrheit. Wir schauen nur, ob die beiden Sessions gleich waren. Ein Bewerter, der in der ersten Session versagt und in der zweiten alles richtig zählt, würde hier also schlechter wegkommen, als ein Bewerter, der nichts gelernt hat und in beiden Fällen schlecht zählt. Wir würden dann nur sehen, dass die Bewerter untereinander nicht passen.</span>
<span id="cb80-1020"><a href="#cb80-1020" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb80-1021"><a href="#cb80-1021" aria-hidden="true" tabindex="-1"></a>Betrachten wir also einmal in den beiden folgenden Tabs die beiden Sessions getrennt voneinander über alle Bewerter hinweg und berechnen den *Intraclass Correlation Coefficient (ICC)*. Der ICC-Wert läuft von 0 bis 1, wobei 0 dann gar keine Übereinstimmung und 1 eine perfekte Übereinstimmung bedeutet. Wir würden sagen, dass ab 0.9 eine perfekte Übereinstimmung und unter 0.5 eine schlechte Übereinstimmung vorliegt. Wichtig ist hier, dass die Funktion <span class="in">`icc()`</span> nur die Spalten mit den Bewertungen will und sonst rein gar nichts.</span>
<span id="cb80-1022"><a href="#cb80-1022" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb80-1023"><a href="#cb80-1023" aria-hidden="true" tabindex="-1"></a>::: panel-tabset</span>
<span id="cb80-1024"><a href="#cb80-1024" aria-hidden="true" tabindex="-1"></a><span class="fu">## Session 1</span></span>
<span id="cb80-1025"><a href="#cb80-1025" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb80-1028"><a href="#cb80-1028" aria-hidden="true" tabindex="-1"></a><span class="in">```{r}</span></span>
<span id="cb80-1029"><a href="#cb80-1029" aria-hidden="true" tabindex="-1"></a>duck_tbl <span class="sc">|&gt;</span> </span>
<span id="cb80-1030"><a href="#cb80-1030" aria-hidden="true" tabindex="-1"></a>  <span class="fu">filter</span>(session <span class="sc">==</span> <span class="dv">1</span>) <span class="sc">|&gt;</span> </span>
<span id="cb80-1031"><a href="#cb80-1031" aria-hidden="true" tabindex="-1"></a>  <span class="fu">select</span>(<span class="fu">matches</span>(<span class="st">"rater"</span>)) <span class="sc">|&gt;</span></span>
<span id="cb80-1032"><a href="#cb80-1032" aria-hidden="true" tabindex="-1"></a>  <span class="fu">icc</span>(<span class="at">model =</span> <span class="st">"twoway"</span>, <span class="at">type =</span> <span class="st">"agreement"</span>, <span class="at">unit =</span> <span class="st">"single"</span>)</span>
<span id="cb80-1033"><a href="#cb80-1033" aria-hidden="true" tabindex="-1"></a><span class="in">```</span></span>
<span id="cb80-1034"><a href="#cb80-1034" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb80-1035"><a href="#cb80-1035" aria-hidden="true" tabindex="-1"></a>Wir sehen, dass wir eine relativ schlechte Übereinstimmung haben. Der ICC-Wert ist mit 0.304 sehr nahe an der Null. Auch wenn der Test sagt, dasss wir einen signifkanten Unterschied von der Null haben, geht mir ein ICC-Wert von unter 0.8 nicht als Gleich durch. Das deckt sich auch mit unserer obigen Abbildung.</span>
<span id="cb80-1036"><a href="#cb80-1036" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb80-1037"><a href="#cb80-1037" aria-hidden="true" tabindex="-1"></a><span class="fu">## Session 2</span></span>
<span id="cb80-1038"><a href="#cb80-1038" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb80-1041"><a href="#cb80-1041" aria-hidden="true" tabindex="-1"></a><span class="in">```{r}</span></span>
<span id="cb80-1042"><a href="#cb80-1042" aria-hidden="true" tabindex="-1"></a>duck_tbl <span class="sc">|&gt;</span> </span>
<span id="cb80-1043"><a href="#cb80-1043" aria-hidden="true" tabindex="-1"></a>  <span class="fu">filter</span>(session <span class="sc">==</span> <span class="dv">2</span>) <span class="sc">|&gt;</span> </span>
<span id="cb80-1044"><a href="#cb80-1044" aria-hidden="true" tabindex="-1"></a>  <span class="fu">select</span>(<span class="fu">matches</span>(<span class="st">"rater"</span>)) <span class="sc">|&gt;</span></span>
<span id="cb80-1045"><a href="#cb80-1045" aria-hidden="true" tabindex="-1"></a>  <span class="fu">icc</span>(<span class="at">model =</span> <span class="st">"twoway"</span>, <span class="at">type =</span> <span class="st">"agreement"</span>, <span class="at">unit =</span> <span class="st">"single"</span>)</span>
<span id="cb80-1046"><a href="#cb80-1046" aria-hidden="true" tabindex="-1"></a><span class="in">```</span></span>
<span id="cb80-1047"><a href="#cb80-1047" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb80-1048"><a href="#cb80-1048" aria-hidden="true" tabindex="-1"></a>Wir sehen, dass wir eine relativ gute Übereinstimmung haben! Der ICC-Wert ist mit 0.806 nahe an der Eins. Das deckt sich auch mit unserer obigen Abbildung, wo wir sehen, dass die Bewerter in der zweiten Session viel mehr auf einer Linie liegen. Zwar ist 0.8 noch nicht perfekt, aber schonmal eins sehr viel besserer Wert.</span>
<span id="cb80-1049"><a href="#cb80-1049" aria-hidden="true" tabindex="-1"></a>:::</span>
<span id="cb80-1050"><a href="#cb80-1050" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb80-1051"><a href="#cb80-1051" aria-hidden="true" tabindex="-1"></a>Jetzt möchte ich mir nochmal die Bewerter einzeln für die jeweiligen Sessions anschauen. Wie unterscheiden sich den die Bewerter, wenn sie ein Bild erneut sehen? Auch hier nochmal, wir haben keinen Goldstandard, wir schauen nur, ob die Bewerter in der zweiten Session genauso zählen wie in der ersten Session. Wir machen das jetzt im Folgenden auf zwei Arten. Einmal kannst du das händsich über <span class="in">`select()`</span> machen. Du wählst einfach immer den Bewerter aus, den du möchtest und führst den Code aus. Du ersetzt also <span class="in">`rater_1`</span> dann durch <span class="in">`rater_2`</span> und dann so weiter. Die zweite Variante ist alles in einem Rutsch mit der Funktion <span class="in">`map()`</span>.</span>
<span id="cb80-1052"><a href="#cb80-1052" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb80-1053"><a href="#cb80-1053" aria-hidden="true" tabindex="-1"></a>::: panel-tabset</span>
<span id="cb80-1054"><a href="#cb80-1054" aria-hidden="true" tabindex="-1"></a><span class="fu">## Für einen Rater -- händisch</span></span>
<span id="cb80-1055"><a href="#cb80-1055" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb80-1058"><a href="#cb80-1058" aria-hidden="true" tabindex="-1"></a><span class="in">```{r}</span></span>
<span id="cb80-1059"><a href="#cb80-1059" aria-hidden="true" tabindex="-1"></a>duck_tbl <span class="sc">|&gt;</span> </span>
<span id="cb80-1060"><a href="#cb80-1060" aria-hidden="true" tabindex="-1"></a>  <span class="fu">select</span>(id, session, rater_1) <span class="sc">|&gt;</span></span>
<span id="cb80-1061"><a href="#cb80-1061" aria-hidden="true" tabindex="-1"></a>  <span class="fu">pivot_wider</span>(<span class="at">names_from =</span> session, <span class="at">values_from =</span> rater_1, <span class="at">names_prefix =</span> <span class="st">"session_"</span>) <span class="sc">|&gt;</span> </span>
<span id="cb80-1062"><a href="#cb80-1062" aria-hidden="true" tabindex="-1"></a>  <span class="fu">select</span>(<span class="sc">-</span>id) <span class="sc">|&gt;</span> </span>
<span id="cb80-1063"><a href="#cb80-1063" aria-hidden="true" tabindex="-1"></a>  <span class="fu">icc</span>(<span class="at">model =</span> <span class="st">"twoway"</span>, <span class="at">type =</span> <span class="st">"agreement"</span>, <span class="at">unit =</span> <span class="st">"single"</span>)</span>
<span id="cb80-1064"><a href="#cb80-1064" aria-hidden="true" tabindex="-1"></a><span class="in">```</span></span>
<span id="cb80-1065"><a href="#cb80-1065" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb80-1066"><a href="#cb80-1066" aria-hidden="true" tabindex="-1"></a>Wir sehen, dass der erste Studierende extrem konsistent die zweite Session im Vergleich zu der ersten bewertet hat. Der ICC-Wert ist fast bei Eins und somit fast ein perfektes Ergebnis. Auf einer numerischen Skala ist auch kaum noch mehr Spielraum nach oben.</span>
<span id="cb80-1067"><a href="#cb80-1067" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb80-1068"><a href="#cb80-1068" aria-hidden="true" tabindex="-1"></a><span class="fu">## Für alle Rater -- `map()`</span></span>
<span id="cb80-1069"><a href="#cb80-1069" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb80-1070"><a href="#cb80-1070" aria-hidden="true" tabindex="-1"></a>Jetzt spielen wir ein wenig. Zuerst bauen wir uns dann für jeden Bewerter einen Datensatz der nur aus den beiden Sessions besteht. Dafür nutzen wir die Funktion <span class="in">`pivot_wider()`</span>. Dann entfernen wir noch die ID, da die Funktion <span class="in">`icc()`</span> gleich die ID nicht mag. Wir nutzen die Funktion <span class="in">`map()`</span> um für jeden Bewerter den Datensatz zu bauen und am Ende in einer Liste zu speichern.</span>
<span id="cb80-1071"><a href="#cb80-1071" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb80-1074"><a href="#cb80-1074" aria-hidden="true" tabindex="-1"></a><span class="in">```{r}</span></span>
<span id="cb80-1075"><a href="#cb80-1075" aria-hidden="true" tabindex="-1"></a><span class="co">#| message: false</span></span>
<span id="cb80-1076"><a href="#cb80-1076" aria-hidden="true" tabindex="-1"></a><span class="co">#| warning: false</span></span>
<span id="cb80-1077"><a href="#cb80-1077" aria-hidden="true" tabindex="-1"></a>rater_lst <span class="ot">&lt;-</span> <span class="fu">map</span>(<span class="fu">c</span>(<span class="st">"rater_1"</span>, <span class="st">"rater_2"</span>, <span class="st">"rater_3"</span>, <span class="st">"rater_4"</span>), \(x) {</span>
<span id="cb80-1078"><a href="#cb80-1078" aria-hidden="true" tabindex="-1"></a>  duck_tbl <span class="sc">|&gt;</span> </span>
<span id="cb80-1079"><a href="#cb80-1079" aria-hidden="true" tabindex="-1"></a>  <span class="fu">select</span>(id, session, <span class="fu">all_of</span>(x)) <span class="sc">|&gt;</span></span>
<span id="cb80-1080"><a href="#cb80-1080" aria-hidden="true" tabindex="-1"></a>  <span class="fu">pivot_wider</span>(<span class="at">names_from =</span> session, </span>
<span id="cb80-1081"><a href="#cb80-1081" aria-hidden="true" tabindex="-1"></a>              <span class="at">values_from =</span> x, </span>
<span id="cb80-1082"><a href="#cb80-1082" aria-hidden="true" tabindex="-1"></a>              <span class="at">names_prefix =</span> <span class="st">"session_"</span>) <span class="sc">|&gt;</span> </span>
<span id="cb80-1083"><a href="#cb80-1083" aria-hidden="true" tabindex="-1"></a>  <span class="fu">select</span>(<span class="sc">-</span>id)</span>
<span id="cb80-1084"><a href="#cb80-1084" aria-hidden="true" tabindex="-1"></a>})</span>
<span id="cb80-1085"><a href="#cb80-1085" aria-hidden="true" tabindex="-1"></a><span class="in">```</span></span>
<span id="cb80-1086"><a href="#cb80-1086" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb80-1087"><a href="#cb80-1087" aria-hidden="true" tabindex="-1"></a>Da wir alles einer Liste gespeichert haben, können wir jetzt die Liste mit der Funktion <span class="in">`map()`</span> iterativ bearbeiten. Wir rufen dann für jeden der Listeneinträge dann einmal die Funktion <span class="in">`icc()`</span> auf und extrahieren uns durch die Funktion <span class="in">`pluck()`</span> den berechneten ICC Wert. Wenn du die letzte Zeile weglässt, dann kriegst du eben vier mal die Ausgabe der Funktion <span class="in">`icc()`</span>, das war mir dann hier zu viel Platz.</span>
<span id="cb80-1088"><a href="#cb80-1088" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb80-1091"><a href="#cb80-1091" aria-hidden="true" tabindex="-1"></a><span class="in">```{r}</span></span>
<span id="cb80-1092"><a href="#cb80-1092" aria-hidden="true" tabindex="-1"></a>rater_lst <span class="sc">|&gt;</span> </span>
<span id="cb80-1093"><a href="#cb80-1093" aria-hidden="true" tabindex="-1"></a>  <span class="fu">map</span>(<span class="sc">~</span><span class="fu">icc</span>(<span class="at">ratings =</span> .x, <span class="at">model =</span> <span class="st">"twoway"</span>, <span class="at">type =</span> <span class="st">"agreement"</span>, <span class="at">unit =</span> <span class="st">"single"</span>)) <span class="sc">|&gt;</span> </span>
<span id="cb80-1094"><a href="#cb80-1094" aria-hidden="true" tabindex="-1"></a>  <span class="fu">map_dbl</span>(<span class="fu">pluck</span>(<span class="st">"value"</span>))</span>
<span id="cb80-1095"><a href="#cb80-1095" aria-hidden="true" tabindex="-1"></a><span class="in">```</span></span>
<span id="cb80-1096"><a href="#cb80-1096" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb80-1097"><a href="#cb80-1097" aria-hidden="true" tabindex="-1"></a>Wir sehen hier einmal als Werte, was wir auch schon in der @fig-effect-rel-duck beobachten konnten. Je höher die Zahl, desto besser die Übereinstimmung zwischen der ersten und der zweiten Session. Die Reihenfolge ist die Reihenfolge der Bewerter.</span>
<span id="cb80-1098"><a href="#cb80-1098" aria-hidden="true" tabindex="-1"></a>:::</span>
<span id="cb80-1099"><a href="#cb80-1099" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb80-1100"><a href="#cb80-1100" aria-hidden="true" tabindex="-1"></a>Der erste Studierende ist der konsitenteste Bewerter und der vierte Studierende hat die geringste Übereinstimmung. Hier muss man aber vorsichtig sein, da wir ja sehen, dass die erste Session teilweise sehr mies war. Dann kann auch die Übereinstimmung zwischen der ersten und zweiten Session nur schelcht sein, wenn sich der Studierende sehr verbessert hat. Denn eins musst du immer wissen, die Lernleistung oder Verbesserung kannst du hier nicht abbilden. Ein sehr schelchter Bewerter, der aber zügig lernt, wird hier immer mit einer sehr schelchten Übereinstimmung rauskommen. Dagegen müsstest du dann sehr viele Sessions laufen lassen, denn je mehr Sessions er macht, desto weniger unterscheiden sich diese.</span>
<span id="cb80-1101"><a href="#cb80-1101" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb80-1102"><a href="#cb80-1102" aria-hidden="true" tabindex="-1"></a><span class="fu">## Referenzen {.unnumbered}</span></span>
</code><button title="In die Zwischenablage kopieren" class="code-copy-button" data-in-quarto-modal=""><i class="bi"></i></button></pre></div>
</div></div></div></div></div>
</div> <!-- /content -->
<footer class="footer">
  <div class="nav-footer">
    <div class="nav-footer-left">
<p>Bio Data Science wurde von <a href="https://www.hs-osnabrueck.de/prof-dr-jochen-kruppa/">Jochen Kruppa-Scheetz</a> geschrieben.</p>
</div>   
    <div class="nav-footer-center">
      &nbsp;
    <div class="toc-actions d-sm-block d-md-none"><ul><li><a href="https://github.com/jkruppa/jkruppa.github.io/edit/master/stat-tests-effect.qmd" class="toc-action"><i class="bi bi-github"></i>Seite editieren</a></li><li><a href="https://github.com/jkruppa/jkruppa.github.io/issues/new" class="toc-action"><i class="bi empty"></i>Problem melden</a></li><li><a href="https://github.com/jkruppa/jkruppa.github.io/blob/master/stat-tests-effect.qmd" class="toc-action"><i class="bi empty"></i>Quellcode anzeigen</a></li></ul></div></div>
    <div class="nav-footer-right">
<p>Dieses Openbook wurde mit <a href="https://quarto.org/">Quarto</a> erstellt.</p>
</div>
  </div>
</footer>
<script>var lightboxQuarto = GLightbox({"closeEffect":"zoom","descPosition":"bottom","loop":false,"openEffect":"zoom","selector":".lightbox"});
(function() {
  let previousOnload = window.onload;
  window.onload = () => {
    if (previousOnload) {
      previousOnload();
    }
    lightboxQuarto.on('slide_before_load', (data) => {
      const { slideIndex, slideNode, slideConfig, player, trigger } = data;
      const href = trigger.getAttribute('href');
      if (href !== null) {
        const imgEl = window.document.querySelector(`a[href="${href}"] img`);
        if (imgEl !== null) {
          const srcAttr = imgEl.getAttribute("src");
          if (srcAttr && srcAttr.startsWith("data:")) {
            slideConfig.href = srcAttr;
          }
        }
      } 
    });
  
    lightboxQuarto.on('slide_after_load', (data) => {
      const { slideIndex, slideNode, slideConfig, player, trigger } = data;
      if (window.Quarto?.typesetMath) {
        window.Quarto.typesetMath(slideNode);
      }
    });
  
  };
  
})();
          </script>




</body></html>