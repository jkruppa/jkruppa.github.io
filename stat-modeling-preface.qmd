```{r echo = FALSE}
pacman::p_load(tidyverse, readxl, knitr, kableExtra, gghalves,
               ggdist, patchwork, see, ggmosaic, ggsignif,
               latex2exp)
cbbPalette <- c("#000000", "#E69F00", "#56B4E9", "#009E73", 
                "#F0E442", "#0072B2", "#D55E00", "#CC79A7")
```

# Statistisches Modellieren {#sec-stat-model-preface}

*Letzte Änderung am `r format(fs::file_info("stat-modeling-preface.qmd")$modification_time, '%d. %B %Y um %H:%M:%S')`*

> *"Sei bereit, sei bereit, sonst kommst du nicht sehr weit; Dann tut's dir später leid, drum sei bereit; sei bereit sei bereit, sei clever und gescheit; so bist du gegen jeden Test gefeit" --- Jan Delay Ziegen Song (sei Bereit)*

------------------------------------------------------------------------

![](images/caution.png){fig-align="center" width="50%"}

**Dieses Kapitel wird ist eine Baustelle und wird es vermutlich auch über das Jahr 2024 bleiben. Aktuell weiß ich nämlich noch nicht, wo ich mit dem Kapitel hin will und wo es stehen sollte. Daher können Teile des Codes und des Textes kurzfristig keinen Sinn ergeben oder nicht funktional sein. Es ist geplant eine fertige Version noch 2024 vorliegen zu haben.**

------------------------------------------------------------------------

Was ist statistisches Modellieren? In diesem und den nun folgenden Kapitel wollen wir uns mit den Grundlagen der *multiplen* linearen Regression beschäftigen. Deshalb hier nochmal die Wiederholung was eine [multiple lineare Regression](#sec-mult-reg-basic) ist. Wir erinnern uns, dass wir ein Outcome $y$, was einer Verteilung folgt, sowie mehrere Einflussvariable $x_1$ bis $x_p$ vorliegen haben. Wir wollen jetzt herausfinden, welchen Einfluss oder Effekt die $x_1, ..., x_p$ auf das $y$ hat. Sehr simple gesprochen legen wir eine Gerade durch eine *mehrdimensionale* Punktewolke.

Wir erinnern und nochmal, das ein *simples* lineares Modell nur ein $x_1$ hat:

$$
y \sim x_1
$$

Ein *multiples* lineares Modell hat von $x_1$ bis $x_p$ Einflussvariablen:

$$
y \sim x_1 + x_2 + ... + x_p
$$

Wir brauchen viele der Konzepte aus den vorherigen Kapiteln zur Modellgüte sowie Konfidenzintervallen. Vieles fällt hier zusammen. Schau dir ruhig nochmal die vorherigen Kapitel an, wenn dir etwas unklar ist. Häufig wollen wir auch etwas spezifischer sein. Wir schreiben daher einen Faktor mit einem $f$ wie folgt.

$$
y \sim f_1
$$

Wenn wir dann noch einen Block mit hinzunehmen, dann erweitern wir das Modell um einen Blockfaktor mit einem $b$ wie folgt.

$$
y \sim f_1 + b_1
$$

Es kann auch sein, dass wir noch einen zufälligen Effekt (eng. *random effect*) mit in das Modell nehmen wollen. Wir bezeichnen einen zufälligen Effekt mit einem $z$ wie folgt.

$$
y \sim f_1 + z_1
$$

## Wir mitteln uns die Welt, wie sie uns gefällt...

> "2 x 3 macht 4; Widdewiddewitt; und Drei macht Neune!; Wir machen uns die Welt; Widdewidde wie sie uns gefällt..." --- Hey Pippi Langstrumpf

Wo sind die Barplots hin?

```{r}
#| echo: false
#| message: false
#| warning: false
#| label: fig-scatter-modeling-R-00
#| fig-align: center
#| fig-height: 10
#| fig-width: 15
#| fig-cap: "Verschiedene Ziele und Möglichkeiten des statistischen Modellierens. Grob können die Möglichkeiten in drei große thematische Zusammenhänge eingeteilt werden. *[Zum Vergrößern anklicken]*"

source("images/R/stat-modeling-preface-00.R")

p01 + p02 + p04 + p03 + p05 +
  plot_layout(ncol = 3) +
  plot_annotation(tag_levels = 'A')

```

## Gaussian

```{r}
#| echo: false
#| message: false
#| warning: false
#| label: fig-scatter-modeling-R-01
#| fig-align: center
#| fig-height: 6
#| fig-width: 15
#| fig-cap: "Verschiedene Ziele und Möglichkeiten des statistischen Modellierens. Grob können die Möglichkeiten in drei große thematische Zusammenhänge eingeteilt werden. *[Zum Vergrößern anklicken]*"

source("images/R/stat-modeling-preface-01.R")

p11 + p12 + p13 +
  plot_layout(ncol = 3) +
  plot_annotation(tag_levels = 'A')

```

## Poisson

```{r}
#| echo: false
#| message: false
#| warning: false
#| label: fig-scatter-modeling-R-02
#| fig-align: center
#| fig-height: 6
#| fig-width: 15
#| fig-cap: "Verschiedene Ziele und Möglichkeiten des statistischen Modellierens. Grob können die Möglichkeiten in drei große thematische Zusammenhänge eingeteilt werden."

source("images/R/stat-modeling-preface-02.R")

p21 + p22 + p23 +
  plot_layout(ncol = 3) +
  plot_annotation(tag_levels = 'A')
```

## Beta

```{r}
#| echo: false
#| message: false
#| warning: false
#| label: fig-scatter-modeling-R-03
#| fig-align: center
#| fig-height: 6
#| fig-width: 15
#| fig-cap: "Verschiedene Ziele und Möglichkeiten des statistischen Modellierens. Grob können die Möglichkeiten in drei große thematische Zusammenhänge eingeteilt werden."

source("images/R/stat-modeling-preface-03.R")

p31 + p32 + p33 +
  plot_layout(ncol = 3)
```

## Ordinal

```{r}
#| echo: false
#| message: false
#| warning: false
#| label: fig-scatter-modeling-R-04
#| fig-align: center
#| fig-height: 6
#| fig-width: 15
#| fig-cap: "Verschiedene Ziele und Möglichkeiten des statistischen Modellierens. Grob können die Möglichkeiten in drei große thematische Zusammenhänge eingeteilt werden."


source("images/R/stat-modeling-preface-04.R")

p41 + p42 + p43 +
  plot_layout(ncol = 3)
```

## Binomial

```{r}
#| echo: false
#| message: false
#| warning: false
#| label: fig-scatter-modeling-R-05
#| fig-align: center
#| fig-height: 6
#| fig-width: 15
#| fig-cap: "Verschiedene Ziele und Möglichkeiten des statistischen Modellierens. Grob können die Möglichkeiten in drei große thematische Zusammenhänge eingeteilt werden."

source("images/R/stat-modeling-preface-05.R")

p51 + p52 + p53 +
  plot_layout(ncol = 3)

```

```{r}
#| echo: false
#| message: false
#| warning: false
#| label: fig-scatter-modeling-R-06
#| fig-align: center
#| fig-height: 6
#| fig-width: 15
#| fig-cap: "Verschiedene Ziele und Möglichkeiten des statistischen Modellierens. Grob können die Möglichkeiten in drei große thematische Zusammenhänge eingeteilt werden."

source("images/R/stat-modeling-preface-06.R")

p61 + p62 + p63 +
  plot_layout(ncol = 3)

```
